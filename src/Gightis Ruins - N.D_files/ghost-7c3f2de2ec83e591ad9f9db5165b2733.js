"use strict"
define("ghost-admin/adapters/-json-api",["exports","@ember-data/adapter/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/adapters/api-key",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{queryRecord(e,t,i){if(!i||"me"!==i.id)return super.queryRecord(...arguments)
let n=`${this.buildURL("users","me")}token/`
return this.ajax(n,"GET",{data:{}}).then((e=>e))}}e.default=i})),define("ghost-admin/adapters/application",["exports","ghost-admin/adapters/embedded-relation-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{shouldBackgroundReloadRecord(){return!1}}e.default=i})),define("ghost-admin/adapters/base",["exports","ember-ajax/mixins/ajax-support","@ember-data/adapter/rest","ghost-admin/utils/ghost-paths"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=i.default.extend(t.default,{host:window.location.origin,namespace:(0,n.default)().apiRoot.slice(1),session:Ember.inject.service(),shouldBackgroundReloadRecord:()=>!1,query(e,t,i){let n
return i.id&&(n=i.id,delete i.id),this.ajax(this.buildURL(t.modelName,n),"GET",{data:i})},pathForType(){const e=this._super(...arguments)
return Ember.String.underscore(e)},buildURL(){let e=this._super(...arguments),t=new URL(e)
return t.pathname.endsWith("/")||(t.pathname+="/"),t.toString()}})
e.default=r})),define("ghost-admin/adapters/collection",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildURL(e,t,n,r,a){let s=super.buildURL(...arguments)
return(0,i.default)(s,a)}}e.default=n})),define("ghost-admin/adapters/custom-theme-setting-list",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{pathForType(){return"custom_theme_settings"}createRecord(e,t,i){return this.saveRecord(e,t,i,{method:"PUT"},"createRecord")}}e.default=i})),define("ghost-admin/adapters/email",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{retry(e){let t=`${this.buildURL("email",e.get("id"))}retry/`
return this.ajax(t,"PUT",{data:{}}).then((t=>(this.store.pushPayload(t),e)))}}e.default=i})),define("ghost-admin/adapters/embedded-relation-adapter",["exports","ghost-admin/adapters/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{find(e,t,i,n){return this.ajax(this.buildIncludeURL(e,t.modelName,i,n,"find"),"GET")}findRecord(e,t,i,n){return this.ajax(this.buildIncludeURL(e,t.modelName,i,n,"findRecord"),"GET")}findAll(e,t,i){let n,r
return i&&(n={since:i}),r=this.buildIncludeURL(e,t.modelName,null,null,"findAll"),this.ajax(r,"GET",{data:n})}query(e,t,i){return super.query(e,t,this.buildQuery(e,t.modelName,i))}queryRecord(e,t,i){return super.queryRecord(e,t,this.buildQuery(e,t.modelName,i))}createRecord(e,t,i){return this.saveRecord(e,t,i,{method:"POST"},"createRecord")}updateRecord(e,t,i){let n={method:"PUT",id:Ember.get(i,"id")}
return this.saveRecord(e,t,i,n,"updateRecord")}saveRecord(e,t,i,n,r){let a=n||{},s=this.buildIncludeURL(e,t.modelName,a.id,i,r),o=this.preparePayload(e,t,i)
return this.ajax(s,a.method,o)}preparePayload(e,t,i){let n={}
return e.serializerFor(t.modelName).serializeIntoHash(n,t,i),{data:n}}buildIncludeURL(e,t,i,n,r,a){let s=this.getEmbeddedRelations(e,t),o=this.buildURL(t,i,n,r,a),l=new URL(o)
return s.length&&l.searchParams.append("include",s.map(Ember.String.underscore).join(",")),l.toString()}buildQuery(e,t,i){let n={},r=this.getEmbeddedRelations(e,t),a=i||{}
return r.length&&("string"==typeof i||"number"==typeof i?(a={},a.id=i,a.include=r.map(Ember.String.underscore).join(",")):("object"==typeof i||Ember.isNone(i))&&(a=a||{},r=r.concat(a.include?a.include.split(","):[]),r.forEach((e=>{n[e]=!0})),a.include=Object.keys(n).map(Ember.String.underscore).join(","))),a}getEmbeddedRelations(e,t){let i=e.modelFor(t),n=[],r=[]
return i.eachRelationship(((e,t)=>{"hasMany"===t.kind&&Object.prototype.hasOwnProperty.call(t.options,"embedded")&&"always"===t.options.embedded&&(n.push(e),r.push([e,t.type]))})),r.forEach((([t,i])=>{this.getEmbeddedRelations(e,i).forEach((e=>{n.push(`${t}.${e}`)}))})),n}}e.default=i})),define("ghost-admin/adapters/label",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildURL(e,t,n,r,a){let s=super.buildURL(...arguments)
return(0,i.default)(s,a)}}e.default=n})),define("ghost-admin/adapters/member",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{queryRecord(e,t,i){if(i&&i.id){let{id:e}=i
delete i.id
let n=this.buildURL(t.modelName,e,i,"findRecord")
return this.ajax(n,"GET",{data:i})}return super.queryRecord(...arguments)}urlForDeleteRecord(e,t,i){let n=super.urlForDeleteRecord(...arguments),r=new URL(n)
return i&&i.adapterOptions&&i.adapterOptions.cancel&&r.searchParams.set("cancel","true"),r.toString()}}e.default=i})),define("ghost-admin/adapters/mention",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{queryRecord(){let e=this.buildURL("mentions")
return this.ajax(e,"GET")}}e.default=i})),define("ghost-admin/adapters/newsletter",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildIncludeURL(e,t,i,n,r,a){const s=this.buildURL(t,i,n,r,a),o=new URL(s)
return n?.adapterOptions?.optInExisting&&o.searchParams.append("opt_in_existing","true"),n?.adapterOptions?.include&&o.searchParams.append("include",n?.adapterOptions?.include),o.toString()}}e.default=i})),define("ghost-admin/adapters/offer",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{queryRecord(e,t,i){if(i&&i.id){let{id:e}=i
delete i.id
let n=this.buildURL(t.modelName,e,i,"findRecord")
return this.ajax(n,"GET",{data:i})}return super.queryRecord(...arguments)}urlForDeleteRecord(){let e=super.urlForDeleteRecord(...arguments)
return new URL(e).toString()}}e.default=i})),define("ghost-admin/adapters/page",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildIncludeURL(e,t,i,n,r,a){const s=this.buildURL(t,i,n,r,a),o=new URL(s)
if(n?.adapterOptions?.saveRevision){const e=n.adapterOptions.saveRevision
o.searchParams.append("save_revision",e)}if(n?.adapterOptions?.convertToLexical){const e=n.adapterOptions.convertToLexical
o.searchParams.append("convert_to_lexical",e)}return o.toString()}buildURL(){const e=super.buildURL(...arguments)
try{const t=new URL(e)
if(!t.searchParams.get("formats"))return t.searchParams.set("formats","mobiledoc,lexical"),t.href}catch(t){console.error("Couldn't parse URL",t)}return e}buildQuery(e,t,i){return i}}e.default=i})),define("ghost-admin/adapters/post",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildIncludeURL(e,t,i,n,r,a){const s=this.buildURL(t,i,n,r,a),o=new URL(s)
if(n?.adapterOptions?.newsletter){const e=n.adapterOptions.newsletter
o.searchParams.append("newsletter",e)
let t=n?.adapterOptions?.emailSegment
t&&("status:free,status:-free"===t&&(t="all"),o.searchParams.append("email_segment",t))}if(n?.adapterOptions?.saveRevision){const e=n.adapterOptions.saveRevision
o.searchParams.append("save_revision",e)}if(n?.adapterOptions?.convertToLexical){const e=n.adapterOptions.convertToLexical
o.searchParams.append("convert_to_lexical",e)}return o.toString()}buildURL(){const e=super.buildURL(...arguments)
try{const t=new URL(e)
if(!t.searchParams.get("formats"))return t.searchParams.set("formats","mobiledoc,lexical"),t.href}catch(t){console.error("Couldn't parse URL",t)}return e}buildQuery(e,t,i){return i}}e.default=i})),define("ghost-admin/adapters/setting",["exports","ghost-admin/adapters/application","ember-inflector"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{updateRecord(e,t,n){let r={},a=e.serializerFor(t.modelName)
return delete n.id,a.serializeIntoHash(r,t,n),0===r[(0,i.pluralize)(t.modelName)].length?Promise.resolve():this.ajax(this.buildURL(t.modelName),"PUT",{data:r})}}e.default=n})),define("ghost-admin/adapters/snippet",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildURL(){const e=super.buildURL(...arguments)
try{const t=new URL(e)
if(!t.searchParams.get("formats"))return t.searchParams.set("formats","mobiledoc,lexical"),t.href}catch(t){console.error("Couldn't parse URL",t)}return e}}e.default=i})),define("ghost-admin/adapters/tag",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildURL(e,t,n,r,a){let s=super.buildURL(...arguments)
return(0,i.default)(s,a)}}e.default=n})),define("ghost-admin/adapters/theme",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{activate(e){let t=`${this.buildURL("theme",e.get("id"))}activate/`
return this.ajax(t,"PUT",{data:{}}).then((t=>(this.store.pushPayload(t),e)))}active(){let e=`${this.buildURL("theme","active")}`
return this.ajax(e,"GET",{data:{}}).then((e=>(this.store.pushPayload("theme",e),this.store.peekAll("theme").filterBy("name",e.themes[0].name).firstObject)))}}e.default=i})),define("ghost-admin/adapters/tier",["exports","ghost-admin/adapters/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{queryRecord(e,t,i){if(i&&i.id){let{id:e}=i
delete i.id
let n=this.buildURL(t.modelName,e,i,"findRecord")
return this.ajax(n,"GET",{data:i})}return super.queryRecord(...arguments)}urlForDeleteRecord(){let e=super.urlForDeleteRecord(...arguments)
return new URL(e).toString()}}e.default=i})),define("ghost-admin/adapters/user",["exports","ghost-admin/adapters/application","ghost-admin/utils/slug-url"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{buildURL(e,t,n,r,a){let s=super.buildURL(...arguments)
return(0,i.default)(s,a)}queryRecord(e,t,i){if(!i||"me"!==i.id)return super.queryRecord(...arguments)
let n=this.buildURL(t.modelName,"me",null,"findRecord")
return this.ajax(n,"GET",{data:{include:"roles"}})}}e.default=n})),define("ghost-admin/app",["exports","ghost-admin/utils/link-component","ghost-admin/utils/route","ember-resolver","ghost-admin/config/environment","ember-load-initializers","moment-timezone"],(function(e,t,i,n,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,s.default.updateLocale("en",{relativeTime:{m:"1 minute"}})
const o=Ember.Application.extend({Resolver:n.default,modulePrefix:r.default.modulePrefix,podModulePrefix:r.default.podModulePrefix,customEvents:{touchstart:null,touchmove:null,touchend:null,touchcancel:null}})
Ember.Debug.registerWarnHandler(((e,t,i)=>{["ds.errors.add","ds.errors.remove","ds.errors.clear"].includes(t.id)||i(e,t)})),(0,a.default)(o,r.default.modulePrefix)
var l=o
e.default=l})),define("ghost-admin/authenticators/cookie",["exports","ember-simple-auth/authenticators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({ajax:Ember.inject.service(),ghostPaths:Ember.inject.service(),sessionEndpoint:Ember.computed("ghostPaths.apiRoot",(function(){return`${this.ghostPaths.apiRoot}/session`})),restore:function(){return Ember.RSVP.resolve()},authenticate(e,t){const i={data:{username:e,password:t},contentType:"application/json;charset=utf-8",dataType:"text"}
return this.ajax.post(this.sessionEndpoint,i)},invalidate(){return this.ajax.skipSessionDeletion?(this.ajax.skipSessionDeletion=!1,Ember.RSVP.resolve()):this.ajax.del(this.sessionEndpoint)}})
e.default=i})),define("ghost-admin/component-managers/glimmer",["exports","@glimmer/component/-private/ember-component-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("ghost-admin/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("ghost-admin/components/admin-x/settings",["exports","@sentry/ember","@glimmer/component","react","ghost-admin/config/environment","ghost-admin/decorators/inject"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.importSettings=e.default=void 0
const z=Ember.HTMLBars.template({id:"Km6AdUBE",block:'{"symbols":[],"statements":[[11,"div"],[4,[38,0],[[32,0,["ReactComponent"]]],null],[12],[13]],"hasEval":false,"upvars":["react-render"]}',moduleName:"ghost-admin/components/admin-x/settings.hbs"}),x=[{name:"Casper",category:"Blog",previewUrl:"https://demo.ghost.io/",ref:"default",image:"assets/img/themes/Casper-9a0ce71df3a1c589c1414ad2aa5b8aeb.png"},{name:"Headline",category:"News",url:"https://github.com/TryGhost/Headline",previewUrl:"https://headline.ghost.io",ref:"TryGhost/Headline",image:"assets/img/themes/Headline-f70eaf49b9fcae1ddfe3d4496d8be54d.png"},{name:"Edition",category:"Newsletter",url:"https://github.com/TryGhost/Edition",previewUrl:"https://edition.ghost.io/",ref:"TryGhost/Edition",image:"assets/img/themes/Edition-10111a2b8458168dcff81b7fb151be70.png"},{name:"Solo",category:"Blog",url:"https://github.com/TryGhost/Solo",previewUrl:"https://solo.ghost.io",ref:"TryGhost/Solo",image:"assets/img/themes/Solo-0292eb9ae0ca7b578cff50824d40cc86.png"},{name:"Taste",category:"Blog",url:"https://github.com/TryGhost/Taste",previewUrl:"https://taste.ghost.io",ref:"TryGhost/Taste",image:"assets/img/themes/Taste-a24d2a786900d9caff7e773ca0040991.png"},{name:"Episode",category:"Podcast",url:"https://github.com/TryGhost/Episode",previewUrl:"https://episode.ghost.io",ref:"TryGhost/Episode",image:"assets/img/themes/Episode-e4c86d1f75ef1d8a77791d7fd519fdd4.png"},{name:"Digest",category:"Newsletter",url:"https://github.com/TryGhost/Digest",previewUrl:"https://digest.ghost.io/",ref:"TryGhost/Digest",image:"assets/img/themes/Digest-698e78d8e8481daff8ae4a8647528dc9.png"},{name:"Bulletin",category:"Newsletter",url:"https://github.com/TryGhost/Bulletin",previewUrl:"https://bulletin.ghost.io/",ref:"TryGhost/Bulletin",image:"assets/img/themes/Bulletin-d66dec818ad0ba2965dd7eb3130c621c.png"},{name:"Alto",category:"Blog",url:"https://github.com/TryGhost/Alto",previewUrl:"https://alto.ghost.io",ref:"TryGhost/Alto",image:"assets/img/themes/Alto-0dfe76694ed222d6d96fc9c8db979a38.png"},{name:"Dope",category:"Magazine",url:"https://github.com/TryGhost/Dope",previewUrl:"https://dope.ghost.io",ref:"TryGhost/Dope",image:"assets/img/themes/Dope-d099dfca697adae16baa76f89520c5b3.png"},{name:"Wave",category:"Podcast",url:"https://github.com/TryGhost/Wave",previewUrl:"https://wave.ghost.io",ref:"TryGhost/Wave",image:"assets/img/themes/Wave-b98fadfd3ed16e8b2e383dd8e8e5dca2.png"},{name:"Edge",category:"Photography",url:"https://github.com/TryGhost/Edge",previewUrl:"https://edge.ghost.io",ref:"TryGhost/Edge",image:"assets/img/themes/Edge-1e5e0eec6941d7bdca02cebb66187357.png"},{name:"Dawn",category:"Newsletter",url:"https://github.com/TryGhost/Dawn",previewUrl:"https://dawn.ghost.io/",ref:"TryGhost/Dawn",image:"assets/img/themes/Dawn-302fbfdbc352098a256137159bd83dd8.png"},{name:"Ease",category:"Documentation",url:"https://github.com/TryGhost/Ease",previewUrl:"https://ease.ghost.io",ref:"TryGhost/Ease",image:"assets/img/themes/Ease-7075f809892f10c58892e15a57a4aae4.png"},{name:"Ruby",category:"Magazine",url:"https://github.com/TryGhost/Ruby",previewUrl:"https://ruby.ghost.io",ref:"TryGhost/Ruby",image:"assets/img/themes/Ruby-b896885448e0f28ca62c6dcd56c732aa.png"},{name:"London",category:"Photography",url:"https://github.com/TryGhost/London",previewUrl:"https://london.ghost.io",ref:"TryGhost/London",image:"assets/img/themes/London-4e042390da16fecef947f3a7001d03db.png"},{name:"Journal",category:"Newsletter",url:"https://github.com/TryGhost/Journal",previewUrl:"https://journal.ghost.io/",ref:"TryGhost/Journal",image:"assets/img/themes/Journal-07d35b2311501d2738bad1907ba2f7e1.png"}],S=[{ghostImage:"assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png",appImage:"assets/img/twitter-7a7a0ba12d9b5bfb8a2058764a827c31.svg",title:"Share new posts to Twitter",url:"https://zapier.com/webintent/create-zap?template=50909"},{ghostImage:"assets/img/logos/orb-black-2-4b0baef1ec34816af6f3fbede7ab191d.png",appImage:"assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png",title:"Share scheduled posts with your team in Slack",url:"https://zapier.com/webintent/create-zap?template=359499"},{ghostImage:"assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png",appImage:"assets/img/patreon-b19a5e6418a72977a16b30039d374d04.svg",title:"Connect Patreon to your Ghost membership site",url:"https://zapier.com/webintent/create-zap?template=75801"},{ghostImage:"assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png",appImage:"assets/img/zero-bounce-ee799eddb1f88e33ab8c462858cbfed9.png",title:"Protect email delivery with email verification",url:"https://zapier.com/webintent/create-zap?template=359415"},{ghostImage:"assets/img/logos/orb-black-5-063a200f749e09c587b9443ffd2c4cfa.png",appImage:"assets/img/paypal-38e9448ce7549ea4caf8e7753ae661d6.svg",title:"Add members for successful sales in PayPal",url:"https://zapier.com/webintent/create-zap?template=184423"},{ghostImage:"assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png",appImage:"assets/img/paypal-38e9448ce7549ea4caf8e7753ae661d6.svg",title:"Unsubscribe members who cancel a subscription in PayPal",url:"https://zapier.com/webintent/create-zap?template=359348"},{ghostImage:"assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png",appImage:"assets/img/google-docs-1e42cc272fc088da49e4b0ddfb01b006.svg",title:"Send new post drafts from Google Docs to Ghost",url:"https://zapier.com/webintent/create-zap?template=50924"},{ghostImage:"assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png",appImage:"assets/img/typeform-9f23f8712d776a7515594676285266f5.svg",title:"Survey new members using Typeform",url:"https://zapier.com/webintent/create-zap?template=359407"},{ghostImage:"assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png",appImage:"assets/img/mailchimp-f22b1e130aac764965b9306d7265a6b2.svg",title:"Sync email subscribers in Ghost + Mailchimp",url:"https://zapier.com/webintent/create-zap?template=359342"}]
class C extends n.default.Component{constructor(...e){super(...e),T(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?n.default.createElement("p",{className:"admin-x-settings-container-error"},"Loading has failed. Try refreshing the browser!"):this.props.children}}const M=async()=>{if(window["@tryghost/admin-x-settings"])return window["@tryghost/admin-x-settings"]
const e=window.GhostAdmin||window.Ember.Namespace.NAMESPACES.find((e=>"ghost-admin"===e.name)),t=e.__container__.lookup("config:main").adminX?.url,i=e.__container__.lookup("config:main").adminX?.version,n=new URL(t.replace("{version}",i))
return"http:"===n.protocol?window["@tryghost/admin-x-settings"]=await import(`http://${n.host}${n.pathname}`):window["@tryghost/admin-x-settings"]=await import(`https://${n.host}${n.pathname}`),window["@tryghost/admin-x-settings"]}
e.importSettings=M
let D=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,h=Ember._action,b=class extends i.default{constructor(...e){super(...e),j(this,"ajax",g,this),j(this,"feature",f,this),j(this,"ghostPaths",v,this),j(this,"session",y,this),j(this,"store",w,this),j(this,"settings",k,this),j(this,"router",E,this),j(this,"config",P,this),j(this,"display",O,this),T(this,"externalNavigate",(({route:e,models:t=[]})=>{this.router.transitionTo(e,...t)})),T(this,"editorResource",function(){let e,t="pending"
const i=M().then((i=>{t="success",e=i}),(i=>{t="error",e=i}))
return{read:()=>{switch(t){case"pending":throw i
case"error":throw e
default:return e}}}}()),T(this,"AdminXApp",(e=>{const{AdminXApp:t}=this.editorResource.read()
return n.default.createElement(t,e)})),T(this,"ReactComponent",(()=>{const e=n.default.createElement("div",{className:"admin-x-settings-container--loading",style:{width:"100vw",height:"100vh",display:"flex",alignItems:"center",justifyContent:"center",paddingBottom:"8vh"}},n.default.createElement("video",{width:"100",height:"100",loop:!0,autoPlay:!0,muted:!0,playsInline:!0,preload:"metadata",style:{width:"100px",height:"100px"}},n.default.createElement("source",{src:"assets/videos/logo-loader-d91f93ba1dbf0f52a22815b5a571bd31.mp4",type:"video/mp4"}),n.default.createElement("div",{className:"gh-loading-spinner"})))
return n.default.createElement("div",{className:["admin-x-settings-container-",this.feature.nightShift&&"dark",this.args.className].filter(Boolean).join(" ")},n.default.createElement(C,null,n.default.createElement(n.Suspense,{fallback:e},n.default.createElement(this.AdminXApp,{ghostVersion:r.default.APP.version,officialThemes:x,zapierTemplates:S,externalNavigate:this.externalNavigate,darkMode:this.feature.nightShift}))))}))}onError(e){console.error(e),this.config.sentry_dsn&&t.captureException(e,{tags:{adminx:!0}})}},g=_(b.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_(b.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(b.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(b.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(b.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(b.prototype,"settings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(b.prototype,"router",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(b.prototype,"config",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_(b.prototype,"display",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"none"}}),_(b.prototype,"onError",[h],Object.getOwnPropertyDescriptor(b.prototype,"onError"),b.prototype),b)
e.default=D,Ember._setComponentTemplate(z,D)})),define("ghost-admin/components/announcement-settings/background",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"VuX+cnvR",block:'{"symbols":["settingOption","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,0],[[32,2],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex justify-between items-center relative"],[12],[2,"\\n            "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","announcement-background"],[12],[2,"\\n                Background color\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"kg-settings-panel-control-input"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-btn-group kg-settings-headerstyle-btn-group"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["options"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[16,0,[31,["gh-btn ",[32,1,["className"]]," ",[30,[36,1],[[30,[36,0],[[32,0,["background"]],[32,1,["value"]]],null],"gh-btn-group-selected"],null]]]],[16,"title",[32,1,["label"]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setBackground"]],[32,1,["value"]]],null]],null],[12],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","fn","on","-track-array","each"]}',moduleName:"ghost-admin/components/announcement-settings/background.hbs"})
let l=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get background(){return this.settings.announcementBackground}get options(){return[{value:"dark",label:"Dark",className:"kg-headerstyle-btn-dark"},{value:"light",label:"Light",className:"kg-headerstyle-btn-light"},{value:"accent",label:"Accent",className:"kg-headerstyle-btn-accent"}]}setBackground(e){this.settings.announcementBackground=e,this.args.onChange?.()}},a=s(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"setBackground",[n],Object.getOwnPropertyDescriptor(r.prototype,"setBackground"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/announcement-settings/content",["exports","@glimmer/component","@tryghost/kg-clean-basic-html"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"Raxo6IRd",block:'{"symbols":["@onChange"],"statements":[[10,"div"],[14,0,"gh-stack-item gh-setting-first"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[15,"for",[32,0,["selectId"]]],[12],[2,"\\n            Announcement\\n        "],[13],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-announcement-editor ",[30,[36,0],[[32,0,["feature","nightShift"]],"dark"],null]]]],[12],[2,"\\n            "],[8,"koenig-lexical-editor-input",[],[["@placeholderText","@html","@onChangeHtml","@onBlur"],["Highlight breaking news, special offers, or important updates",[32,0,["content"]],[32,0,["setContent"]],[32,1]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/announcement-settings/content.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"feature",o,this),u(this,"settings",l,this)}get content(){const e=this.settings.announcementContent
return e?this.hasParagraphWrapper(e)?e:`<p>${e}</p>`:null}hasParagraphWrapper(e){const t=(new DOMParser).parseFromString(e,"text/html")
return"P"===t.body?.firstElementChild?.tagName}setContent(e){const t=(0,i.default)(e||"",{firstChildInnerContent:!0})
this.settings.announcementContent=t}},o=c(s.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"setContent",[a],Object.getOwnPropertyDescriptor(s.prototype,"setContent"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/announcement-settings/visibility",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"l+Y32dyS",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-stack-item gh-setting-last"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[14,"for","logged-out"],[12],[2,"\\n            Visibility\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"form-group mt3 mb0 for-checkbox"],[12],[2,"\\n            "],[10,"label"],[14,0,"checkbox"],[14,"for","logged-out"],[12],[2,"\\n                "],[11,"input"],[24,1,"logged-out"],[24,3,"logged-out"],[24,0,"gh-input"],[16,2,[32,0,["visibilityOptions","visitors"]]],[16,"checked",[32,0,["isVisitorsChecked"]]],[24,4,"checkbox"],[4,[38,0],["click",[32,0,["updateVisibility"]]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n"],[6,[37,1],[[32,0,["isMembersEnabled"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[12],[2,"Logged out visitors"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[12],[2,"Show the announcement"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["isMembersEnabled"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["isPaidAvailable"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"label"],[14,0,"checkbox"],[14,"for","free"],[14,"data-testid","announcement-bar-free-member-label"],[12],[2,"\\n                    "],[11,"input"],[24,1,"free"],[24,3,"free"],[24,0,"gh-input"],[16,2,[32,0,["visibilityOptions","freeMembers"]]],[16,"checked",[32,0,["isFreeMembersChecked"]]],[24,"data-testid","announcement-bar-free-member-input"],[24,4,"checkbox"],[4,[38,0],["click",[32,0,["updateVisibility"]]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[10,"span"],[12],[2,"Free members"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"label"],[14,0,"checkbox"],[14,"for","paid"],[12],[2,"\\n                    "],[11,"input"],[24,1,"paid"],[24,3,"paid"],[24,0,"gh-input"],[16,2,[32,0,["visibilityOptions","paidMembers"]]],[16,"checked",[32,0,["isPaidMembersChecked"]]],[24,4,"checkbox"],[4,[38,0],["click",[32,0,["updateVisibility"]]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[10,"span"],[12],[2,"Paid members"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"label"],[14,0,"checkbox"],[12],[2,"\\n                    "],[11,"input"],[24,3,"members"],[24,0,"gh-input"],[16,2,[32,0,["visibilityOptions","freeMembers"]]],[16,"checked",[32,0,["isFreeMembersChecked"]]],[24,4,"checkbox"],[4,[38,0],["click",[32,0,["updateVisibility"]]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[10,"span"],[12],[2,"Members"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","if"]}',moduleName:"ghost-admin/components/announcement-settings/visibility.hbs"})
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){super(...e),l(this,"settings",s,this),l(this,"membersUtils",o,this),u(this,"visibilityOptions",{freeMembers:"free_members",paidMembers:"paid_members",visitors:"visitors"})}get visibilitySettings(){return this.settings.announcementVisibility||[]}get isPaidAvailable(){return this.membersUtils.isStripeEnabled}get isFreeMembersChecked(){return this.visibilitySettings.includes(this.visibilityOptions.freeMembers)}get isPaidMembersChecked(){return this.visibilitySettings.includes(this.visibilityOptions.paidMembers)}get isVisitorsChecked(){return this.visibilitySettings.includes(this.visibilityOptions.visitors)}get isMembersEnabled(){return this.settings.membersEnabled}updateVisibility(e){let t=[...this.visibilitySettings]
const i=e.target.value
e.target.checked?t.push(i):t=t.filter((e=>e!==i)),this.settings.announcementVisibility=t,t.length&&1!==t.length||this.args.onChange?.()}},s=c(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(a.prototype,"updateVisibility",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateVisibility"),a.prototype),a)
e.default=p,Ember._setComponentTemplate(d,p)}))
define("ghost-admin/components/aspect-ratio-box",["exports"],(function(e){function t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"wR7ITMwk",block:'{"symbols":["&default"],"statements":[[6,[37,0],[[32,0,["isResizing"]]],null,[["default"],[{"statements":[[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["unless"]}',moduleName:"ghost-admin/components/aspect-ratio-box.hbs"})
class n extends Ember.Component{constructor(...e){super(...e),t(this,"ratio","1/1"),t(this,"base","height"),t(this,"isResizing",!0),t(this,"_ratio",1)}init(){super.init(...arguments),this._onResizeHandler=()=>{Ember.run.debounce(this,this._resize,200)}}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this._ratio=this.ratio.split("/").reduce(((e,t)=>e/t))}didInsertElement(){super.didInsertElement(...arguments),this._resize(),window.addEventListener("resize",this._onResizeHandler)}willDestroyElement(){super.willDestroyElement(...arguments),window.removeEventListener("resize",this._onResizeHandler)}_resize(){this.set("isResizing",!0),Ember.run.schedule("afterRender",this,(function(){"height"===this.base?this.element.style.width=this.element.clientHeight*this._ratio+"px":this.element.style.height=this.element.clientWidth*this._ratio+"px",this.set("isResizing",!1)}))}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/basic-dropdown-content",["exports","ember-basic-dropdown/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/collections/collection-form",["exports","@glimmer/component","ghost-admin/decorators/inject","@tryghost/string"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"uvCSsnTy",block:'{"symbols":["type","@collection","@selectedVisibility"],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic settings"],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey columns-1"],[12],[2,"\\n            "],[8,"gh-form-group",[[24,0,"mr2 flex-auto"]],[["@errors","@hasValidated","@property"],[[32,2,["errors"]],[32,2,["hasValidated"]],"title"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","collection-title"],[12],[2,"Title"],[13],[2,"\\n                "],[11,"input"],[24,0,"gh-input"],[24,1,"collection-title"],[24,3,"title"],[16,2,[32,2,["title"]]],[24,"data-test-input","collection-title"],[24,4,"text"],[4,[38,2],["input",[30,[36,1],["target.value",[30,[36,0],[[32,0,["setCollectionProperty"]],"title"],null]],null]],null],[4,[38,2],["blur",[30,[36,0],[[32,0,["validateCollectionProperty"]],"title"],null]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,2,["errors"]],"title"]],null],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[[24,0,"mr2 flex-auto"]],[["@errors","@hasValidated","@property"],[[32,2,["errors"]],[32,2,["hasValidated"]],"slug"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","collection-slug"],[12],[2,"Slug"],[13],[2,"\\n                "],[11,"input"],[24,0,"gh-input"],[24,1,"collection-slug"],[24,3,"slug"],[16,2,[32,2,["slug"]]],[24,"data-test-input","collection-slug"],[24,4,"text"],[4,[38,2],["input",[30,[36,1],["target.value",[30,[36,0],[[32,0,["setCollectionProperty"]],"slug"],null]],null]],null],[4,[38,2],["blur",[30,[36,0],[[32,0,["validateCollectionProperty"]],"slug"],null]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,2,["errors"]],"slug"]],null],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@hasValidated","@property"],[[32,2,["errors"]],[32,2,["hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","collection-description"],[12],[2,"Description"],[13],[2,"\\n                "],[11,"textarea"],[24,1,"collection-description"],[24,3,"description"],[24,0,"gh-input gh-collection-details-textarea"],[24,"data-test-input","collection-description"],[4,[38,2],["input",[30,[36,1],["target.value",[30,[36,0],[[32,0,["setCollectionProperty"]],"description"],null]],null]],null],[4,[38,2],["blur",[30,[36,0],[[32,0,["validateCollectionProperty"]],"description"],null]],null],[12],[1,[32,2,["description"]]],[13],[2,"\\n\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,2,["errors"]],"description"]],null],[2,"\\n                "],[10,"p"],[12],[2,"Maximum: "],[10,"b"],[12],[2,"500"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,3],[[32,2,["description"]],500],null]],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[[24,0,"gh-collection-image-uploader no-margin"]],[["@errors","@hasValidated","@property"],[[32,2,["errors"]],[32,2,["hasValidated"]],"featureImage"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","collection-image"],[12],[2,"Collection image"],[13],[2,"\\n                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,2,["featureImage"]],"Upload collection image",true,[30,[36,0],[[32,0,["setCollectionProperty"]],"featureImage"],null],[30,[36,0],[[32,0,["setCollectionProperty"]],"featureImage",""],null]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey columns-1"],[12],[2,"\\n            "],[8,"gh-form-group",[[24,0,"gh-collection-image-uploader no-margin"]],[["@errors","@hasValidated","@property"],[[32,2,["errors"]],[32,2,["hasValidated"]],"type"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","collection-image"],[12],[2,"Collection type"],[13],[2,"\\n\\n                "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-visibility ",[30,[36,4],[[32,3,["value"]],"gh-contentfilter-selected"],null]]]],[14,"data-test-visibility-select","true"],[12],[2,"\\n                    "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedType"]],[32,0,["availableTypes"]],false,[32,0,["changeType"]],[30,[36,5],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                        "],[6,[37,4],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n                    "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,6],[[32,0,["selectedType","value"]],"manual"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"p"],[12],[2,"Add posts to this collection one by one through post settings menu."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,6],[[32,0,["selectedType","value"]],"automatic"],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"input"],[24,0,"gh-input"],[24,1,"collection-filter"],[24,3,"filter"],[16,2,[32,2,["filter"]]],[24,"data-test-input","collection-filter"],[24,4,"text"],[4,[38,2],["input",[30,[36,1],["target.value",[30,[36,0],[[32,0,["setCollectionProperty"]],"filter"],null]],null]],null],[4,[38,2],["blur",[30,[36,0],[[32,0,["validateCollectionProperty"]],"filter"],null]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","pick","on","gh-count-down-characters","if","component","eq"]}',moduleName:"ghost-admin/components/collections/collection-form.hbs"}),f=[{name:"Manual",value:"manual"},{name:"Automatic",value:"automatic"}]
let v=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),m(this,"feature",c,this),m(this,"settings",d,this),m(this,"config",p,this),h(this,"availableTypes",f)}get selectedType(){const{collection:e}=this.args
return this.availableTypes.findBy("value",e.type)||{value:"!unknown"}}setCollectionProperty(e,t){const{collection:i}=this.args
if(t&&(t=t.trim()),"title"===e&&i.isNew&&!this.hasChangedSlug){let e=(0,n.slugify)(t);/^#/.test(t)&&(e="hash-"+e),i.slug=e}"slug"===e&&(this.hasChangedSlug=!!t),i[e]=t,i.hasValidated.addObject(e)}changeType(e){this.setCollectionProperty("type",e.value)}validateCollectionProperty(e){return this.args.collection.validate({property:e})}},c=b(u.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"setCollectionProperty",[s],Object.getOwnPropertyDescriptor(u.prototype,"setCollectionProperty"),u.prototype),b(u.prototype,"changeType",[o],Object.getOwnPropertyDescriptor(u.prototype,"changeType"),u.prototype),b(u.prototype,"validateCollectionProperty",[l],Object.getOwnPropertyDescriptor(u.prototype,"validateCollectionProperty"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(g,v)})),define("ghost-admin/components/collections/delete-collection-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"7tI3uPJD",block:'{"symbols":["@data","@close"],"statements":[[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","confirm-delete-collection"],[4,[38,2],["Enter",[30,[36,1],[[32,0,["deleteCollectionTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this collection?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,5],[[32,1,["collection","count","posts"]]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"red"],[12],[2,"This collection is attached to "],[10,"span"],[14,"data-test-text","posts-count"],[12],[1,[30,[36,0],[[32,1,["collection","count","posts"]],"post"],null]],[13],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        You\'re about to delete \\""],[10,"strong"],[12],[1,[32,1,["collection","title"]]],[13],[2,"\\". This is permanent! We warned you, k?\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteCollectionTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["gh-pluralize","perform","on-key","on","svg-jar","if"]}',moduleName:"ghost-admin/components/collections/delete-collection-modal.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}*deleteCollectionTask(){try{const{collection:e}=this.args.data
return e.isDeleted||(yield e.destroyRecord(),this.notifications.closeAlerts("collection.delete"),this.router.transitionTo("collections")),!0}catch(e){this.notifications.showAPIError(e,{key:"collection.delete.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"deleteCollectionTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deleteCollectionTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/collections/list-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ucm+nfJn",block:'{"symbols":["@collection","&attrs"],"statements":[[11,"li"],[24,0,"gh-list-row gh-collections-list-item"],[17,2],[12],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-collection-list-title gh-list-cellwidth-70"],[24,"title","Edit collection"]],[["@route","@model"],["collection",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"h3"],[14,0,"gh-collection-list-name"],[14,"data-test-collection-name",""],[12],[2,"\\n            "],[1,[32,1,["title"]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,3],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"ma0 pa0 f8 midgrey gh-collection-list-description"],[14,"data-test-collection-description",""],[12],[2,"\\n                "],[1,[32,1,["description"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8 gh-collection-list-slug gh-list-cellwidth-10"],[24,"title","Edit collection"],[24,"data-test-collection-slug",""]],[["@route","@model"],["collection",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,"title",[31,[[32,1,["slug"]]]]],[12],[1,[32,1,["slug"]]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,1,["count","posts"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-collection-list-posts-count gh-list-cellwidth-10 f8"],[16,"title",[30,[36,2],["List posts collectionged with \'",[32,1,["name"]],"\'"],null]]],[["@route","@query"],["posts",[30,[36,1],null,[["type","author","collection","order"],[null,null,[32,1,["slug"]],null]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-collection-list-posts-count gh-list-cellwidth-10"],[24,"title","Edit collection"]],[["@route","@model"],["collection",[32,1]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap f8 midlightgrey"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-list-cellwidth-10 gh-list-chevron"],[24,"title","Edit collection"]],[["@route","@model"],["collection",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex items-center justify-end w-100 h-100"],[12],[2,"\\n            "],[10,"span"],[14,0,"nr2"],[12],[1,[30,[36,4],["arrow-right"],[["class"],["w6 h6 fill-midgrey pa1"]]]],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["gh-pluralize","hash","concat","if","svg-jar"]}',moduleName:"ghost-admin/components/collections/list-item.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/custom-theme-settings/boolean",["exports","@glimmer/component"],(function(e,t){var i,n
function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"4mYs8wZJ",block:'{"symbols":["@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,2],[[30,[36,1],[[32,2],0],null],"gh-setting-first","gh-setting"],null]," gh-setting-boolean"]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex justify-between items-start relative"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex flex-column mr5"],[12],[2,"\\n                "],[10,"span"],[15,0,[31,["gh-setting-title ",[30,[36,2],[[32,1,["description"]],"","mb0"],null]]]],[15,"for",[32,0,["checkboxId"]]],[12],[2,"\\n                    "],[1,[30,[36,3],[[32,1,["key"]]],null]],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-desc"],[12],[1,[30,[36,0],[[32,1,["description"]],100],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[14,0,"for-switch x-small"],[15,5,[30,[36,6],[[30,[36,5],["margin-top: ",[30,[36,4],[[32,1,["description"]],"-6px","0"],null],";"],null]],null]],[12],[2,"\\n                "],[10,"label"],[15,"for",[32,0,["checkboxId"]]],[14,0,"switch"],[12],[2,"\\n                    "],[11,"input"],[24,0,"gh-input"],[16,1,[32,0,["checkboxId"]]],[16,"checked",[32,1,["value"]]],[24,4,"checkbox"],[4,[38,7],["input",[32,0,["toggleValue"]]],null],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["truncate","eq","if","humanize-setting-key","unless","concat","html-safe","on"]}',moduleName:"ghost-admin/components/custom-theme-settings/boolean.hbs"})
let s=(i=Ember._action,n=class extends t.default{constructor(...e){super(...e),r(this,"checkboxId",`checkbox-${Ember.guidFor(this)}`),r(this,"checkboxName",Ember.String.camelize(this.args.setting.key))}toggleValue(e){const t=e.target.checked
this.args.setting.set("value",t),this.args.onChange?.()}},o=n.prototype,l="toggleValue",u=[i],c=Object.getOwnPropertyDescriptor(n.prototype,"toggleValue"),d=n.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/custom-theme-settings/color",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"q37kcroF",block:'{"symbols":["@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,1],[[30,[36,3],[[32,2],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[15,0,[31,[[30,[36,1],[[32,1,["description"]],"gh-setting-content","flex flex-column justify-center"],null]]]],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[15,5,[30,[36,1],[[30,[36,0],[[32,1,["description"]]],null],"margin-bottom: 0px"],null]],[15,"for",[32,0,["inputId"]]],[12],[2,"\\n            "],[1,[30,[36,4],[[32,1,["key"]]],null]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[1,[30,[36,2],[[32,1,["description"]],100],null]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["isInvalid"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[15,0,[31,["gh-setting-error ",[30,[36,1],[[30,[36,0],[[32,1,["description"]]],null],"mt3"],null]]]],[12],[2,"Enter a color in hex format"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n        "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n            "],[11,"input"],[16,1,[32,0,["inputId"]]],[16,3,[32,0,["inputName"]]],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["colorWithoutHash"]]],[24,0,"gh-input"],[24,"data-test-input","accentColor"],[24,4,"text"],[4,[38,6],["input",[30,[36,5],[[32,0,["debounceValueUpdate"]]],null]],null],[4,[38,6],["blur",[32,0,["updateValue"]]],null],[4,[38,7],["Enter",[32,0,["blurElement"]]],null],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["colorPickerBgStyle"]]],[12],[2,"\\n                "],[11,"input"],[16,3,[32,0,["inputName"]]],[24,0,"color-picker"],[16,2,[32,1,["value"]]],[24,4,"color"],[4,[38,6],["input",[30,[36,5],[[32,0,["debounceValueUpdate"]]],null]],null],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["is-empty","if","truncate","eq","humanize-setting-key","perform","on","on-key"]}',moduleName:"ghost-admin/components/custom-theme-settings/color.hbs"})
let p=(n=Ember._tracked,r=Ember._action,a=(0,i.task)({restartable:!0}),s=Ember._action,o=class extends t.default{constructor(...e){var t,i,n,r
super(...e),u(this,"inputId",`input-${Ember.guidFor(this)}`),u(this,"inputName",Ember.String.camelize(this.args.setting.key)),t=this,i="isInvalid",r=this,(n=l)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get colorWithoutHash(){const e=this.args.setting.value
return e&&"#"===e[0]?e.slice(1):e}get colorPickerBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.args.setting.value||"#ffffff"}`)}updateValue(e){const t=this.args.setting.value
let i=e.target.value
if(i)if("#"!==i[0]&&(i=`#${i}`),i.match(/#[0-9A-Fa-f]{6}$/)){if(this.isInvalid=!1,i===t)return
this.args.setting.set("value",i),this.args.onChange?.()}else this.isInvalid=!0
else this.isInvalid=!0}*debounceValueUpdate(e){yield(0,i.timeout)(500),this.updateValue(e)}blurElement(e){e.target.blur()}},l=c(o.prototype,"isInvalid",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c(o.prototype,"updateValue",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateValue"),o.prototype),c(o.prototype,"debounceValueUpdate",[a],Object.getOwnPropertyDescriptor(o.prototype,"debounceValueUpdate"),o.prototype),c(o.prototype,"blurElement",[s],Object.getOwnPropertyDescriptor(o.prototype,"blurElement"),o.prototype),o)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/custom-theme-settings/image",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,i){var n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"bki4F2+h",block:'{"symbols":["uploader","error","@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,3],[[30,[36,6],[[32,4],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[15,0,[31,[[30,[36,3],[[32,3,["value"]],"","flex flex-grow-1 items-center justify-between"],null]]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-setting-title mb0 ",[30,[36,3],[[32,3,["value"]],"gh-theme-setting-title"],null]]]],[12],[1,[30,[36,7],[[32,3,["key"]]],null]],[13],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","icon"],[12],[1,[30,[36,5],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[6,[37,3],[[32,3,["description"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-desc"],[14,5,"margin-top: 8px"],[12],[1,[30,[36,4],[[32,3,["description"]],100],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container flex flex-column items-stretch"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,3,["value"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-start"],[12],[2,"\\n                        "],[11,"img"],[24,0,"blog-cover"],[16,"src",[32,3,["value"]]],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-setting-action-largeimg-delete"],[24,"data-test-delete-image","icon"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["updateValue"]],null],null]],null],[12],[2,"\\n                            "],[1,[30,[36,2],["trash"],[["class"],["w4 h4 fill-white-no-conflict"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-white self-start"],[24,"data-test-image-upload-btn","icon"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                    "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","truncate","or","eq","humanize-setting-key","-track-array","each"]}',moduleName:"ghost-admin/components/custom-theme-settings/image.hbs"})
let u=(n=Ember._action,r=Ember._action,o((a=class extends t.default{constructor(...e){super(...e),s(this,"inputId",`input-${Ember.guidFor(this)}`),s(this,"inputName",Ember.String.camelize(this.args.setting.key)),s(this,"imageExtensions",i.IMAGE_EXTENSIONS),s(this,"imageMimeTypes",i.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.updateValue(e[0].url)}updateValue(e){this.args.setting.set("value",e),this.args.onChange?.()}}).prototype,"imageUploaded",[n],Object.getOwnPropertyDescriptor(a.prototype,"imageUploaded"),a.prototype),o(a.prototype,"updateValue",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateValue"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/custom-theme-settings/select",["exports","@glimmer/component"],(function(e,t){var i,n
function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"jLNX6MGL",block:'{"symbols":["settingOption","@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,2],[[30,[36,1],[[32,3],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[15,"for",[32,0,["selectId"]]],[12],[2,"\\n            "],[1,[30,[36,3],[[32,2,["key"]]],null]],[2,"\\n        "],[13],[2,"\\n        "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n            "],[11,"select"],[24,0,"ember-select"],[16,3,[32,0,["selectName"]]],[16,1,[32,0,["selectId"]]],[4,[38,4],["change",[32,0,["setSelection"]]],null],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,2,["options"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"option"],[15,2,[32,1]],[15,"selected",[30,[36,1],[[32,1],[32,2,["value"]]],null]],[12],[2,"\\n                        "],[1,[32,1]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n            "],[1,[30,[36,7],["arrow-down-small"],null]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,2],[[32,2,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[1,[30,[36,0],[[32,2,["description"]],100],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["truncate","eq","if","humanize-setting-key","on","-track-array","each","svg-jar"]}',moduleName:"ghost-admin/components/custom-theme-settings/select.hbs"})
let s=(i=Ember._action,n=class extends t.default{constructor(...e){super(...e),r(this,"selectId",`select-${Ember.guidFor(this)}`),r(this,"selectName",Ember.String.camelize(this.args.setting.key))}setSelection(e){const t=e.target.value
this.args.setting.set("value",t),this.args.onChange?.()}},o=n.prototype,l="setSelection",u=[i],c=Object.getOwnPropertyDescriptor(n.prototype,"setSelection"),d=n.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/custom-theme-settings/text",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"kBxixo8Q",block:'{"symbols":["@setting","@index"],"statements":[[10,"div"],[15,0,[31,["gh-stack-item ",[30,[36,2],[[30,[36,1],[[32,2],0],null],"gh-setting-first","gh-setting"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title gh-theme-setting-title"],[15,"for",[32,0,["inputId"]]],[12],[2,"\\n            "],[1,[30,[36,3],[[32,1,["key"]]],null]],[2,"\\n        "],[13],[2,"\\n        "],[11,"input"],[24,0,"gh-input"],[16,2,[32,1,["value"]]],[16,1,[32,0,["inputId"]]],[16,3,[32,0,["inputName"]]],[24,4,"text"],[4,[38,4],["input",[32,0,["updateValue"]]],null],[4,[38,4],["blur",[32,0,["triggerOnChange"]]],null],[12],[13],[2,"\\n"],[6,[37,2],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[1,[30,[36,0],[[32,1,["description"]],100],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["truncate","eq","if","humanize-setting-key","on"]}',moduleName:"ghost-admin/components/custom-theme-settings/text.hbs"})
let l=(i=Ember._action,n=Ember._action,s((r=class extends t.default{constructor(...e){super(...e),a(this,"inputId",`input-${Ember.guidFor(this)}`),a(this,"inputName",Ember.String.camelize(this.args.setting.key))}updateValue(e){this.args.setting.set("value",e.target.value)}triggerOnChange(){this.args.onChange?.()}}).prototype,"updateValue",[i],Object.getOwnPropertyDescriptor(r.prototype,"updateValue"),r.prototype),s(r.prototype,"triggerOnChange",[n],Object.getOwnPropertyDescriptor(r.prototype,"triggerOnChange"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/dashboard/charts/anchor-attribution",["exports","@glimmer/component","moment-timezone","ghost-admin/utils/currency","ghost-admin/helpers/gh-price-amount"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f
function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function w(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"lEUZfJz/",block:'{"symbols":["option"],"statements":[[11,"section"],[24,0,"gh-dashboard-section gh-dashboard-anchor"],[4,[38,4],[[32,0,["loadCharts"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-box"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasPaidTiers"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-dashboard-select-title gh-dashboard-select-title-attribution"],[12],[2,"\\n                "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth","@horizontalPosition"],[[32,0,["selectedDisplayOption"]],[32,0,["displayOptions"]],false,[32,0,["onDisplayChange"]],[30,[36,1],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown is-narrow",false,"left"]],[["default"],[{"statements":[[2,"\\n                    "],[6,[37,2],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n                "]],"parameters":[1]}]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,2],[[30,[36,3],[[32,0,["selectedChartDisplay"]],"mrr"],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"dashboard/parts/metric",[],[["@value","@trends","@percentage","@large","@embedded"],[[31,[[32,0,["chartMetric","total"]]]],[32,0,["hasTrends"]],[32,0,["chartMetric","trend"]],true,true]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,"dashboard/parts/metric",[],[["@value","@trends","@large","@embedded"],["",false,true,true]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"            "],[8,"dashboard/parts/metric",[],[["@label","@value","@trends","@percentage","@large"],["Total members",[30,[36,0],[[32,0,["totalMembers"]]],null],[32,0,["hasTrends"]],[32,0,["totalMembersTrend"]],true]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-dashboard-hero ",[30,[36,5],[[32,0,["hasPaidTiers"]],"is-solo"],null]," source-attribution"]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-chart gh-dashboard-totals"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart-box"],[12],[2,"\\n"],[6,[37,2],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-chart-loading"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-fader"],[12],[2,"\\n                                "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],200]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,1,"gh-dashboard-anchor-tooltip"],[14,0,"gh-dashboard-tooltip"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-tooltip-label"],[12],[2,"\\n                            -\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-tooltip-value"],[12],[2,"\\n                            "],[10,"span"],[14,0,"indicator line"],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"value"],[12],[2,"â€“"],[13],[2,"\\n                            "],[10,"span"],[14,0,"metric"],[12],[1,[32,0,["selectedDisplayOption","name"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-chart-ticks"],[12],[2,"\\n                    "],[10,"span"],[14,1,"gh-dashboard-anchor-date-start"],[12],[2,"-"],[13],[2,"\\n                    "],[10,"span"],[14,1,"gh-dashboard-anchor-date-end"],[12],[2,"-"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["format-number","component","if","eq","did-insert","unless"]}',moduleName:"ghost-admin/components/dashboard/charts/anchor-attribution.hbs"}),E="D MMM, YYYY",P=[{name:"MRR",value:"mrr"},{name:"Total members",value:"total"},{name:"Paid members",value:"paid"},{name:"Free members",value:"free"}]
Chart.defaults.hoverLine=Chart.defaults.line,Chart.controllers.hoverLine=Chart.controllers.line.extend({draw:function(e){if(Chart.controllers.line.prototype.draw.call(this,e),this.chart.tooltip._active&&this.chart.tooltip._active.length){let e=this.chart.tooltip._active[0],t=this.chart.ctx,i=e.tooltipPosition().x,n=this.chart.legend.bottom,r=this.chart.chartArea.bottom
t.save(),t.beginPath(),t.moveTo(i,n),t.lineTo(i,r),t.setLineDash([3,4]),t.lineWidth=1,t.strokeStyle="#7C8B9A",t.stroke(),t.restore()}}})
let O=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=class extends t.default{constructor(...e){super(...e),v(this,"dashboardStats",m,this),v(this,"feature",h,this),v(this,"chartDisplay",b,this),v(this,"resizing",g,this),v(this,"resizeTimer",f,this),y(this,"displayOptions",P),y(this,"resizer",(()=>{this.resizing=!0,clearTimeout(this.resizeTimer),this.resizeTimer=setTimeout((()=>{this.resizing=!1}),500)}))}willDestroy(...e){super.willDestroy(...e),window.removeEventListener("resize",this.resizer,!1)}loadCharts(){this.dashboardStats.loadMemberCountStats(),window.addEventListener("resize",this.resizer,!1),this.hasPaidTiers&&this.dashboardStats.loadMrrStats()}onDisplayChange(e){this.chartDisplay=e.value}get selectedChartDisplay(){return this.hasPaidTiers||"mrr"!==this.chartDisplay?this.chartDisplay:"total"}get chartMetric(){return"mrr"===this.selectedChartDisplay?{total:this.currentMRRFormatted,trend:this.mrrTrend}:{}}get selectedDisplayOption(){return this.displayOptions.find((e=>e.value===this.selectedChartDisplay))??this.displayOptions[0]}get loading(){return null===this.dashboardStats.memberCountStats||this.hasPaidTiers&&null===this.dashboardStats.mrrStats||this.resizing}get currentMRR(){return this.dashboardStats.currentMRR??0}get currentMRRFormatted(){if(this.isTotalMembersZero)return"$123"
if(null===this.dashboardStats.mrrStats)return"-"
const e=(0,r.ghPriceAmount)(this.currentMRR,{cents:!1})
return`${this.mrrCurrencySymbol}${e}`}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get isTotalMembersZero(){return this.dashboardStats.memberCounts&&0===this.totalMembers}get paidMembers(){return this.dashboardStats.memberCounts?.paid??0}get freeMembers(){return this.dashboardStats.memberCounts?.free??0}get hasTrends(){return null!==this.dashboardStats.memberCounts&&null!==this.dashboardStats.memberCountsTrend}get totalMembersTrend(){return this.dashboardStats.memberCountsTrend?this.calculatePercentage(this.dashboardStats.memberCountsTrend.total,this.dashboardStats.memberCounts.total):0}get paidMembersTrend(){return this.dashboardStats.memberCountsTrend?this.calculatePercentage(this.dashboardStats.memberCountsTrend.paid,this.dashboardStats.memberCounts.paid):0}get freeMembersTrend(){return this.dashboardStats.memberCountsTrend?this.calculatePercentage(this.dashboardStats.memberCountsTrend.free,this.dashboardStats.memberCounts.free):0}get mrrTrend(){return this.dashboardStats.currentMRRTrend?this.calculatePercentage(this.dashboardStats.currentMRRTrend,this.dashboardStats.currentMRR):0}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}get chartType(){return"hoverLine"}get chartTitle(){return"paid"===this.selectedChartDisplay?"Paid members":"free"===this.selectedChartDisplay?"Free members":"mrr"===this.selectedChartDisplay?"MRR":"Total members"}get chartData(){let e,t,i
"paid"===this.selectedChartDisplay?(e=this.dashboardStats.filledMemberCountStats,t=e.map((e=>e.date)),i=e.map((e=>e.paid+e.comped))):"free"===this.selectedChartDisplay?(e=this.dashboardStats.filledMemberCountStats,t=e.map((e=>e.date)),i=e.map((e=>e.free))):"mrr"===this.selectedChartDisplay?(e=this.dashboardStats.filledMrrStats,t=e.map((e=>e.date)),i=e.map((e=>e.mrr))):(e=this.dashboardStats.filledMemberCountStats,t=e.map((e=>e.date)),i=e.map((e=>e.paid+e.free+e.comped))),this.isTotalMembersZero&&(e=this.emptyData.stats,t=this.emptyData.labels,i=this.emptyData.data)
const n=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,1e3,0)
n.addColorStop(0,"rgba(250, 45, 142, 1"),n.addColorStop(1,"rgba(143, 66, 255, 1")
const r=document.createElement("canvas").getContext("2d").createLinearGradient(0,0,1e3,0)
return r.addColorStop(0,"rgba(250, 45, 142, 0.2"),r.addColorStop(1,"rgba(143, 66, 255, 0.1"),{labels:t,datasets:[{data:i,tension:1,cubicInterpolationMode:"monotone",fill:!0,fillColor:r,backgroundColor:r,pointRadius:0,pointHitRadius:10,pointBorderColor:"#8E42FF",pointBackgroundColor:"#8E42FF",pointHoverBackgroundColor:"#8E42FF",pointHoverBorderColor:"#8E42FF",pointHoverRadius:0,borderColor:n,borderJoinStyle:"miter"}]}}get mrrCurrencySymbol(){if(null===this.dashboardStats.mrrStats)return""
const e=this.dashboardStats.mrrStats[0]?this.dashboardStats.mrrStats[0].currency:"usd"
return(0,n.getSymbol)(e)}get chartOptions(){const e=this
let t=this.dashboardStats.chartDays,n=this.feature.nightShift?"rgba(200, 204, 217, 0.25)":"rgba(200, 204, 217, 0.65)"
return{maintainAspectRatio:!1,responsiveAnimationDuration:1,animation:!1,title:{display:!1},legend:{display:!1},layout:{padding:{top:2,bottom:2,left:1,right:1}},hover:{onHover:function(e){e.target.style.cursor="pointer"}},tooltips:{enabled:!1,intersect:!1,mode:"index",custom:function(e){const t=document.getElementById("gh-dashboard-anchor-tooltip"),i=t.parentElement.offsetWidth,n=t.offsetWidth
if(0===e.opacity)return void(t.style.opacity=0)
t.style.opacity=1,t.style.position="absolute"
let r=0
e.x>i-n&&(r=n-10),t.style.left=e.x-r+"px",t.style.top=e.y+"px"},callbacks:{label:(t,i)=>{if("mrr"===this.selectedChartDisplay){const n=`${e.mrrCurrencySymbol}${(0,r.ghPriceAmount)(i.datasets[t.datasetIndex].data[t.index],{cents:!1})}`
document.querySelector("#gh-dashboard-anchor-tooltip .gh-dashboard-tooltip-value .value").innerHTML=n}else{const e=i.datasets[t.datasetIndex].data[t.index].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")
document.querySelector("#gh-dashboard-anchor-tooltip .gh-dashboard-tooltip-value .value").innerHTML=e}},title:e=>{if("mrr"===this.selectedChartDisplay){const t=(0,i.default)(e[0].xLabel).format(E)
document.querySelector("#gh-dashboard-anchor-tooltip .gh-dashboard-tooltip-label").innerHTML=t}else{const t=(0,i.default)(e[0].xLabel).format(E)
document.querySelector("#gh-dashboard-anchor-tooltip .gh-dashboard-tooltip-label").innerHTML=t}}}},scales:{yAxes:[{display:!0,gridLines:{drawTicks:!1,display:!0,drawBorder:!1,color:"transparent",zeroLineColor:n,zeroLineWidth:1},ticks:{display:!1}}],xAxes:[{display:!0,scaleLabel:{align:"start"},gridLines:{color:n,borderDash:[3,4],display:!0,drawBorder:!0,drawTicks:!1,zeroLineWidth:1,zeroLineColor:n,zeroLineBorderDash:[3,4]},ticks:{display:!1,autoSkip:!1,callback:function(e,n,r){if(0===n&&(document.getElementById("gh-dashboard-anchor-date-start").innerHTML=(0,i.default)(e).format(E)),n===r.length-1&&(document.getElementById("gh-dashboard-anchor-date-end").innerHTML=(0,i.default)(e).format(E)),31===t){if(!(n%2))return e}else{if(91!==t)return e
if(!(n%3))return e}}}}]}}}get chartHeight(){return 200}get chartHeightSmall(){return 180}get emptyData(){return{stats:[{date:"2022-04-07",free:2610,tier1:295,tier2:20,paid:315,comped:0,paidSubscribed:2,paidCanceled:1},{date:"2022-04-08",free:2765,tier1:298,tier2:24,paid:322,comped:0,paidSubscribed:7,paidCanceled:0},{date:"2022-04-09",free:3160,tier1:299,tier2:28,paid:327,comped:0,paidSubscribed:5,paidCanceled:0},{date:"2022-04-10",free:3580,tier1:300,tier2:30,paid:330,comped:0,paidSubscribed:4,paidCanceled:1},{date:"2022-04-11",free:3583,tier1:301,tier2:31,paid:332,comped:0,paidSubscribed:2,paidCanceled:0},{date:"2022-04-12",free:3857,tier1:303,tier2:36,paid:339,comped:0,paidSubscribed:8,paidCanceled:1},{date:"2022-04-13",free:4223,tier1:304,tier2:39,paid:343,comped:0,paidSubscribed:4,paidCanceled:0},{date:"2022-04-14",free:4289,tier1:306,tier2:42,paid:348,comped:0,paidSubscribed:6,paidCanceled:1},{date:"2022-04-15",free:4458,tier1:307,tier2:49,paid:356,comped:0,paidSubscribed:8,paidCanceled:0},{date:"2022-04-16",free:4752,tier1:307,tier2:49,paid:356,comped:0,paidSubscribed:1,paidCanceled:1},{date:"2022-04-17",free:4947,tier1:310,tier2:50,paid:360,comped:0,paidSubscribed:5,paidCanceled:1},{date:"2022-04-18",free:5047,tier1:312,tier2:49,paid:361,comped:0,paidSubscribed:2,paidCanceled:1},{date:"2022-04-19",free:5430,tier1:314,tier2:55,paid:369,comped:0,paidSubscribed:8,paidCanceled:0},{date:"2022-04-20",free:5760,tier1:316,tier2:57,paid:373,comped:0,paidSubscribed:4,paidCanceled:0},{date:"2022-04-21",free:6022,tier1:318,tier2:63,paid:381,comped:0,paidSubscribed:9,paidCanceled:1},{date:"2022-04-22",free:6294,tier1:319,tier2:64,paid:383,comped:0,paidSubscribed:2,paidCanceled:0},{date:"2022-04-23",free:6664,tier1:320,tier2:69,paid:389,comped:0,paidSubscribed:6,paidCanceled:0},{date:"2022-04-24",free:6721,tier1:320,tier2:70,paid:390,comped:0,paidSubscribed:1,paidCanceled:0},{date:"2022-04-25",free:6841,tier1:321,tier2:80,paid:401,comped:0,paidSubscribed:11,paidCanceled:0},{date:"2022-04-26",free:6880,tier1:323,tier2:89,paid:412,comped:0,paidSubscribed:11,paidCanceled:0},{date:"2022-04-27",free:7179,tier1:325,tier2:92,paid:417,comped:0,paidSubscribed:5,paidCanceled:0},{date:"2022-04-28",free:7288,tier1:325,tier2:100,paid:425,comped:0,paidSubscribed:9,paidCanceled:1},{date:"2022-04-29",free:7430,tier1:325,tier2:101,paid:426,comped:0,paidSubscribed:2,paidCanceled:1},{date:"2022-04-30",free:7458,tier1:326,tier2:102,paid:428,comped:0,paidSubscribed:2,paidCanceled:0},{date:"2022-05-01",free:7621,tier1:327,tier2:117,paid:444,comped:0,paidSubscribed:17,paidCanceled:1},{date:"2022-05-02",free:7721,tier1:328,tier2:123,paid:451,comped:0,paidSubscribed:8,paidCanceled:1},{date:"2022-05-03",free:7897,tier1:327,tier2:137,paid:464,comped:0,paidSubscribed:14,paidCanceled:1},{date:"2022-05-04",free:7937,tier1:327,tier2:143,paid:470,comped:0,paidSubscribed:6,paidCanceled:0},{date:"2022-05-05",free:7961,tier1:328,tier2:158,paid:486,comped:0,paidSubscribed:16,paidCanceled:0},{date:"2022-05-06",free:8006,tier1:328,tier2:162,paid:490,comped:0,paidSubscribed:5,paidCanceled:1}],labels:["2022-04-07","2022-04-08","2022-04-09","2022-04-10","2022-04-11","2022-04-12","2022-04-13","2022-04-14","2022-04-15","2022-04-16","2022-04-17","2022-04-18","2022-04-19","2022-04-20","2022-04-21","2022-04-22","2022-04-23","2022-04-24","2022-04-25","2022-04-26","2022-04-27","2022-04-28","2022-04-29","2022-04-30","2022-05-01","2022-05-02","2022-05-03","2022-05-04","2022-05-05","2022-05-06"],data:[2925,3087,3487,3910,3915,4196,4566,4637,4814,5108,5307,5408,5799,6133,6403,6677,7053,7111,7242,7292,7596,7713,7856,7886,8065,8172,8361,8407,8447,8496]}}calculatePercentage(e,t){return 0===e?t>0?100:0:Math.round((t-e)/e*100)}},m=w(p.prototype,"dashboardStats",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(p.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(p.prototype,"chartDisplay",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"mrr"}}),g=w(p.prototype,"resizing",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=w(p.prototype,"resizeTimer",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w(p.prototype,"loadCharts",[c],Object.getOwnPropertyDescriptor(p.prototype,"loadCharts"),p.prototype),w(p.prototype,"onDisplayChange",[d],Object.getOwnPropertyDescriptor(p.prototype,"onDisplayChange"),p.prototype),p)
e.default=O,Ember._setComponentTemplate(k,O)})),define("ghost-admin/components/dashboard/charts/attribution",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"7FKU1sXt",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-dashboard-section gh-dashboard-attribution"],[12],[2,"\\n    "],[11,"article"],[24,0,"gh-dashboard-box"],[4,[38,3],[[32,0,["loadData"]]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["sources"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h3"],[14,0,"gh-dashboard-metric-label"],[12],[2,"Top sources"],[13],[2,"\\n            "],[10,"div"],[14,0,"attribution-list-empty"],[12],[2,"\\n                "],[1,[30,[36,2],["members-outline"],null]],[2,"\\n                "],[10,"h4"],[12],[2,"No new members in the past "],[1,[32,0,["chartPeriod"]]],[2," days"],[13],[2,"\\n                "],[10,"p"],[12],[2,"Once someone signs up, youâ€™ll be able to see where they came from here."],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-dashboard-attribution-grid"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h3"],[14,0,"gh-dashboard-metric-label"],[12],[2,"Top sources"],[13],[2,"\\n                "],[8,"member-attribution/source-attribution-table",[[24,0,"gh-dashboard-attribution-list gh-dashboard-list"]],[["@sources","@sortColumn","@setSortColumn"],[[32,0,["sources"]],[32,0,["selectedSortColumn"]],[32,0,["setSortColumn"]]]],null],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-attribution-chart"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-attribution-chart-container"],[12],[2,"\\n                    "],[8,"member-attribution/source-attribution-chart",[],[["@sources","@sortColumn"],[[32,0,["chartSources"]],[32,0,["selectedSortColumn"]]]],null],[2,"\\n                    "],[10,"span"],[14,0,"gh-dashboard-attribution-chart-label"],[12],[1,[30,[36,1],[[30,[36,0],[[32,0,["selectedSortColumn"]],"signups"],null],"Free","Paid"],null]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,1,"gh-dashboard-attribution-tooltip"],[14,0,"gh-dashboard-tooltip"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-tooltip-value"],[12],[2,"\\n                        -\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","if","svg-jar","did-insert","is-empty"]}',moduleName:"ghost-admin/components/dashboard/charts/attribution.hbs"}),h=[{name:"Free signups",value:"signups"},{name:"Paid conversions",value:"paid"}]
let b=(i=Ember.inject.service,n=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"dashboardStats",l,this),c(this,"sortColumn",u,this),d(this,"displayOptions",h)}onDisplayChange(e){this.sortColumn=e.value}setSortColumn(e){this.sortColumn=e}loadData(){this.dashboardStats.loadMemberAttributionStats()}get allowedDisplayOptions(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions:this.displayOptions.filter((e=>"paid"===e.value)):this.displayOptions.filter((e=>"signups"===e.value))}get isDropdownDisabled(){return!this.hasPaidConversionData||!this.hasFreeSignups}get selectedDisplayOption(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions.find((e=>e.value===this.sortColumn))??this.displayOptions[0]:this.displayOptions.find((e=>"paid"===e.value)):this.displayOptions.find((e=>"signups"===e.value))}get selectedSortColumn(){return this.hasPaidConversionData?this.hasFreeSignups?this.sortColumn:"paid":"signups"}get hasPaidConversionData(){return this.sources.some((e=>e.paidConversions>0))}get hasFreeSignups(){return this.sources.some((e=>e.signups>0))}get sources(){return this.dashboardStats?.memberSourceAttributionCounts||[]}get chartPeriod(){return this.dashboardStats.chartDays>7?this.dashboardStats.chartDays-1:this.dashboardStats.chartDays}get chartSources(){return(this.dashboardStats?.memberSourceAttributionCounts||[]).filter((e=>e.source))}get areMembersEnabled(){return this.dashboardStats.siteStatus?.membersEnabled}get areNewslettersEnabled(){return this.dashboardStats.siteStatus?.newslettersEnabled}},l=p(o.prototype,"dashboardStats",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"sortColumn",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"signups"}}),p(o.prototype,"onDisplayChange",[r],Object.getOwnPropertyDescriptor(o.prototype,"onDisplayChange"),o.prototype),p(o.prototype,"setSortColumn",[a],Object.getOwnPropertyDescriptor(o.prototype,"setSortColumn"),o.prototype),p(o.prototype,"loadData",[s],Object.getOwnPropertyDescriptor(o.prototype,"loadData"),o.prototype),o)
e.default=b,Ember._setComponentTemplate(m,b)})),define("ghost-admin/components/dashboard/charts/engagement",["exports","@glimmer/component","ghost-admin/helpers/format-number"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"n7LwYk2H",block:'{"symbols":["option"],"statements":[[10,"section"],[14,0,"gh-dashboard-section gh-dashboard-engagement"],[12],[2,"\\n    "],[11,"article"],[24,0,"gh-dashboard-box"],[4,[38,2],[[32,0,["loadCharts"]]],null],[12],[2,"\\n        "],[8,"dashboard/parts/metric",[],[["@label"],["Engagement"]],null],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-dashboard-columns"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column gh-dashboard-engagement-30days"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@secondary"],["Engaged in the last 30 days",[32,0,["data30Days"]],true]],null],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column gh-dashboard-engagement-7days"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@secondary"],["Engaged in the last 7 days",[32,0,["data7Days"]],true]],null],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column gh-dashboard-engagement-subscribers"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@secondary"],["Newsletter subscribers",[32,0,["dataSubscribers"]],true]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["hasPaidTiers"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-dashboard-select"],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth","@horizontalPosition"],[[32,0,["selectedStatusOption"]],[32,0,["statusOptions"]],false,[32,0,["onSwitchStatus"]],[30,[36,0],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown is-narrow",false,"right"]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["component","if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/charts/engagement.hbs"}),h=[{name:"All members",value:"total"},{name:"Paid members",value:"paid"},{name:"Free members",value:"free"}]
let b=(n=Ember.inject.service,r=Ember._action,a=Ember._tracked,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"dashboardStats",l,this),c(this,"status",u,this),d(this,"statusOptions",h)}loadCharts(){this.dashboardStats.lastSeenFilterStatus=this.status,this.dashboardStats.loadLastSeen(),this.dashboardStats.loadMemberCountStats(),this.dashboardStats.loadNewsletterSubscribers()}get selectedStatusOption(){return this.statusOptions.find((e=>e.value===this.status))}onSwitchStatus(e){this.status=e.value,this.dashboardStats.lastSeenFilterStatus=this.status,this.dashboardStats.loadLastSeen()}get loading(){return null===this.dashboardStats.memberCounts||!this.dashboardStats.memberCounts[this.status]||null===this.dashboardStats.membersLastSeen30d||null===this.dashboardStats.membersLastSeen7d}get data30Days(){if(this.isTotalMembersZero)return"30%"
if(this.loading)return"- %"
const e=this.dashboardStats.memberCounts[this.status],t=this.dashboardStats.membersLastSeen30d
if(e<=0)return"- %"
return`${Math.round(t/e*100)}%`}get data7Days(){if(this.isTotalMembersZero)return"60%"
if(this.loading)return"- %"
const e=this.dashboardStats.memberCounts[this.status],t=this.dashboardStats.membersLastSeen7d
if(e<=0)return"- %"
return`${Math.round(t/e*100)}%`}get dataSubscribers(){return this.isTotalMembersZero?"123":this.dashboardStats.newsletterSubscribers?(0,i.formatNumber)(this.dashboardStats.newsletterSubscribers[this.status]):"-"}get dataEmailsSent(){return this.dashboardStats.emailsSent30d??0}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get isTotalMembersZero(){return this.dashboardStats.memberCounts&&0===this.totalMembers}},l=p(o.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"loadCharts",[r],Object.getOwnPropertyDescriptor(o.prototype,"loadCharts"),o.prototype),u=p(o.prototype,"status",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"total"}}),p(o.prototype,"onSwitchStatus",[s],Object.getOwnPropertyDescriptor(o.prototype,"onSwitchStatus"),o.prototype),o)
e.default=b,Ember._setComponentTemplate(m,b)})),define("ghost-admin/components/dashboard/charts/overview",["exports","@glimmer/component","ghost-admin/helpers/format-number"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"Awu4+Gog",block:'{"symbols":[],"statements":[[10,"section"],[15,0,[31,["gh-dashboard-section gh-dashboard-overview ",[30,[36,0],[[32,0,["isTotalMembersMoreThanZero"]],"is-hidden"],null]]]],[12],[2,"\\n    "],[11,"article"],[24,0,"gh-dashboard-box is-secondary"],[4,[38,1],[[32,0,["loadCharts"]]],null],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-columns"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@trends","@percentage","@large"],[[30,[36,2],[[32,0,["totalMembers"]],"Total member"],[["without-count"],[true]]],[32,0,["totalMembersFormatted"]],[32,0,["hasTrends"]],[32,0,["totalMembersTrend"]],true]],null],[2," \\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@trends","@percentage","@large"],[[30,[36,2],[[32,0,["paidMembers"]],"Paid member"],[["without-count"],[true]]],[32,0,["paidMembersFormatted"]],[32,0,["hasTrends"]],[32,0,["paidMembersTrend"]],true]],null],[2," \\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-column"],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label","@value","@trends","@percentage","@large"],[[30,[36,2],[[32,0,["freeMembers"]],"Free member"],[["without-count"],[true]]],[32,0,["freeMembersFormatted"]],[32,0,["hasTrends"]],[32,0,["freeMembersTrend"]],true]],null],[2," \\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","did-insert","gh-pluralize"]}',moduleName:"ghost-admin/components/dashboard/charts/overview.hbs"})
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="dashboardStats",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}loadCharts(){this.dashboardStats.loadMemberCountStats()}get loading(){return null===this.dashboardStats.memberCountStats}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get isTotalMembersMoreThanZero(){return this.dashboardStats.memberCounts&&this.totalMembers>0}get paidMembers(){return this.dashboardStats.memberCounts?.paid??0}get freeMembers(){return this.dashboardStats.memberCounts?.free??0}get totalMembersFormatted(){return null===this.dashboardStats.memberCounts?"-":(0,i.formatNumber)(this.totalMembers)}get paidMembersFormatted(){return null===this.dashboardStats.memberCounts?"-":(0,i.formatNumber)(this.paidMembers)}get freeMembersFormatted(){return null===this.dashboardStats.memberCounts?"-":(0,i.formatNumber)(this.freeMembers)}get hasTrends(){return null!==this.dashboardStats.memberCounts&&null!==this.dashboardStats.memberCountsTrend&&null!==this.dashboardStats.currentMRR&&null!==this.dashboardStats.currentMRRTrend}get totalMembersTrend(){return this.calculatePercentage(this.dashboardStats.memberCountsTrend.total,this.dashboardStats.memberCounts.total)}get paidMembersTrend(){return this.calculatePercentage(this.dashboardStats.memberCountsTrend.paid,this.dashboardStats.memberCounts.paid)}get freeMembersTrend(){return this.calculatePercentage(this.dashboardStats.memberCountsTrend.free,this.dashboardStats.memberCounts.free)}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}calculatePercentage(e,t){return 0===e?t>0?100:0:Math.round((t-e)/e*100)}},s=o(a.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"loadCharts",[r],Object.getOwnPropertyDescriptor(a.prototype,"loadCharts"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/dashboard/charts/paid-breakdown",["exports","@glimmer/component","moment-timezone"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"1/kPR29g",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-dashboard-minichart gh-dashboard-breakdown"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-content"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-data"],[12],[2,"\\n            "],[8,"dashboard/parts/metric",[],[["@label"],[[32,0,["chartTitle"]]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-dashboard-legend"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-legend-item"],[12],[2,"New"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-legend-item"],[12],[2,"Canceled"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"div"],[24,0,"gh-dashboard-chart"],[4,[38,0],[[32,0,["loadCharts"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-chart-loading"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart-box"],[12],[2,"\\n                        "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],110]],null],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,1,"gh-dashboard-breakdown-tooltip"],[14,0,"gh-dashboard-tooltip"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-tooltip-label"],[12],[2,"\\n                            -\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-tooltip-value"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-tooltip-value-1"],[12],[10,"span"],[14,0,"indicator solid"],[12],[13],[10,"span"],[14,0,"value"],[12],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-tooltip-value-1"],[12],[10,"span"],[14,0,"metric"],[12],[2,"New"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-tooltip-value-2"],[12],[10,"span"],[14,0,"indicator solid"],[12],[13],[10,"span"],[14,0,"value"],[12],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-tooltip-value-2"],[12],[10,"span"],[14,0,"metric"],[12],[2,"Canceled"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-tooltip-value-3"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2," \\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","if"]}',moduleName:"ghost-admin/components/dashboard/charts/paid-breakdown.hbs"})
Chart.elements.RoundedRectangle=Chart.elements.Rectangle.extend({draw:function(){var e,t,i,n,r,a,s=this._chart.ctx,o=this._view,l=this._chart.config.options.cornerRadius,u=this._chart.config.options.fullCornerRadius,c=this._chart.config.options.stackedRounded
l<0&&(l=0),void 0===l&&(l=0),void 0===u&&(u=!0),void 0===c&&(c=!1),e=o.x-o.width/2,t=o.x+o.width/2,i=o.y,n=o.base,r=o.borderSkipped||"bottom",s.beginPath(),s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor
var d=[[e,n],[e,i],[t,i],[t,n]],p=["bottom","left","top","right"].indexOf(r,0)
function m(e){return d[(p+e)%4]}-1===p&&(p=0)
var h,b,g,f,v=m(0)
s.moveTo(v[0],v[1])
for(var y=1;y<4;y++){var w,k,E,P,O,j,_,T
v=m(y),4===y+1&&0,h=d[2][0]-d[1][0],b=d[0][1]-d[1][1],g=d[1][0],f=d[1][1],(a=l)>Math.abs(b)/2&&(a=Math.floor(Math.abs(b)/2)),a>Math.abs(h)/2&&(a=Math.floor(Math.abs(h)/2)),b<0?(w=g,k=g+h,E=f+b,P=f+b,O=g,j=g+h,_=f,T=f,s.moveTo(O+a,_),s.lineTo(j-a,T),s.quadraticCurveTo(j,T,j,T-a),s.lineTo(k,P+a),s.lineTo(k,P,k-a,P),s.lineTo(w+a,E),s.lineTo(w,E,w,E+a),s.lineTo(O,_-a),s.quadraticCurveTo(O,_,O+a,_)):(s.moveTo(g+a,f),s.lineTo(g+h-a,f),s.quadraticCurveTo(g+h,f,g+h,f+a),s.lineTo(g+h,f+b-a),s.lineTo(g+h,f+b,g+h-a,f+b),s.lineTo(g+a,f+b),s.lineTo(g,f+b,g,f+b-a),s.lineTo(g,f+a),s.quadraticCurveTo(g,f,g+a,f))}s.fill()}}),Chart.defaults.hoverBar=Chart.defaults.bar,Chart.controllers.hoverBar=Chart.controllers.bar.extend({draw:function(e){Chart.controllers.bar.prototype.draw.call(this,e)
var t=this.chart.ctx
if(this.chart.tooltip._active&&this.chart.tooltip._active.length){let e=this.chart.tooltip._active[0].tooltipPosition().x,i=this.chart.legend.bottom,n=this.chart.chartArea.bottom
t.save(),t.beginPath(),t.moveTo(e,i),t.lineTo(e,n),t.setLineDash([3,4]),t.lineWidth=1,t.strokeStyle="#7C8B9A",t.stroke(),t.restore()}},dataElementType:Chart.elements.RoundedRectangle})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"dashboardStats",o,this),u(this,"feature",l,this)}loadCharts(){this.dashboardStats.loadSubscriptionCountStats()}get loading(){return null===this.dashboardStats.subscriptionCountStats}get chartTitle(){return"Paid subscribers"}get chartType(){return"hoverBar"}get chartData(){const e=this.dashboardStats.filledSubscriptionCountStats,t=e.map((e=>e.date)),i=e.map((e=>e.signups||0)),n=e.map((e=>-(e.cancellations||0)))
let r=5
return i.length>=31&&i.length<90?r=3.5:i.length>=90&&(r=1.5),{labels:t,datasets:[{data:i,backgroundColor:"#8E42FF",cubicInterpolationMode:"monotone",barThickness:r,minBarLength:3},{data:n,backgroundColor:"#FB76B4",cubicInterpolationMode:"monotone",barThickness:r,minBarLength:3}]}}get chartOptions(){const e=this.feature.nightShift?"rgba(200, 204, 217, 0.25)":"rgba(200, 204, 217, 0.65)"
return{responsive:!0,cornerRadius:50,fullCornerRadius:!1,maintainAspectRatio:!1,title:{display:!1},legend:{display:!1},layout:{padding:{top:4,bottom:0,left:0,right:0}},hover:{onHover:function(e){e.target.style.cursor="pointer"}},animation:!1,responsiveAnimationDuration:1,tooltips:{enabled:!1,intersect:!1,mode:"index",custom:function(e){const t=document.getElementById("gh-dashboard-breakdown-tooltip"),i=t.parentElement.offsetWidth,n=t.offsetWidth
if(0===e.opacity)return t.style.display="none",void(t.style.opacity=0)
let r=0
e.x>i-n&&(r=n-10),t.style.display="block",t.style.opacity=1,t.style.position="absolute",t.style.left=e.x-r+120+"px",t.style.top="70px"},callbacks:{label:(e,t)=>{let i=parseInt(t.datasets[0].data[e.index].toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))
document.querySelector("#gh-dashboard-breakdown-tooltip .gh-dashboard-tooltip-value-1 .value").innerHTML=`${i}`
let n=Math.abs(parseInt(t.datasets[1].data[e.index].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")))
document.querySelector("#gh-dashboard-breakdown-tooltip .gh-dashboard-tooltip-value-2 .value").innerHTML=`${n}`},title:e=>{const t=(0,i.default)(e[0].xLabel).format("D MMM, YYYY")
document.querySelector("#gh-dashboard-breakdown-tooltip .gh-dashboard-tooltip-label").innerHTML=t}}},scales:{yAxes:[{offset:!1,gridLines:{drawTicks:!1,display:!0,drawBorder:!1,color:"rgba(255, 255, 255, 0.1)",lineWidth:0,zeroLineColor:e,zeroLineWidth:1},ticks:{display:!1,fontColor:"#7C8B9A",padding:8,precision:0}}],xAxes:[{offset:!0,stacked:!0,gridLines:{color:e,borderDash:[4,4],display:!1,drawBorder:!1,drawTicks:!1,zeroLineWidth:1,zeroLineColor:e,zeroLineBorderDash:[4,4]},ticks:{display:!1}}]}}}},o=c(s.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"loadCharts",[a],Object.getOwnPropertyDescriptor(s.prototype,"loadCharts"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/dashboard/charts/paid-mix",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"j+qc70hs",block:'{"symbols":["option"],"statements":[[10,"div"],[15,0,[31,["gh-dashboard-minichart gh-dashboard-mix ",[30,[36,1],[[32,0,["isChartCadence"]],"is-cadence"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-content"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-data"],[12],[2,"\\n            "],[8,"dashboard/parts/metric",[],[["@label"],["Paid mix"]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["isChartCadence"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-legend"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-legend-item"],[12],[2,"Monthly"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-legend-item"],[12],[2,"Annual"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[11,"div"],[24,0,"gh-dashboard-chart"],[4,[38,2],[[32,0,["loadCharts"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["loading"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-chart-loading"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-chart-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-chart-box"],[12],[2,"\\n                        "],[8,"ember-chart",[],[["@type","@data","@options","@height"],[[32,0,["chartType"]],[32,0,["chartData"]],[32,0,["chartOptions"]],110]],null],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,1,"gh-dashboard-mix-tooltip"],[14,0,"gh-dashboard-tooltip"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-tooltip-value"],[12],[2,"\\n                            -\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["hasMultipleTiers"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-dashboard-select"],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth","@horizontalPosition"],[[32,0,["selectedModeOption"]],[32,0,["modeOptions"]],false,[32,0,["onSwitchMode"]],[30,[36,0],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown is-narrow",false,"right"]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["component","if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/charts/paid-mix.hbs"}),m=[{name:"Cadence",value:"cadence"},{name:"Tiers",value:"tiers"}]
Chart.elements.Rectangle.prototype.draw=function(){var e,t,i,n,r,a,s=this._chart.ctx,o=this._view,l=this._chart.config.options.cornerRadius,u=this._chart.config.options.fullCornerRadius,c=this._chart.config.options.stackedRounded,d=this._chart.config.type
l<0&&(l=0),void 0===l&&(l=0),void 0===u&&(u=!0),void 0===c&&(c=!1),o.horizontal?(e=o.base,t=o.x,i=o.y-o.height/2,n=o.y+o.height/2,r=o.borderSkipped||"left"):(e=o.x-o.width/2,t=o.x+o.width/2,i=o.y,n=o.base,r=o.borderSkipped||"bottom"),s.beginPath(),s.fillStyle=o.backgroundColor,s.strokeStyle=o.borderColor
var p=[[e,n],[e,i],[t,i],[t,n]],m=["bottom","left","top","right"].indexOf(r,0)
function h(e){return p[(m+e)%4]}-1===m&&(m=0)
var b,g,f,v,y=h(0)
s.moveTo(y[0],y[1])
for(var w=1;w<4;w++){var k,E,P,O,j,_,T,z
if(y=h(w),4===w+1&&0,b=p[2][0]-p[1][0],g=p[0][1]-p[1][1],f=p[1][0],v=p[1][1],(a=l)>Math.abs(g)/2&&(a=Math.floor(Math.abs(g)/2)),a>Math.abs(b)/2&&(a=Math.floor(Math.abs(b)/2)),b<0)k=f+b,E=f,P=v,O=v,j=f+b,_=f,T=v+g,z=v+g,s.moveTo(j+a,T),s.lineTo(_-a,z),u?s.quadraticCurveTo(_,z,_,z-a):s.lineTo(_,z,_,z-a),s.lineTo(E,O+a),u?s.quadraticCurveTo(E,O,E-a,O):s.lineTo(E,O,E-a,O),s.lineTo(k+a,P),s.quadraticCurveTo(k,P,k,P+a),s.lineTo(j,T-a),s.quadraticCurveTo(j,T,j+a,T)
else{for(var x=0,S=0,C=this._chart.data.datasets.length;S<C;S++)this._chart.getDatasetMeta(S).hidden||(x=S)
this._datasetIndex===x?(s.moveTo(f+a,v),s.lineTo(f+b-a,v),s.quadraticCurveTo(f+b,v,f+b,v+a),s.lineTo(f+b,v+g-a),u||"horizontalBar"===d?s.quadraticCurveTo(f+b,v+g,f+b-a,v+g):s.lineTo(f+b,v+g,f+b-a,v+g),s.lineTo(f+a,v+g),u?s.quadraticCurveTo(f,v+g,f,v+g-a):s.lineTo(f,v+g,f,v+g-a),s.lineTo(f,v+a),u||"bar"===d?s.quadraticCurveTo(f,v,f+a,v):s.lineTo(f,v,f+a,v)):(s.moveTo(f,v),s.lineTo(f+b,v),s.lineTo(f+b,v+g),s.lineTo(f,v+g),s.lineTo(f,v))}}s.fill()}
let h=(i=Ember.inject.service,n=Ember._action,r=Ember._tracked,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"dashboardStats",o,this),u(this,"mode",l,this),c(this,"modeOptions",m)}loadCharts(){this.dashboardStats.loadMemberCountStats(),"cadence"===this.mode?this.dashboardStats.loadPaidMembersByCadence():this.dashboardStats.loadPaidMembersByTier()}get selectedModeOption(){return this.modeOptions.find((e=>e.value===this.mode))}get hasMultipleTiers(){return this.dashboardStats.siteStatus?.hasMultipleTiers}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get isTotalMembersZero(){return 0===this.dashboardStats.memberCounts?.total}onSwitchMode(e){this.mode=e.value,this.loading&&this.loadCharts()}get loading(){return"cadence"===this.mode?null===this.dashboardStats.paidMembersByCadence:null===this.dashboardStats.paidMembersByTier}get chartType(){return"horizontalBar"}get areTiersAllZero(){if(null===this.dashboardStats.paidMembersByTier||0===this.dashboardStats.paidMembersByTier.length)return!0
const e=this.dashboardStats.paidMembersByTier.map((e=>e.members))
let t=!0
for(let i=0;i<e.length;i++)e[i]>0&&(t=!1)
return t}get chartData(){const e=this.dashboardStats.paidMembersByCadence.month+this.dashboardStats.paidMembersByCadence.year,t=Math.round(this.dashboardStats.paidMembersByCadence.month/e*100),i=Math.round(this.dashboardStats.paidMembersByCadence.year/e*100)
if("cadence"===this.mode)return 0!==e||this.isTotalMembersZero?this.isTotalMembersZero?{labels:["Cadence"],datasets:[{label:"Monthly",data:[-40],backgroundColor:"#8E42FF",barThickness:5},{label:"Annual",data:[60],backgroundColor:"#FB76B4",barThickness:5}]}:{labels:["Cadence"],datasets:[{label:"Monthly",data:[-t],backgroundColor:"#8E42FF",barThickness:5},{label:"Annual",data:[i],backgroundColor:"#FB76B4",barThickness:5}]}:{labels:["Cadence"],datasets:[{label:"Monthly",data:[-50],backgroundColor:"#F3F6F8",barThickness:5},{label:"Annual",data:[50],backgroundColor:"#EBEEF0",barThickness:5}]}
const n=this.dashboardStats.paidMembersByTier.map((e=>e.tier.name)),r=this.dashboardStats.paidMembersByTier.map((e=>e.members)),a=["#853EED","#CA3FED","#E993CC","#DB7777","#EE9696","#FEC7C0","#853EED","#CA3FED","#E993CC","#DB7777","#EE9696","#FEC7C0"],s=["#E6E9EB","#EEF1F2","#F6F8FA","#EEF1F2","#E6E9EB","#EEF1F2","#F6F8FA","#EEF1F2","#E6E9EB","#EEF1F2","#F6F8FA","#EEF1F2"]
let o,l=[]
if(this.areTiersAllZero){o=100
let e=Math.round(100/r.length)
for(let t=0;t<r.length;t++)r[t]=e}else{o=0
for(let e=0;e<r.length;e++)o+=r[e]}for(let u=0;u<r.length;u++){if(!this.areTiersAllZero&&0===r[u])continue
let e=Math.round(r[u]/o*100)
0===u&&(e=-e),l.push({data:[e],label:n[u],backgroundColor:this.areTiersAllZero?s[u]:a[u],barThickness:5})}return{labels:["Tiers"],datasets:l}}get chartOptions(){let e=this,t={display:!1},i=this.dashboardStats.paidMembersByCadence.month+this.dashboardStats.paidMembersByCadence.year,n=-Math.round(this.dashboardStats.paidMembersByCadence.month/i*100),r=Math.round(this.dashboardStats.paidMembersByCadence.year/i*100)
if("cadence"===this.mode)0===i&&(n=-50,r=50),t={display:!1,min:n,max:r}
else if(!this.areTiersAllZero){let e=this.dashboardStats.paidMembersByTier.map((e=>e.members)),i=0
for(let t=0;t<e.length;t++)i+=e[t]
let n=Math.round(e[0]/i*100)
t={display:!1,min:-n,max:100-n}}return{responsive:!0,maintainAspectRatio:!1,cornerRadius:50,fullCornerRadius:!1,legend:{display:!1},layout:{padding:{top:72,bottom:0,left:0,right:4}},animation:!1,responsiveAnimationDuration:1,hover:{onHover:function(e){e.target.style.cursor="pointer"}},tooltips:{enabled:!1,intersect:!1,mode:"single",custom:function(t){const i=document.getElementById("gh-dashboard-mix-tooltip"),n=i.parentElement.offsetWidth,r=i.offsetWidth
if(0===t.opacity)return void(i.style.opacity=0)
let a=0
"cadence"===e.mode?(t.x>.69*n-r&&(a=r-10),a-=.3*n):t.x>n-r&&(a=r-10),i.style.opacity=1,i.style.position="absolute",i.style.left=t.x-a+"px",i.style.top="30px"},callbacks:{label:(t,n)=>{const r=document.querySelector("#gh-dashboard-mix-tooltip .gh-dashboard-tooltip-value"),a=n.datasets[t.datasetIndex].label||""
var s=n.datasets[t.datasetIndex].data[t.index]||0
s<0&&(s=-s),e.isTotalMembersZero||0===i?s=0:s+="%",r.innerHTML=`<span class="indicator solid" style="background-color: ${n.datasets[t.datasetIndex].backgroundColor}"></span><span class="value">${s}</span><span class="metric">${a}</span>`},title:()=>null}},scales:{yAxes:[{stacked:!0,gridLines:{display:!1},ticks:{display:!1}}],xAxes:[{stacked:!0,gridLines:{display:!1},ticks:t}]}}}get isChartCadence(){return"cadence"===this.mode}get isChartTiers(){return"tiers"===this.mode}},o=d(s.prototype,"dashboardStats",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"loadCharts",[n],Object.getOwnPropertyDescriptor(s.prototype,"loadCharts"),s.prototype),l=d(s.prototype,"mode",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"cadence"}}),d(s.prototype,"onSwitchMode",[a],Object.getOwnPropertyDescriptor(s.prototype,"onSwitchMode"),s.prototype),s)
e.default=h,Ember._setComponentTemplate(p,h)})),define("ghost-admin/components/dashboard/charts/recents",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"nLmWVzlQ",block:'{"symbols":["eventsFetcher","event","parsedEvent","post"],"statements":[[11,"section"],[24,0,"gh-dashboard-section gh-dashboard-recents"],[4,[38,18],[[32,0,["loadData"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-box"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-tabs"],[12],[2,"\\n            "],[11,"button"],[16,0,[31,["gh-dashboard-tab ",[30,[36,0],[[32,0,["postsTabSelected"]],"is-selected"],null]]]],[24,4,"button"],[4,[38,17],["click",[32,0,["changeTabToPosts"]]],null],[12],[2,"\\n                "],[8,"dashboard/parts/metric",[],[["@label"],["Recent posts"]],null],[2,"\\n            "],[13],[2,"\\n"],[6,[37,0],[[32,0,["areMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                "],[11,"button"],[16,0,[31,["gh-dashboard-tab ",[30,[36,0],[[32,0,["activityTabSelected"]],"is-selected"],null]]]],[24,4,"button"],[4,[38,17],["click",[32,0,["changeTabToActivity"]]],null],[12],[2,"\\n                    "],[8,"dashboard/parts/metric",[],[["@label"],["Member activity"]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"],[6,[37,0],[[32,0,["postsTabSelected"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[15,0,[31,["gh-dashboard-recents-posts gh-dashboard-list ",[30,[36,16],[[32,0,["areNewslettersEnabled"]],"is-single"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Title"],[13],[2,"\\n"],[6,[37,0],[[32,0,["areNewslettersEnabled"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Sent"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Open rate"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Published"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["posts"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"link-to",[[24,0,"gh-dashboard-list-item permalink"]],[["@route","@model"],["posts.analytics",[32,4,["id"]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-dashboard-list-text"],[12],[1,[32,4,["title"]]],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,0],[[32,0,["areNewslettersEnabled"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                    "],[10,"span"],[15,0,[31,["gh-dashboard-metric-minivalue ",[30,[36,16],[[32,4,["email"]],"na"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,4,["email"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,15],[[32,4,["email","emailCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            â€”\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-dashboard-rate-bar"],[12],[2,"\\n"],[6,[37,0],[[32,4,["email"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[1,[32,4,["email","openRate"]]],[2,"%"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-dashboard-rate-amount"],[12],[10,"span"],[15,5,[30,[36,14],[[30,[36,13],["width: ",[32,4,["email","openRate"]],"%;"],null]],null]],[12],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue na"],[12],[2,"â€”"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-dashboard-list-subtext"],[12],[1,[30,[36,12],[[30,[36,11],[[32,4,["publishedAtUTC"]]],null],"DD MMM YYYY HH:mm"],null]],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[4]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-empty"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"No published posts yet."],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-footer"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@query"],["posts",[30,[36,10],["posts"],null]]],[["default"],[{"statements":[[2,"View all posts â†’"]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["activityTabSelected"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-dashboard-recents-activity gh-dashboard-list"],[14,"data-test-dashboard-member-activity",""],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Member"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Event"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Time"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n"],[6,[37,5],[[30,[36,9],null,[["filter","pageSize"],[[30,[36,8],null,[["excludeEmailEvents","excludedEvents"],[true,[32,0,["excludedEventTypes"]]]]],5]]]],null,[["default"],[{"statements":[[6,[37,0],[[32,1,["isError"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-error"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"There was an error loading events"],[13],[2,"\\n"],[6,[37,0],[[32,1,["errorMessage"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"code"],[12],[1,[32,1,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-loading"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["data"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,4],[[32,2],[32,1,["hasMultipleNewsletters"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-dashboard-list-item member-details"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n"],[6,[37,0],[[32,3,["member"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,3,["member"]],"w8 h8 mr3 flex-shrink-0"]],null],[2,"\\n                                                    "],[8,"link-to",[[24,0,"gh-dashboard-list-text"],[24,"data-test-dashboard-member-activity-item",""]],[["@route","@model"],["member",[31,[[32,3,["memberId"]]]]]],[["default"],[{"statements":[[1,[32,3,["subject"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["email"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[8,"gh-member-avatar",[],[["@name","@containerClass"],[[32,3,["subject"]],"w8 h8 mr3 flex-shrink-0"]],null],[2,"\\n                                                        "],[10,"a"],[14,0,"gh-dashboard-list-text"],[15,6,[31,["mailto:",[32,3,["email"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[15,"title",[31,[[32,3,["email"]]]]],[12],[1,[32,3,["subject"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                        "],[8,"gh-member-avatar",[],[["@name","@containerClass"],[[32,3,["subject"]],"w8 h8 mr3 flex-shrink-0"]],null],[2,"\\n                                                        "],[10,"span"],[14,0,"gh-dashboard-list-text"],[12],[1,[32,3,["subject"]]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                                "],[1,[30,[36,1],[[32,3,["icon"]]],null]],[2,"\\n                                                "],[10,"span"],[14,0,"gh-dashboard-list-subtext"],[12],[2,"\\n                                                    "],[10,"span"],[14,0,"gh-members-activity-description feature-memberAttribution"],[12],[2,"\\n                                                        "],[10,"span"],[14,0,"gh-members-activity-event-text"],[12],[1,[30,[36,2],[[32,3,["action"]]],null]],[13],[2,"\\n"],[6,[37,0],[[32,3,["info"]]],null,[["default"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"highlight"],[12],[2,"("],[1,[32,3,["info"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[32,3,["route"]]],null,[["default","else"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                            "],[8,"link-to",[[24,0,"gh-members-activity-object-link"]],[["@route","@model"],[[32,3,["route","name"]],[32,3,["route","model"]]]],[["default"],[{"statements":[[1,[32,3,["object"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["url"]]],null,[["default","else"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                            "],[10,"a"],[14,0,"ghost-members-activity-object-link"],[15,6,[31,[[32,3,["url"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,3,["object"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,3,["email"]]],null,[["default"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                            "],[8,"gh-email-preview-link",[],[["@data"],[[32,2,["email"]]]],null],[2,"\\n                                                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub gh-dashboard-list-item-date"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-dashboard-list-subtext"],[12],[1,[30,[36,3],[[32,3,["timestamp"]]],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[2]}]]]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-dashboard-list-empty"],[14,"data-test-no-member-activities",""],[12],[2,"\\n                                    "],[10,"p"],[12],[2,"No activity yet."],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-footer"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,10],["members-activity"],null]]],[["default"],[{"statements":[[2,"View all member activity â†’"]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","svg-jar","capitalize-first-letter","moment-from-now","parse-member-event","let","-track-array","each","members-event-filter","members-event-fetcher","reset-query-params","moment-site-tz","moment-format","concat","html-safe","format-number","unless","on","did-insert"]}',moduleName:"ghost-admin/components/dashboard/charts/recents.hbs"})
let y=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),b(this,"store",d,this),b(this,"dashboardStats",p,this),b(this,"selected",m,this),b(this,"posts",h,this),g(this,"excludedEventTypes",["aggregated_click_event"])}async loadData(){this.posts=await this.store.query("post",{limit:5,filter:"status:[published,sent]",order:"published_at desc"})}changeTabToPosts(){this.selected="posts"}changeTabToActivity(){this.selected="activity"}changeTabToMentions(){this.selected="mentions"}get postsTabSelected(){return"posts"===this.selected}get activityTabSelected(){return"activity"===this.selected}get mentionsTabSelected(){return"mentions"===this.selected}get areMembersEnabled(){return this.dashboardStats.siteStatus?.membersEnabled}get areNewslettersEnabled(){return this.dashboardStats.siteStatus?.newslettersEnabled}},d=f(c.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"dashboardStats",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(c.prototype,"selected",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"posts"}}),h=f(c.prototype,"posts",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f(c.prototype,"loadData",[s],Object.getOwnPropertyDescriptor(c.prototype,"loadData"),c.prototype),f(c.prototype,"changeTabToPosts",[o],Object.getOwnPropertyDescriptor(c.prototype,"changeTabToPosts"),c.prototype),f(c.prototype,"changeTabToActivity",[l],Object.getOwnPropertyDescriptor(c.prototype,"changeTabToActivity"),c.prototype),f(c.prototype,"changeTabToMentions",[u],Object.getOwnPropertyDescriptor(c.prototype,"changeTabToMentions"),c.prototype),c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/dashboard/parts/metric",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"S6sTwgOn",block:'{"symbols":["@extra","@percentage","@value","@trends","@label","@reverse","@secondary","@embedded","@large","@center"],"statements":[[10,"div"],[15,0,[31,["gh-dashboard-metric ",[30,[36,0],[[32,10],"is-center"],null]," ",[30,[36,0],[[32,6],"is-reverse"],null]," ",[30,[36,0],[[32,9],"is-large"],null]," ",[30,[36,0],[[32,8],"is-embedded"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-metric-data"],[12],[2,"\\n"],[6,[37,0],[[32,7]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,3]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-dashboard-metric-value ",[30,[36,0],[[32,7],"is-secondary"],null]]]],[12],[2,"\\n                    "],[10,"span"],[14,0,"value"],[12],[1,[32,3]],[13],[2,"\\n"],[6,[37,0],[[32,4]],null,[["default"],[{"statements":[[2,"                    "],[8,"dashboard/parts/percentage",[],[["@percentage"],[[32,2]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h5"],[15,0,[31,["gh-dashboard-metric-label ",[30,[36,0],[[32,7],"is-secondary"],null]]]],[12],[2,"\\n                "],[1,[32,5]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,6]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,3]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-metric-value"],[12],[2,"\\n                        "],[10,"span"],[14,0,"value"],[12],[1,[32,3]],[13],[2,"\\n"],[6,[37,0],[[32,4]],null,[["default"],[{"statements":[[2,"                        "],[8,"dashboard/parts/percentage",[],[["@percentage"],[[32,2]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"h5"],[14,0,"gh-dashboard-metric-label"],[12],[2,"\\n                    "],[1,[32,5]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"h5"],[14,0,"gh-dashboard-metric-label"],[12],[2,"\\n                    "],[1,[32,5]],[2,"\\n                "],[13],[2,"\\n"],[6,[37,0],[[32,3]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-metric-value"],[12],[2,"\\n                        "],[10,"span"],[14,0,"value"],[12],[1,[32,3]],[13],[2,"\\n"],[6,[37,0],[[32,4]],null,[["default"],[{"statements":[[2,"                            "],[8,"dashboard/parts/percentage",[],[["@percentage"],[[32,2]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,0],[[32,1]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-dashboard-metric-extra"],[12],[2,"\\n            "],[1,[32,1]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/dashboard/parts/metric.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/dashboard/parts/percentage",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"yM/NEuSo",block:'{"symbols":["@percentage"],"statements":[[6,[37,1],[[30,[36,2],[[32,1],0],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard-percentage is-positive"],[12],[2,"+"],[1,[32,1]],[2,"%"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,0],[[32,1],0],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard-percentage is-negative"],[12],[1,[32,1]],[2,"%"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"gh-dashboard-percentage"],[12],[2,"0%"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["lt","if","gt"]}',moduleName:"ghost-admin/components/dashboard/parts/percentage.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/dashboard/parts/zero",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"AXcawQMc",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-dashboard-zero"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-zero-message"],[12],[2,"\\n        "],[1,[30,[36,0],["analytics"],null]],[2,"\\n        "],[10,"h4"],[12],[2,"Welcome to your Dashboard"],[13],[2,"\\n        "],[10,"p"],[12],[2,"You\'ll find member analytics here once"],[10,"br"],[12],[13],[2,"someone signs up."],[13],[2,"\\n        "],[10,"p"],[12],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"Add or import members â†’"]],"parameters":[]}]]],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/dashboard/parts/zero.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/dashboard/prototype/control-panel",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"DHJ7K06F",block:'{"symbols":["option"],"statements":[[11,"div"],[24,0,"gh-main-section prototype-control-panel"],[4,[38,2],[[32,0,["onInsert"]]],null],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Prototype control panel"],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable fake data"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Replace real data with mocked data to test the dashboard\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                        "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["enabled"]]]],null],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["enabled"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Emulated state"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Choose a state you want to emulate for this site\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedStateOption"]],[32,0,["stateOptions"]],false,[32,0,["onStateChange"]],[30,[36,0],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                            "],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Newsletters enabled"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            All email related charts shown\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                            "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockNewslettersEnabled"]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Members enabled"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                            Setting subscription access to other value than \'Nobody\'\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                            "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockMembersEnabled"]]]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["mockMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Has paid tiers and Stripe connected"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Paid memberships\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                                "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockPaidTiers"]]]],null],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Has multiple paid tiers"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Adds the ability to show paid mix per tier\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                                "],[8,"input",[],[["@type","@checked"],["checkbox",[32,0,["mockMultipleTiers"]]]],null],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["component","if","did-insert"]}',moduleName:"ghost-admin/components/dashboard/prototype/control-panel.hbs"}),g=[{name:"No data",value:{days:0}},{name:"7 days",value:{days:7}},{name:"30 days",value:{days:30}},{name:"90 days",value:{days:90}},{name:"One year",value:{days:365}},{name:"Two years",value:{days:730}}]
let f=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"dashboardStats",u,this),p(this,"dashboardMocks",c,this),m(this,"stateOptions",g),p(this,"state",d,this)}onInsert(){this.loadState(),this.dashboardMocks.updateMockedData(this.state),this.enabled&&this.updateState()}saveState(){try{localStorage.setItem("dashboard5-prototype-state",JSON.stringify(this.state)),localStorage.setItem("dashboard5-prototype-status",JSON.stringify(this.dashboardMocks.siteStatus)),localStorage.setItem("dashboard5-prototype-enabled",JSON.stringify(this.enabled))}catch(e){}}loadState(){try{const e=localStorage.getItem("dashboard5-prototype-state")
if(e){const t=JSON.parse(e)
t&&(this.state=t)}const t=localStorage.getItem("dashboard5-prototype-status")
if(t){const e=JSON.parse(t)
e&&(this.dashboardMocks.siteStatus={...this.dashboardMocks.siteStatus,...e})}const i=localStorage.getItem("dashboard5-prototype-enabled")
if(i){const e=JSON.parse(i)
"boolean"==typeof e&&e!==this.dashboardMocks.enabled&&(this.dashboardMocks.enabled=e)}}catch(e){}}get selectedStateOption(){return this.stateOptions.find((e=>e.value.days===this.state.days))}onStateChange(e){this.state=e.value,this.updateMockedData(),this.updateState()}updateMockedData(){this.dashboardMocks.updateMockedData(this.state)}updateState(){this.dashboardStats.reloadAll(),this.saveState()}get enabled(){return this.dashboardMocks.enabled}set enabled(e){this.dashboardMocks.enabled=e,this.updateState()}get mockPaidTiers(){return this.dashboardMocks.siteStatus?.hasPaidTiers}set mockPaidTiers(e){this.dashboardMocks.siteStatus.hasPaidTiers=e,this.updateState()}get mockMultipleTiers(){return this.dashboardMocks.siteStatus?.hasMultipleTiers}set mockMultipleTiers(e){this.dashboardMocks.siteStatus.hasMultipleTiers=e,this.updateState()}get mockNewslettersEnabled(){return this.dashboardMocks.siteStatus?.newslettersEnabled}set mockNewslettersEnabled(e){this.dashboardMocks.siteStatus.newslettersEnabled=e,this.updateState()}get mockMembersEnabled(){return this.dashboardMocks.siteStatus?.membersEnabled}set mockMembersEnabled(e){this.dashboardMocks.siteStatus.membersEnabled=e,this.updateState()}},u=h(l.prototype,"dashboardStats",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"dashboardMocks",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"state",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g[1].value}}),h(l.prototype,"onInsert",[a],Object.getOwnPropertyDescriptor(l.prototype,"onInsert"),l.prototype),h(l.prototype,"onStateChange",[s],Object.getOwnPropertyDescriptor(l.prototype,"onStateChange"),l.prototype),h(l.prototype,"updateMockedData",[o],Object.getOwnPropertyDescriptor(l.prototype,"updateMockedData"),l.prototype),l)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/dashboard/resources/community",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"eLYJV6kj",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-dashboard-resource gh-dashboard-community"],[12],[2,"\\n    "],[10,"a"],[14,6,"https://ghost.org/resources/community/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-dashboard-resource-box"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-title"],[12],[2,"\\n            "],[10,"h4"],[12],[2,"Ghost Creator Community"],[13],[2,"\\n        "],[13],[2," \\n        "],[10,"div"],[14,0,"gh-dashboard-resource-body"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-list"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"Talk strategy. Get advice."],[10,"br"],[12],[13],[2,"Or just hang out."],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-footer"],[12],[2,"\\n            Share the journey â†’\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/dashboard/resources/community.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/dashboard/resources/explore-feed",["exports","@glimmer/component","fetch","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"+i8KFsEv",block:'{"symbols":["entry"],"statements":[[11,"section"],[24,0,"gh-dashboard-section gh-dashboard-explore-feed"],[4,[38,3],[[32,0,["load"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-box"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-title"],[12],[2,"\\n            "],[10,"h4"],[12],[2,"Featured publications\\n"],[6,[37,0],[[32,0,["meta","category_url"]]],null,[["default"],[{"statements":[[2,"                    in "],[10,"a"],[14,0,"gh-dasboard-explore-title-link"],[15,6,[32,0,["meta","category_url"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["meta","category"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"a"],[14,6,"https://ghost.org/explore/?ref=admin"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Browse all"],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-dashboard-explore-add"]],[["@route"],["explore.connect"]],[["default"],[{"statements":[[2,"Add your site to Explore"]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-body"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-columns"],[12],[2,"\\n"],[6,[37,0],[[30,[36,5],[[30,[36,4],[[32,0,["loading"]],[32,0,["error"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["sites"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"a"],[14,0,"gh-dashboard-column gh-dashboard-explore-card"],[15,6,[32,1,["url"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-explore-header"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-dashboard-explore-icon"],[12],[2,"\\n                                    "],[10,"img"],[15,"src",[32,1,["icon"]]],[15,"alt",[32,1,["title"]]],[12],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-dashboard-explore-title gap-2"],[12],[2,"\\n                                    "],[10,"h5"],[14,0,"truncate"],[12],[1,[32,1,["title"]]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[1,[32,1,["description"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-explore-footer text-xs md:text-sm mt-5 gap-3 font-medium"],[12],[2,"\\n                                "],[10,"p"],[14,0,"truncate"],[12],[1,[32,1,["pretty_url"]]],[13],[2,"\\n"],[6,[37,0],[[32,1,["mrr"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-dashboard-explore-mrr"],[12],[1,[32,1,["mrr"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,1,["members"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-dashboard-explore-members"],[12],[1,[32,1,["members"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-dashboard-explore-visit"],[12],[2,"Visit â†’"],[13],[2,"\\n                                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-empty"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"No sites yet."],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","-track-array","each","did-insert","or","not"]}',moduleName:"ghost-admin/components/dashboard/resources/explore-feed.hbs"})
let f=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),h(this,"loading",c,this),h(this,"error",d,this),h(this,"sites",p,this),h(this,"meta",m,this)}load(){this.loading=!0,this.fetch.perform().then((()=>{this.loading=!1})).catch((e=>{this.error=e,this.loading=!1}))}*fetch(){const e=yield(0,i.default)("https://ghost.org/explore/api/feed/")
if(!e.ok)return console.error("Failed to fetch sites",{response:e}),void(this.error="Failed to fetch")
const t=yield e.json()
this.sites=t.sites||[],this.meta=t.meta||[]}},c=b(u.prototype,"loading",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=b(u.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=b(u.prototype,"sites",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b(u.prototype,"meta",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(u.prototype,"load",[l],Object.getOwnPropertyDescriptor(u.prototype,"load"),u.prototype),b(u.prototype,"fetch",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"fetch"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/dashboard/resources/newsletter",["exports","@glimmer/component","fetch","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"/enE4C/d",block:'{"symbols":["entry"],"statements":[[11,"section"],[24,0,"gh-dashboard-resource gh-dashboard-newsletter"],[4,[38,3],[[32,0,["load"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-resource-box"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-title"],[12],[2,"\\n            "],[10,"h4"],[12],[2,"The Ghost Newsletter"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-body"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,4],[[32,0,["loading"]],[32,0,["error"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-resource-bigarticle"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["newsletters"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"a"],[14,0,"gh-dashboard-resource-smallarticle"],[15,6,[30,[36,0],[[32,1,["url"]]],[["utm_source"],["admin"]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-resource-text"],[12],[2,"\\n                                "],[10,"h3"],[12],[1,[32,1,["title"]]],[13],[2,"\\n                                "],[10,"p"],[12],[1,[32,1,["excerpt"]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-footer"],[12],[2,"\\n            "],[10,"a"],[14,6,"https://ghost.org/resources/newsletter/"],[14,"target","_blank"],[14,0,"gh-dashboard-subscribe-button"],[14,"rel","noopener noreferrer"],[12],[2,"Get weekly tips in your inbox â†’"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["set-query-params","-track-array","each","did-insert","or","not","if"]}',moduleName:"ghost-admin/components/dashboard/resources/newsletter.hbs"})
let b=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"loading",u,this),p(this,"error",c,this),p(this,"newsletters",d,this)}load(){this.loading=!0,this.fetch.perform().then((()=>{this.loading=!1})).catch((e=>{this.error=e,this.loading=!1}))}*fetch(){const e=encodeURIComponent("published_at DESC"),t=encodeURIComponent("b30afc1721f5d8d021ec3450ef"),n=encodeURIComponent(1),r=encodeURIComponent("tag:newsletter")
let a=yield(0,i.default)(`https://resources.ghost.io/resources/ghost/api/content/posts/?limit=${n}&order=${e}&key=${t}&include=none&filter=${r}`)
if(!a.ok)return console.error("Failed to fetch newsletters",{response:a}),void(this.error="Failed to fetch")
let s=yield a.json()
this.newsletters=s.posts||[]}},u=m(l.prototype,"loading",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(l.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m(l.prototype,"newsletters",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(l.prototype,"load",[o],Object.getOwnPropertyDescriptor(l.prototype,"load"),l.prototype),m(l.prototype,"fetch",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"fetch"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/dashboard/resources/resources",["exports","@glimmer/component","fetch","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"Q0ejIB5J",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-dashboard-resource gh-dashboard-resources"],[4,[38,2],[[32,0,["load"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-resource-box"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,3],[[32,0,["loading"]],[32,0,["error"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"a"],[15,6,[31,[[32,0,["resource","url"]]]]],[14,"target","_blank"],[14,0,"gh-dashboard-resource-thumbnail"],[14,"rel","noopener noreferrer"],[15,5,[30,[36,1],[[30,[36,0],["background-image: url(",[32,0,["resource","feature_image"]],")"],null]],null]],[14,"aria-label","Resource link"],[12],[13],[2,"        \\n            "],[10,"div"],[14,0,"gh-dashboard-resource-contents"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-resource-title"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Ghost resources"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-resource-body"],[12],[2,"\\n                    "],[10,"a"],[15,6,[31,[[32,0,["resource","url"]]]]],[14,"target","_blank"],[14,0,"gh-dashboard-resource-bigarticle"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-dashboard-resource-text"],[12],[2,"\\n                            "],[10,"h3"],[12],[1,[32,0,["resource","title"]]],[13],[2,"\\n                            "],[10,"p"],[12],[1,[32,0,["resource","excerpt"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-resource-footer"],[12],[2,"\\n                    "],[10,"a"],[14,6,"https://ghost.org/resources/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Read this article â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["concat","html-safe","did-insert","or","not","if"]}',moduleName:"ghost-admin/components/dashboard/resources/resources.hbs"})
let y=(r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),g(this,"dashboardStats",d,this),g(this,"loading",p,this),g(this,"error",m,this),g(this,"resources",h,this),g(this,"resource",b,this)}load(){this.loading=!0,this.fetch.perform().then((()=>{this.loading=!1})).catch((e=>{this.error=e,this.loading=!1}))}get tag(){return this.areMembersEnabled&&this.hasPaidTiers?"business":this.areMembersEnabled?"growth":"building"}*fetch(){const e=encodeURIComponent("published_at DESC"),t=encodeURIComponent("b30afc1721f5d8d021ec3450ef"),n=encodeURIComponent(1),r=encodeURIComponent("tag:"+this.tag)
let a=yield(0,i.default)(`https://resources.ghost.io/resources/ghost/api/content/posts/?limit=${n}&order=${e}&key=${t}&include=none&filter=${r}`)
if(!a.ok)return console.error("Failed to fetch resources",{response:a}),void(this.error="Failed to fetch")
let s=yield a.json()
this.resources=s.posts||[],this.resource=this.resources[0]}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}get areNewslettersEnabled(){return this.dashboardStats.siteStatus?.newslettersEnabled}get areMembersEnabled(){return this.dashboardStats.siteStatus?.membersEnabled}get hasNothingEnabled(){return!this.areMembersEnabled&&!this.areNewslettersEnabled&&!this.hasPaidTiers}},d=f(c.prototype,"dashboardStats",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"loading",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=f(c.prototype,"error",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=f(c.prototype,"resources",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=f(c.prototype,"resource",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f(c.prototype,"load",[u],Object.getOwnPropertyDescriptor(c.prototype,"load"),c.prototype),f(c.prototype,"fetch",[n.task],Object.getOwnPropertyDescriptor(c.prototype,"fetch"),c.prototype),c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/dashboard/resources/whats-new",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"kV/yQqs4",block:'{"symbols":["entry"],"statements":[[11,"section"],[24,0,"gh-dashboard-resource gh-dashboard-whats-new"],[4,[38,4],[[32,0,["load"]]],null],[12],[2,"\\n    "],[10,"article"],[14,0,"gh-dashboard-resource-box"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-title"],[12],[2,"\\n            "],[10,"h4"],[12],[1,[30,[36,5],["gift"],[["alt","class"],["Gift","v-mid"]]]],[2,"What\'s new"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-body"],[12],[2,"\\n             "],[10,"div"],[15,0,[31,["gh-dashboard-list ",[30,[36,6],[[32,0,["whatsNew","hasNew"]],"has-new"],null]]]],[12],[2,"\\n"],[6,[37,6],[[30,[36,8],[[30,[36,7],[[32,0,["loading"]],[32,0,["error"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["entries"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-item"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-dashboard-list-post"]],[["@route","@query"],["whatsnew",[30,[36,0],null,[["entry"],[[32,1,["slug"]]]]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[14,0,"gh-dashboard-list-link"],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[32,1,["title"]]],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-dashboard-resource-secondary"],[12],[1,[30,[36,1],[[32,1,["published_at"]],"D MMM YYYY"],null]],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-empty"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"No new features yet."],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-resource-footer"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"green"]],[["@route","@query"],["whatsnew",[30,[36,0],null,[["entry"],[null]]]]],[["default"],[{"statements":[[2,"View more features â†’"]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","moment-format","-track-array","each","did-insert","svg-jar","if","or","not"]}',moduleName:"ghost-admin/components/dashboard/resources/whats-new.hbs"})
let b=(i=Ember.inject.service,n=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),p(this,"whatsNew",l,this),p(this,"entries",u,this),p(this,"loading",c,this),p(this,"error",d,this)}load(){this.loading=!0,this.whatsNew.fetchLatest.perform().then((()=>{this.loading=!1,this.entries=this.whatsNew.entries.slice(0,3)}),(e=>{this.error=e,this.loading=!1}))}},l=m(o.prototype,"whatsNew",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"entries",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c=m(o.prototype,"loading",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=m(o.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m(o.prototype,"load",[s],Object.getOwnPropertyDescriptor(o.prototype,"load"),o.prototype),o)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/draggable-object-target",["exports","ember-drag-drop/components/draggable-object-target"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/components/draggable-object",["exports","ember-drag-drop/components/draggable-object"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i}))
define("ghost-admin/components/editor/modals/delete-snippet",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"LWiTwUJ0",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-snippet"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Confirm snippet deletion"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete the \\""],[10,"strong"],[12],[1,[32,2,["snippet","name"]]],[13],[2,"\\" snippet. This is permanent, and will delete the snippet for all staff users. It will "],[10,"strong"],[12],[2,"not"],[13],[2," change any posts where youâ€™ve used this snippet in the past.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@taskArgs","@class"],["Delete snippet","Deleted",[32,0,["deleteSnippetTask"]],[32,2,["snippet"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/editor/modals/delete-snippet.hbs"})
let u=(n=Ember.inject.service,r=(0,i.task)({drop:!0}),a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}*deleteSnippetTask(){try{const{snippet:e}=this.args.data
return e.isDeleted||(yield e.destroyRecord(),this.notifications.closeAlerts("snippet.delete")),!0}catch(e){this.notifications.showAPIError(e,{key:"snippet.delete.failed"})}finally{this.args.close()}}},s=o(a.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"deleteSnippetTask",[r],Object.getOwnPropertyDescriptor(a.prototype,"deleteSnippetTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/editor/modals/preview",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"R0GYlVKI",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header gh-post-preview-header"],[14,"data-test-modal","preview-email"],[12],[2,"\\n        "],[10,"div"],[14,0,"left"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn-editor gh-editor-back-button"],[24,"title","Close"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,6],["arrow-left"],null]],[2," Editor"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-post-preview-btn-group"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"browser"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,5],[[32,0,["changeTab"]],"browser"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"mobile"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,5],[[32,0,["changeTab"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["mobile-phone"],null]],[13],[13],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,8],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,8],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,1],[[32,1,["publishOptions","post","isPost"]],[30,[36,7],[[32,1,["publishOptions","user","isContributor"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"email"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,"data-test-button","email-preview"],[24,4,"button"],[4,[38,4],["click",[30,[36,5],[[32,0,["changeTab"]],"email"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["email-unread"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,2],[[30,[36,0],[[32,0,["tab"]],"social"],null],"gh-btn-group-selected"],null]," gh-post-preview-mode"]]],[24,4,"button"],[4,[38,4],["click",[30,[36,5],[[32,0,["changeTab"]],"social"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["twitter"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"right"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-editor gh-editor-preview-trigger active"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Preview"],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,2],[[32,1,["publishOptions","user","isContributor"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-task-button",[[24,"data-test-preview-contributor-save",""]],[["@buttonText","@task","@runningText","@class"],["Save",[32,1,["saveTask"]],"Saving","gh-btn gh-btn-icon gh-btn-editor gh-editor-save-trigger contributor-save-button"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn gh-btn-editor darkgrey gh-publish-trigger"],[24,4,"button"],[4,[38,4],["click",[32,1,["togglePreviewPublish"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Publish"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["saveFirstTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,0],[[32,0,["tab"]],"browser"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"editor/modals/preview/browser",[],[["@post","@skipAnimation"],[[32,1,["publishOptions","post"]],[32,0,["skipAnimation"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"mobile"],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"editor/modals/preview/mobile",[],[["@post","@skipAnimation"],[[32,1,["publishOptions","post"]],[32,0,["skipAnimation"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,1,["publishOptions","user","isContributor"]]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,1],[[30,[36,0],[[32,0,["tab"]],"email"],null],[32,1,["publishOptions","post","isPost"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,"editor/modals/preview/email",[],[["@post","@newsletter","@skipAnimation","@savePostTask"],[[32,1,["publishOptions","post"]],[32,1,["publishOptions","newsletter"]],[32,0,["skipAnimation"]],[32,1,["savePostTask"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,0],[[32,0,["tab"]],"social"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"editor/modals/preview/social",[],[["@post","@skipAnimation"],[[32,1,["publishOptions","post"]],[32,0,["skipAnimation"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["eq","and","if","unless","on","fn","svg-jar","not","not-eq"]}',moduleName:"ghost-admin/components/editor/modals/preview.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,m=class extends t.default{constructor(){super(...arguments),h(this,"settings",u,this),h(this,"session",c,this),h(this,"tab",d,this),h(this,"isChangingTab",p,this),this.saveFirstTask.perform()}get skipAnimation(){return this.args.data.skipAnimation||this.isChangingTab}changeTab(e){this.tab=e,this.isChangingTab=!0,this.args.data.changeTab?.(e)}*saveFirstTask(){const{saveTask:e,publishOptions:t,hasDirtyAttributes:i}=this.args.data
if(e.isRunning)return yield e.last
t.post.isDraft&&i&&(yield e.perform())}},function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(m,"modalOptions",{className:"fullscreen-modal-total-overlay publish-modal",omitBackdrop:!0,ignoreBackdropClick:!0}),u=b((l=m).prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(l.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(l.prototype,"tab",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.data.currentTab||"browser"}}),p=b(l.prototype,"isChangingTab",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(l.prototype,"changeTab",[o],Object.getOwnPropertyDescriptor(l.prototype,"changeTab"),l.prototype),b(l.prototype,"saveFirstTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"saveFirstTask"),l.prototype),l)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/editor/modals/preview/browser",["exports","@glimmer/component","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,i,n){var r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"BpdJmTc/",block:'{"symbols":["@icon","@skipAnimation","@post"],"statements":[[10,"div"],[15,0,[31,["gh-post-preview-container gh-post-preview-browser-container ",[30,[36,2],[[32,2],"fade-in"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-browserpreview-browser"],[12],[2,"\\n        "],[10,"div"],[14,0,"tabs"],[12],[2,"\\n            "],[10,"ul"],[12],[10,"li"],[12],[13],[10,"li"],[12],[13],[10,"li"],[12],[13],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[6,[37,3],[[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"favicon"],[12],[10,"img"],[15,"src",[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],[14,"alt","icon"],[12],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[14,0,"favicon default"],[12],[1,[30,[36,0],["default-favicon"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"span"],[14,0,"db truncate w-90"],[12],[1,[32,3,["previewUrl"]]],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-post-preview-url"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["copyPreviewUrl"]]],null]],null],[12],[2,"\\n                    "],[10,"span"],[14,0,"green-d1"],[12],[2,"\\n"],[6,[37,3],[[32,0,["copyPreviewUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,0],["check-circle"],[["class"],["check v-mid mr1 ml2"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,0],["copy"],[["class"],["w4 ml3 v-mid fill-darkgrey"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"a"],[15,6,[32,3,["previewUrl"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-publish-preview-newtab"],[12],[2,"\\n                    "],[1,[30,[36,0],["external"],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-browserpreview-iframecontainer"],[12],[2,"\\n        "],[10,"iframe"],[14,0,"gh-pe-iframe"],[15,"src",[32,3,["previewUrl"]]],[14,"title","Desktop browser post preview"],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","or","unless","if","perform","on"]}',moduleName:"ghost-admin/components/editor/modals/preview/browser.hbs"})
let s=(r=class extends t.default{*copyPreviewUrl(){(0,i.default)(this.args.post.previewUrl),yield(0,n.timeout)(this.isTesting?50:3e3)}},o=r.prototype,l="copyPreviewUrl",u=[n.task],c=Object.getOwnPropertyDescriptor(r.prototype,"copyPreviewUrl"),d=r.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/editor/modals/preview/email",["exports","@glimmer/component","validator","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R
function U(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function F(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function B(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const V=Ember.HTMLBars.template({id:"Tb4oXytc",block:'{"symbols":["option","option","@skipAnimation","@post","@savePostTask"],"statements":[[10,"div"],[15,0,[31,["gh-post-preview-container gh-post-preview-email-container ",[30,[36,4],[[32,3],"fade-in"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-post-preview-email-mockup"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-post-preview-email-header"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-post-preview-email-columns"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-preview-email-group"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-email-preview-newsletter-select"],[14,"data-test-email-preview-newsletter-select-section",""],[12],[2,"\\n                        "],[10,"p"],[12],[2,"From:"],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[32,0,["newslettersList","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"power-select",[[24,"data-test-email-preview-newsletter-select",""]],[["@selected","@options","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@extra","@selectedItemComponent"],[[32,0,["newsletter"]],[32,0,["newslettersList"]],[32,0,["setNewsletter"]],[30,[36,0],["gh-power-select/trigger"],null],"gh-preview-newsletter-trigger","gh-publish-newsletter-dropdown gh-preview-newsletter-dropdown",[30,[36,3],["<",[30,[36,2],[[30,[36,1],[[32,0,["newsletter","senderEmail"]],"noreply"],null]],null],">"],null],[30,[36,0],["editor/modals/preview/selected-newsletter-label"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                            "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"p"],[14,0,"gh-preview-newsletter-name"],[12],[1,[32,0,["newsletter","name"]]],[2," "],[10,"span"],[14,0,"gh-preview-email-address"],[12],[2,"<"],[1,[30,[36,2],[[30,[36,1],[[32,0,["newsletter","senderEmail"]],"noreply"],null]],null]],[2,">"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-email-preview-newsletter-select"],[14,"data-test-email-preview-segment-select-section",""],[12],[2,"\\n                        "],[10,"p"],[12],[2,"To:"],[13],[2,"\\n"],[6,[37,6],[[32,0,["paidMembersEnabled"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"power-select",[[24,"data-test-email-preview-segment-select",""]],[["@selected","@options","@onChange","@triggerComponent","@triggerClass","@dropdownClass"],[[32,0,["selectedSegment"]],[32,0,["segments"]],[32,0,["setSegment"]],[30,[36,0],["gh-power-select/trigger"],null],"gh-preview-newsletter-trigger","gh-publish-newsletter-dropdown gh-preview-newsletter-dropdown"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"p"],[14,0,"gh-preview-newsletter-name"],[12],[2,"Jamie Larson "],[10,"span"],[14,0,"gh-preview-email-address"],[12],[2,"<jamie@example.com>"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-post-test-email-group"],[12],[2,"\\n                    "],[8,"gh-dropdown-button",[[24,"data-test-button","post-preview-test-email"]],[["@dropdownName","@classNames"],["post-preview-test-email","gh-btn gh-btn-text gh-btn-icon gh-post-preview-email-trigger"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"Send test email "],[1,[30,[36,7],["arrow-down-small"],null]],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-dropdown",[],[["@name","@classNames"],["post-preview-test-email","dropdown-menu dropdown-align-right gh-post-preview-email-test-dropdown"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-post-preview-email-test"],[12],[2,"\\n                            "],[8,"input",[[24,0,"gh-input gh-post-preview-email-input"],[24,"placeholder","you@yoursite.com"],[24,"aria-label","Email address to receive preview"],[16,"aria-invalid",[30,[36,6],[[32,0,["sendPreviewEmailError"]],"true"],null]],[16,"aria-describedby",[30,[36,6],[[32,0,["sendPreviewEmailError"]],"sendError"],null]],[24,"data-post-preview-email-input",""],[4,[38,9],["Enter",[30,[36,8],[[32,0,["sendPreviewEmailTask"]]],null]],null]],[["@value"],[[32,0,["previewEmailAddress"]]]],null],[2,"\\n\\n                            "],[8,"gh-task-button",[[24,"data-test-button","send-test-email"]],[["@task","@buttonText","@successText","@runningText","@class"],[[32,0,["sendPreviewEmailTask"]],"Send","Sent","Sending...","gh-btn gh-btn-icon gh-btn-primary"]],null],[2,"\\n                        "],[13],[2,"\\n\\n"],[6,[37,6],[[32,0,["sendPreviewEmailError"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-post-preview-email-error"],[12],[2,"\\n                                "],[10,"span"],[14,0,"response"],[14,1,"sendError"],[12],[1,[32,0,["sendPreviewEmailError"]]],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-email-preview-newsletter-select"],[14,"data-test-email-preview-segment-select-section",""],[12],[2,"\\n                "],[10,"p"],[12],[2,"Subject:"],[13],[2,"\\n                "],[8,"editor/modals/preview/email/email-subject",[],[["@post","@savePostTask"],[[32,4],[32,5]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"iframe"],[24,0,"gh-pe-iframe"],[24,"title","Email preview"],[24,"sandbox","allow-same-origin allow-popups allow-popups-to-escape-sandbox"],[4,[38,10],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["component","or","full-email-address","concat","unless","gt","if","svg-jar","perform","on-key","did-insert"]}',moduleName:"ghost-admin/components/editor/modals/preview/email.hbs"}),H="status:free",q=[{name:"Free member",value:H},{name:"Paid member",value:"status:-free"}]
let $=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._action,w=Ember._action,k=(0,r.task)({drop:!0}),E=Ember._action,P=class extends t.default{constructor(){super(...arguments),U(this,"ajax",O,this),U(this,"dropdown",j,this),U(this,"feature",_,this),U(this,"ghostPaths",T,this),U(this,"session",z,this),U(this,"settings",x,this),U(this,"store",S,this),U(this,"config",C,this),U(this,"html",M,this),U(this,"subject",D,this),U(this,"memberSegment",A,this),U(this,"previewEmailAddress",I,this),U(this,"sendPreviewEmailError",N,this),U(this,"newsletter",L,this),U(this,"newslettersList",R,this),F(this,"segments",q),this.loadNewslettersTask.perform()}get mailgunIsEnabled(){return this.config.mailgunIsConfigured||!!(this.settings.mailgunApiKey&&this.settings.mailgunDomain&&this.settings.mailgunBaseUrl)}get paidMembersEnabled(){return this.settings.paidMembersEnabled}async renderEmailPreview(e){this._previewIframe=e,await this._fetchEmailData(),await(0,r.timeout)(100),e&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.html),e.contentWindow.document.close(),e.contentWindow.document.removeEventListener("click",this.dropdown.closeDropdowns),e.contentWindow.document.addEventListener("click",this.dropdown.closeDropdowns))}get selectedSegment(){return this.segments.find((e=>e.value===this.memberSegment))}setSegment(e){this.memberSegment=e.value,this._previewIframe&&this.renderEmailPreview(this._previewIframe)}*sendPreviewEmailTask(){try{const e=this.args.post.id,t=this.previewEmailAddress.trim()
if(!i.default.isEmail(t))return this.sendPreviewEmailError="Please enter a valid email",!1
if(!this.mailgunIsEnabled)return this.sendPreviewEmailError="Please verify your email settings",!1
this.sendPreviewEmailError=""
const n=this.ghostPaths.url.api("/email_previews/posts",e),r={data:{emails:[t],memberSegment:this.memberSegment,newsletter:this.newsletter.slug},dataType:"json"}
return yield this.ajax.post(n,r),!0}catch(e){if(e){let t="Email could not be sent, verify mail settings"
throw e.payload&&e.payload.errors&&e.payload.errors[0]&&e.payload.errors[0].message&&(t=Ember.String.htmlSafe(e.payload.errors[0].message)),this.sendPreviewEmailError=t,e}}}async _fetchEmailData(){let{html:e,subject:t,memberSegment:i,newsletter:n}=this,{post:r}=this.args
if(e&&t&&i===this._lastMemberSegment&&n.slug===this._lastNewsletterSlug)return{html:e,subject:t}
if(this._lastMemberSegment=i,this._lastNewsletterSlug=n.slug,r.html&&r.subject)e=r.html,t=r.subject
else if(r.email)e=r.email.html,t=r.email.subject
else{let i=new URL(this.ghostPaths.url.api("/email_previews/posts",r.id),window.location.href)
i.searchParams.set("memberSegment",this.memberSegment),i.searchParams.set("newsletter",this.newsletter.slug)
let n=await this.ajax.request(i.href),[a]=n.email_previews
e=a.html,t=a.subject}let a=(new DOMParser).parseFromString(e,"text/html"),s=a.querySelector("style"),o=s.innerHTML
s.innerHTML=`${o}\n\n\nhtml::-webkit-scrollbar {\n    display: none;\n    width: 0;\n    background: transparent\n}\nhtml {\n    scrollbar-width: none;\n}\n`
e=(new XMLSerializer).serializeToString(a.doctype)+a.documentElement.outerHTML,this.html=e,this.subject=t}*loadNewslettersTask(){const e=yield this.store.query("newsletter",{filter:"status:active"})
this.newslettersList=e}setNewsletter(e){this.newsletter=e,this._previewIframe&&this.renderEmailPreview(this._previewIframe)}},O=B(P.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=B(P.prototype,"dropdown",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=B(P.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=B(P.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B(P.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=B(P.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=B(P.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=B(P.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=B(P.prototype,"html",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=B(P.prototype,"subject",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),A=B(P.prototype,"memberSegment",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H}}),I=B(P.prototype,"previewEmailAddress",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.session.user.email}}),N=B(P.prototype,"sendPreviewEmailError",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),L=B(P.prototype,"newsletter",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.post.newsletter||this.args.newsletter}}),R=B(P.prototype,"newslettersList",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B(P.prototype,"renderEmailPreview",[y],Object.getOwnPropertyDescriptor(P.prototype,"renderEmailPreview"),P.prototype),B(P.prototype,"setSegment",[w],Object.getOwnPropertyDescriptor(P.prototype,"setSegment"),P.prototype),B(P.prototype,"sendPreviewEmailTask",[k],Object.getOwnPropertyDescriptor(P.prototype,"sendPreviewEmailTask"),P.prototype),B(P.prototype,"loadNewslettersTask",[r.task],Object.getOwnPropertyDescriptor(P.prototype,"loadNewslettersTask"),P.prototype),B(P.prototype,"setNewsletter",[E],Object.getOwnPropertyDescriptor(P.prototype,"setNewsletter"),P.prototype),P)
e.default=$,Ember._setComponentTemplate(V,$)})),define("ghost-admin/components/editor/modals/preview/email/email-subject",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"0zMPwUU5",block:'{"symbols":["@post"],"statements":[[10,"div"],[14,0,"gh-email-subject"],[12],[2,"\\n"],[6,[37,5],[[32,0,["isEditing"]]],null,[["default","else"],[{"statements":[[2,"        "],[11,"input"],[24,"aria-label","Email subject"],[24,0,"gh-input gh-preview-email-subject-input"],[16,"placeholder",[30,[36,2],[[32,1,["title"]],40],null]],[16,2,[32,0,["subject"]]],[24,4,"text"],[4,[38,0],["blur",[32,0,["setSubject"]]],null],[4,[38,3],["Enter",[32,0,["setSubject"]]],null],[4,[38,4],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"button"],[24,0,"gh-preview-email-subject"],[24,4,"button"],[4,[38,0],["click",[32,0,["editSubject"]]],null],[12],[2,"\\n            "],[1,[32,0,["subject"]]],[2," "],[1,[30,[36,1],["pen"],null]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"error"],[12],[2,"\\n        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"emailSubject"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","truncate","on-key","autofocus","if"]}',moduleName:"ghost-admin/components/editor/modals/preview/email/email-subject.hbs"})
let u=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="isEditing",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get subject(){const{post:e}=this.args
return e.emailSubject||e.title}setSubject(e){this.isEditing&&(this.isEditing=!1)
let t=e.target.value,i=this.args.post
if(i.get("emailSubject")!==t)return i.set("emailSubject",t),i.validate({property:"emailSubject"}).then((()=>{if(!i.get("isNew"))return this.args.savePostTask.perform()}))}editSubject(){this.isEditing=!0}},s=o(a.prototype,"isEditing",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o(a.prototype,"setSubject",[n],Object.getOwnPropertyDescriptor(a.prototype,"setSubject"),a.prototype),o(a.prototype,"editSubject",[r],Object.getOwnPropertyDescriptor(a.prototype,"editSubject"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/editor/modals/preview/mobile",["exports","@glimmer/component","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,i,n){var r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"LUMrxKC2",block:'{"symbols":["@skipAnimation","@post"],"statements":[[10,"div"],[15,0,[31,["modal-body modal-preview-email-content gh-pe-mobile-container gh-post-preview-container h-auto overflow-auto ",[30,[36,0],[[32,1],"fade-in"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-pe-mobile-bezel"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-mobile-screen"],[12],[2,"\\n            "],[10,"iframe"],[14,0,"gh-post-preview-iframe"],[15,"src",[32,2,["previewUrl"]]],[14,"title","Mobile browser post preview"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["unless"]}',moduleName:"ghost-admin/components/editor/modals/preview/mobile.hbs"})
let s=(r=class extends t.default{*copyPreviewUrl(){(0,i.default)(this.args.post.previewUrl),yield(0,n.timeout)(this.isTesting?50:3e3)}},o=r.prototype,l="copyPreviewUrl",u=[n.task],c=Object.getOwnPropertyDescriptor(r.prototype,"copyPreviewUrl"),d=r.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/editor/modals/preview/selected-newsletter-label",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"4ca+8xPF",block:'{"symbols":["@select","@extra"],"statements":[[1,[32,1,["selected","name"]]],[2," "],[1,[32,2]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/editor/modals/preview/selected-newsletter-label.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/editor/modals/preview/social",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F
function B(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function V(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function H(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const q=Ember.HTMLBars.template({id:"U8N3xCuM",block:'{"symbols":["uploader","error","uploader","error","@post","@skipAnimation"],"statements":[[10,"div"],[15,0,[31,["gh-post-preview-container gh-post-preview-social-container ",[30,[36,12],[[32,6],"fade-in"],null]]]],[12],[2,"\\n    "],[10,"p"],[14,0,"mb8 fw5"],[12],[2,"This is how your content will look when shared, you can click on any elements youâ€™d like to edit."],[13],[2,"\\n    "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n        "],[10,"div"],[14,0,"flex gh-social-container-responsive"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-social-og-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,8],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,10],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"div"],[24,0,"gh-social-og-preview"],[4,[38,1],["mouseenter",[30,[36,6],[[30,[36,13],[[32,0,["facebookHovered"]]],null],true],null]],null],[4,[38,1],["mouseleave",[30,[36,6],[[30,[36,13],[[32,0,["facebookHovered"]]],null],false],null]],null],[12],[2,"\\n"],[6,[37,4],[[30,[36,11],[[32,0,["facebookHovered"]],[30,[36,14],[[32,0,["facebookImage"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-social-og-preview-img-add"],[24,4,"button"],[4,[38,1],["click",[30,[36,6],[[32,0,["triggerFileDialog"]],"facebook"],null]],null],[12],[2,"+ Add image"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setFacebookImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,15],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"error pa2"],[12],[10,"span"],[14,0,"response"],[12],[1,[30,[36,10],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"\\n"],[6,[37,4],[[30,[36,10],[[32,0,["facebookImage"]],[32,3,["isUploading"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-social-og-preview-image relative"],[15,5,[30,[36,9],[[32,0,["facebookImage"]]],null]],[12],[2,"\\n                                "],[10,"div"],[14,0,"flex h-100 items-center justify-center"],[12],[2,"\\n"],[6,[37,4],[[30,[36,10],[[32,0,["facebookHovered"]],[32,3,["isUploading"]]],null]],null,[["default"],[{"statements":[[6,[37,4],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[11,"button"],[24,0,"gh-btn gh-btn-white"],[24,4,"button"],[4,[38,1],["click",[30,[36,6],[[32,0,["triggerFileDialog"]],"facebook"],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,5,["ogImage"]],"Change","Upload"],null]],[2," image"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,11],[[32,0,["facebookHovered"]],[32,5,["ogImage"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon gh-social-preview-img-delete"],[24,"title","Remove custom Facebook image"],[24,4,"button"],[4,[38,1],["click",[32,0,["clearFacebookImage"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,8],["trash"],null]],[13],[2,"\\n                                            "],[10,"span"],[14,0,"hidden"],[12],[2,"Remove custom Facebook image"],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                            "],[8,"gh-file-input",[[24,1,"facebookFileInput"]],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[3]}]]],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                        "],[10,"div"],[15,0,[31,["gh-social-og-preview-content ",[30,[36,4],[[32,0,["editingFacebookTitle"]],"edit-mode"],null]," ",[30,[36,4],[[32,0,["editingFacebookDescription"]],"edit-mode"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,4],[[32,0,["editingFacebookTitle"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"input"],[24,"aria-label","Facebook title"],[24,0,"gh-input"],[16,"placeholder",[32,0,["facebookTitle"]]],[16,2,[32,5,["ogTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,1],["blur",[32,0,["setFacebookTitle"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"ogTitle"],null]],null],[4,[38,7],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"div"],[24,0,"gh-social-og-preview-title editable pointer"],[24,"role","button"],[24,"aria-label","Edit Facebook title"],[4,[38,1],["click",[32,0,["editFacebookTitle"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,0],[[32,0,["facebookTitle"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,0,["editingFacebookDescription"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"textarea"],[24,"aria-label","Facebook description"],[24,0,"gh-input"],[24,"maxlength","500"],[16,"placeholder",[30,[36,0],[[32,0,["facebookDescription"]],160],null]],[24,"data-prevent-escape-close-modal","true"],[4,[38,1],["blur",[32,0,["setFacebookDescription"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"ogDescription"],null]],null],[4,[38,7],null,null],[12],[1,[32,5,["ogDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"div"],[24,0,"gh-social-og-preview-desc editable pointer"],[24,"role","button"],[24,"aria-label","Edit Facebook description"],[4,[38,1],["click",[32,0,["editFacebookDescription"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,0],[[32,0,["facebookDescription"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,8],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,8],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-social-twitter-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,8],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,10],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"div"],[24,0,"gh-social-twitter-post-preview"],[4,[38,1],["mouseenter",[30,[36,6],[[30,[36,13],[[32,0,["twitterHovered"]]],null],true],null]],null],[4,[38,1],["mouseleave",[30,[36,6],[[30,[36,13],[[32,0,["twitterHovered"]]],null],false],null]],null],[12],[2,"\\n"],[6,[37,4],[[30,[36,11],[[32,0,["twitterHovered"]],[30,[36,14],[[32,0,["twitterImage"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-social-twitter-preview-img-add"],[24,4,"button"],[4,[38,1],["click",[30,[36,6],[[32,0,["triggerFileDialog"]],"twitter"],null]],null],[12],[2,"+ Add image"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setTwitterImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,15],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"error pa2"],[12],[10,"span"],[14,0,"response"],[12],[1,[30,[36,10],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n"],[6,[37,4],[[30,[36,10],[[32,0,["twitterImage"]],[32,1,["isUploading"]]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-image relative"],[15,5,[30,[36,9],[[32,0,["twitterImage"]]],null]],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex h-100 items-center justify-center"],[12],[2,"\\n"],[6,[37,4],[[30,[36,10],[[32,0,["twitterHovered"]],[32,1,["isUploading"]]],null]],null,[["default"],[{"statements":[[6,[37,4],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                    "],[11,"button"],[24,0,"gh-btn gh-btn-white"],[24,4,"button"],[4,[38,1],["click",[30,[36,6],[[32,0,["triggerFileDialog"]],"twitter"],null]],null],[12],[10,"span"],[12],[1,[30,[36,4],[[32,5,["twitterImage"]],"Change","Upload"],null]],[2," image"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,11],[[32,0,["twitterHovered"]],[32,5,["twitterImage"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon gh-social-preview-img-delete"],[24,"title","Remove custom Twitter image"],[24,4,"button"],[4,[38,1],["click",[32,0,["clearTwitterImage"]]],null],[12],[2,"\\n                                                    "],[10,"span"],[12],[1,[30,[36,8],["trash"],null]],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Remove custom Twitter image"],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                                "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                    "],[8,"gh-file-input",[[24,1,"twitterFileInput"]],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n\\n                            "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["editingTwitterTitle"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"input"],[24,"aria-label","Twitter title"],[24,0,"gh-input"],[16,"placeholder",[32,0,["twitterTitle"]]],[16,2,[32,5,["twitterTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,1],["blur",[32,0,["setTwitterTitle"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"twitterTitle"],null]],null],[4,[38,7],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"div"],[24,0,"gh-social-twitter-preview-title editable pointer"],[24,"role","button"],[24,"aria-label","Edit Twitter title"],[4,[38,1],["click",[32,0,["editTwitterTitle"]]],null],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,0,["editingTwitterDescription"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"textarea"],[24,"aria-label","Twitter description"],[24,0,"gh-input"],[24,"maxlength","500"],[16,"placeholder",[30,[36,0],[[32,0,["twitterDescription"]],160],null]],[24,"data-prevent-escape-close-modal","true"],[4,[38,1],["blur",[32,0,["setTwitterDescription"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"twitterDescription"],null]],null],[4,[38,7],null,null],[12],[1,[32,5,["twitterDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"div"],[24,0,"gh-social-twitter-preview-desc editable pointer"],[24,"role","button"],[24,"aria-label","Edit Twitter description"],[4,[38,1],["click",[32,0,["editTwitterDescription"]]],null],[12],[1,[30,[36,0],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                    "],[1,[30,[36,8],["twitter-link"],null]],[2,"\\n                                    "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,8],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,8],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,8],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,8],["twitter-share"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-seo-preview-container"],[12],[2,"\\n            "],[1,[30,[36,8],["google"],null]],[2,"\\n            "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-search-bar mb12"],[12],[1,[30,[36,8],["google-search"],null]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["serpURL"]]],[13],[2,"\\n"],[6,[37,4],[[32,0,["editingMetaTitle"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"input"],[24,"aria-label","Meta title"],[24,0,"gh-input"],[16,"placeholder",[32,0,["serpTitle"]]],[16,2,[32,5,["metaTitle"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,1],["blur",[32,0,["setMetaTitle"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"metaTitle"],null]],null],[4,[38,7],null,null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"div"],[24,0,"gh-seo-preview-title editable pointer"],[24,"role","button"],[24,"aria-label","Edit meta title"],[4,[38,1],["click",[32,0,["editMetaTitle"]]],null],[12],[2,"\\n                        "],[1,[32,0,["serpTitle"]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,0,["editingMetaDescription"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"textarea"],[24,"aria-label","Meta description"],[24,0,"gh-input"],[16,"placeholder",[32,0,["serpDescription"]]],[24,"maxlength","500"],[24,"data-prevent-escape-close-modal","true"],[4,[38,1],["blur",[32,0,["setMetaDescription"]]],null],[4,[38,5],["Enter",[32,0,["blurElement"]]],null],[4,[38,5],["Escape",[30,[36,6],[[32,0,["cancelEdit"]],"metaDescription"],null]],null],[4,[38,7],null,null],[12],[1,[32,5,["metaDescription"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"div"],[24,0,"gh-seo-preview-desc editable pointer"],[24,"role","button"],[24,"aria-label","Edit meta description"],[4,[38,1],["click",[32,0,["editMetaDescription"]]],null],[12],[2,"\\n                        "],[1,[30,[36,3],[[30,[36,2],null,null],"DD MMM YYYY"],null]],[2," â€” "],[6,[37,4],[[32,0,["serpDescription"]]],null,[["default","else"],[{"statements":[[1,[30,[36,0],[[32,0,["serpDescription"]],149],null]]],"parameters":[]},{"statements":[[2,"Search engines will automatically show a custom preview of content related to the search term here if no custom meta description is set. Click to edit."]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["truncate","on","now","moment-format","if","on-key","fn","autofocus","svg-jar","background-image-style","or","and","unless","mut","not","-track-array","each"]}',moduleName:"ghost-admin/components/editor/modals/preview/social.hbs"})
let $=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,T=Ember._action,z=Ember._action,x=Ember._action,S=Ember._action,C=class extends t.default{constructor(...e){super(...e),B(this,"settings",M,this),B(this,"ghostPaths",D,this),B(this,"config",A,this),B(this,"editingFacebookTitle",I,this),B(this,"editingFacebookDescription",N,this),B(this,"editingTwitterTitle",L,this),B(this,"editingTwitterDescription",R,this),B(this,"editingMetaTitle",U,this),B(this,"editingMetaDescription",F,this),V(this,"imageExtensions",i.IMAGE_EXTENSIONS),V(this,"imageMimeTypes",i.IMAGE_MIME_TYPES)}get _fallbackDescription(){return this.args.post.customExcerpt||this.serpDescription||this.settings.description}blurElement(e){e.shiftKey||(e.preventDefault(),e.target.blur())}triggerFileDialog(e){const t=document.querySelector(`#${e}FileInput input`)
t&&t.click()}get serpTitle(){return this.args.post.metaTitle||this.args.post.title||"(Untitled)"}get serpURL(){const e=[]
if(this.args.post.canonicalUrl){const t=new URL(this.args.post.canonicalUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e)))}else{const t=new URL(this.config.blogUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e))),e.push(this.args.post.slug)}return e.join(" â€º ")}get serpDescription(){return this.args.post.metaDescription}editMetaTitle(){this.editingMetaTitle=!0}setMetaTitle(e){const t=e.target.value
this.args.post.metaTitle=t.trim(),this.args.post.save(),this.editingMetaTitle=!1}editMetaDescription(){this.editingMetaDescription=!0}setMetaDescription(e){const t=e.target.value
this.args.post.metaDescription=t.trim(),this.args.post.save(),this.editingMetaDescription=!1}get facebookTitle(){return this.args.post.ogTitle||this.serpTitle}get facebookDescription(){return this.args.post.ogDescription||this._fallbackDescription}get facebookImage(){return this.args.post.ogImage||this.args.post.featureImage||this.settings.ogImage||this.settings.coverImage}editFacebookTitle(){this.editingFacebookTitle=!0}cancelEdit(e,t){t.preventDefault(),t.target.value=this.args.post[e],t.target.blur()}setFacebookTitle(e){const t=e.target.value
this.args.post.ogTitle=t.trim(),this.args.post.save(),this.editingFacebookTitle=!1}editFacebookDescription(){this.editingFacebookDescription=!0}setFacebookDescription(){const e=event.target.value
this.args.post.ogDescription=e.trim(),this.args.post.save(),this.editingFacebookDescription=!1}setFacebookImage([e]){this.args.post.ogImage=e.url,this.args.post.save()}clearFacebookImage(){this.args.post.ogImage=null,this.args.post.save()}get twitterTitle(){return this.args.post.twitterTitle||this.serpTitle}get twitterDescription(){return this.args.post.twitterDescription||this._fallbackDescription}get twitterImage(){return this.args.post.twitterImage||this.args.post.featureImage||this.settings.twitterImage||this.settings.coverImage}editTwitterTitle(){this.editingTwitterTitle=!0}setTwitterTitle(e){const t=e.target.value
this.args.post.twitterTitle=t.trim(),this.args.post.save(),this.editingTwitterTitle=!1}editTwitterDescription(){this.editingTwitterDescription=!0}setTwitterDescription(){const e=event.target.value
this.args.post.twitterDescription=e.trim(),this.args.post.save(),this.editingTwitterDescription=!1}setTwitterImage([e]){this.args.post.twitterImage=e.url,this.args.post.save()}clearTwitterImage(){this.args.post.twitterImage=null,this.args.post.save()}},M=H(C.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=H(C.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=H(C.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=H(C.prototype,"editingFacebookTitle",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=H(C.prototype,"editingFacebookDescription",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=H(C.prototype,"editingTwitterTitle",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=H(C.prototype,"editingTwitterDescription",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=H(C.prototype,"editingMetaTitle",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=H(C.prototype,"editingMetaDescription",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H(C.prototype,"blurElement",[p],Object.getOwnPropertyDescriptor(C.prototype,"blurElement"),C.prototype),H(C.prototype,"triggerFileDialog",[m],Object.getOwnPropertyDescriptor(C.prototype,"triggerFileDialog"),C.prototype),H(C.prototype,"editMetaTitle",[h],Object.getOwnPropertyDescriptor(C.prototype,"editMetaTitle"),C.prototype),H(C.prototype,"setMetaTitle",[b],Object.getOwnPropertyDescriptor(C.prototype,"setMetaTitle"),C.prototype),H(C.prototype,"editMetaDescription",[g],Object.getOwnPropertyDescriptor(C.prototype,"editMetaDescription"),C.prototype),H(C.prototype,"setMetaDescription",[f],Object.getOwnPropertyDescriptor(C.prototype,"setMetaDescription"),C.prototype),H(C.prototype,"editFacebookTitle",[v],Object.getOwnPropertyDescriptor(C.prototype,"editFacebookTitle"),C.prototype),H(C.prototype,"cancelEdit",[y],Object.getOwnPropertyDescriptor(C.prototype,"cancelEdit"),C.prototype),H(C.prototype,"setFacebookTitle",[w],Object.getOwnPropertyDescriptor(C.prototype,"setFacebookTitle"),C.prototype),H(C.prototype,"editFacebookDescription",[k],Object.getOwnPropertyDescriptor(C.prototype,"editFacebookDescription"),C.prototype),H(C.prototype,"setFacebookDescription",[E],Object.getOwnPropertyDescriptor(C.prototype,"setFacebookDescription"),C.prototype),H(C.prototype,"setFacebookImage",[P],Object.getOwnPropertyDescriptor(C.prototype,"setFacebookImage"),C.prototype),H(C.prototype,"clearFacebookImage",[O],Object.getOwnPropertyDescriptor(C.prototype,"clearFacebookImage"),C.prototype),H(C.prototype,"editTwitterTitle",[j],Object.getOwnPropertyDescriptor(C.prototype,"editTwitterTitle"),C.prototype),H(C.prototype,"setTwitterTitle",[_],Object.getOwnPropertyDescriptor(C.prototype,"setTwitterTitle"),C.prototype),H(C.prototype,"editTwitterDescription",[T],Object.getOwnPropertyDescriptor(C.prototype,"editTwitterDescription"),C.prototype),H(C.prototype,"setTwitterDescription",[z],Object.getOwnPropertyDescriptor(C.prototype,"setTwitterDescription"),C.prototype),H(C.prototype,"setTwitterImage",[x],Object.getOwnPropertyDescriptor(C.prototype,"setTwitterImage"),C.prototype),H(C.prototype,"clearTwitterImage",[S],Object.getOwnPropertyDescriptor(C.prototype,"clearTwitterImage"),C.prototype),C)
e.default=$,Ember._setComponentTemplate(q,$)})),define("ghost-admin/components/editor/modals/publish-flow",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"Jpe/c/vT",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"flex flex-column h-100 items-center overflow-auto"],[14,"data-test-modal","publish-flow"],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-publish-header"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn-editor gh-publish-back-button"],[24,"title","Close"],[24,"data-test-button","close-publish-flow"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,2],["arrow-left"],null]],[2," Editor"],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,0],[[30,[36,4],[[30,[36,3],[[32,0,["emailErrorMessage"]]],null],[30,[36,3],[[32,0,["isComplete"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex items-center pe-auto h-100"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-editor gh-editor-preview-trigger"],[24,"data-test-button","publish-flow-preview"],[24,4,"button"],[4,[38,1],["click",[32,1,["togglePreviewPublish"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Preview"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-editor darkgrey gh-publish-trigger active"],[24,"title","Close"],[24,"data-test-button","publish-flow-publish"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Publish"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-publish-settings-container ",[30,[36,5],[[32,1,["skipAnimation"]],"fade-in"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,0,["emailErrorMessage"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"editor/modals/publish-flow/complete-with-email-error",[],[["@emailErrorMessage","@publishOptions","@setCompleted","@close"],[[32,0,["emailErrorMessage"]],[32,1,["publishOptions"]],[32,0,["setCompleted"]],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["isConfirming"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"editor/modals/publish-flow/confirm",[],[["@publishOptions","@recipientType","@saveTask","@cancel","@close"],[[32,1,["publishOptions"]],[32,0,["recipientType"]],[32,0,["saveTask"]],[32,0,["toggleConfirm"]],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["isComplete"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"editor/modals/publish-flow/complete",[],[["@publishOptions","@recipientType","@postCount","@close"],[[32,1,["publishOptions"]],[32,0,["recipientType"]],[32,0,["postCount"]],[32,2]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"editor/modals/publish-flow/options",[],[["@publishOptions","@recipientType","@confirm","@close"],[[32,1,["publishOptions"]],[32,0,["recipientType"]],[32,0,["toggleConfirm"]],[32,2]]],null],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","on","svg-jar","not","and","unless"]}',moduleName:"ghost-admin/components/editor/modals/publish-flow.hbs"})
let w=(n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(g=class extends t.default{constructor(...e){super(...e),f(this,"store",d,this),f(this,"emailErrorMessage",p,this),f(this,"isConfirming",m,this),f(this,"isComplete",h,this),f(this,"postCount",b,this)}get recipientType(){const e=this.args.data.publishOptions.recipientFilter
return e?"status:free"===e?"free":"status:-free"===e?"paid":e.includes("status:free")&&e.includes("status:-free")?"all":"specific":"none"}toggleConfirm(){this.isConfirming=!this.isConfirming,this.isConfirming&&this.fetchPostCountTask.perform()}setCompleted(){this.emailErrorMessage=void 0,this.isConfirming=!1,this.isComplete=!0}*saveTask(){try{yield this.args.data.saveTask.perform(),this.isConfirming=!1,this.isComplete=!0}catch(e){if("EmailFailedError"===e?.name)return this.emailErrorMessage=e.message
throw e}}*fetchPostCountTask(){const e=this.args.data.publishOptions
if(e.post.isPage||e.isScheduled||!e.willPublish)return void(this.postCount=null)
let t=(yield this.store.query("post",{filter:"status:published",limit:1})).meta.pagination.total
t+=1,this.postCount=t}},"modalOptions",{className:"fullscreen-modal-total-overlay publish-modal",omitBackdrop:!0,ignoreBackdropClick:!0}),d=v((c=g).prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"emailErrorMessage",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.data.publishOptions.post.didEmailFail?this.args.data.publishOptions.post.email.error??"Unknown error":void 0}}),m=v(c.prototype,"isConfirming",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=v(c.prototype,"isComplete",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=v(c.prototype,"postCount",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v(c.prototype,"toggleConfirm",[l],Object.getOwnPropertyDescriptor(c.prototype,"toggleConfirm"),c.prototype),v(c.prototype,"setCompleted",[u],Object.getOwnPropertyDescriptor(c.prototype,"setCompleted"),c.prototype),v(c.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"saveTask"),c.prototype),v(c.prototype,"fetchPostCountTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"fetchPostCountTask"),c.prototype),c)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/editor/modals/publish-flow/complete-with-email-error",["exports","@glimmer/component","ghost-admin/errors/email-failed-error","ghost-admin/components/editor/publish-management","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r,a,s){var o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"70NyGdrr",block:'{"symbols":["post","@publishOptions"],"statements":[[6,[37,2],[[32,2,["post"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-publish-title"],[12],[2,"\\n        "],[10,"span"],[14,0,"red"],[12],[2,"Uh-oh."],[13],[2,"\\n\\n"],[6,[37,0],[[32,2,["willOnlyEmail"]]],null,[["default","else"],[{"statements":[[2,"            Your post has been created but the email failed to send.\\n"]],"parameters":[]},{"statements":[[2,"            Your "],[1,[32,1,["displayName"]]],[2," has been published but the email failed to send.\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"p"],[14,0,"gh-publish-confirmation"],[12],[2,"\\n        "],[1,[32,0,["emailErrorMessage"]]],[2,"\\n"],[6,[37,1],[[32,0,["config","mailgunIsConfigured"]]],null,[["default"],[{"statements":[[2,"        "],[10,"br"],[12],[13],[10,"br"],[12],[13],[2,"\\n        If the error persists, please verify your email settings.\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["retryErrorMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"error gh-box gh-box-error mt3 mb3"],[12],[2,"\\n            "],[1,[32,0,["retryErrorMessage"]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-publish-cta"],[12],[2,"\\n        "],[8,"gh-task-button",[],[["@task","@buttonText","@runningText","@successText","@class","@showIcon"],[[32,0,["retryEmailTask"]],"Retry sending email","Sending","Sent","gh-btn gh-btn-large gh-btn-red",false]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["if","unless","let"]}',moduleName:"ghost-admin/components/editor/modals/publish-flow/complete-with-email-error.hbs"})
let f=(o=Ember._tracked,l=Ember._tracked,u=(0,s.task)({drop:!0}),c=class extends t.default{constructor(...e){super(...e),h(this,"newEmailErrorMessage",d,this),h(this,"retryErrorMessage",p,this),h(this,"config",m,this)}get emailErrorMessage(){return this.newEmailErrorMessage||this.args.emailErrorMessage}*retryEmailTask(){this.retryErrorMessage=null
try{let e=yield this.args.publishOptions.post.email.retry(),t=0
if(e&&"submitted"!==e.status)for(;t<n.CONFIRM_EMAIL_MAX_POLL_LENGTH&&(yield(0,s.timeout)(n.CONFIRM_EMAIL_POLL_LENGTH),t+=n.CONFIRM_EMAIL_POLL_LENGTH,e=yield e.reload(),"submitted"!==e.status);)if("failed"===e.status)throw new i.default(e.error)
return this.args.setCompleted(),e}catch(t){if(t&&"EmailFailedError"===t.name)return this.newEmailErrorMessage=t.message,!1
if(t){let i=""
return i=(0,a.isServerUnreachableError)(t)?"Unable to connect, please check your internet connection and try again.":t&&(e=t,"[object String]"===toString.call(e))?t:t?.payload?.errors?.[0].message?t.payload.errors[0].message:"Unknown Error occurred when attempting to resend",this.retryErrorMessage=Ember.String.htmlSafe(i),!1}}var e}},d=b(c.prototype,"newEmailErrorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(c.prototype,"retryErrorMessage",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(c.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(c.prototype,"retryEmailTask",[u],Object.getOwnPropertyDescriptor(c.prototype,"retryEmailTask"),c.prototype),c)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/editor/modals/publish-flow/complete",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"pVIsT6oL",block:'{"symbols":["post","publishedAt","countFetcher","scheduledAt","@close","@publishOptions","@recipientType","@postCount"],"statements":[[6,[37,11],[[32,6,["post"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-publish-title"],[14,"data-test-publish-flow","complete"],[14,"data-test-complete-title",""],[12],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"green"],[12],[2,"All set!"],[13],[2,"\\n\\n            Your "],[1,[30,[36,1],[[32,1,["emailOnly"]],"email",[32,1,["displayName"]]],null]],[2," will be\\n\\n"],[6,[37,1],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                sent\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["willEmail"]]],null,[["default","else"],[{"statements":[[2,"                published and sent\\n"]],"parameters":[]},{"statements":[[2,"                published\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,11],[[30,[36,12],[[32,1,["publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,14],[[32,4]],null]],null,[["default","else"],[{"statements":[[2,"                    today\\n"]],"parameters":[]},{"statements":[[2,"                    on "],[1,[30,[36,5],[[32,4],"MMMM Do"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                at "],[1,[30,[36,5],[[32,4],"HH:mm"],null]],[2,".\\n"]],"parameters":[4]}]]]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"green"],[12],[2,"Boom. Itâ€™s out there."],[13],[2,"\\n\\n"],[6,[37,1],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                Your email has been sent.\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,13],[[32,1,["isPost"]],[32,8]],null]],null,[["default","else"],[{"statements":[[2,"                Thatâ€™s "],[1,[30,[36,7],[[32,8]],null]],[2," "],[1,[30,[36,9],[[32,8],"post"],[["without-count"],[true]]]],[2," published, keep going!\\n"]],"parameters":[]},{"statements":[[2,"                Your "],[1,[32,1,["displayName"]]],[2," has been published.\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-confirmation"],[14,"data-test-complete-details",""],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                Your post\\n                "],[1,[30,[36,1],[[32,1,["isScheduled"]],"will be","was"],null]],[2,"\\n                sent to\\n\\n"],[6,[37,11],[[30,[36,10],null,[["query"],[[30,[36,3],null,[["filter"],[[32,1,["fullRecipientFilter"]]]]]]]]],null,[["default"],[{"statements":[[2,"                    "],[10,"strong"],[12],[2,"\\n                        "],[1,[30,[36,1],[[30,[36,6],[[32,7],"all"],null],"all"],null]],[2,"\\n\\n                        "],[1,[30,[36,7],[[32,3,["count"]]],null]],[2,"\\n\\n"],[2,"                        "],[1,[30,[36,1],[[30,[36,8],[[32,7],"all"],null],[32,7]],null]],[2,"\\n\\n                        "],[1,[30,[36,9],[[32,3,["count"]],"subscriber"],[["without-count"],[true]]]],[2,"\\n                    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,6,["onlyDefaultNewsletter"]]],null,[["default"],[{"statements":[[2,"                        of "],[10,"strong"],[12],[1,[32,6,["newsletter","name"]]],[13],[1,[30,[36,1],[[32,1,["isScheduled"]],",","."],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,11],[[30,[36,12],[[32,1,["publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                    on\\n                    "],[1,[30,[36,5],[[32,2],"D MMM YYYY"],null]],[2,"\\n                    at\\n                    "],[1,[30,[36,5],[[32,2],"HH:mm"],null]],[2,".\\n"]],"parameters":[2]}]]],[2,"            "],[13],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    Need to make a change?\\n                    "],[11,"button"],[24,0,"gh-revert-to-draft"],[24,4,"button"],[4,[38,0],["click",[30,[36,4],[[32,5],[30,[36,3],null,[["afterTask"],["revertToDraftTask"]]]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Unschedule and revert to draft â†’"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,1,["lexical"]]],null,[["default"],[{"statements":[[2,"            "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"gh-post-bookmark-wrapper"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,"data-test-complete-bookmark",""],[12],[2,"\\n                "],[8,"gh-post-bookmark",[],[["@post"],[[32,1]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"p"],[14,0,"gh-publish-confirmation"],[12],[2,"\\n                Need to make a change?\\n                "],[11,"button"],[24,0,"gh-revert-to-draft"],[24,"data-test-button","revert-to-draft"],[24,4,"button"],[4,[38,0],["click",[30,[36,4],[[32,5],[30,[36,3],null,[["afterTask"],["revertToDraftTask"]]]],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Unschedule and revert to draft â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["lexical"]]],null,[["default"],[{"statements":[[2,"                "],[8,"feedback-lexical/post-complete-form",[],[["@post"],[[32,6,["post"]]]],null],[2,"\\n                "],[8,"link-to",[[24,0,"gh-feedback-lexical-published-back"]],[["@route"],["dashboard"]],[["default"],[{"statements":[[2,"Back to dashboard"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,1,["lexical"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-publish-confirmation gh-publish-confirmation-with-feedback"],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-back-to-editor"],[24,"data-test-button","back-to-editor"],[24,4,"button"],[4,[38,0],["click",[32,5]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Back to editor"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["on","if","unless","hash","fn","moment-format","eq","format-number","not-eq","gh-pluralize","members-count-fetcher","let","moment-site-tz","and","is-moment-today"]}',moduleName:"ghost-admin/components/editor/modals/publish-flow/complete.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/editor/modals/publish-flow/confirm",["exports","@glimmer/component","moment-timezone","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"OkPGVYgQ",block:'{"symbols":["countFetcher","scheduledAt","@publishOptions","@recipientType","@cancel"],"statements":[[10,"div"],[14,0,"gh-publish-title"],[14,"data-test-publish-flow","confirm"],[12],[2,"\\n    "],[10,"div"],[14,0,"green"],[12],[2,"Ready, set, publish."],[13],[2,"\\n    "],[10,"div"],[12],[2,"Share it with the world."],[13],[2,"\\n"],[13],[2,"\\n"],[10,"p"],[14,0,"gh-publish-confirmation"],[14,"data-test-text","confirm-details"],[12],[2,"\\n"],[6,[37,1],[[32,3,["isScheduled"]]],null,[["default","else"],[{"statements":[[6,[37,8],[[30,[36,10],[[32,3,["scheduledAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"            On\\n            "],[10,"strong"],[12],[2,"\\n                "],[1,[30,[36,9],[[32,2],"D MMM YYYY"],null]],[2,"\\n                at\\n                "],[1,[30,[36,9],[[32,2],"HH:mm"],null]],[2,"\\n            "],[13],[2,"\\n            your\\n"]],"parameters":[2]}]]]],"parameters":[]},{"statements":[[2,"        Your\\n"]],"parameters":[]}]]],[2,"\\n    "],[1,[32,3,["post","displayName"]]],[2,"\\n\\n"],[6,[37,1],[[32,0,["willPublish"]]],null,[["default"],[{"statements":[[2,"        will be published on your site"],[6,[37,1],[[32,0,["willEmail"]]],null,[["default","else"],[{"statements":[[2,", and delivered to"]],"parameters":[]},{"statements":[[2,"."]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["willEmail"]]],null,[["default"],[{"statements":[[6,[37,5],[[32,0,["willPublish"]]],null,[["default"],[{"statements":[[2,"            will be delivered to\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,7],null,[["query"],[[30,[36,6],null,[["filter"],[[32,3,["fullRecipientFilter"]]]]]]]]],null,[["default"],[{"statements":[[2,"            "],[10,"strong"],[12],[2,"\\n                "],[1,[30,[36,1],[[30,[36,2],[[32,4],"all"],null],"all"],null]],[2,"\\n\\n                "],[1,[30,[36,3],[[32,1,["count"]]],null]],[2,"\\n\\n"],[2,"                "],[1,[30,[36,1],[[30,[36,4],[[32,4],"all"],null],[32,4]],null]],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,3,["onlyDefaultNewsletter"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"strong"],[12],[1,[30,[36,0],[[32,1,["count"]],"subscriber"],[["without-count"],[true]]]],[13],[6,[37,1],[[32,0,["willPublish"]]],null,[["default","else"],[{"statements":[[2,"."]],"parameters":[]},{"statements":[[2,","]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"strong"],[12],[1,[30,[36,0],[[32,1,["count"]],"subscriber"],[["without-count"],[true]]]],[13],[2,"\\n                of "],[10,"strong"],[12],[1,[32,3,["newsletter","name"]]],[13],[6,[37,1],[[32,0,["willPublish"]]],null,[["default","else"],[{"statements":[[2,"."]],"parameters":[]},{"statements":[[2,","]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"\\n"],[6,[37,5],[[32,0,["willPublish"]]],null,[["default"],[{"statements":[[2,"            and will "],[10,"strong"],[12],[2,"not"],[13],[2," be published on your site.\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[14,0,"error gh-box gh-box-error mt3 mb3"],[14,"data-test-confirm-error",""],[12],[2,"\\n        "],[1,[32,0,["errorMessage"]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[14,0,"gh-publish-cta"],[12],[2,"\\n    "],[8,"gh-task-button",[[24,"data-test-button","confirm-publish"]],[["@task","@buttonText","@runningText","@successText","@class","@idleClass","@runningClass","@failureClass"],[[32,0,["confirmTask"]],[32,0,["confirmButtonText"]],[32,0,["confirmRunningText"]],[32,0,["confirmSuccessText"]],"gh-btn gh-btn-large","gh-btn-pulse","gh-btn-green gh-btn-icon","gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[11,"button"],[24,0,"gh-btn gh-btn-link gh-btn-large gh-publish-cta-secondary"],[24,"data-test-button","back-to-options"],[24,4,"button"],[4,[38,11],["click",[32,5]],null],[12],[2,"Back to settings"],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["gh-pluralize","if","eq","format-number","not-eq","unless","hash","members-count-fetcher","let","moment-format","moment-site-tz","on"]}',moduleName:"ghost-admin/components/editor/modals/publish-flow/confirm.hbs"})
let b=(a=Ember.inject.service,s=Ember._tracked,o=(0,r.task)({drop:!0}),l=class extends t.default{constructor(...e){super(...e),d(this,"settings",u,this),d(this,"errorMessage",c,this),p(this,"willEmail",this.args.publishOptions.willEmail),p(this,"willPublish",this.args.publishOptions.willPublish),p(this,"buttonTextMap",{"publish+send":{idle:"Publish & send",running:"Publishing & sending",success:"Published & sent"},send:{idle:"Send email",running:"Sending",success:"Sent"},publish:{idle:"Publish",running:"Publishing",success:"Published"},schedule:{running:"Scheduling",success:"Scheduled"}})}get publishType(){const{publishOptions:e}=this.args
return this.willPublish&&this.willEmail?"publish+send":e.willOnlyEmail?"send":"publish"}get confirmButtonText(){let e=""
if(e=this.buttonTextMap[this.publishType].idle,"publish"===this.publishType&&(e+=` ${this.args.publishOptions.post.displayName}`),this.args.publishOptions.isScheduled){e+=`, on ${i.default.tz(this.args.publishOptions.scheduledAtUTC,this.settings.timezone).format("MMMM Do")}`}else e+=", right now"
return e}get confirmRunningText(){const e=this.args.publishOptions.isScheduled?"schedule":this.publishType
return this.buttonTextMap[e].running}get confirmSuccessText(){const e=this.args.publishOptions.isScheduled?"schedule":this.publishType
return this.buttonTextMap[e].success}*confirmTask(){this.errorMessage=null
try{yield this.args.saveTask.perform()}catch(t){if(void 0===t&&0!==this.args.publishOptions.post.errors.length){const e=this.args.publishOptions.post.errors.messages[0]
return this.errorMessage=`Validation failed: ${e}`,!1}let i=""
const r=t?.payload?.errors?.[0]
return i=(0,n.isServerUnreachableError)(t)?"Unable to connect, please check your internet connection and try again.":"HostLimitError"===r?.type?Ember.String.htmlSafe(r.context.replace(/please upgrade/i,'<a href="#/pro">$&</a>')):t&&(e=t,"[object String]"===toString.call(e))?t:t&&Ember.isArray(t)?t[0]:r?.message?t.payload.errors[0].message:"Unknown Error",this.errorMessage=Ember.String.htmlSafe(i),!1}var e}},u=m(l.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"errorMessage",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"confirmTask",[o],Object.getOwnPropertyDescriptor(l.prototype,"confirmTask"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/editor/modals/publish-flow/options",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"loiEqwao",block:'{"symbols":["countFetcher","@confirm","@publishOptions","@recipientType"],"statements":[[10,"div"],[14,0,"gh-publish-title"],[14,"data-test-publish-flow","options"],[12],[2,"\\n    "],[10,"div"],[14,0,"green"],[12],[2,"Ready, set, publish."],[13],[2,"\\n    "],[10,"div"],[12],[2,"Share it with the world."],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-publish-settings"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-publish-setting"],[14,"data-test-setting","publish-type"],[12],[2,"\\n"],[6,[37,5],[[30,[36,12],[[32,3,["emailUnavailable"]],[32,3,["publishDisabledError"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[15,0,[31,["gh-publish-setting-title ",[30,[36,5],[[32,3,["publishDisabledError"]],"disabled"],null]]]],[14,"data-test-setting-title",""],[12],[2,"\\n                "],[1,[30,[36,3],["send-email"],null]],[2,"\\n                "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"Publish on site"],[13],[2,"\\n\\n"],[6,[37,5],[[32,3,["publishDisabledError"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[12],[1,[30,[36,3],["arrow-down"],[["class"],["icon-expand"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"],[6,[37,5],[[32,3,["publishDisabledError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-box gh-content-box pa"],[14,"data-test-publish-type-error","publish-disabled"],[12],[2,"\\n                    "],[1,[32,3,["publishDisabledError"]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-publish-setting-title"],[24,"data-test-setting-title",""],[24,4,"button"],[4,[38,0],["click",[30,[36,16],[[32,0,["toggleSection"]],"publishType"],null]],null],[12],[2,"\\n                "],[1,[30,[36,3],["send-email"],null]],[2,"\\n                "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[32,3,["selectedPublishTypeOption","display"]]],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"span"],[15,0,[31,[[30,[36,5],[[30,[36,4],[[32,0,["openSection"]],"publishType"],null],"expanded"],null]]]],[12],[2,"\\n                    "],[1,[30,[36,3],["arrow-down"],[["class"],["icon-expand"]]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,17],[[30,[36,4],[[32,0,["openSection"]],"publishType"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-publish-setting-form"],[12],[2,"\\n                "],[8,"editor/publish-options/publish-type",[],[["@publishOptions"],[[32,3]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,9],[[32,3,["emailUnavailable"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-setting"],[14,"data-test-setting","email-recipients"],[12],[2,"\\n"],[6,[37,5],[[30,[36,12],[[30,[36,4],[[32,3,["publishType"]],"publish"],null],[32,3,["publishDisabledError"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"button"],[14,0,"gh-publish-setting-title disabled"],[14,"data-test-setting-title",""],[14,4,"button"],[12],[2,"\\n                    "],[1,[30,[36,3],["member"],null]],[2,"\\n                    "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"\\n                        Not sent as newsletter\\n                    "],[13],[2,"\\n                    "],[10,"span"],[12],[2,"\\n                        "],[1,[30,[36,3],["arrow-down"],[["class"],["icon-expand"]]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-publish-setting-title"],[24,"data-test-setting-title",""],[24,4,"button"],[4,[38,0],["click",[30,[36,16],[[32,0,["toggleSection"]],"emailRecipients"],null]],null],[12],[2,"\\n                    "],[1,[30,[36,3],["member"],null]],[2,"\\n                    "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"\\n"],[6,[37,5],[[32,3,["recipientFilter"]]],null,[["default","else"],[{"statements":[[6,[37,15],[[30,[36,14],null,[["query"],[[30,[36,13],null,[["filter"],[[32,3,["fullRecipientFilter"]]]]]]]]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,12],[[30,[36,11],[[32,1,["count"]],1],null],[30,[36,10],[[32,1,["count"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[1,[30,[36,5],[[30,[36,4],[[32,4],"all"],null],"All"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                                "],[1,[30,[36,6],[[32,1,["count"]]],null]],[2,"\\n\\n"],[6,[37,5],[[30,[36,7],[[32,4],"all"],null]],null,[["default"],[{"statements":[[2,"                                    "],[1,[30,[36,5],[[30,[36,10],[[32,1,["count"]]],null],[30,[36,2],[[32,4]],null],[32,4]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                                "],[1,[30,[36,8],[[32,1,["count"]],"subscriber"],[["without-count"],[true]]]],[2,"\\n\\n"],[6,[37,9],[[32,3,["onlyDefaultNewsletter"]]],null,[["default"],[{"statements":[[2,"                                    of "],[10,"span"],[14,0,"gh-selected-newsletter"],[12],[1,[32,3,["newsletter","name"]]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                            Not sent as newsletter\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"span"],[15,0,[31,[[30,[36,5],[[30,[36,4],[[32,0,["openSection"]],"emailRecipients"],null],"expanded"],null]]]],[12],[2,"\\n                        "],[1,[30,[36,3],["arrow-down"],[["class"],["icon-expand"]]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,17],[[30,[36,4],[[32,0,["openSection"]],"emailRecipients"],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-publish-setting-form"],[12],[2,"\\n                    "],[8,"editor/publish-options/email-recipients",[],[["@publishOptions"],[[32,3]]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,19],[[32,3,["post","email"]],[30,[36,18],[[32,3,["emailDisabledInSettings"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-setting"],[14,"data-test-setting","email-recipients"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publish-setting-title disabled"],[14,"data-test-setting-title",""],[12],[2,"\\n                "],[1,[30,[36,3],["member"],null]],[2,"\\n                "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,3,["post","email","status"]],"failed"],null]],null,[["default","else"],[{"statements":[[2,"                        Retry sending to\\n"]],"parameters":[]},{"statements":[[2,"                        Already sent to\\n"]],"parameters":[]}]]],[2,"                    "],[1,[30,[36,6],[[32,3,["post","email","emailCount"]]],null]],[2,"\\n                    "],[1,[30,[36,5],[[30,[36,7],[[32,4],"all"],null],[32,4]],null]],[2," "],[2,"\\n                    "],[1,[30,[36,8],[[32,3,["post","email","emailCount"]],"subscriber"],[["without-count"],[true]]]],[2,"\\n"],[6,[37,9],[[32,3,["onlyDefaultNewsletter"]]],null,[["default"],[{"statements":[[2,"                        of "],[1,[32,3,["post","newsletter","name"]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-publish-setting last"],[14,"data-test-setting","publish-at"],[12],[2,"\\n        "],[11,"button"],[16,0,[31,["gh-publish-setting-title ",[30,[36,5],[[32,3,["publishDisabledError"]],"disabled"],null]]]],[24,"data-test-setting-title",""],[24,4,"button"],[4,[38,0],["click",[30,[36,5],[[32,3,["publishDisabledError"]],[30,[36,20],null,null],[30,[36,16],[[32,0,["toggleSection"]],"publishAt"],null]],null]],null],[12],[2,"\\n            "],[1,[30,[36,3],["clock"],null]],[2,"\\n            "],[10,"div"],[14,0,"gh-publish-setting-trigger"],[12],[2,"\\n                "],[10,"span"],[12],[2,"\\n"],[6,[37,5],[[32,3,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,2],[[30,[36,1],[[32,3,["scheduledAtUTC"]]],[["draft"],[true]]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        Right now\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"span"],[15,0,[31,[[30,[36,5],[[30,[36,4],[[32,0,["openSection"]],"publishAt"],null],"expanded"],null]]]],[12],[2,"\\n                "],[1,[30,[36,3],["arrow-down"],[["class"],["icon-expand"]]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,17],[[30,[36,4],[[32,0,["openSection"]],"publishAt"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-publish-setting-form last"],[12],[2,"\\n                "],[8,"editor/publish-options/publish-at",[],[["@publishOptions"],[[32,3]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[13],[2,"\\n\\n"],[6,[37,9],[[32,3,["publishDisabledError"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-publish-cta"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-large"],[24,"data-test-button","continue"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Continue, final review â†’"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","gh-format-post-time","capitalize","svg-jar","eq","if","format-number","not-eq","gh-pluralize","unless","is-empty","gt","or","hash","members-count-fetcher","let","fn","liquid-if","not","and","optional"]}',moduleName:"ghost-admin/components/editor/modals/publish-flow/options.hbs"})
let l=(i=Ember._tracked,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="openSection",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}toggleSection(e){e===this.openSection?this.openSection=null:this.openSection=e}},a=s(r.prototype,"openSection",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s(r.prototype,"toggleSection",[n],Object.getOwnPropertyDescriptor(r.prototype,"toggleSection"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/editor/modals/re-authenticate",["exports","@glimmer/component","ghost-admin/mixins/validation-engine","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k
function E(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function P(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function O(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"Odhx6MRv",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","re-authenticate"],[12],[2,"\\n    "],[11,"form"],[24,1,"login"],[24,0,"gh-signin"],[24,"method","post"],[24,"novalidate","novalidate"],[4,[38,1],["submit",[30,[36,0],[[32,0,["reauthenticateTask"]]],null]],null],[12],[2,"\\n        "],[10,"header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Are you still here?"],[13],[2,"\\n            "],[10,"p"],[12],[2,"Your authenticated session expired. Enter your password to continue where you left off."],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[15,0,[31,["form-group ",[30,[36,2],[[32,0,["authenticationError"]],"error"],null]]]],[12],[2,"\\n            "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n            "],[11,"span"],[24,0,"gh-input-icon gh-icon-lock forgotten-wrap"],[4,[38,3],null,[["errors","property","hasValidated"],[[32,0,["signup","errors"]],"password",[32,0,["signup","hasValidated"]]]]],[12],[2,"\\n                "],[11,"input"],[24,0,"gh-input password"],[24,"placeholder","â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"],[24,3,"password"],[16,2,[32,0,["signup","password"]]],[24,"aria-label","Your password"],[24,4,"password"],[4,[38,1],["input",[32,0,["setPassword"]]],null],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[16,5,[34,4]]],[["@type","@buttonText","@runningText","@showSuccess","@task","@class"],["submit","Sign in â†’","Authenticating",false,[32,0,["reauthenticateTask"]],"login gh-btn gh-btn-login gh-btn-block gh-btn-icon"]],null],[2,"\\n\\n"],[6,[37,2],[[32,0,["authenticationError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"response"],[12],[1,[32,0,["authenticationError"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","if","validation-status","accent-color-background"]}',moduleName:"ghost-admin/components/editor/modals/re-authenticate.hbs"})
let _=(a=Ember._tracked,s=Ember._tracked,o=class extends(Ember.Object.extend(i.default)){constructor(...e){super(...e),E(this,"identification",l,this),E(this,"password",u,this),P(this,"validationType","signin")}},l=O(o.prototype,"identification",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=O(o.prototype,"password",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o),T=(c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,h=Ember._action,b=(0,r.task)({drop:!0}),k=class extends t.default{constructor(){super(...arguments),E(this,"notifications",f,this),E(this,"session",v,this),E(this,"modals",y,this),E(this,"authenticationError",w,this),this.signin=_.create(),this.signin.identification=this.session.user.email}setPassword(e){this.signin.password=e.target.value}*reauthenticateTask(){document.querySelectorAll("#login input").forEach((e=>e.dispatchEvent(new Event("change")))),this.authenticationError=null
try{yield this.signin.validate({property:"signin"})}catch(e){return this.signin.hasValidated.pushObject("password"),!1}try{return yield this._authenticate(),this.notifications.closeAlerts(),this.args.close(),!0}catch(e){if(!e)return
e?.payload?.errors&&(e.payload.errors.forEach((t=>{if((0,n.isVersionMismatchError)(t))return this.notifications.showAPIError(e)
t.message=Ember.String.htmlSafe(t.context||t.message)})),this.signin.errors.add("password","Incorrect password"),this.signin.hasValidated.pushObject("password"),this.authenticationError=e.payload.errors[0].message),this.notifications.showAPIError(e)}}async _authenticate(){const{identification:e,password:t}=this.signin
this.session.skipAuthSuccessHandler=!0
try{await this.session.authenticate("authenticator:cookie",e,t)}finally{this.session.skipAuthSuccessHandler=void 0}}},P(k,"modalOptions",{className:"fullscreen-modal-wide fullscreen-modal-action modal-reauthenticate",ignoreBackdropClick:!0,backgroundLight:!0,backgroundBlur:!0}),f=O((g=k).prototype,"notifications",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(g.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(g.prototype,"modals",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(g.prototype,"authenticationError",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O(g.prototype,"setPassword",[h],Object.getOwnPropertyDescriptor(g.prototype,"setPassword"),g.prototype),O(g.prototype,"reauthenticateTask",[b],Object.getOwnPropertyDescriptor(g.prototype,"reauthenticateTask"),g.prototype),g)
e.default=T,Ember._setComponentTemplate(j,T)})),define("ghost-admin/components/editor/modals/update-flow",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"YVZ9fNSs",block:'{"symbols":["post","sentAt","publishedAt","countFetcher","post","@close","@data"],"statements":[[10,"div"],[14,0,"flex flex-column h-100 items-center overflow-auto"],[14,"data-test-modal","update-flow"],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-publish-header"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn-editor gh-publish-back-button"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,6]],null],[12],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,13],["arrow-left"],null]],[2," Editor"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"flex"],[12],[2,"\\n"],[6,[37,8],[[32,7,["publishOptions","post"]]],null,[["default"],[{"statements":[[6,[37,4],[[30,[36,3],[[30,[36,9],[[32,5,["isSent"]],[30,[36,3],[[32,5,["isPublished"]]],null]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-editor darkgrey gh-unpublish-trigger active"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,6]],null],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,4],[[32,5,["isScheduled"]],"Unschedule","Unpublish"],null]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[5]}]]],[2,"            "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,8],[[32,7,["publishOptions","post"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-settings-container gh-update-flow fade-in"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-publish-title"],[14,"data-test-update-flow-title",""],[12],[2,"\\n"],[6,[37,4],[[30,[36,9],[[32,1,["isSent"]],[30,[36,3],[[32,1,["isPublished"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                    This "],[1,[32,1,["displayName"]]],[2," was\\n                    "],[10,"span"],[14,0,"green"],[12],[1,[32,1,["status"]]],[2," by email"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    This "],[1,[32,1,["displayName"]]],[2," has been\\n                    "],[10,"span"],[14,0,"green"],[12],[1,[32,1,["status"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-publish-confirmation"],[14,"data-test-update-flow-confirmation",""],[12],[2,"\\n                "],[10,"p"],[12],[2,"\\n                    Your\\n                    "],[1,[32,1,["displayName"]]],[2,"\\n\\n                    "],[1,[30,[36,4],[[32,1,["isScheduled"]],"will be","was"],null]],[2,"\\n\\n"],[6,[37,4],[[30,[36,12],[[32,1,["hasBeenEmailed"]],[32,1,["willEmail"]]],null]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                            sent to\\n"]],"parameters":[]},{"statements":[[2,"                            published and sent to\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,1,["isScheduled"]]],null,[["default","else"],[{"statements":[[6,[37,8],[[30,[36,11],null,[["query"],[[30,[36,0],null,[["filter"],[[32,1,["fullRecipientFilter"]]]]]]]]],null,[["default"],[{"statements":[[2,"                                "],[10,"strong"],[12],[1,[30,[36,10],[[32,4,["count"]],"subscriber"],null]],[13],[2,"\\n                                "],[6,[37,4],[[32,0,["showNewsletterName"]]],null,[["default"],[{"statements":[[2,"of "],[10,"strong"],[12],[1,[32,1,["newsletter","name"]]],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[4]}]]]],"parameters":[]},{"statements":[[2,"                            "],[10,"strong"],[12],[1,[30,[36,10],[[32,1,["email","emailCount"]],"subscriber"],null]],[13],[2,"\\n                            "],[6,[37,4],[[32,0,["showNewsletterName"]]],null,[["default"],[{"statements":[[2,"of "],[10,"strong"],[12],[1,[32,1,["newsletter","name"]]],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        published on your site\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,7],[[32,1,["publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                        on\\n                        "],[1,[30,[36,5],[[32,3],"D MMM YYYY"],null]],[2,"\\n                        at\\n                        "],[1,[30,[36,5],[[32,3],"HH:mm"],null]],[2,".\\n"]],"parameters":[3]}]]],[2,"\\n"],[6,[37,4],[[32,1,["isScheduled"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,9],[[32,1,["isScheduled"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[2,"                            This post was previously emailed to\\n\\n                            "],[10,"strong"],[12],[1,[30,[36,6],[[32,1,["email","emailCount"]],"subscriber"],null]],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showNewsletterName"]]],null,[["default"],[{"statements":[[2,"                                of "],[10,"strong"],[12],[1,[32,1,["newsletter","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,7],[[32,1,["email","createdAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                                on\\n                                "],[1,[30,[36,5],[[32,2],"D MMM YYYY"],null]],[2,"\\n                                at\\n                                "],[1,[30,[36,5],[[32,2],"HH:mm"],null]],[2,".\\n"]],"parameters":[2]}]]]],"parameters":[]}]]],[2,"\\n                        "],[10,"br"],[12],[13],[10,"br"],[12],[13],[2,"\\n                        Need to make a change?\\n                        "],[11,"button"],[24,0,"gh-revert-to-draft"],[24,"data-test-button","revert-to-draft"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,6],[30,[36,0],null,[["afterTask"],["revertToDraftTask"]]]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Unschedule and revert to draft â†’"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,3],[[32,1,["emailOnly"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"br"],[12],[13],[10,"br"],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-revert-to-draft"],[24,"data-test-button","revert-to-draft"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,6],[30,[36,0],null,[["afterTask"],["revertToDraftTask"]]]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Unpublish and revert to private draft â†’"],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","fn","on","not","if","moment-format","pluralize","moment-site-tz","let","and","gh-pluralize","members-count-fetcher","or","svg-jar"]}',moduleName:"ghost-admin/components/editor/modals/update-flow.hbs"})
let s=(function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(r=class extends t.default{get showNewsletterName(){const{publishOptions:e}=this.args.data
return!e.onlyDefaultNewsletter||"archived"===e.post.newsletter?.status}*saveTask(){return yield this.args.data.saveTask.perform(),this.args.close(),!0}},"modalOptions",{className:"fullscreen-modal-total-overlay publish-modal",omitBackdrop:!0,ignoreBackdropClick:!0}),o=(n=r).prototype,l="saveTask",u=[i.task],c=Object.getOwnPropertyDescriptor(n.prototype,"saveTask"),d=n.prototype,p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/editor/modals/update-snippet",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"nEm+4Ndh",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","update-snippet"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Update this snippet?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            \\""],[10,"strong"],[12],[1,[32,2,["snippet","name"]]],[13],[2,"\\" will be overwritten.\\n            Don\'t worry, this will only affect using the snippet in the future.\\n            Any older posts using this snippet will stay the same.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Update","Updated",[32,0,["updateSnippetTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/editor/modals/update-snippet.hbs"})
let u=(n=Ember.inject.service,r=(0,i.task)({drop:!0}),a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}*updateSnippetTask(){const{snippet:e,updatedProperties:{mobiledoc:t,lexical:i}}=this.args.data
try{return t&&(e.mobiledoc=t),i&&(e.lexical=i,e.mobiledoc||(e.mobiledoc={})),yield e.save(),this.notifications.closeAlerts("snippet.save"),this.notifications.showNotification(`Snippet "${e.name}" updated`,{type:"success"}),e}catch(n){throw e.errors.isEmpty||this.notifications.showAlert(`Snippet save failed: ${e.errors.messages.join(". ")}`,{type:"error",key:"snippet.save"}),e.rollbackAttributes(),n}finally{this.args.close()}}},s=o(a.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"updateSnippetTask",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateSnippetTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/editor/publish-buttons",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"lXIrcMsb",block:'{"symbols":["@publishManagement"],"statements":[[6,[37,1],[[32,1,["publishOptions","user","isContributor"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,1,["post","isDraft"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-editor gh-editor-preview-trigger"],[24,"data-test-button","contributor-preview"],[24,4,"button"],[4,[38,0],["click",[32,1,["openPreview"]]],null],[4,[38,4],["cmd+p",[32,1,["togglePreview"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Preview"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"gh-task-button",[[24,"data-test-button","contributor-save"]],[["@buttonText","@task","@runningText","@class"],["Save",[32,1,["saveTask"]],"Saving","gh-btn gh-btn-icon gh-btn-editor gh-editor-save-trigger contributor-save-button"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["post","isDraft"]]],null,[["default","else"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-editor gh-editor-preview-trigger"],[24,"data-test-button","publish-preview"],[24,4,"button"],[4,[38,0],["click",[32,1,["openPreview"]]],null],[4,[38,4],["cmd+p",[32,1,["togglePreview"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Preview"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-editor darkgrey gh-publish-trigger"],[16,"disabled",[32,1,["publishOptions","isLoading"]]],[24,"data-test-button","publish-flow"],[24,4,"button"],[4,[38,0],["click",[32,1,["openPublishFlow"]]],null],[4,[38,4],["cmd+shift+p"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Publish"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-task-button",[[24,"data-test-button","publish-save"]],[["@task","@buttonText","@runningText","@successText","@class","@idleClass","@runningClass","@successClass","@failureClass","@showIcon","@disabled","@autoReset"],[[32,1,["saveTask"]],"Update","Updating...","Updated","gh-btn gh-btn-editor gh-editor-save-trigger","green","midlightgrey","midlightgrey","red",false,[30,[36,2],[[32,1,["hasUnsavedChanges"]]],null],true]],null],[2,"\\n\\n"],[6,[37,1],[[30,[36,2],[[30,[36,3],[[32,1,["post","isSent"]],[30,[36,2],[[32,1,["post","isPublished"]]],null]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-editor darkgrey gh-unpublish-trigger"],[24,"data-test-button","update-flow"],[24,4,"button"],[4,[38,0],["click",[32,1,["openUpdateFlow"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"\\n                    "],[1,[30,[36,1],[[32,1,["post","isScheduled"]],"Unschedule","Unpublish"],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","if","not","and","on-key"]}',moduleName:"ghost-admin/components/editor/publish-buttons.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/editor/publish-management",["exports","@glimmer/component","ghost-admin/errors/email-failed-error","ghost-admin/components/editor/modals/preview","ghost-admin/components/editor/modals/publish-flow","ghost-admin/helpers/publish-options","ghost-admin/components/editor/modals/update-flow","ghost-admin/config/environment","ember-concurrency","ember-could-get-used-to-this"],(function(e,t,i,n,r,a,s,o,l,u){var c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_
function T(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function z(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function x(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.CONFIRM_EMAIL_POLL_LENGTH=e.CONFIRM_EMAIL_MAX_POLL_LENGTH=void 0
const S=Ember.HTMLBars.template({id:"W0tPxFyR",block:'{"symbols":["@hasUnsavedChanges","@post","&default"],"statements":[[18,3,[[30,[36,0],null,[["post","publishOptions","openPreview","togglePreview","saveTask","savePostTask","saveButtonTaskGroup","hasUnsavedChanges","openPublishFlow","openUpdateFlow"],[[32,2],[32,0,["publishOptions"]],[32,0,["openPreview"]],[32,0,["togglePreview"]],[32,0,["saveTask"]],[32,0,["savePostTask"]],[32,0,["saveButtonTaskGroup"]],[32,1],[32,0,["openPublishFlow"]],[32,0,["openUpdateFlow"]]]]]]],[2,"\\n"]],"hasEval":false,"upvars":["hash"]}',moduleName:"ghost-admin/components/editor/publish-management.hbs"}),C=1e3
e.CONFIRM_EMAIL_POLL_LENGTH=C
e.CONFIRM_EMAIL_MAX_POLL_LENGTH=15e3
let M=(c=Ember.inject.service,d=Ember.inject.service,p=Ember._tracked,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=(0,l.task)({group:"saveButtonTaskGroup"}),w=(0,l.task)({group:"saveButtonTaskGroup"}),k=class extends t.default{constructor(...e){super(...e),T(this,"modals",E,this),T(this,"notifications",P,this),T(this,"publishOptions",O,this),T(this,"previewTab",j,this),z(this,"publishFlowModal",null),z(this,"updateFlowModal",null),T(this,"saveButtonTaskGroup",_,this)}willDestroy(){super.willDestroy(...arguments),this.publishFlowModal?.close()}async openPublishFlow(e,{skipAnimation:t}={}){e?.preventDefault(),this.updateFlowModal?.close()
if(await this._validatePost()&&!this.publishFlowModal||this.publishFlowModal?.isClosing){this.publishOptions.resetPastScheduledAt(),this.publishFlowModal=this.modals.open(r.default,{publishOptions:this.publishOptions,saveTask:this.publishTask,togglePreviewPublish:this.togglePreviewPublish,skipAnimation:t})
const e=await this.publishFlowModal
e?.afterTask&&this[e?.afterTask]&&(await(0,l.timeout)(160),this[e.afterTask].perform())}}async openUpdateFlow(e){e?.preventDefault(),this.publishFlowModal?.close()
if(await this._validatePost()&&!this.updateFlowModal||this.updateFlowModal.isClosing){this.updateFlowModal=this.modals.open(s.default,{publishOptions:this.publishOptions,saveTask:this.publishTask})
const e=await this.updateFlowModal
e?.afterTask&&this[e?.afterTask]&&(await(0,l.timeout)(160),this[e.afterTask].perform())}}openPreview(e,{skipAnimation:t}={}){e?.preventDefault(),this.previewModal&&!this.previewModal.isClosing||(this.previewModal=this.modals.open(n.default,{publishOptions:this.publishOptions,hasDirtyAttributes:this.args.hasUnsavedChanges,saveTask:this.saveTask,savePostTask:this.args.savePostTask,togglePreviewPublish:this.togglePreviewPublish,currentTab:this.previewTab,changeTab:this.changePreviewTab,skipAnimation:t}))}togglePreview(e){e?.preventDefault(),!this.previewModal||this.previewModal.isClosing?this.publishFlowModal&&!this.publishFlowModal.isClosing?this.togglePreviewPublish():this.openPreview():this.previewModal.close()}changePreviewTab(e){this.previewTab=e}async togglePreviewPublish(e){e?.preventDefault(),this.previewModal&&!this.previewModal.isClosing?(this.openPublishFlow(e,{skipAnimation:!0}),await(0,l.timeout)(160),this.previewModal.close()):this.publishFlowModal&&!this.publishFlowModal.isClosing&&(this.openPreview(e,{skipAnimation:!0}),await(0,l.timeout)(160),this.publishFlowModal.close())}async _validatePost(){this.notifications.closeAlerts("post.save")
try{return await this.publishOptions.post.validate(),!0}catch(e){if(void 0===e&&0!==this.publishOptions.post.errors.length){const e=`Validation failed: ${this.publishOptions.post.errors.messages[0]}`
return this.notifications.showAlert(e,{type:"error",key:"post.save"}),!1}this.notifications.showAPIError(e)}}*publishTask({taskName:e="saveTask"}={}){const t=this.publishOptions.willEmailImmediately
yield this.args.beforePublish()
const i=yield this.publishOptions[e].perform()
return yield this.args.afterPublish(i),t&&this.publishOptions.post.email&&(yield this.confirmEmailTask.perform()),i}*saveTask(){return yield this.args.saveTask.perform(),this.saveButtonTimeoutTask.perform(),!0}*saveButtonTimeoutTask(){yield(0,l.timeout)("test"===o.default.environment?1:3e3)}*confirmEmailTask(){const e=this.publishOptions.post
let t=0
if(e.email&&"submitted"!==e.email.status)for(;t<15e3&&(yield(0,l.timeout)(C),t+=C,yield e.reload(),e.isSent||e.isPublished)&&"submitted"!==e.email.status;)if("failed"===e.email.status)throw new i.default(e.email.error)
return!0}*revertToDraftTask(){try{yield this.publishTask.perform({taskName:"revertToDraftTask"})
const e=Ember.String.capitalize(this.args.post.displayName)
return this.notifications.showNotification(`${e} successfully reverted to a draft.`,{type:"success"}),!0}catch(e){this.notifications.showAPIError(e)}}},E=x(k.prototype,"modals",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x(k.prototype,"notifications",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x(k.prototype,"publishOptions",[u.use],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a.default((()=>[this.args.post]))}}),j=x(k.prototype,"previewTab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"browser"}}),x(k.prototype,"openPublishFlow",[m],Object.getOwnPropertyDescriptor(k.prototype,"openPublishFlow"),k.prototype),x(k.prototype,"openUpdateFlow",[h],Object.getOwnPropertyDescriptor(k.prototype,"openUpdateFlow"),k.prototype),x(k.prototype,"openPreview",[b],Object.getOwnPropertyDescriptor(k.prototype,"openPreview"),k.prototype),x(k.prototype,"togglePreview",[g],Object.getOwnPropertyDescriptor(k.prototype,"togglePreview"),k.prototype),x(k.prototype,"changePreviewTab",[f],Object.getOwnPropertyDescriptor(k.prototype,"changePreviewTab"),k.prototype),x(k.prototype,"togglePreviewPublish",[v],Object.getOwnPropertyDescriptor(k.prototype,"togglePreviewPublish"),k.prototype),x(k.prototype,"publishTask",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"publishTask"),k.prototype),x(k.prototype,"saveTask",[y],Object.getOwnPropertyDescriptor(k.prototype,"saveTask"),k.prototype),x(k.prototype,"saveButtonTimeoutTask",[w],Object.getOwnPropertyDescriptor(k.prototype,"saveButtonTimeoutTask"),k.prototype),_=x(k.prototype,"saveButtonTaskGroup",[l.taskGroup],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x(k.prototype,"confirmEmailTask",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"confirmEmailTask"),k.prototype),x(k.prototype,"revertToDraftTask",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"revertToDraftTask"),k.prototype),k)
e.default=M,Ember._setComponentTemplate(S,M)})),define("ghost-admin/components/editor/publish-options/email-recipients",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"hQX9EiP5",block:'{"symbols":["newsletter","@publishOptions"],"statements":[[10,"div"],[14,0,"form-group max-width mb0"],[12],[2,"\\n    "],[8,"gh-members-recipient-select",[],[["@filter","@newsletter","@onChange","@renderInPlace","@dropdownClass"],[[32,2,["recipientFilter"]],[32,2,["newsletter"]],[32,2,["setRecipientFilter"]],false,"gh-publish-newsletter-dropdown"]],null],[2,"\\n\\n"],[6,[37,2],[[30,[36,3],[[32,2,["newsletters","length"]],1],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"mt4"],[14,"data-test-select","newsletter"],[12],[2,"\\n            "],[10,"label"],[14,0,"gh-main-section-header small bn"],[12],[2,"Newsletter"],[13],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@onChange","@triggerComponent","@triggerClass","@dropdownClass"],[[32,2,["newsletter"]],[32,2,["newsletters"]],[32,2,["setNewsletter"]],[30,[36,1],["gh-power-select/trigger"],null],"gh-publish-newsletter-trigger","gh-publish-newsletter-dropdown"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[15,"data-test-select-option",[32,1,["name"]]],[12],[1,[32,1,["name"]]],[13],[2,"\\n"],[6,[37,2],[[32,2,["user","isAdmin"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-newsletter-count"],[12],[1,[30,[36,0],[[32,1,["count","active_members"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["format-number","component","if","gt"]}',moduleName:"ghost-admin/components/editor/publish-options/email-recipients.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/editor/publish-options/publish-at",["exports","@glimmer/component","moment-timezone"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"mmGyKjov",block:'{"symbols":["@publishOptions"],"statements":[[10,"fieldset"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-publish-schedule"],[12],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,2],[[32,1,["isScheduled"]],"active"],null]]]],[4,[38,4],["click",[30,[36,3],[[32,1,["toggleScheduled"]],false],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[14,"data-test-radio","publish-now"],[12],[13],[2,"\\n            "],[10,"label"],[12],[2,"Set it live now"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,5],[[32,1,["isScheduled"]],"active"],null]]]],[4,[38,4],["click",[30,[36,3],[[32,1,["toggleScheduled"]],true],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[14,"data-test-radio","schedule"],[12],[13],[2,"\\n            "],[10,"label"],[12],[2,"Schedule for later"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,5],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-date-time-picker",[],[["@datePickerClass","@date","@time","@setDate","@setTime","@minDate","@isActive","@renderInPlace"],["publish-flow-datepicker",[30,[36,1],[[30,[36,0],[[32,1,["scheduledAtUTC"]]],null],"YYYY-MM-DD"],null],[30,[36,1],[[30,[36,0],[[32,1,["scheduledAtUTC"]]],null],"HH:mm"],null],[32,0,["setDate"]],[32,0,["setTime"]],[30,[36,0],[[32,1,["minScheduledAt"]]],null],[32,1,["isScheduled"]],false]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["moment-site-tz","moment-format","unless","fn","on","if"]}',moduleName:"ghost-admin/components/editor/publish-options/publish-at.hbs"})
let c=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}setDate(e){const t=i.default.tz(e,this.settings.timezone),{years:n,months:r,date:a}=t.toObject(),s=i.default.tz(this.args.publishOptions.scheduledAtUTC,this.settings.timezone)
s.set({years:n,months:r,date:a}),this.args.publishOptions.setScheduledAt(s)}setTime(e,t){const n=i.default.tz(this.args.publishOptions.scheduledAtUTC,this.settings.timezone),r=n.format("HH:mm")
if(!e)return void(t.target.value=r)
if(e.match(/^\d:\d\d$/)&&(e=`0${e}`),!e.match(/^\d\d:\d\d$/))return void(t.target.value=r)
const[a,s]=e.split(":").map((e=>parseInt(e,10)))
isNaN(a)||a<0||a>23||isNaN(s)||s<0||s>59?t.target.value=r:(n.set({hour:a,minute:s}),this.args.publishOptions.setScheduledAt(n))}},o=l(s.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"setDate",[r],Object.getOwnPropertyDescriptor(s.prototype,"setDate"),s.prototype),l(s.prototype,"setTime",[a],Object.getOwnPropertyDescriptor(s.prototype,"setTime"),s.prototype),s)
e.default=c,Ember._setComponentTemplate(u,c)})),define("ghost-admin/components/editor/publish-options/publish-type",["exports","@glimmer/component"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"GEL5n3Ay",block:'{"symbols":["option","@publishOptions"],"statements":[[10,"fieldset"],[14,0,"gh-publish-types"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,2,["publishTypeOptions"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[12],[2,"\\n            "],[11,"input"],[24,3,"publish-type"],[16,1,[31,["publish-type-",[32,1,["value"]]]]],[24,0,"gh-radio-button"],[16,2,[32,1,["value"]]],[16,"checked",[30,[36,2],[[32,1,["value"]],[32,2,["selectedPublishTypeOption","value"]]],null]],[16,"disabled",[32,1,["disabled"]]],[16,"data-test-publish-type",[32,1,["value"]]],[24,4,"radio"],[4,[38,3],["change",[32,0,["onChange"]]],null],[12],[13],[2,"\\n            "],[10,"label"],[15,"for",[31,["publish-type-",[32,1,["value"]]]]],[12],[1,[32,1,["label"]]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1]}]]],[13],[2,"\\n\\n"],[6,[37,1],[[32,2,["emailDisabledError"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"gh-box gh-content-box"],[14,"data-test-publish-type-error","email-disabled"],[12],[2,"\\n        "],[1,[32,2,["emailDisabledError"]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,2],[[32,2,["totalMemberCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"p"],[14,0,"gh-box gh-content-box"],[14,"data-test-publish-type-error","no-members"],[12],[2,"\\n        "],[8,"link-to",[],[["@route"],["members"]],[["default"],[{"statements":[[2,"Add members"]],"parameters":[]}]]],[2,"\\n        to start sending newsletters!\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,0],[[32,2,["mailgunIsConfigured"]]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[14,0,"gh-box gh-content-box"],[14,"data-test-publish-type-error","no-mailgun"],[12],[2,"\\n        Set up "],[10,"a"],[14,6,"https://ghost.org/docs/newsletters/#bulk-email-configuration"],[14,"target","_blank"],[14,"rel","noreferrer noopener"],[12],[2,"Mailgun"],[13],[2," to start sending newsletters!\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["not","if","eq","on","-track-array","each"]}',moduleName:"ghost-admin/components/editor/publish-options/publish-type.hbs"})
let a=(i=Ember._action,n=class extends t.default{onChange(e){e.preventDefault(),this.args.publishOptions.setPublishType(e.target.value)}},s=n.prototype,o="onChange",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"onChange"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/ember-chart",["exports","ember-cli-chart/components/ember-chart"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/components/ember-load-remover",["exports","ember-load/components/ember-load-remover"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/ember-popover",["exports","ember-tooltips/components/ember-popover"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/ember-tooltip",["exports","ember-tooltips/components/ember-tooltip"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/epm-modal-container",["exports","@tryghost/ember-promise-modals/components/modal-container"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"GRCxekX6",block:'{"symbols":["modal","index"],"statements":[[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["modals","_stack"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["_options","omitBackdrop"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["epm-backdrop ",[30,[36,0],[[32,1,["_options","backgroundLight"]],"background-light"],null]," ",[30,[36,0],[[32,1,["isClosing"]],"epm-out"],null]]]],[14,"tabindex","-1"],[14,"role","presentation"],[14,"aria-hidden","true"],[15,"data-test-epm-backdrop",[31,[[32,2]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[15,0,[31,["epm-modal-container ",[30,[36,0],[[32,1,["_options","backgroundBlur"]],"background-blur"],null]]]],[12],[2,"\\n        "],[8,"epm-modal",[[16,"data-test-epm-modal",[31,[[32,2]]]]],[["@modal"],[[32,1]]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1,2]}]]]],"hasEval":false,"upvars":["if","unless","-track-array","each"]}',moduleName:"ghost-admin/components/epm-modal-container.hbs"})
var n=Ember._setComponentTemplate(i,class extends t.default{})
e.default=n})),define("ghost-admin/components/epm-modal",["exports","@tryghost/ember-promise-modals/components/modal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/feedback-lexical/editor-dropdown",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"caMlxcnK",block:'{"symbols":["dd","@post"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition","@onClose","@horizontalPosition"],["above",[32,0,["onClose"]],"left"]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-editor-feedback-trigger gh-btn gh-btn-editor green"],[24,"data-test-button","lexical-editor-feedback"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[14,0,"gh-editor-feedback"],[14,"data-trigger","true"],[12],[2," "],[2,"\\n            Beta feedback\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-editor-feedback-dropdown-container"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[11,"div"],[4,[38,0],["anim-fade-in-scale"],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-editor-feedback-dropdown"],[14,"data-test-modal","lexical-feedback"],[12],[2,"\\n                "],[10,"header"],[14,0,"gh-editor-feedback-dropdown-header"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Ghost editor (beta)"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,""],[12],[2,"\\n                    "],[8,"feedback-lexical/textarea",[],[["@feedbackMessage","@updateFeedbackMessage","@shouldFocus","@placeholder"],[[32,0,["feedbackMessage"]],[32,0,["updateFeedbackMessage"]],true,"Youâ€™re using the new Ghost editor. Have any issues? Feedback? Let us know!"]],null],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-editor-feedback-dropdown-footer"],[12],[2,"\\n                    "],[8,"feedback-lexical/send-button",[],[["@onSuccess","@feedbackMessage","@post"],[[30,[36,1],[[32,0,["onSent"]],[32,1]],null],[32,0,["feedbackMessage"]],[32,2]]],null],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,0,["onCancel"]],[32,1]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["css-transition","fn","on"]}',moduleName:"ghost-admin/components/feedback-lexical/editor-dropdown.hbs"})
let p=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feedbackMessage",r=this,(n=l)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),u(this,"eventType","close")}updateFeedbackMessage(e){this.feedbackMessage=e.target.value}onSent(e){e.actions.close(this.eventType),this.feedbackMessage=""}onCancel(e){e.actions.close(this.eventType)}onClose(e,t){return t===this.eventType||!!t?.target?.dataset?.trigger}},l=c(o.prototype,"feedbackMessage",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c(o.prototype,"updateFeedbackMessage",[n],Object.getOwnPropertyDescriptor(o.prototype,"updateFeedbackMessage"),o.prototype),c(o.prototype,"onSent",[r],Object.getOwnPropertyDescriptor(o.prototype,"onSent"),o.prototype),c(o.prototype,"onCancel",[a],Object.getOwnPropertyDescriptor(o.prototype,"onCancel"),o.prototype),c(o.prototype,"onClose",[s],Object.getOwnPropertyDescriptor(o.prototype,"onClose"),o.prototype),o)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/feedback-lexical/labs-form",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"BaYD0KX+",block:'{"symbols":[],"statements":[[8,"feedback-lexical/textarea",[],[["@feedbackMessage","@updateFeedbackMessage","@label","@shouldFocus","@placeholder"],[[32,0,["feedbackMessage"]],[32,0,["updateFeedbackMessage"]],"Thanks for trying our new editor",false,"Thanks for trying our new editor! Howâ€™d it go? Have any issues?"]],null],[2,"\\n\\n"],[8,"feedback-lexical/send-button",[],[["@onSuccess","@feedbackMessage"],[[32,0,["resetFeedbackMessage"]],[32,0,["feedbackMessage"]]]],null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/feedback-lexical/labs-form.hbs"})
let u=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feedbackMessage",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}updateFeedbackMessage(e){this.feedbackMessage=e.target.value}resetFeedbackMessage(){this.feedbackMessage=""}},s=o(a.prototype,"feedbackMessage",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o(a.prototype,"updateFeedbackMessage",[n],Object.getOwnPropertyDescriptor(a.prototype,"updateFeedbackMessage"),a.prototype),o(a.prototype,"resetFeedbackMessage",[r],Object.getOwnPropertyDescriptor(a.prototype,"resetFeedbackMessage"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/feedback-lexical/post-complete-form",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"vcI5f28g",block:'{"symbols":["@post"],"statements":[[10,"div"],[14,0,"gh-feedback-lexical-published"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-feedback-lexical-published-title"],[12],[2,"This post was published using the new Ghost editor (beta)."],[13],[2,"\\n"],[2,"    "],[8,"feedback-lexical/textarea",[],[["@feedbackMessage","@updateFeedbackMessage","@shouldFocus","@label","@placeholder"],[[32,0,["feedbackMessage"]],[32,0,["updateFeedbackMessage"]],false,"Editor beta feedback","Howâ€™d it go? Did you have any issues?"]],null],[2,"\\n    "],[8,"feedback-lexical/send-button",[],[["@feedbackMessage","@post","@onSuccess"],[[32,0,["feedbackMessage"]],[32,1],[32,0,["resetFeedbackMessage"]]]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/feedback-lexical/post-complete-form.hbs"})
let u=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feedbackMessage",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}updateFeedbackMessage(e){this.feedbackMessage=e.target.value}resetFeedbackMessage(){this.feedbackMessage=""}},s=o(a.prototype,"feedbackMessage",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o(a.prototype,"updateFeedbackMessage",[n],Object.getOwnPropertyDescriptor(a.prototype,"updateFeedbackMessage"),a.prototype),o(a.prototype,"resetFeedbackMessage",[r],Object.getOwnPropertyDescriptor(a.prototype,"resetFeedbackMessage"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)}))
define("ghost-admin/components/feedback-lexical/send-button",["exports","@glimmer/component","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"Zzkfdk9K",block:'{"symbols":[],"statements":[[8,"gh-task-button",[[24,"data-test-button","submit-lexical-feedback"]],[["@buttonText","@successText","@task","@disabled","@class"],["Send feedback","Sent",[32,0,["submitFeedback"]],[32,0,["isDisabled"]],"gh-btn gh-btn-black gh-btn-icon"]],null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/feedback-lexical/send-button.hbs"})
let v=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=(0,n.task)({drop:!0}),u=class extends t.default{constructor(...e){super(...e),b(this,"ajax",c,this),b(this,"ghostPaths",d,this),b(this,"session",p,this),b(this,"notifications",m,this),b(this,"config",h,this)}get isDisabled(){return!this.args.feedbackMessage}*submitFeedback(){let e,t
this.args?.post&&(e=this.args?.post?.isPost?"Post":"Page",t={PostId:this.args.post?.id,PostTitle:this.args.post?.title})
let i={...{Site:this.config.blogUrl,StaffMember:this.session.user.name,StaffMemberEmail:this.session.user.email,StaffAccessLevel:this.session.user.role?.description,UserAgent:navigator.userAgent,GhostVersion:this.config.version,KoenigLexicalVersion:window["@tryghost/koenig-lexical"]?.version,Feedback:this.args.feedbackMessage},...t,Source:e||"Settings",Origin:window.location.origin},n=yield this.ajax.post("https://submit-form.com/us6uBWv8",{data:i})
if(n.status<200||n.status>=300)throw new Error("api failed "+n.status+" "+n.statusText)
return this.args.onSuccess?.(),this.notifications.showNotification("Feedback sent",{icon:"send-email",description:"Thank you!"}),n}},c=g(u.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"notifications",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(u.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"submitFeedback",[l],Object.getOwnPropertyDescriptor(u.prototype,"submitFeedback"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/feedback-lexical/textarea",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"0g02LsUW",block:'{"symbols":["@label","@feedbackMessage","@placeholder","@shouldFocus","@updateFeedbackMessage"],"statements":[[10,"form"],[12],[2,"\\n    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,1]],null,[["default"],[{"statements":[[2,"            "],[10,"label"],[14,"for","feedback-lexical"],[14,0,"sr-only"],[12],[1,[32,1]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[8,"gh-textarea",[[24,"data-test-lexical-feedback-textarea",""],[4,[38,2],["input",[32,5]],null]],[["@id","@name","@value","@placeholder","@shouldFocus"],["feedback-lexical","feedback-lexical",[32,2],[30,[36,1],[[32,3],"Iâ€™ve noticed thatâ€¦"],null],[32,4]]],null],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","or","on"]}',moduleName:"ghost-admin/components/feedback-lexical/textarea.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-alert",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"76zJHk1H",block:'{"symbols":["&attrs","@message"],"statements":[[11,"article"],[16,0,[31,["gh-alert ",[32,0,["typeClass"]]]]],[17,1],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-alert-content"],[12],[2,"\\n        "],[1,[32,2,["message"]]],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-alert-close"],[24,"data-test-button","close-notification"],[24,4,"button"],[4,[38,0],["click",[32,0,["closeNotification"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["close-stroke"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/gh-alert.hbs"})
let l=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get typeClass(){const e={success:"green",error:"red",warn:"blue",info:"blue"},t=this.args.message.type
let i=""
return void 0!==e[t]&&(i+=`gh-alert-${e[t]}`),i}closeNotification(){this.notifications.closeNotification(this.args.message)}},a=s(r.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"closeNotification",[n],Object.getOwnPropertyDescriptor(r.prototype,"closeNotification"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-alerts",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"654WGoO+",block:'{"symbols":["message","&attrs"],"statements":[[11,"aside"],[24,0,"gh-alerts"],[17,2],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["notifications","alerts"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-alert",[],[["@message"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]],[13]],"hasEval":false,"upvars":["-track-array","each"]}',moduleName:"ghost-admin/components/gh-alerts.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="notifications",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}},o=n.prototype,l="notifications",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-app",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"8aitR5i8",block:'{"symbols":["&attrs","&default"],"statements":[[11,"div"],[24,0,"gh-app"],[17,1],[12],[2,"\\n    "],[18,2,null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-app.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-basic-dropdown",["exports","ember-basic-dropdown/components/basic-dropdown"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"HoiavaQO",block:'{"symbols":["api","&default","&attrs","@rootEventType","@preventScroll","@contentComponent","@triggerComponent"],"statements":[[6,[37,5],[[30,[36,4],null,[["uniqueId","isOpen","disabled","actions","Trigger","Content"],[[32,0,["publicAPI","uniqueId"]],[32,0,["publicAPI","isOpen"]],[32,0,["publicAPI","disabled"]],[32,0,["publicAPI","actions"]],[30,[36,3],[[30,[36,2],[[32,7],"basic-dropdown-trigger"],null]],[["dropdown","hPosition","renderInPlace","vPosition"],[[30,[36,1],[[32,0,["publicAPI"]]],null],[30,[36,1],[[32,0,["hPosition"]]],null],[30,[36,1],[[32,0,["renderInPlace"]]],null],[30,[36,1],[[32,0,["vPosition"]]],null]]]],[30,[36,3],[[30,[36,2],[[32,6],"basic-dropdown-content"],null]],[["dropdown","hPosition","renderInPlace","preventScroll","rootEventType","vPosition","destination","top","left","right","width","height","otherStyles"],[[30,[36,1],[[32,0,["publicAPI"]]],null],[30,[36,1],[[32,0,["hPosition"]]],null],[30,[36,1],[[32,0,["renderInPlace"]]],null],[30,[36,1],[[32,5]],null],[30,[36,2],[[32,4],"click"],null],[30,[36,1],[[32,0,["vPosition"]]],null],[30,[36,1],[[32,0,["destination"]]],null],[30,[36,1],[[32,0,["top"]]],null],[30,[36,1],[[32,0,["left"]]],null],[30,[36,1],[[32,0,["right"]]],null],[30,[36,1],[[32,0,["width"]]],null],[30,[36,1],[[32,0,["height"]]],null],[30,[36,1],[[32,0,["otherStyles"]]],null]]]]]]]],null,[["default"],[{"statements":[[6,[37,0],[[32,0,["renderInPlace"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"div"],[24,0,"ember-basic-dropdown"],[17,3],[12],[18,2,[[32,1]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[18,2,[[32,1]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["if","readonly","or","component","hash","let"]}',moduleName:"ghost-admin/components/gh-basic-dropdown.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(){var e,t,i,n
super(...arguments),e=this,t="dropdown",n=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),this.dropdown.on("close",this,this.close)}willDestroy(){this.dropdown.off("close",this,this.close)}},o=n.prototype,l="dropdown",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p,m=Ember._setComponentTemplate(a,s)
e.default=m})),define("ghost-admin/components/gh-benefit-item",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"TrYW2qwZ",block:'{"symbols":["@benefitItem","@deleteItem","@addItem","&attrs"],"statements":[[11,"div"],[16,0,[31,["gh-blognav-item ",[30,[36,3],[[32,1,["isNew"]],"gh-blognav-item--sortable"],null]]]],[17,4],[4,[38,4],null,[["errorClass","errors"],["gh-blognav-item--error",[32,1,["errors"]]]]],[12],[2,"\\n"],[6,[37,3],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"        "],[10,"span"],[14,0,"gh-blognav-grab"],[12],[2,"\\n            "],[1,[30,[36,2],["grab"],null]],[2,"\\n            "],[10,"span"],[14,0,"sr-only"],[12],[2,"Reorder"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[15,0,[31,["gh-blognav-line ",[30,[36,3],[[32,1,["name"]],"placeholder"],null]]]],[12],[2,"\\n        "],[1,[30,[36,2],["check-2"],null]],[2,"\\n        "],[11,"span"],[24,0,"gh-blognav-label"],[4,[38,4],null,[["errors","property","hasValidated"],[[32,1,["errors"]],"name",[32,1,["hasValidated"]]]]],[12],[2,"\\n            "],[8,"gh-trim-focus-input",[[24,"data-test-input","benefit-label"]],[["@shouldFocus","@placeholder","@value","@input","@keyPress","@stopEnterKeyDownPropagation","@focus-out"],[[32,1,["last"]],[30,[36,5],[[32,0,["isFreeTier"]],"Access to all public posts","Expert analysis"],null],[30,[36,6],[[32,1,["name"]]],null],[32,0,["handleLabelInput"]],[32,0,["clearLabelErrors"]],true,[30,[36,0],[[32,0,["updateLabel"]],[32,1,["name"]]],null]]],null],[2,"\\n\\n            "],[8,"gh-error-message",[[24,"data-test-error","benefit-label"]],[["@errors","@property"],[[32,1,["errors"]],"name"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,5],[[32,1,["isNew"]]],null,[["default","else"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-blognav-add"],[24,"data-test-button","add-benefit"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,3],[32,1]],null]],null],[12],[2,"\\n            "],[1,[30,[36,2],["plus"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Add"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"button"],[24,0,"gh-blognav-delete"],[24,"data-test-button","delete-benefit"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,2],[32,1]],null]],null],[12],[2,"\\n            "],[1,[30,[36,2],["trash"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Delete"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","on","svg-jar","unless","validation-status","if","readonly"]}',moduleName:"ghost-admin/components/gh-benefit-item.hbs"})
let l=(i=Ember._action,n=Ember._action,r=Ember._action,s((a=class extends t.default{handleLabelInput(e){this.updateLabel(e.target.value)}updateLabel(e){this.args.updateLabel(e,this.args.benefitItem)}clearLabelErrors(){this.args.benefitItem.errors?.remove("name")}}).prototype,"handleLabelInput",[i],Object.getOwnPropertyDescriptor(a.prototype,"handleLabelInput"),a.prototype),s(a.prototype,"updateLabel",[n],Object.getOwnPropertyDescriptor(a.prototype,"updateLabel"),a.prototype),s(a.prototype,"clearLabelErrors",[r],Object.getOwnPropertyDescriptor(a.prototype,"clearLabelErrors"),a.prototype),a)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-billing-iframe",["exports","@glimmer/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"Mp073491",block:'{"symbols":["&attrs"],"statements":[[11,"iframe"],[24,1,"billing-frame"],[24,0,"billing-frame"],[24,"frameborder","0"],[24,"title","Billing"],[17,1],[4,[38,0],[[32,0,["setup"]]],null],[12],[13]],"hasEval":false,"upvars":["did-insert"]}',moduleName:"ghost-admin/components/gh-billing-iframe.hbs"})
let E=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),y(this,"ajax",p,this),y(this,"billing",m,this),y(this,"ghostPaths",h,this),y(this,"notifications",b,this),y(this,"session",g,this),y(this,"config",f,this),y(this,"isOwner",v,this)}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("message",this.handleIframeMessage)}setup(){this.billing.getBillingIframe().src=this.billing.getIframeURL(),window.addEventListener("message",this.handleIframeMessage)}async handleIframeMessage(e){this.isDestroyed||this.isDestroying||e?.data&&this.billing.getIframeURL().includes(e?.origin)&&("token"===e.data?.request&&this._handleTokenRequest(),"forceUpgradeInfo"===e.data?.request&&this._handleForceUpgradeRequest(),e.data?.subscription&&this._handleSubscriptionUpdate(e.data))}_handleTokenRequest(){const e=()=>{this.isOwner=!1,this.billing.getBillingIframe().contentWindow.postMessage({request:"token",response:null},"*")}
if(!this.session.user?.isOwnerOnly)return void e()
const t=this.ghostPaths.url.api("identities")
this.ajax.request(t).then((e=>{const t=e?.identities?.[0]?.token
this.billing.getBillingIframe().contentWindow.postMessage({request:"token",response:t},"*"),this.isOwner=!0})).catch((t=>{if("NoPermissionError"!==t.payload?.errors?.[0]?.type)throw t
e()}))}_handleForceUpgradeRequest(){let e=null
const t=this.billing.ownerUser
t&&(e={name:t?.name,email:t?.email}),this.billing.getBillingIframe().contentWindow.postMessage({request:"forceUpgradeInfo",response:{forceUpgrade:this.config.hostSettings?.forceUpgrade,isOwner:this.isOwner,ownerUser:e}},"*")}_handleSubscriptionUpdate(e){if(this.billing.subscription=e.subscription,this.billing.checkoutRoute=e?.checkoutRoute??"/plans","active"===e.subscription.status&&this.config.hostSettings?.forceUpgrade&&(this.config.hostSettings.forceUpgrade=!1),"past_due"===e.subscription.status||"unpaid"===e.subscription.status?this.notifications.showAlert("Billing error: This site is queued for suspension. The owner of this site must update payment information.",{type:"error",key:"billing.overdue"}):this.notifications.closeAlerts("billing.overdue"),e?.exceededLimits&&e?.exceededLimits.length&&e?.exceededLimits.indexOf("members")>=0&&e?.checkoutRoute){const e=this.billing.billingRouteRoot+"?action=checkout"
this.notifications.showAlert(Ember.String.htmlSafe(`Your audience has grown! To continue publishing, the site owner must confirm pricing for this number of members <a href="${e}">here</a>`),{type:"warn",key:"billing.exceeded"})}else this.notifications.closeAlerts("billing.exceeded")}},p=w(d.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w(d.prototype,"billing",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(d.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(d.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(d.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(d.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(d.prototype,"isOwner",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w(d.prototype,"setup",[u],Object.getOwnPropertyDescriptor(d.prototype,"setup"),d.prototype),w(d.prototype,"handleIframeMessage",[c],Object.getOwnPropertyDescriptor(d.prototype,"handleIframeMessage"),d.prototype),d)
e.default=E,Ember._setComponentTemplate(k,E)})),define("ghost-admin/components/gh-billing-modal",["exports"],(function(e){var t,i,n,r
function a(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"lzYnLSWw",block:'{"symbols":[],"statements":[[10,"div"],[15,0,[31,[[32,0,["visibilityClass"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-billing-container"],[12],[2,"\\n        "],[8,"gh-billing-iframe",[],[[],[]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-billing-modal.hbs"})
let o=(t=Ember.inject.service,i=Ember.computed("billingWindowOpen"),n=class extends Ember.Component{constructor(...e){var t,i,n,a
super(...e),t=this,i="billing",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get visibilityClass(){return this.billingWindowOpen?"gh-billing":"gh-billing closed"}},r=a(n.prototype,"billing",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(n.prototype,"visibilityClass",[i],Object.getOwnPropertyDescriptor(n.prototype,"visibilityClass"),n.prototype),n)
e.default=o,Ember._setComponentTemplate(s,o)})),define("ghost-admin/components/gh-billing-update-button",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"zVE9ufTm",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["showUpgradeButton"]]],null,[["default"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],"openBilling"],null],[12],[10,"span"],[12],[2,"Upgrade"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","if"]}',moduleName:"ghost-admin/components/gh-billing-update-button.hbs"})
let y=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.computed.reads("billing.subscription.isActiveTrial"),o=Ember._action,l=class extends Ember.Component{constructor(...e){super(...e),b(this,"router",u,this),b(this,"ghostPaths",c,this),b(this,"ajax",d,this),b(this,"billing",p,this),b(this,"config",m,this),g(this,"subscription",null),b(this,"showUpgradeButton",h,this)}openBilling(){this.billing.openBillingWindow(this.router.currentURL,"/pro/billing/plans")}},u=f(l.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=f(l.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(l.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(l.prototype,"billing",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(l.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(l.prototype,"showUpgradeButton",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(l.prototype,"openBilling",[o],Object.getOwnPropertyDescriptor(l.prototype,"openBilling"),l.prototype),l)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-blog-url",["exports","ghost-admin/decorators/inject","@ember-decorators/component"],(function(e,t,i){var n,r,a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"PxxYavE9",block:'{"symbols":[],"statements":[[2,[32,0,["config","blogUrl"]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-blog-url.hbs"})
let o=(0,i.tagName)("")((r=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="config",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},l=r.prototype,u="config",c=[t.inject],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),a=m,n=r))||n
var l,u,c,d,p,m
e.default=o,Ember._setComponentTemplate(s,o)})),define("ghost-admin/components/gh-browser-preview",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"ev+R/3Y0",block:'{"symbols":["@icon","@title","@isMobilePreview","&attrs","&default"],"statements":[[11,"div"],[16,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-container flex justify-center","gh-browserpreview-previewcontainer"],null]]]],[17,4],[12],[2,"\\n"],[6,[37,3],[[32,3]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-browserpreview-browser"],[12],[2,"\\n            "],[10,"div"],[14,0,"tabs"],[12],[2,"\\n                "],[10,"ul"],[12],[10,"li"],[12],[13],[10,"li"],[12],[13],[10,"li"],[12],[13],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"favicon"],[12],[10,"img"],[15,"src",[30,[36,1],[[32,1],[32,0,["settings","icon"]]],null]],[14,"alt","icon"],[12],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[14,0,"favicon default"],[12],[1,[30,[36,0],["default-favicon"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"span"],[14,0,"site-title"],[12],[1,[30,[36,1],[[32,2],[32,0,["settings","title"]]],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[15,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-bezel","gh-browserpreview-iframecontainer"],null]]]],[12],[2,"\\n        "],[10,"div"],[15,0,[31,[[30,[36,2],[[32,3],"gh-pe-mobile-screen"],null]]]],[12],[2,"\\n            "],[18,5,null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","or","if","unless"]}',moduleName:"ghost-admin/components/gh-browser-preview.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}},o=n.prototype,l="settings",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-canvas-header",["exports","@glimmer/component"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"nV9MgBH/",block:'{"symbols":["&attrs","&default"],"statements":[[11,"div"],[17,1],[4,[38,0],[[32,0,["onScroll"]]],[["scrollContainer"],[".gh-main"]]],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-canvas-header-content"],[12],[2,"\\n        "],[18,2,null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on-scroll"]}',moduleName:"ghost-admin/components/gh-canvas-header.hbs"})
let a=(i=Ember._action,n=class extends t.default{onScroll(e,t){this._isSticky&&t.scrollTop<10?(e.classList.remove("gh-canvas-header--sticky"),this._isSticky=!1):!this._isSticky&&t.scrollTop>10&&(e.classList.add("gh-canvas-header--sticky"),this._isSticky=!0)}},s=n.prototype,o="onScroll",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"onScroll"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-cm-editor",["exports","@ember-decorators/component","ghost-admin/utils/bound-one-way","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"RBJCUHDq",block:'{"symbols":[],"statements":[[8,"gh-textarea",[],[["@class","@value","@input"],[[30,[36,0],["gh-cm-editor-textarea ",[32,0,["textareaClass"]]],null],[30,[36,1],[[32,0,["_value"]]],null],[30,[36,2],[[32,0],"updateFromTextarea"],[["value"],["target.value"]]]]],null],[2,"\\n"]],"hasEval":false,"upvars":["concat","readonly","action"]}',moduleName:"ghost-admin/components/gh-cm-editor.hbs"})
let v=(r=(0,t.classNameBindings)("isFocused:focus"),a=Ember.inject.service,s=(0,i.default)("value"),o=Ember._action,l=(0,n.task)((function*(){let e=this.lazyLoader
yield e.loadScript("codemirror","assets/codemirror/codemirror-31d641cdd0cb3388688402609608cb10.js"),Ember.run.scheduleOnce("afterRender",this,this._initCodeMirror)})),r((c=class extends Ember.Component{constructor(...e){super(...e),h(this,"lazyLoader",d,this),b(this,"textareaClass",""),b(this,"isFocused",!1),b(this,"autofocus",!1),b(this,"indentUnit",4),b(this,"lineNumbers",!0),b(this,"lineWrapping",!1),b(this,"mode","htmlmixed"),b(this,"theme","xq-light"),b(this,"_editor",null),b(this,"focus-in",(()=>{})),b(this,"focus-out",(()=>{})),b(this,"update",(()=>{})),h(this,"_value",p,this),h(this,"initCodeMirror",m,this)}didReceiveAttrs(){super.didReceiveAttrs(...arguments),null===this._value&&this.set("_value",""),this.mode!==this._lastMode&&this._editor&&this._editor.setOption("mode",this.mode),this._lastMode=this.mode}didInsertElement(){super.didInsertElement(...arguments),this.initCodeMirror.perform()}willDestroyElement(){if(super.willDestroyElement(...arguments),this._editor){let e=this._editor.getWrapperElement()
e.parentNode.removeChild(e),this._editor=null}}updateFromTextarea(e){this.update(e)}_initCodeMirror(){let e=this.getProperties("lineNumbers","lineWrapping","indentUnit","mode","theme","autofocus")
Ember.assign(e,{value:this._value})
let t=this.element.querySelector("textarea")
t&&t===document.activeElement&&(e.autofocus=!0),this._editor=new CodeMirror.fromTextArea(t,e),e.autofocus&&this._editor.setCursor(this._editor.lineCount(),0),this._setupCodeMirrorEventHandler("focus",this,this._focus),this._setupCodeMirrorEventHandler("blur",this,this._blur),this._setupCodeMirrorEventHandler("change",this,this._update)}_setupCodeMirrorEventHandler(e,t,i){let n=Ember.run.bind(t,i)
this._editor.on(e,n),this.one("willDestroyElement",this,(function(){this._editor.off(e,n)}))}_update(e,t){Ember.run.once(this,this.update,e.getValue(),e,t)}_focus(e,t){this.set("isFocused",!0),Ember.run.once(this,this["focus-in"],e.getValue(),e,t)}_blur(){this.set("isFocused",!1),this["focus-out"]?.()}},d=g(c.prototype,"lazyLoader",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(c.prototype,"_value",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"updateFromTextarea",[o],Object.getOwnPropertyDescriptor(c.prototype,"updateFromTextarea"),c.prototype),m=g(c.prototype,"initCodeMirror",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=c))||u)
var y=Ember._setComponentTemplate(f,v)
e.default=y})),define("ghost-admin/components/gh-content-cover",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=(0,t.classNames)("content-cover"),n=Ember.inject.service,i((a=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="ui",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}click(){this.ui.closeMenus()}},l=a.prototype,u="ui",c=[n],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),s=m,r=a))||r)
var l,u,c,d,p,m
e.default=o})),define("ghost-admin/components/gh-context-menu",["exports","@glimmer/component","ghost-admin/utils/selection-list","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x
function S(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function C(e,t,i){M(e,t),t.set(e,i)}function M(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function D(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,N(e,t,"set"),i),i}function I(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,N(e,t,"get"))}function N(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function L(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance")
return i}function R(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const U=Ember.HTMLBars.template({id:"ZqFocOf3",block:'{"symbols":["&default"],"statements":[[11,"div"],[24,"role","menu"],[24,0,"gh-context-menu-container"],[16,"data-open",[32,0,["isOpen"]]],[4,[38,0],[[32,0,["setup"]]],null],[4,[38,1],["click",[32,0,["stopClicks"]]],null],[12],[2,"\\n    "],[10,"div"],[15,0,[31,["gh-context-menu ",[32,0,["class"]]]]],[15,5,[32,0,["style"]]],[12],[2,"\\n        "],[18,1,[[32,0],[32,0,["selectionList"]]]],[2,"\\n    "],[13],[2,"\\n    "],[11,"div"],[24,"role","none"],[24,0,"gh-context-menu-overlay"],[4,[38,1],["click",[32,0,["close"]]],null],[4,[38,1],["contextmenu",[32,0,["onContextMenuOutside"]]],null],[12],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","on"]}',moduleName:"ghost-admin/components/gh-context-menu.hbs"})
let F=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,T=new WeakMap,z=new WeakMap,x=new WeakSet,v=class extends t.default{constructor(...e){var t,i
super(...e),M(t=this,i=x),i.add(t),S(this,"dropdown",y,this),S(this,"modals",w,this),S(this,"isOpen",k,this),S(this,"left",E,this),S(this,"top",P,this),S(this,"yPlacement",O,this),S(this,"xPlacement",j,this),S(this,"selectionList",_,this),D(this,"element",null),D(this,"state","default"),C(this,T,{writable:!0,value:null}),C(this,z,{writable:!0,value:null})}setState(e){switch(e){case this.state:return
case"default":return this.isOpen=!1,L(this,x,B).call(this),this.selectionList.unfreeze(),void(this.state=e)
case"open":if("default"!==this.state)return
return this.isOpen=!0,this.selectionList.freeze(),L(this,x,B).call(this),void(this.state=e)
case"modal":if("open"!==this.state)return
return this.isOpen=!1,this.selectionList.freeze(),void(this.state=e)
case"loading":if("open"!==this.state&&"modal"!==this.state)return
return this.isOpen=!1,this.selectionList.freeze(),void(this.state=e)}}get name(){return this.args.name}get style(){return`left: ${this.left}px; top: ${this.top}px;`}get class(){return`gh-placement-${this.yPlacement} gh-placement-${this.xPlacement}`}setup(e){this.element=e
const t=this.dropdown
t.on("close",this,this.close),t.on("toggle",this,this.toggle)}willDestroy(){super.willDestroy(...arguments),this.element=null
const e=this.dropdown
e.off("close",this,this.close),e.off("toggle",this,this.toggle)}open(){this.setState("open")}close(){"open"===this.state&&this.setState("default")}onContextMenuOutside(e){this.close(),e.preventDefault(),e.stopPropagation()}toggle(e){const t=e.target
this.name===t?(void 0!==e.left&&(this.left=e.left,this.top=e.top),e.selectionList&&(this.selectionList=e.selectionList),this.calculatePlacement(),this.open()):this.close()}get listElement(){return this.element?.firstElementChild?.firstElementChild}calculatePlacement(){if(!this.element||!this.listElement)return
const e=window.innerHeight,t=window.innerWidth,i=this.listElement.offsetHeight,n=this.listElement.offsetWidth
this.top+i+10<e?this.yPlacement="bottom":this.yPlacement="top",this.left+n+10<t?this.xPlacement="right":this.xPlacement="left"}stopClicks(e){e.stopPropagation()}*confirmWrapperTask(...e){this.setState("loading")
let t=yield I(this,T).perform(...e)
return A(this,T,null),this.setState("default"),t}openModal(e,t){A(this,T,t.confirm),t.confirm=this.confirmWrapperTask,this.setState("modal"),A(this,z,this.modals.open(e,t)),I(this,z).then((()=>{setTimeout((()=>{this.setState("default")}),10)}))}async performTask(e){this.setState("loading"),await e.perform(),this.setState("default")}},y=R(v.prototype,"dropdown",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=R(v.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=R(v.prototype,"isOpen",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=R(v.prototype,"left",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=R(v.prototype,"top",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=R(v.prototype,"yPlacement",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"bottom"}}),j=R(v.prototype,"xPlacement",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"right"}}),_=R(v.prototype,"selectionList",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i.default}}),R(v.prototype,"setup",[p],Object.getOwnPropertyDescriptor(v.prototype,"setup"),v.prototype),R(v.prototype,"open",[m],Object.getOwnPropertyDescriptor(v.prototype,"open"),v.prototype),R(v.prototype,"close",[h],Object.getOwnPropertyDescriptor(v.prototype,"close"),v.prototype),R(v.prototype,"onContextMenuOutside",[b],Object.getOwnPropertyDescriptor(v.prototype,"onContextMenuOutside"),v.prototype),R(v.prototype,"toggle",[g],Object.getOwnPropertyDescriptor(v.prototype,"toggle"),v.prototype),R(v.prototype,"stopClicks",[f],Object.getOwnPropertyDescriptor(v.prototype,"stopClicks"),v.prototype),R(v.prototype,"confirmWrapperTask",[n.task],Object.getOwnPropertyDescriptor(v.prototype,"confirmWrapperTask"),v.prototype),v)
function B(){I(this,z)?.close(),A(this,z,null)}e.default=F,Ember._setComponentTemplate(U,F)})),define("ghost-admin/components/gh-custom-view-title",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"3Gtfrmc5",block:'{"symbols":["@query","@title"],"statements":[[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n"],[6,[37,2],[[32,0,["customViews","activeView"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n            "],[8,"link-to",[],[["@route","@query"],[[32,0,["router","currentRouteName"]],[32,1]]],[["default"],[{"statements":[[2,"\\n                "],[1,[30,[36,0],[[32,2],"No @title provided"],null]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[1,[30,[36,1],["arrow-right-small"],null]],[2," "],[1,[32,0,["customViews","activeView","name"]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title gh-post-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            "],[1,[32,0,["customViews","activeView","name"]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            "],[8,"link-to",[],[["@route","@query"],[[32,0,["router","currentRouteName"]],[32,1]]],[["default"],[{"statements":[[1,[30,[36,0],[[32,2],"No @title provided"],null]]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["or","svg-jar","if"]}',moduleName:"ghost-admin/components/gh-custom-view-title.hbs"})
let c=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"customViews",a,this),o(this,"router",s,this)}},a=l(r.prototype,"customViews",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c,Ember._setComponentTemplate(u,c)})),define("ghost-admin/components/gh-date-picker",["exports","@glimmer/component","moment-timezone"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DateError=void 0
const m=Ember.HTMLBars.template({id:"Iah1C2yS",block:'{"symbols":["dp","&default","&attrs","@value","@disabled"],"statements":[[2,"\\n"],[11,"div"],[24,0,"gh-date-picker"],[17,3],[12],[2,"\\n    "],[8,"power-datepicker",[],[["@selected","@center","@onSelect","@renderInPlace","@disabled"],[[32,4],[32,4],[32,0,["onDateSelected"]],true,[32,5]]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["Trigger"]],[[24,"data-test-date-picker-trigger",""]],[["@tabindex"],["-1"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[15,0,[31,[[30,[36,3],[[32,0,["error"]],"error"],null]]]],[12],[2,"\\n                "],[11,"input"],[16,"placeholder",[32,0,["dateFormat"]]],[16,2,[30,[36,4],[[32,4],[32,0,["dateFormat"]]],null]],[16,"disabled",[32,5]],[24,"aria-label","Selected date"],[24,0,"gh-input gh-datepicker-input"],[24,"data-test-date-picker-input",""],[24,4,"text"],[4,[38,6],["input",[30,[36,5],[[32,0,["onDateInput"]],[32,1]],null]],null],[4,[38,6],["blur",[32,0,["onDateBlur"]]],null],[4,[38,6],["keydown",[30,[36,5],[[32,0,["onDateKeydown"]],[32,1]],null]],null],[4,[38,7],[[32,0,["resetInputValue"]],[32,4]],null],[12],[13],[2,"\\n                "],[1,[30,[36,8],["calendar"],[["class"],["gh-date-picker-cal-icon"]]]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,1,["Content"]],[[24,0,"dropdown-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[27,[32,2]]],null,[["default","else"],[{"statements":[[2,"                "],[18,2,[[30,[36,2],[[32,1],[30,[36,1],null,[["select","Triger","Content","Nav","Days"],[[32,0,["onDateSelected"]],null,null,[32,1,["Nav"]],[30,[36,0],[[32,1,["Days"]]],[["minDate","maxDate","weekdayFormat"],[[32,0,["minDate"]],[32,0,["maxDate"]],"min"]]]]]]],null]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,[32,1,["Nav"]],[],[[],[]],null],[2,"\\n                "],[8,[32,1,["Days"]],[],[["@minDate","@maxDate","@weekdayFormat"],[[32,0,["minDate"]],[32,0,["maxDate"]],"min"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-date-time-picker-error"],[14,"data-test-date-picker-error",""],[12],[1,[32,0,["error"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["component","hash","assign","if","moment-format","fn","on","did-update","svg-jar"]}',moduleName:"ghost-admin/components/gh-date-picker.hbs"})
class h extends Error{constructor(e){"string"==typeof e?super(e):(super(e.message),Object.keys(e).forEach((t=>{"message"!==t&&(this[t]=e[t])})))}}e.DateError=h
let b=(n=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="error",r=this,(n=d)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get dateFormat(){return"YYYY-MM-DD"}get minDate(){return this._minMaxMoment(this.args.minDate)}get maxDate(){return this._minMaxMoment(this.args.maxDate)}setDate(e){if(this.error=null,!e.match(/^\d\d\d\d-\d\d-\d\d$/))return this.error=`Date must be ${this.dateFormat}`,this.args.onError?.(new h({message:this.error,date:e})),!1
const t=(0,i.default)(e)
return t.isValid()?this.args.minDate&&t.isBefore((0,i.default)(this.args.minDate))?(this.error=this.args.minDateError||`Must be on or after ${(0,i.default)(this.args.minDate).format(this.dateFormat)}`,this.args.onError?.(new h({message:this.error,date:e})),!1):this.args.maxDate&&t.isAfter((0,i.default)(this.args.maxDate))?(this.error=this.args.maxDateError||`Must be on or before ${(0,i.default)(this.args.maxDate).format(this.dateFormat)}`,this.args.onError?.(new h({message:this.error,date:e})),!1):void this.args.onChange?.(t.toDate()):(this.error="Invalid date",this.args.onError?.(new h({message:this.error,date:e})),!1)}onDateSelected(e){e instanceof i.default?this.setDate(e.format(this.dateFormat)):this.setDate(e.id)}onDateInput(e,t){e.actions.close(t,!0),this.args.onInput?.(t)}onDateBlur(e){const t=e.target.value
t?this.setDate(t):this.resetInputValue(e.target),this.args.onBlur?.(e)}onDateKeydown(e,t){"Escape"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.resetInputValue(t.target)),"Enter"===t.key&&(t.preventDefault(),t.stopImmediatePropagation(),this.setDate(t.target.value),e.actions.close()),this.args.onKeydown?.(t)}resetInputValue(e){e.value=(0,i.default)(this.args.value).format(this.dateFormat),this.error=null}_minMaxMoment(e){return"now"===e?(0,i.default)((0,i.default)().format(this.dateFormat)):Ember.isBlank(e)?null:(0,i.default)((0,i.default)(e).format(this.dateFormat))}},d=p(c.prototype,"error",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p(c.prototype,"setDate",[r],Object.getOwnPropertyDescriptor(c.prototype,"setDate"),c.prototype),p(c.prototype,"onDateSelected",[a],Object.getOwnPropertyDescriptor(c.prototype,"onDateSelected"),c.prototype),p(c.prototype,"onDateInput",[s],Object.getOwnPropertyDescriptor(c.prototype,"onDateInput"),c.prototype),p(c.prototype,"onDateBlur",[o],Object.getOwnPropertyDescriptor(c.prototype,"onDateBlur"),c.prototype),p(c.prototype,"onDateKeydown",[l],Object.getOwnPropertyDescriptor(c.prototype,"onDateKeydown"),c.prototype),p(c.prototype,"resetInputValue",[u],Object.getOwnPropertyDescriptor(c.prototype,"resetInputValue"),c.prototype),c)
e.default=b,Ember._setComponentTemplate(m,b)})),define("ghost-admin/components/gh-date-time-picker",["exports","moment-timezone","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const z=Ember.HTMLBars.template({id:"MyvDe+Rn",block:'{"symbols":["dp","@datePickerTriggerClass","@datePickerClass","@timeInputClass"],"statements":[[10,"div"],[14,0,"gh-date-time-picker"],[14,"data-test-component","gh-date-time-picker"],[12],[2,"\\n    "],[8,"power-datepicker",[],[["@selected","@center","@onSelect","@renderInPlace","@disabled"],[[30,[36,0],[[32,0,["localDateValue"]]],null],[30,[36,0],[[32,0,["localDateValue"]]],null],[30,[36,1],[[32,0],"setLocalDate"],[["value"],["date"]]],[32,0,["renderInPlaceWithFallback"]],[32,0,["disabled"]]]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["Trigger"]],[[16,0,[32,2]],[24,"data-test-date-time-picker-datepicker",""]],[["@tabindex"],["-1"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[15,0,[31,["gh-date-time-picker-date ",[30,[36,2],[[32,0,["dateError"]],"error"],null]]]],[12],[2,"\\n                "],[11,"input"],[16,"placeholder",[32,0,["dateFormat"]]],[16,2,[30,[36,0],[[32,0,["dateValue"]]],null]],[16,"disabled",[32,0,["disabled"]]],[24,"data-test-date-time-picker-date-input",""],[24,4,"text"],[4,[38,4],["input",[30,[36,3],[[32,0,["onDateInput"]],[32,1]],null]],null],[4,[38,4],["blur",[32,0,["onDateBlur"]]],null],[4,[38,4],["keydown",[30,[36,3],[[32,0,["onDateKeydown"]],[32,1]],null]],null],[12],[13],[2,"\\n                "],[1,[30,[36,5],["calendar"],null]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n        "],[8,[32,1,["Content"]],[[16,0,[31,["dropdown-menu ",[32,3]]]]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[8,[32,1,["Nav"]],[],[[],[]],null],[2,"\\n            "],[8,[32,1,["Days"]],[],[["@minDate","@maxDate","@weekdayFormat"],[[32,0,["_minDate"]],[32,0,["_maxDate"]],"min"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-date-time-picker-time ",[30,[36,2],[[32,0,["hasError"]],"error"],null]," ",[32,4]]]],[12],[2,"\\n        "],[11,"input"],[16,2,[32,0,["_time"]]],[16,"disabled",[32,0,["disabled"]]],[24,"data-test-date-time-picker-time-input",""],[24,4,"text"],[4,[38,4],["change",[32,0,["updateTimeValue"]]],null],[4,[38,4],["blur",[30,[36,3],[[32,0,["setTimeInternal"]],[32,0,["_time"]]],null]],null],[4,[38,6],[[32,0,["registerTimeInput"]]],null],[12],[13],[2,"\\n        "],[10,"small"],[14,0,"gh-date-time-picker-timezone"],[14,"data-test-date-time-picker-timezone",""],[12],[1,[32,0,["timezone"]]],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasError"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-date-time-picker-error"],[14,"data-test-date-time-picker-error",""],[12],[1,[32,0,["dateError"]]],[1,[32,0,["timeError"]]],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["readonly","action","if","fn","on","svg-jar","did-insert"]}',moduleName:"ghost-admin/components/gh-date-time-picker.hbs"}),x="YYYY-MM-DD"
let S=(n=(0,i.tagName)(""),r=Ember.inject.service,a=Ember.computed.reads("settings.timezone"),s=Ember.computed.or("dateError","timeError"),o=Ember.computed("_date","_scratchDate"),l=Ember.computed("_date"),u=Ember.computed("blogTimezone"),c=Ember.computed("errors.[]","dateErrorProperty","_scratchDateError"),d=Ember.computed("errors.[]","timeErrorProperty"),p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,n((k=class extends Ember.Component{constructor(...e){super(...e),j(this,"settings",E,this),_(this,"date",""),_(this,"dateFormat",x),_(this,"time",""),_(this,"errors",null),_(this,"dateErrorProperty",null),_(this,"timeErrorProperty",null),_(this,"isActive",!0),_(this,"_time",""),_(this,"_previousTime",""),_(this,"_minDate",null),_(this,"_maxDate",null),_(this,"_scratchDate",null),_(this,"_scratchDateError",null),j(this,"blogTimezone",P,this),j(this,"hasError",O,this)}setTypedDateError(){}get renderInPlaceWithFallback(){return void 0===this.renderInPlace||this.renderInPlace}get dateValue(){return null!==this._scratchDate?this._scratchDate:this._date?.format(x)}get localDateValue(){return new Date(this._date.format(x))}get timezone(){let e=this.blogTimezone
return t.default.utc().tz(e).format("z")}get dateError(){if(this._scratchDateError)return this._scratchDateError
let e=this.errors,t=this.dateErrorProperty
return e&&!Ember.isEmpty(e.errorsFor(t))?e.errorsFor(t).get("firstObject").message:""}get timeError(){let e=this.errors,t=this.timeErrorProperty
return e&&!Ember.isEmpty(e.errorsFor(t))?e.errorsFor(t).get("firstObject").message:""}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.date,i=this.time,n=this.minDate,r=this.maxDate,a=this.blogTimezone
Ember.isBlank(e)?this.set("_date",(0,t.default)().tz(a)):this.set("_date",t.default.tz(e,a)),!this.isActive&&this._lastIsActive&&this._resetScratchDate(),this._lastIsActive=this.isActive,(e&&e.valueOf())!==(this._lastDate&&this._lastDate.valueOf())&&this._resetScratchDate(),this._lastDate=this.date,Ember.isBlank(i)?this.set("_time",this._date.format("HH:mm")):this.set("_time",this.time),this.set("_previousTime",this._time),"now"===n?this.set("_minDate",(0,t.default)((0,t.default)().tz(a).format(x)).toDate()):Ember.isBlank(n)?this.set("_minDate",null):this.set("_minDate",(0,t.default)(t.default.tz(n,a).format(x)).toDate()),"now"===r?this.set("_maxDate",(0,t.default)((0,t.default)().tz(a).format(x)).toDate()):Ember.isBlank(r)?this.set("_maxDate",null):this.set("_maxDate",(0,t.default)(t.default.tz(r,a).format(x)).toDate())}willDestroyElement(){super.willDestroyElement(...arguments),this.setTypedDateError(null)}setDateInternal(e){e!==this._date&&(this.setDate(e),Ember.isBlank(this.time)&&this.setTime(this._time))}setLocalDate(e){const i=(0,t.default)(e).format(x)
this._setDate(i)}setTimeInternal(e,t){e.match(/^\d:\d\d$/)&&(e=`0${e}`),e!==this._previousTime&&(this.setTime(e,t),this.set("_previousTime",e),Ember.isBlank(this.date)&&this.setDate(this._date.toDate()))}updateTimeValue(e){this.set("_time",e.target.value)}registerTimeInput(e){this._timeInputElem=e}onDateInput(e,t){e.actions.close(t,!0),this.set("_scratchDate",t.target.value)}onDateBlur(e){e.target.value!==this._date.format("YYYY-MM-DD")&&e.target.value?this._setDate(e.target.value):this._resetScratchDate()}onDateKeydown(e,t){if("Escape"===t.key&&this._resetScratchDate(),"Enter"===t.key&&(this._setDate(t.target.value),t.preventDefault(),t.stopImmediatePropagation(),e.actions.close()),"Tab"===t.key&&e.isOpen&&(e.actions.close(),!t.shiftKey&&this._timeInputElem&&(t.preventDefault(),this._timeInputElem.focus(),this._timeInputElem.select())),"s"===t.key&&(t.ctrlKey||t.metaKey)){this._setDate(t.target.value)||(t.stopImmediatePropagation(),t.preventDefault())}}_resetScratchDate(){this.set("_scratchDate",null),this._setScratchDateError(null)}_setDate(e){if(!e.match(/^\d\d\d\d-\d\d-\d\d$/))return this._setScratchDateError("Invalid date format, must be YYYY-MM-DD"),!1
let i=t.default.tz(e,x,this.blogTimezone)
return i.isValid()?(this.setDateInternal(i.toDate()),this._resetScratchDate(),!0):(this._setScratchDateError("Invalid date"),!1)}_setScratchDateError(e){this.set("_scratchDateError",e),this.setTypedDateError(e)}},E=T(k.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(k.prototype,"blogTimezone",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(k.prototype,"hasError",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(k.prototype,"dateValue",[o],Object.getOwnPropertyDescriptor(k.prototype,"dateValue"),k.prototype),T(k.prototype,"localDateValue",[l],Object.getOwnPropertyDescriptor(k.prototype,"localDateValue"),k.prototype),T(k.prototype,"timezone",[u],Object.getOwnPropertyDescriptor(k.prototype,"timezone"),k.prototype),T(k.prototype,"dateError",[c],Object.getOwnPropertyDescriptor(k.prototype,"dateError"),k.prototype),T(k.prototype,"timeError",[d],Object.getOwnPropertyDescriptor(k.prototype,"timeError"),k.prototype),T(k.prototype,"setDateInternal",[p],Object.getOwnPropertyDescriptor(k.prototype,"setDateInternal"),k.prototype),T(k.prototype,"setLocalDate",[m],Object.getOwnPropertyDescriptor(k.prototype,"setLocalDate"),k.prototype),T(k.prototype,"setTimeInternal",[h],Object.getOwnPropertyDescriptor(k.prototype,"setTimeInternal"),k.prototype),T(k.prototype,"updateTimeValue",[b],Object.getOwnPropertyDescriptor(k.prototype,"updateTimeValue"),k.prototype),T(k.prototype,"registerTimeInput",[g],Object.getOwnPropertyDescriptor(k.prototype,"registerTimeInput"),k.prototype),T(k.prototype,"onDateInput",[f],Object.getOwnPropertyDescriptor(k.prototype,"onDateInput"),k.prototype),T(k.prototype,"onDateBlur",[v],Object.getOwnPropertyDescriptor(k.prototype,"onDateBlur"),k.prototype),T(k.prototype,"onDateKeydown",[y],Object.getOwnPropertyDescriptor(k.prototype,"onDateKeydown"),k.prototype),w=k))||w)
e.default=S,Ember._setComponentTemplate(z,S)})),define("ghost-admin/components/gh-dropdown-button",["exports","ghost-admin/mixins/dropdown-mixin","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=(0,i.tagName)("button"),r=(0,i.attributeBindings)("href","role","type"),a=Ember.inject.service,s=Ember.computed,n(o=r((l=class extends(Ember.Component.extend(t.default)){constructor(...e){var t,i,n,r
super(...e),t=this,i="dropdown",r=this,(n=u)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),c(this,"role","button"),c(this,"dropdownName",null)}get type(){return"button"===this.tagName?"button":null}click(){if(super.click(...arguments),this.dropdown.toggleDropdown(this.dropdownName,this),"a"===this.tagName)return!1}},u=d(l.prototype,"dropdown",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"type",[s],Object.getOwnPropertyDescriptor(l.prototype,"type"),l.prototype),o=l))||o)||o)
e.default=p})),define("ghost-admin/components/gh-dropdown",["exports","ghost-admin/mixins/dropdown-mixin","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=(0,i.classNames)("dropdown"),r=(0,i.classNameBindings)("fadeIn:fade-in-scale:fade-out","isOpen:open:closed"),a=Ember.inject.service,s=Ember.computed("isOpen","closing"),n(o=r((l=class extends(Ember.Component.extend(t.default)){constructor(...e){var t,i,n,r
super(...e),t=this,i="dropdown",r=this,(n=u)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),c(this,"name",null),c(this,"closeOnClick",!1),c(this,"closing",!1),c(this,"isOpen",!1)}onClose(){}get fadeIn(){return this.isOpen&&!this.closing}didInsertElement(){super.didInsertElement(...arguments)
let e=this.dropdown
e.on("close",this,this.close),e.on("toggle",this,this.toggle),this._animationEndHandler=Ember.run.bind(this,(function(e){"fade-out"===e.animationName&&this.closing&&(this.set("isOpen",!1),this.set("closing",!1),this.onClose?.())})),this.element.addEventListener("animationend",this._animationEndHandler)}willDestroyElement(){super.willDestroyElement(...arguments)
let e=this.dropdown
e.off("close",this,this.close),e.off("toggle",this,this.toggle),this.element.removeEventListener("animationend",this._animationEndHandler)}open(){this.set("isOpen",!0),this.set("closing",!1),this.set("button.isOpen",!0)}close(){this.set("closing",!0),this.button&&this.set("button.isOpen",!1)}toggle(e){let t=this.closing,i=this.isOpen,n=this.name,r=e.target,a=this.button
n!==r||i&&!t?i&&this.close():(a||(a=e.button,this.set("button",a)),this.open())}click(){if(super.click(...arguments),this.closeOnClick)return this.close()}},u=d(l.prototype,"dropdown",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"fadeIn",[s],Object.getOwnPropertyDescriptor(l.prototype,"fadeIn"),l.prototype),o=l))||o)||o)
e.default=p})),define("ghost-admin/components/gh-editor-feature-image",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P
function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"qG6YW50Y",block:'{"symbols":["uploader","error","@caption","@isHidden","@updateCaption","@alt","@image","@clearImage"],"statements":[[11,"div"],[24,0,"gh-editor-feature-image-container"],[4,[38,0],["mouseover",[30,[36,6],[[30,[36,5],[[32,0,["isHovered"]]],null],true],null]],null],[4,[38,0],["mouseleave",[30,[36,6],[[30,[36,5],[[32,0,["isHovered"]]],null],false],null]],null],[12],[2,"\\n"],[2,"    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setUploadedImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,12],[[32,7]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[24,0,"gh-editor-feature-image-dropzone"],[4,[38,0],["dragover",[32,0,["dragOver"]]],null],[4,[38,0],["dragleave",[32,0,["dragLeave"]]],null],[4,[38,0],["drop",[30,[36,6],[[32,0,["drop"]],[32,1,["setFiles"]]],null]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["canDrop"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-editor-feature-image-drop-indicator bg-green br-pill pe-none"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,1,["errors"]]],null,[["default","else"],[{"statements":[[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","feature-image"],[12],[2,"\\n                    "],[1,[30,[36,9],[[32,2,["context"]],[32,2,["message"]]],null]],[2,"\\n                    "],[11,"button"],[24,0,"ml2 b"],[24,4,"button"],[4,[38,0],["click",[32,1,["cancel"]]],null],[12],[2,"Retry"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2]}]]]],"parameters":[]},{"statements":[[6,[37,2],[[32,7]],null,[["default","else"],[{"statements":[[6,[37,2],[[32,4]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[14,0,"gh-editor-hidden-indicator"],[14,"data-tooltip","Feature image and post title are hidden on page"],[12],[2,"\\n                    "],[1,[30,[36,1],["eye-closed"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"gh-editor-feature-image-indicator"],[14,"data-tooltip","A feature image is publicly visible to anyone"],[12],[2,"\\n                    "],[1,[30,[36,1],["feature-image"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"gh-editor-feature-image"],[12],[2,"\\n                "],[10,"img"],[15,"src",[32,7]],[15,"alt",[32,6]],[15,"role",[30,[36,2],[[32,6],"img","presentation"],null]],[15,0,[31,[[30,[36,2],[[32,4],"faded"],null]]]],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-feature-image-overlay"],[12],[13],[2,"\\n"],[6,[37,2],[[30,[36,8],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"koenig-image-editor",[],[["@imageSrc","@saveImage"],[[32,7],[30,[36,6],[[32,0,["saveImage"]],[32,1,["setFiles"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,0,"image-action image-delete"],[24,"title","Delete image"],[24,4,"button"],[4,[38,0],["click",[32,8]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["koenig/kg-trash"],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"flex justify-between align-center"],[12],[2,"\\n"],[6,[37,2],[[32,0,["isEditingAlt"]]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"input"],[24,"placeholder","Add alt text to the feature image"],[16,0,[31,["gh-editor-feature-image-alttext ",[30,[36,2],[[32,4],"faded"],null]]]],[24,3,"alt"],[16,2,[32,6]],[24,"aria-label","Alt text for feature image"],[24,4,"text"],[4,[38,7],null,null],[4,[38,0],["input",[32,0,["onAltInput"]]],null],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"koenig-basic-html-input",[],[["@html","@placeholder","@class","@name","@onChange","@onFocus","@onBlur"],[[32,3],[30,[36,2],[[32,0,["captionInputFocused"]],"","Add a caption to the feature image"],null],[31,["gh-editor-feature-image-caption ",[30,[36,2],[[30,[36,4],[[32,4],[30,[36,3],[[32,0,["captionInputFocused"]]],null]],null],"faded"],null]]],"caption",[32,5],[30,[36,6],[[30,[36,5],[[32,0,["captionInputFocused"]]],null],true],null],[30,[36,6],[[30,[36,5],[[32,0,["captionInputFocused"]]],null],false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,"title","Toggle between editing alt text and caption"],[16,0,[31,["h-100 pl1 pr1 ba br3 f8 sans-serif fw4 lh-title tracked-2 ",[30,[36,2],[[32,0,["isEditingAlt"]],"bg-green b--green white","bg-white b--midlightgrey midlightgrey"],null]]]],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleAltEditing"]]],[["passive"],[true]]],[12],[2,"\\n                    Alt\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[15,0,[31,["flex flex-row items-center ",[30,[36,2],[[32,0,["hideButton"]],"invisible"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["canDrop"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-editor-feature-image-add-button"],[12],[10,"span"],[12],[2,"Drop to upload feature image"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-editor-feature-image-add-button"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[1,[30,[36,1],["plus"],null]],[10,"span"],[12],[2,"Add feature image"],[13],[13],[2,"\\n"],[6,[37,2],[[32,0,["settings","unsplash"]]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-editor-feature-image-unsplash"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleUnsplashSelector"]]],null],[12],[1,[30,[36,1],["unsplash"],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n            "],[8,"gh-file-input",[[24,"data-test-file-input","feature-image"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,1,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showUnsplashSelector"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[32,0,["setUnsplashImage"]],[32,0,["toggleUnsplashSelector"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","svg-jar","if","not","and","mut","fn","autofocus","feature","or","-track-array","each","unless"]}',moduleName:"ghost-admin/components/gh-editor-feature-image.hbs"})
let T=(i=Ember.inject.service,n=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=class extends t.default{constructor(...e){super(...e),O(this,"settings",v,this),O(this,"isEditingAlt",y,this),O(this,"isHovered",w,this),O(this,"captionInputFocused",k,this),O(this,"showUnsplashSelector",E,this),O(this,"canDrop",P,this)}get hideButton(){return!this.canDrop&&!this.isHovered&&!this.args.forceButtonDisplay}setUploadedImage(e){e[0]&&this.args.updateImage(e[0].url)}setUnsplashImage({src:e,caption:t}){this.args.updateImage(e),this.args.updateCaption(t)}toggleUnsplashSelector(){this.showUnsplashSelector=!this.showUnsplashSelector}toggleAltEditing(){this.isEditingAlt=!this.isEditingAlt}onAltInput(e){this.args.updateAlt(e.target.value)}dragOver(e){if(e.dataTransfer.files){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.preventDefault(),this.canDrop=!0}}dragLeave(e){e.dataTransfer.files&&(e.preventDefault(),this.canDrop=!1)}drop(e,t){t.dataTransfer.files&&(t.stopPropagation(),t.preventDefault(),this.canDrop=!1,e(t.dataTransfer.files))}saveImage(e,t){this.canDrop=!1,e([t])}},v=j(f.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(f.prototype,"isEditingAlt",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=j(f.prototype,"isHovered",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=j(f.prototype,"captionInputFocused",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=j(f.prototype,"showUnsplashSelector",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=j(f.prototype,"canDrop",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j(f.prototype,"setUploadedImage",[l],Object.getOwnPropertyDescriptor(f.prototype,"setUploadedImage"),f.prototype),j(f.prototype,"setUnsplashImage",[u],Object.getOwnPropertyDescriptor(f.prototype,"setUnsplashImage"),f.prototype),j(f.prototype,"toggleUnsplashSelector",[c],Object.getOwnPropertyDescriptor(f.prototype,"toggleUnsplashSelector"),f.prototype),j(f.prototype,"toggleAltEditing",[d],Object.getOwnPropertyDescriptor(f.prototype,"toggleAltEditing"),f.prototype),j(f.prototype,"onAltInput",[p],Object.getOwnPropertyDescriptor(f.prototype,"onAltInput"),f.prototype),j(f.prototype,"dragOver",[m],Object.getOwnPropertyDescriptor(f.prototype,"dragOver"),f.prototype),j(f.prototype,"dragLeave",[h],Object.getOwnPropertyDescriptor(f.prototype,"dragLeave"),f.prototype),j(f.prototype,"drop",[b],Object.getOwnPropertyDescriptor(f.prototype,"drop"),f.prototype),j(f.prototype,"saveImage",[g],Object.getOwnPropertyDescriptor(f.prototype,"saveImage"),f.prototype),f)
e.default=T,Ember._setComponentTemplate(_,T)})),define("ghost-admin/components/gh-editor-post-status",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/helpers/gh-format-post-time","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"PGV2EVFl",block:'{"symbols":["@hasDirtyAttributes","@post","@publishManagement","@openUpdateFlow","&attrs"],"statements":[[11,"div"],[24,"data-test-editor-post-status",""],[17,5],[4,[38,4],["mouseover",[32,0,["onMouseover"]]],null],[4,[38,4],["mouseleave",[32,0,["onMouseleave"]]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,3],[[32,0,["isSaving"]],[32,2,["isDraft"]]],null]],null,[["default","else"],[{"statements":[[2,"        Saving...\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isSent"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,2,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"newsletter-failed"],[12],[2,"Failed to send newsletter. "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-retry-trigger"],[16,"disabled",[32,3,["publishOptions","isLoading"]]],[24,4,"button"],[4,[38,4],["click",[32,3,["openPublishFlow"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Retry now"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-editor-post-status-btn"],[24,4,"button"],[4,[38,4],["click",[32,4]],null],[12],[2,"Sent"],[13],[2,"\\n            to "],[1,[30,[36,6],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,3],[[32,2,["emailOnly"]],[32,2,["isScheduled"]]],null]],null,[["default","else"],[{"statements":[[2,"        Scheduled\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"            "],[10,"time"],[15,"datetime",[31,[[32,2,["publishedAtUTC"]]]]],[14,0,"ml1 green-d1"],[14,"data-test-schedule-countdown",""],[12],[2,"\\n                to be sent to "],[8,"gh-recipient-filter-count",[],[["@filter","@newsletter"],[[32,2,["fullRecipientFilter"]],[32,2,["newsletter"]]]],null],[2,"\\n                "],[1,[32,0,["scheduledTime"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,7],[[32,2,["isPublished"]],[32,2,["pastScheduledTime"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"span"],[15,0,[31,[[30,[36,1],[[30,[36,5],[[32,2,["email","status"]],"failed"],null],"newsletter-failed",""],null]]]],[12],[2,"\\n            Published\\n        "],[13],[2,"\\n"],[6,[37,1],[[30,[36,7],[[30,[36,5],[[32,2,["email","status"]],"submitting"],null],[30,[36,5],[[32,2,["email","status"]],"submitting"],null]],null]],null,[["default","else"],[{"statements":[[2,"            and sending to "],[1,[30,[36,6],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,5],[[32,2,["email","status"]],"submitted"],null]],null,[["default","else"],[{"statements":[[2,"            and sent to "],[1,[30,[36,6],[[32,2,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,5],[[32,2,["email","status"]],"failed"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"newsletter-failed"],[12],[2,"\\n                but failed to send newsletter.\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-retry-trigger"],[16,"disabled",[32,3,["publishOptions","isLoading"]]],[24,4,"button"],[4,[38,4],["click",[32,3,["openPublishFlow"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"View details"],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isScheduled"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"time"],[15,"datetime",[31,[[32,2,["publishedAtUTC"]]]]],[14,0,"ml1 green-d1"],[14,"data-test-schedule-countdown",""],[12],[2,"\\n            Scheduled\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                to be published\\n"],[6,[37,1],[[30,[36,3],[[32,2,["newsletter"]],[30,[36,2],[[32,2,["email"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    and sent to "],[8,"gh-recipient-filter-count",[],[["@filter","@newsletter"],[[32,2,["fullRecipientFilter"]],[32,2,["newsletter"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[1,[32,0,["scheduledTime"]]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,2,["isNew"]]],null,[["default","else"],[{"statements":[[2,"        New\\n"]],"parameters":[]},{"statements":[[2,"        Draft\\n        "],[1,[30,[36,0],[[32,1],"- Saved"],null]],[2,"\\n    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","if","not","and","on","eq","gh-pluralize","or"]}',moduleName:"ghost-admin/components/gh-editor-post-status.hbs"})
let w=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=Ember._action,d=(0,r.task)({drop:!0}),p=class extends t.default{constructor(...e){super(...e),f(this,"clock",m,this),f(this,"settings",h,this),f(this,"isHovered",b,this),f(this,"_isSaving",g,this)}get isSaving(){return this.args.isSaving&&this.showSavingMessage.perform(),this._isSaving}get scheduledTime(){return Ember.get(this.clock,"second"),(0,n.formatPostTime)(this.args.post.publishedAtUTC,{timezone:this.settings.timezone,scheduled:!0})}onMouseover(){this.isHovered=!0}onMouseleave(){this.isHovered=!1}*showSavingMessage(){this._isSaving=!0,yield(0,r.timeout)("test"===i.default.environment?0:3e3),this.isDestroyed||this.isDestroying||(this._isSaving=!1)}},m=v(p.prototype,"clock",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"isHovered",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=v(p.prototype,"_isSaving",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(p.prototype,"onMouseover",[u],Object.getOwnPropertyDescriptor(p.prototype,"onMouseover"),p.prototype),v(p.prototype,"onMouseleave",[c],Object.getOwnPropertyDescriptor(p.prototype,"onMouseleave"),p.prototype),v(p.prototype,"showSavingMessage",[d],Object.getOwnPropertyDescriptor(p.prototype,"showSavingMessage"),p.prototype),p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-editor",["exports","ghost-admin/components/gh-image-uploader","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"IWeBepOu",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,1],null,[["headerHeight","isDraggedOver","isFullScreen","droppedFiles","uploadedImageUrls","imageMimeTypes","imageExtensions","toggleFullScreen","togglePreview","toggleSplitScreen","uploadComplete","uploadCancelled","uploadImages"],[[32,0,["headerHeight"]],[32,0,["isDraggedOver"]],[32,0,["isFullScreen"]],[32,0,["droppedFiles"]],[32,0,["uploadedImageUrls"]],[32,0,["imageMimeTypes"]],[32,0,["imageExtensions"]],[30,[36,0],[[32,0],"toggleFullScreen"],null],[30,[36,0],[[32,0],"togglePreview"],null],[30,[36,0],[[32,0],"toggleSplitScreen"],null],[30,[36,0],[[32,0],"uploadComplete"],null],[30,[36,0],[[32,0],"uploadCancelled"],null],[30,[36,0],[[32,0],"uploadImages"],null]]]]]],[2,"\\n"]],"hasEval":false,"upvars":["action","hash"]}',moduleName:"ghost-admin/components/gh-editor.hbs"})
let w=(n=(0,i.classNameBindings)("isDraggedOver:-drag-over","isFullScreen:gh-editor-fullscreen","isPreview:gh-editor-preview"),r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,n((m=class extends Ember.Component{constructor(...e){super(...e),g(this,"feature",h,this),g(this,"ui",b,this),f(this,"droppedFiles",null),f(this,"headerHeight",0),f(this,"imageExtensions",t.IMAGE_EXTENSIONS),f(this,"imageMimeTypes",t.IMAGE_MIME_TYPES),f(this,"isDraggedOver",!1),f(this,"isFullScreen",!1),f(this,"isSplitScreen",!1),f(this,"uploadedImageUrls",null),f(this,"_dragCounter",0),f(this,"_onResizeHandler",null),f(this,"_viewActionsWidth",190)}toggleFullScreen(e){this.set("isFullScreen",e),this.ui.set("isFullScreen",e)}togglePreview(e){this.set("isPreview",e)}toggleSplitScreen(e){this.set("isSplitScreen",e)}uploadImages(e,t){let i=Array.from(e)
this.set("droppedFiles",i),t()}uploadComplete(e){this.set("uploadedImageUrls",e.mapBy("url")),this.set("droppedFiles",null)}uploadCancelled(){this.set("droppedFiles",null)}_setHeaderHeight(){if(this.headerClass&&this._editorTitleElement){let e=this._editorTitleElement.offsetHeight
return this.set("headerHeight",e)}this.set("headerHeight",0)}dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.preventDefault(),e.stopPropagation()}}dragEnter(e){e.dataTransfer&&(e.preventDefault(),e.stopPropagation(),this._dragCounter+=1,this.set("isDraggedOver",!0))}dragLeave(e){e.preventDefault(),e.stopPropagation(),this._dragCounter-=1,0===this._dragCounter&&this.set("isDraggedOver",!1)}drop(e){e.preventDefault(),e.stopPropagation(),this._dragCounter=0,this.set("isDraggedOver",!1),e.dataTransfer.files&&this.set("droppedFiles",e.dataTransfer.files)}},h=v(m.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(m.prototype,"ui",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(m.prototype,"toggleFullScreen",[s],Object.getOwnPropertyDescriptor(m.prototype,"toggleFullScreen"),m.prototype),v(m.prototype,"togglePreview",[o],Object.getOwnPropertyDescriptor(m.prototype,"togglePreview"),m.prototype),v(m.prototype,"toggleSplitScreen",[l],Object.getOwnPropertyDescriptor(m.prototype,"toggleSplitScreen"),m.prototype),v(m.prototype,"uploadImages",[u],Object.getOwnPropertyDescriptor(m.prototype,"uploadImages"),m.prototype),v(m.prototype,"uploadComplete",[c],Object.getOwnPropertyDescriptor(m.prototype,"uploadComplete"),m.prototype),v(m.prototype,"uploadCancelled",[d],Object.getOwnPropertyDescriptor(m.prototype,"uploadCancelled"),m.prototype),p=m))||p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-email-preview-link",["exports","@glimmer/component","ghost-admin/components/modals/email-preview"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"/XSLP7J7",block:'{"symbols":["@data","&default","&attrs"],"statements":[[11,"a"],[24,6,""],[24,"role","button"],[17,3],[4,[38,1],["click",[32,0,["openPreview"]]],null],[12],[6,[37,2],[[27,[32,2]]],null,[["default","else"],[{"statements":[[18,2,null]],"parameters":[]},{"statements":[[1,[30,[36,0],[[32,1,["subject"]],[32,1,["email","subject"]]],null]]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["or","on","if"]}',moduleName:"ghost-admin/components/gh-email-preview-link.hbs"})
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="modals",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}openPreview(e){return e.preventDefault(),this.modals.open(i.default,this.args.data)}},s=o(a.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"openPreview",[r],Object.getOwnPropertyDescriptor(a.prototype,"openPreview"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-error-message",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"mftrBN6Q",block:'{"symbols":["&attrs"],"statements":[[11,"p"],[24,0,"response"],[16,"hidden",[30,[36,0],[[32,0,["message"]],false,true],null]],[17,1],[12],[2,"\\n    "],[1,[32,0,["message"]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-error-message.hbs"})
class n extends t.default{get message(){let e,{property:t,errors:i}=this.args,n=[]
return!Ember.isEmpty(i)&&i.get(t)?(i.get(t).forEach((e=>{n.push(e)})),e=Math.floor(Math.random()*n.length),n[e].message):""}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/gh-explore-iframe",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"1eQ5CkP8",block:'{"symbols":["&attrs"],"statements":[[11,"iframe"],[24,1,"explore-frame"],[24,0,"explore-frame"],[24,"frameborder","0"],[24,"title","Explore"],[17,1],[4,[38,0],[[32,0,["setup"]]],null],[4,[38,1],[[32,0,["handleDarkModeChange"]],[32,0,["feature","nightShift"]]],null],[12],[13]],"hasEval":false,"upvars":["did-insert","did-update"]}',moduleName:"ghost-admin/components/gh-explore-iframe.hbs"})
let b=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),p(this,"explore",u,this),p(this,"router",c,this),p(this,"feature",d,this),window.addEventListener("message",this.handleIframeMessage)}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("message",this.handleIframeMessage)}setup(){this.explore.exploreWindowOpen&&(this.explore.getExploreIframe().src=this.explore.iframeURL)}async handleIframeMessage(e){this.isDestroyed||this.isDestroying||e?.data&&this.explore.iframeURL.includes(e?.origin)&&("apiUrl"===e.data?.request&&this._handleUrlRequest(),e.data?.route&&this._handleRouteUpdate(e.data),e.data?.siteData&&this._handleSiteDataUpdate(e.data))}async handleDarkModeChange(){this.explore.exploreWindowOpen&&this.explore.sendUIUpdate({darkMode:this.feature.nightShift})}_handleRouteUpdate(e){const t=e.route
this.explore.isIframeTransition=t?.includes("/explore"),this.explore.toggleExploreWindow(this.explore.isIframeTransition),this.router.transitionTo(t)}_handleUrlRequest(){this.explore.getExploreIframe().contentWindow.postMessage({request:"apiUrl",response:{apiUrl:this.explore.apiUrl,darkMode:this.feature.nightShift}},"*")}_handleSiteDataUpdate(e){this.explore.siteData=e?.siteData??{}}},u=m(l.prototype,"explore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"setup",[a],Object.getOwnPropertyDescriptor(l.prototype,"setup"),l.prototype),m(l.prototype,"handleIframeMessage",[s],Object.getOwnPropertyDescriptor(l.prototype,"handleIframeMessage"),l.prototype),m(l.prototype,"handleDarkModeChange",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleDarkModeChange"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/gh-explore-modal",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"r12rLFT6",block:'{"symbols":[],"statements":[[10,"div"],[15,0,[31,[[32,0,["visibilityClass"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-explore-container"],[12],[2,"\\n        "],[8,"gh-explore-iframe",[[16,"src",[32,0,["explore","iframeUrl"]]]],[[],[]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-explore-modal.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="explore",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get visibilityClass(){return this.explore.exploreWindowOpen?"gh-explore":"gh-explore closed"}},o=n.prototype,l="explore",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-facebook-url-input",["exports","@glimmer/component","validator"],(function(e,t,i){var n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"8DF34ihK",block:'{"symbols":["&attrs"],"statements":[[11,"input"],[24,0,"gh-input"],[24,"placeholder","https://www.facebook.com/username"],[16,2,[32,0,["value"]]],[24,"data-test-facebook-input",""],[17,1],[24,4,"url"],[4,[38,0],["input",[32,0,["setScratchValue"]]],null],[4,[38,0],["blur",[32,0,["setFacebookUrl"]]],null],[12],[13],[2,"\\n"]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/gh-facebook-url-input.hbs"})
let l=(n=Ember._action,r=Ember._action,s((a=class extends t.default{get value(){const{model:e,modelProperty:t,scratchValue:i}=this.args
return i||e[t]}setScratchValue(e){this.args.setScratchValue?.(e.target.value)}setFacebookUrl(e){const{model:t,modelProperty:n}=this.args
let r=e.target.value
if(t.errors.remove("facebook"),t.hasValidated.removeObject("facebook"),!r)return t[n]=null,void this.args.setScratchValue?.(null)
try{if(r=r.replace(/(https?:\/\/)?(www\.)?facebook\.com/i,""),r.match(/^(http|\/\/)/i))throw"invalid url"
if(r=r.replace(/^\//,""),r=`https://www.facebook.com/${r}`,!i.default.isURL(r))throw"invalid url"
t[n]=r,this.args.setScratchValue?.(null)}catch(a){if("invalid url"===a){const e="The URL must be in a format like https://www.facebook.com/yourPage"
return void t.errors.add("facebook",e)}throw a}finally{t.hasValidated.pushObject("facebook")}}}).prototype,"setScratchValue",[n],Object.getOwnPropertyDescriptor(a.prototype,"setScratchValue"),a.prototype),s(a.prototype,"setFacebookUrl",[r],Object.getOwnPropertyDescriptor(a.prototype,"setFacebookUrl"),a.prototype),a)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-feature-flag",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"hwnvtuL6",block:'{"symbols":["@onChange","&default"],"statements":[[10,"input"],[15,"data-test-toggle",[32,0,["testKey"]]],[15,"checked",[32,0,["value"]]],[15,"disabled",[32,0,["disabled"]]],[15,1,[32,0,["for"]]],[15,3,[32,0,["name"]]],[15,"onclick",[30,[36,1],[[32,0],[30,[36,0],[[32,0,["value"]]],null]],[["value"],["target.checked"]]]],[15,"onchange",[32,1]],[14,4,"checkbox"],[12],[13],[2,"\\n"],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n"],[18,2,null],[2,"\\n"]],"hasEval":false,"upvars":["mut","action"]}',moduleName:"ghost-admin/components/gh-feature-flag.hbs"})
let b=(i=(0,t.tagName)("label"),n=(0,t.classNames)("switch"),r=(0,t.attributeBindings)("for","disabled"),a=Ember.inject.service,s=Ember.computed("_disabled"),o=Ember.computed("_flagValue"),l=Ember.computed("flag"),u=Ember.computed("flag"),i(c=n(c=r((d=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="feature",r=this,(n=p)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get disabled(){return!!this._disabled}get value(){return this._flagValue}set value(e){this.set(`feature.${this.flag}`,e)}get for(){return`labs-${this.flag}`}get name(){return`labs[${this.flag}]`}get testKey(){return`labs-${this.flag}`}init(){super.init(...arguments),Ember.defineProperty(this,"_flagValue",Ember.computed.readOnly(`feature.${this.flag}`),(function(){return this.get(`feature.${this.flag}`)}))}},p=m(d.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(d.prototype,"disabled",[s],Object.getOwnPropertyDescriptor(d.prototype,"disabled"),d.prototype),m(d.prototype,"value",[o],Object.getOwnPropertyDescriptor(d.prototype,"value"),d.prototype),m(d.prototype,"for",[l],Object.getOwnPropertyDescriptor(d.prototype,"for"),d.prototype),m(d.prototype,"name",[u],Object.getOwnPropertyDescriptor(d.prototype,"name"),d.prototype),c=d))||c)||c)||c)
var g=Ember._setComponentTemplate(h,b)
e.default=g}))
define("ghost-admin/components/gh-file-input",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"lpszSQdb",block:'{"symbols":["&default","&attrs","@name","@disabled","@multiple","@accept"],"statements":[[11,"span"],[24,0,"x-file-input"],[17,2],[4,[38,0],["change",[32,0,["onChange"]]],null],[12],[2,"\\n    "],[11,"input"],[16,1,[32,0,["inputId"]]],[24,0,"x-file--input"],[16,3,[32,3]],[16,"disabled",[32,4]],[16,"multiple",[32,5]],[16,"accept",[32,6]],[24,4,"file"],[4,[38,0],["change",[32,0,["onChange"]]],null],[4,[38,1],[[32,0,["registerFileInput"]]],null],[12],[13],[2,"\\n    "],[10,"label"],[15,"for",[31,[[32,0,["inputId"]]]]],[12],[2,"\\n"],[6,[37,2],[[27,[32,1]]],null,[["default","else"],[{"statements":[[2,"            "],[18,1,null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[32,0,["alt"]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","did-insert","if"]}',moduleName:"ghost-admin/components/gh-file-input.hbs"})
let u=(i=Ember._action,n=Ember._action,r=Ember._action,o((a=class extends t.default{constructor(...e){super(...e),s(this,"inputId",`fileInput-${Ember.guidFor(this)}`),s(this,"inputElement",null)}get alt(){return void 0===this.args.alt?"Upload":this.args.alt}onChange(e){e.stopPropagation()
const t=this.files(e)
t.length&&this.args.action?.(t,this.resetInput)}registerFileInput(e){this.inputElement=e,this.args.onInsert?.(this.inputElement)}resetInput(){const e=this.inputElement
e.removeAttribute("value"),e.value=null
const t=e.cloneNode(!0)
return this.inputElement=t,e.parentNode.replaceChild(t,e),t}files(e){return(e.originalEvent||e).testingFiles||e.originalEvent?.files||e.target.files||e.files}}).prototype,"onChange",[i],Object.getOwnPropertyDescriptor(a.prototype,"onChange"),a.prototype),o(a.prototype,"registerFileInput",[n],Object.getOwnPropertyDescriptor(a.prototype,"registerFileInput"),a.prototype),o(a.prototype,"resetInput",[r],Object.getOwnPropertyDescriptor(a.prototype,"resetInput"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-file-upload",["exports"],(function(e){var t,i
function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"PrMKoXEs",block:'{"symbols":[],"statements":[[10,"input"],[14,0,"gh-input gh-input-file q"],[14,"data-url","upload"],[14,3,"importfile"],[15,"accept",[31,[[32,0,["acceptEncoding"]]]]],[14,4,"file"],[12],[13],[2,"\\n"],[11,"button"],[24,1,"startupload"],[24,0,"gh-btn gh-btn-hover-blue"],[16,"disabled",[32,0,["uploadButtonDisabled"]]],[24,4,"submit"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n    "],[10,"span"],[12],[1,[32,0,["uploadButtonText"]]],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/components/gh-file-upload.hbs"})
let a=(t=Ember._action,i=class extends Ember.Component{constructor(...e){super(...e),n(this,"_file",null),n(this,"acceptEncoding",null),n(this,"uploadButtonText","Text"),n(this,"uploadButtonDisabled",!0),n(this,"shouldResetForm",!0)}onUpload(){}onAdd(){}upload(){!this.uploadButtonDisabled&&this._file&&this.onUpload(this._file),this.set("uploadButtonDisabled",!0),this.shouldResetForm&&this.element.closest("form").reset()}change(e){this.set("uploadButtonDisabled",!1),this.onAdd(),this._file=e.target.files[0]}},s=i.prototype,o="upload",l=[t],u=Object.getOwnPropertyDescriptor(i.prototype,"upload"),c=i.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),i)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-file-uploader",["exports","ghost-admin/services/notifications","ghost-admin/services/ajax"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"ZW4sayOp",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["file"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["failureMessage"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"failed"],[12],[2,"\\n            "],[1,[32,0,["failureMessage"]]],[2,"\\n            "],[8,"gh-file-input",[[24,0,"try-again"]],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[30,[36,0],[[32,0],"retry"],null],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"red fw5 nl1"],[14,"data-test-upload-try-again-button",""],[12],[2,"Try again"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"progress"],[12],[2,"\\n            "],[10,"div"],[14,0,"bar"],[15,5,[32,0,["progressStyle"]]],[12],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"upload-form"],[12],[2,"\\n        "],[8,"gh-file-input",[],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[30,[36,0],[[32,0],"fileSelected"],null],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"description"],[12],[1,[32,0,["labelText"]]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","if"]}',moduleName:"ghost-admin/components/gh-file-uploader.hbs"}),r={accept:["text/csv"],extensions:["csv"]}
var a=Ember._setComponentTemplate(n,Ember.Component.extend({ajax:Ember.inject.service(),eventBus:Ember.inject.service(),notifications:Ember.inject.service(),tagName:"section",classNames:["gh-image-uploader"],classNameBindings:["dragClass"],labelText:"Select or drag-and-drop a file",url:null,paramName:"file",accept:null,extensions:null,validate:null,file:null,response:null,dragClass:null,failureMessage:null,uploadPercentage:0,fileSelected:()=>{},uploadStarted:()=>{},uploadFinished:()=>{},uploadSuccess:()=>{},uploadFailed:()=>{},formData:Ember.computed("file",(function(){let e=this.paramName,t=this.file,i=new FormData
return i.append(e,t),i})),progressStyle:Ember.computed("uploadPercentage",(function(){let e=this.uploadPercentage,t=""
return t=e>0?`${e}%`:"0",Ember.String.htmlSafe(`width: ${t}`)})),init(){this._super(...arguments)
let e=this.listenTo
this.accept=this.accept||r.accept,this.extensions=this.extensions||r.extensions,this._uploadEventHandler=function(e){e&&this.set("file",e),this.send("upload")},e&&this.eventBus.subscribe(`${e}:upload`,this,this._uploadEventHandler)},didReceiveAttrs(){this._super(...arguments)
let e=this.accept,t=this.extensions
this._accept=Ember.isBlank(e)||Ember.isArray(e)?e:e.split(","),this._extensions=Ember.isBlank(t)||Ember.isArray(t)?t:t.split(",")},willDestroyElement(){let e=this.listenTo
this._super(...arguments),e&&this.eventBus.unsubscribe(`${e}:upload`,this,this._uploadEventHandler)},actions:{fileSelected(e,t){let[i]=Array.from(e),n=this._validate(i)
this.set("file",i),this.fileSelected(i),!0===n?Ember.run.schedule("actions",this,(function(){this.generateRequest(),t&&t()})):(this._uploadFailed(n),t&&t())},upload(){this.file&&this.generateRequest()},reset(){this.set("file",null),this.set("uploadPercentage",0),this.set("failureMessage",null)},retry(){this.send("reset"),this.send("fileSelected",...arguments)}},dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.set("dragClass","-drag-over")}},dragLeave(e){e.preventDefault(),this.set("dragClass",null)},drop(e){e.preventDefault(),this.set("dragClass",null),e.dataTransfer.files&&this.send("fileSelected",e.dataTransfer.files)},generateRequest(){let e=this.ajax,t=this.formData,i=this.url
this.uploadStarted(),e.post(i,{data:t,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let e=new window.XMLHttpRequest
return e.upload.addEventListener("progress",(e=>{this._uploadProgress(e)}),!1),e}}).then((e=>{this._uploadSuccess(JSON.parse(e))})).catch((e=>{this._uploadFailed(e)})).finally((()=>{this.uploadFinished()}))},_uploadProgress(e){!e.lengthComputable||this.isDestroyed||this.isDestroying||Ember.run((()=>{let t=Math.round(e.loaded/e.total*100)
this.set("uploadPercentage",t)}))},_uploadSuccess(e){this.uploadSuccess(e),this.send("reset")},_uploadFailed(e){let n;(0,i.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),(0,i.isUnsupportedMediaTypeError)(e)?n="The file type you uploaded is not supported.":(0,i.isRequestEntityTooLargeError)(e)?n="The file you uploaded was larger than the maximum file size your server allows.":e.payload&&e.payload.errors&&!Ember.isBlank(e.payload.errors[0].message)?n=Ember.String.htmlSafe(e.payload.errors[0].message):(console.error(e),n=t.GENERIC_ERROR_MESSAGE),this.set("failureMessage",n),this.uploadFailed(e)},_validate(e){return this.validate?this.validate(e):this._defaultValidator(e)},_defaultValidator(e){let[,t]=/(?:\.([^.]+))?$/.exec(e.name),n=this._extensions
return!(!t||-1===n.indexOf(t.toLowerCase()))||new i.UnsupportedMediaTypeError}}))
e.default=a})),define("ghost-admin/components/gh-font-selector",["exports","@glimmer/component"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"PVCdVgGU",block:'{"symbols":["option"],"statements":[[8,"power-select",[],[["@options","@selected","@onChange","@disabled","@renderInPlace","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["selectOption"]],[30,[36,0],[[32,0,["settings","membersSignupAccess"]],"none"],null],true,"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[15,0,[31,["gh-radio-label ",[30,[36,1],[[32,1,["value"]]],null]]]],[12],[2,"\\n        "],[10,"div"],[14,0,"description"],[12],[2,"\\n            "],[10,"h4"],[12],[1,[32,1,["name"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["eq","dasherize"]}',moduleName:"ghost-admin/components/gh-font-selector.hbs"})
let a=(i=Ember._action,n=class extends t.default{get options(){return[{name:"Elegant serif",description:"Beautiful lines with great readability",value:"serif"},{name:"Clean sans-serif",description:"A more minimal style with sharp lines",value:"sans_serif"}]}get selectedOption(){return this.options.find((e=>e.value===this.args.selected))}selectOption(e){this.args.onChange(e.value)}},s=n.prototype,o="selectOption",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"selectOption"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-form-group",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"td1Xg+ju",block:'{"symbols":["&attrs","@hasValidated","@property","@errors","&default"],"statements":[[11,"div"],[24,0,"form-group"],[17,1],[4,[38,0],null,[["errors","property","hasValidated"],[[32,4],[32,3],[32,2]]]],[12],[2,"\\n    "],[18,5,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["validation-status"]}',moduleName:"ghost-admin/components/gh-form-group.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-fullscreen-modal",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"nbYWNRTH",block:'{"symbols":["ModalComponent","&default"],"statements":[[8,"liquid-wormhole",[],[["@class"],["fullscreen-modal-container"]],[["default"],[{"statements":[[2,"\\n    "],[11,"div"],[24,0,"fullscreen-modal-background"],[4,[38,0],[[32,0],"clickOverlay"],null],[12],[13],[2,"\\n    "],[10,"div"],[15,0,[32,0,["modalClasses"]]],[12],[2,"\\n"],[6,[37,4],[[27,[32,2]]],null,[["default","else"],[{"statements":[[2,"          "],[18,2,null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["modalPath"]]],null]],null,[["default"],[{"statements":[[2,"                "],[8,[32,1],[],[["@model","@confirm","@closeModal","@modifier","@updateModifier"],[[32,0,["model"]],[30,[36,0],[[32,0],"confirm"],null],[30,[36,0],[[32,0],"close"],null],[32,0,["modifier"]],[30,[36,0],[[32,0],[30,[36,1],[[32,0,["modifier"]]],null]],null]]],null],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"hasEval":false,"upvars":["action","mut","component","let","if"]}',moduleName:"ghost-admin/components/gh-fullscreen-modal.hbs"}),i=Ember.Component.extend({dropdown:Ember.inject.service(),model:null,modifier:null,modalPath:Ember.computed("modal",(function(){return`modal-${this.modal||"unknown"}`})),modalClasses:Ember.computed("modifier",(function(){let e="fullscreen-modal",t=(this.modifier||"").split(" "),i=Ember.A([e])
return t.forEach((t=>{if(!Ember.isBlank(t)){let n=`${e}-${t}`
i.push(n)}})),i.join(" ")})),didInsertElement(){this._super(...arguments),Ember.run.schedule("afterRender",this,(function(){this.dropdown.closeDropdowns()}))},actions:{close(){return this.close(...arguments)},confirm(){return this.confirm(...arguments)},clickOverlay(){this.send("close")}},close:()=>Ember.RSVP.resolve(),confirm:()=>Ember.RSVP.resolve()})
var n=Ember._setComponentTemplate(t,i)
e.default=n})),define("ghost-admin/components/gh-html-iframe",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"/Y8kPSgp",block:'{"symbols":["&attrs","@html"],"statements":[[11,"div"],[17,1],[4,[38,0],[[32,0,["replaceIframeContents"]]],null],[4,[38,1],[[32,0,["replaceIframeContents"]],[32,2]],null],[12],[2,"\\n    "],[11,"iframe"],[24,0,"w-100 h-100"],[24,"title","Site preview"],[24,"data-testid","iframe-html"],[4,[38,0],[[32,0,["registerIframe"]]],null],[4,[38,2],["load",[32,0,["didLoad"]]],null],[12],[13],[2,"\\n    "],[11,"iframe"],[24,0,"w-100 h-100"],[24,"title","Page preview"],[24,"data-testid","iframe-html"],[4,[38,0],[[32,0,["registerIframe"]]],null],[4,[38,2],["load",[32,0,["didLoad"]]],null],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-html-iframe.hbs"})
let u=(i=Ember._action,n=Ember._action,r=Ember._action,o((a=class extends t.default{constructor(...e){super(...e),s(this,"iframes",[]),s(this,"renderedIframe",0),s(this,"toRenderIframe",1)}get hiddenIframeStyle(){return"position: absolute; visibility: hidden; border: none;"}get visibleIframeStyle(){return"border: none;"}replaceIframeContents(){const e=this.iframes[this.toRenderIframe]
e&&this.args.html&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.args.html),e.contentWindow.document.close(),this.swapTimeout=setTimeout((()=>{this.swapIframes(e)}),500))}registerIframe(e){this.iframes.push(e),0===this.iframes.indexOf(e)&&(e.style=this.visibleIframeStyle,this.replaceIframeContents()),1===this.iframes.indexOf(e)&&(e.style=this.hiddenIframeStyle)}didLoad(e){this.isDestroyed||this.isDestroying||this.swapIframes(e.target)}swapIframes(e){if(!this.isDestroyed&&!this.isDestroying&&(window.clearTimeout(this.swapTimeout),this.iframes.indexOf(e)!==this.renderedIframe)){let e=this.iframes[this.renderedIframe].contentDocument.body.scrollTop
this._lastPageId!==this.args.pageId&&(e=0),this._lastPageId=this.args.pageId,this.iframes[this.toRenderIframe].contentDocument.body&&(this.iframes[this.toRenderIframe].contentDocument.body.scrollTop=e),this.iframes[this.toRenderIframe].style=this.visibleIframeStyle,this.renderedIframe=this.toRenderIframe,this.toRenderIframe=0===this.toRenderIframe?1:0,this.iframes[this.toRenderIframe].style=this.hiddenIframeStyle}}}).prototype,"replaceIframeContents",[i],Object.getOwnPropertyDescriptor(a.prototype,"replaceIframeContents"),a.prototype),o(a.prototype,"registerIframe",[n],Object.getOwnPropertyDescriptor(a.prototype,"registerIframe"),a.prototype),o(a.prototype,"didLoad",[r],Object.getOwnPropertyDescriptor(a.prototype,"didLoad"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-image-uploader-with-preview",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"tkUbFoBl",block:'{"symbols":["@text","@altText","@allowUnsplash","@update","@uploadStarted","@uploadFinished","@image","@remove"],"statements":[[6,[37,2],[[32,7]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-image-uploader -with-image"],[12],[2,"\\n        "],[10,"div"],[12],[10,"img"],[15,"src",[32,7]],[12],[13],[13],[2,"\\n"],[6,[37,2],[[30,[36,1],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"koenig-image-editor",[],[["@imageSrc","@saveUrl"],[[32,7],[32,4]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[11,"a"],[24,0,"image-action image-delete"],[24,"title","Delete"],[4,[38,4],["click",[30,[36,3],[[32,8],""],null]],null],[12],[2,"\\n            "],[1,[30,[36,5],["trash"],null]],[2,"\\n            "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"gh-image-uploader",[],[["@text","@altText","@allowUnsplash","@update","@uploadStarted","@uploadFinished"],[[32,1],[32,2],[32,3],[32,4],[30,[36,0],[[32,5]],null],[30,[36,0],[[32,6]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["optional","feature","if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/gh-image-uploader-with-preview.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-image-uploader",["exports","ghost-admin/utils/ghost-paths","ghost-admin/services/notifications","ghost-admin/services/ajax","ghost-admin/decorators/inject"],(function(e,t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.IMAGE_PARAMS=e.IMAGE_MIME_TYPES=e.IMAGE_EXTENSIONS=e.ICON_PARAMS=e.ICON_MIME_TYPES=e.ICON_EXTENSIONS=void 0
const a=Ember.HTMLBars.template({id:"O0GXIkY4",block:'{"symbols":[],"statements":[[6,[37,4],[[32,0,["file"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"failed"],[12],[1,[32,0,["failureMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"progress-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"progress"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["bar ",[30,[36,4],[[32,0,["failureMessage"]],"fail"],null]]]],[15,5,[32,0,["progressStyle"]]],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["failureMessage"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[10,"span"],[12],[2,"Try Again"],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"upload-form"],[12],[2,"\\n        "],[8,"gh-file-input",[],[["@multiple","@alt","@action","@accept"],[false,[32,0,["description"]],[30,[36,0],[[32,0],"fileSelected"],null],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"gh-btn gh-btn-white"],[14,"data-test-file-input-description",""],[12],[10,"span"],[12],[1,[32,0,["description"]]],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,0,["allowUnsplash"]],[32,0,["settings","unsplash"]]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[24,0,"gh-image-uploader-unsplash"],[4,[38,0],[[32,0],[30,[36,1],["_showUnsplash",[32,0]],null]],null],[12],[2,"\\n                "],[1,[30,[36,2],["unsplash"],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["_showUnsplash"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[30,[36,0],[[32,0],"addUnsplashPhoto"],null],[30,[36,0],[[32,0],[30,[36,1],["_showUnsplash",[32,0]],null]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","toggle","svg-jar","and","if"]}',moduleName:"ghost-admin/components/gh-image-uploader.hbs"}),s="image/gif,image/jpg,image/jpeg,image/png,image/svg+xml,image/webp"
e.IMAGE_MIME_TYPES=s
const o=["gif","jpg","jpeg","png","svg","svgz","webp"]
e.IMAGE_EXTENSIONS=o
const l={purpose:"image"}
e.IMAGE_PARAMS=l
e.ICON_EXTENSIONS=["gif","ico","jpg","jpeg","png","svg","svgz","webp"]
e.ICON_MIME_TYPES="image/x-icon,image/vnd.microsoft.icon,image/gif,image/jpg,image/jpeg,image/png,image/svg+xml,image/webp"
e.ICON_PARAMS={purpose:"icon"}
var u=Ember._setComponentTemplate(a,Ember.Component.extend({ajax:Ember.inject.service(),notifications:Ember.inject.service(),settings:Ember.inject.service(),tagName:"section",classNames:["gh-image-uploader"],classNameBindings:["dragClass"],image:null,text:"",altText:"",saveButton:!0,accept:"",extensions:null,uploadUrl:null,paramName:"file",paramsHash:null,resourceName:"images",validate:null,allowUnsplash:!1,dragClass:null,failureMessage:null,file:null,url:null,uploadPercentage:0,_defaultAccept:s,_defaultExtensions:o,_defaultUploadUrl:"/images/upload/",_defaultParamsHash:l,_showUnsplash:!1,fileSelected:()=>{},update:()=>{},uploadStarted:()=>{},uploadFinished:()=>{},uploadSuccess:()=>{},uploadFailed:()=>{},config:(0,r.inject)(),formData:Ember.computed("file",(function(){let e=this.file,t=new FormData
return t.append(this.paramName,e),Object.keys(this.paramsHash||{}).forEach((e=>{t.append(e,this.paramsHash[e])})),t})),description:Ember.computed("text","altText",(function(){let e=this.altText
return this.text||(e?`Upload image of "${e}"`:"Upload an image")})),progressStyle:Ember.computed("uploadPercentage",(function(){let e=this.uploadPercentage,t=""
return t=e>0?`${e}%`:"0",Ember.String.htmlSafe(`width: ${t}`)})),init(){this._super(...arguments),this.accept||this.set("accept",this._defaultAccept),this.extensions||this.set("extensions",this._defaultExtensions),this.uploadUrl||this.set("uploadUrl",this._defaultUploadUrl),this.paramsHash||this.set("paramsHash",this._defaultParamsHash)},didReceiveAttrs(){this._super(...arguments)
let e=this.image
this.set("url",e)},actions:{fileSelected(e,t){let i=e[0],n=this._validate(i)
this.set("file",i),this.fileSelected(i),!0===n?Ember.run.schedule("actions",this,(function(){this.generateRequest(),t&&t()})):(this._uploadFailed(n),t&&t())},addUnsplashPhoto({src:e}){this.set("url",e),this.send("saveUrl")},reset(){this.set("file",null),this.set("uploadPercentage",0)},saveUrl(){let e=this.url
this.update(e)}},dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.set("dragClass","-drag-over")}},dragLeave(e){e.preventDefault(),this.set("dragClass",null)},drop(e){e.preventDefault(),this.set("dragClass",null),e.dataTransfer.files&&this.send("fileSelected",e.dataTransfer.files)},_uploadProgress(e){e.lengthComputable&&Ember.run((()=>{let t=Math.round(e.loaded/e.total*100)
this.isDestroyed||this.isDestroying||this.set("uploadPercentage",t)}))},_uploadSuccess(e){let t,i
try{t=JSON.parse(e)}catch(n){if(!(n instanceof SyntaxError))throw n}if(t){let e=Ember.get(t,this.resourceName)
e&&Ember.isArray(e)&&e[0]&&(i=Ember.get(e[0],"url"))}this.set("url",i),this.send("saveUrl"),this.send("reset"),this.uploadSuccess(i)},_uploadFailed(e){let t
if((0,n.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),(0,n.isUnsupportedMediaTypeError)(e)){let e=this.extensions.join(", .").toUpperCase()
e=`.${e}`,t=`The image type you uploaded is not supported. Please use ${e}`}else(0,n.isRequestEntityTooLargeError)(e)?t="The image you uploaded was larger than the maximum file size your server allows.":Ember.isBlank(e.payload?.errors?.[0]?.message)?(console.error(e),t=i.GENERIC_ERROR_MESSAGE):t=e.payload.errors[0].message
this.set("failureMessage",t),this.uploadFailed(e)},generateRequest(){let e=this.ajax,i=this.formData,n=this.uploadUrl,r=`${(0,t.default)().apiRoot}${n}`
this.uploadStarted(),e.post(r,{data:i,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let e=new window.XMLHttpRequest
return e.upload.addEventListener("progress",(e=>{this._uploadProgress(e)}),!1),e}}).then((e=>{this._uploadSuccess(e)})).catch((e=>{this._uploadFailed(e)})).finally((()=>{this.uploadFinished()}))},_validate(e){return this.validate?this.validate(e):this._defaultValidator(e)},_defaultValidator(e){let t=this.extensions,[,i]=/(?:\.([^.]+))?$/.exec(e.name)
return Ember.isArray(t)||(t=t.split(",")),!(!i||-1===t.indexOf(i.toLowerCase()))||new n.UnsupportedMediaTypeError}}))
e.default=u})),define("ghost-admin/components/gh-infinity-loader",["exports","ember-infinity/components/infinity-loader"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"rGAge57H",block:'{"symbols":["&default"],"statements":[[6,[37,0],[[32,0,["isVisible"]]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[16,0,[31,[[32,0,["loaderClassNames"]],[30,[36,0],[[32,0,["viewportEntered"]]," in-viewport"],null],[30,[36,0],[[32,0,["isDoneLoading"]]," reached-infinity"],null]]]],[24,"data-test-infinity-loader",""],[4,[38,1],[[32,0,["didInsertLoader"]],[32,0]],null],[12],[2,"\\n\\n"],[6,[37,0],[[27,[32,1]]],null,[["default","else"],[{"statements":[[2,"            "],[18,1,[[32,0,["infinityModelContent"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["isDoneLoading"]]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","did-insert"]}',moduleName:"ghost-admin/components/gh-infinity-loader.hbs"})
class n extends t.default{}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/gh-input-with-select/index",["exports","@glimmer/component","ember-power-select/utils/group-utils"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"UyAmA6Gj",block:'{"symbols":["Select","option","term","&default","@suggestedOptionComponent","@afterOptionsComponent","@allowClear","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@buildSelection","@calculatePosition","@class","@closeOnSelect","@defaultHighlighted","@destination","@dir","@disabled","@dropdownClass","@closeWhenEmpty","@openOnFocus","@autofocus","@value","@extra","@groupComponent","@highlightOnHover","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@scrollTo","@searchField","@searchMessage","@searchMessageComponent","@searchPlaceholder","@selected","@selectedItemComponent","@triggerClass","@tabindex","@triggerComponent","@triggerId","@triggerRole","@typeAheadMatcher","@verticalPosition","&attrs","@powerSelectComponentName"],"statements":[[6,[37,5],[[30,[36,1],[[30,[36,0],[[32,61],"power-select"],null]],null]],null,[["default"],[{"statements":[[2,"    "],[8,[32,1],[[17,60]],[["@afterOptionsComponent","@allowClear","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@beforeOptionsComponent","@buildSelection","@calculatePosition","@class","@closeOnSelect","@defaultHighlighted","@destination","@dir","@disabled","@dropdownClass","@extra","@groupComponent","@highlightOnHover","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@matcher","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchMessageComponent","@searchPlaceholder","@selected","@selectedItemComponent","@tabindex","@triggerClass","@triggerComponent","@triggerId","@triggerRole","@typeAheadMatcher","@verticalPosition"],[[32,6],[32,7],[32,8],[32,9],[32,10],[32,11],[32,0,["beforeOptionsComponent"]],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[32,18],[32,19],[32,20],[30,[36,3],[[32,25],[30,[36,2],null,[["value","autofocus","openOnFocus","closeWhenEmpty"],[[32,24],[32,23],[32,22],[32,21]]]]],null],[32,26],[32,27],[32,28],[32,29],[32,30],[32,31],[32,0,["matcher"]],[30,[36,0],[[32,32],""],null],[32,33],[32,0,["selectOrCreate"]],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[32,44],[32,45],[32,46],[32,0,["searchAndSuggest"]],false,[30,[36,0],[[32,47],"name"],null],[32,48],[32,49],[32,50],[32,51],[32,52],"-1",[31,["ember-power-select-multiple-trigger gh-input-with-select-trigger ",[32,53]]],[30,[36,1],[[30,[36,0],[[32,55],"gh-input-with-select/trigger"],null]],[["tabindex"],[[32,54]]]],[32,56],[32,57],[32,58],[32,59]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,2,["__isSuggestion__"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,1],[[30,[36,0],[[32,5],"gh-input-with-select/suggested-option"],null]],[["option","term"],[[32,2],[32,3]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[18,4,[[32,2],[32,3]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[2,3]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["or","component","hash","assign","if","let"]}',moduleName:"ghost-admin/components/gh-input-with-select/index.hbs"})
let c=(n=Ember._tracked,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="searchEnabled",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get matcher(){return this.args.matcher||i.defaultMatcher}get valueField(){return this.args.valueField||"name"}shouldShowCreateOption(e,t){return!!this.args.showCreate||!!this.args.showCreateWhen&&this.args.showCreateWhen(e,t)}addCreateOption(e,t){this.shouldShowCreateOption(e,t)&&("bottom"===this.args.showCreatePosition?t.push(this.buildSuggestionForTerm(e)):t.unshift(this.buildSuggestionForTerm(e)))}searchAndSuggest(e,t){return Ember.RSVP.resolve(this.args.options).then((i=>{if(0===e.length)return i
let n=this.args.search
return n?Ember.RSVP.resolve(n(e,t)).then((t=>(t.toArray&&(t=t.toArray()),this.addCreateOption(e,t),t))):(i=this.filter(i,e),this.addCreateOption(e,i),i)}))}selectOrCreate(e,t,i){if(t&&!t.isOpen)return
const n=e.__value__||Ember.get(e,this.valueField)
return this.args.onChange?this.args.onChange(n,t,i):this.args.onInput(n,t,i)}filter(e,t){let n
return n=this.args.searchField?(e,t)=>this.matcher(Ember.get(e,this.args.searchField),t):(e,t)=>this.matcher(e,t),(0,i.filterOptions)(e||[],t,n)}buildSuggestionForTerm(e){return{__isSuggestion__:!0,__value__:e,text:this.buildSuggestionLabel(e)}}buildSuggestionLabel(e){return this.args.buildSuggestion?this.args.buildSuggestion(e):`Create "${e}"...`}},o=l(s.prototype,"searchEnabled",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),l(s.prototype,"searchAndSuggest",[r],Object.getOwnPropertyDescriptor(s.prototype,"searchAndSuggest"),s.prototype),l(s.prototype,"selectOrCreate",[a],Object.getOwnPropertyDescriptor(s.prototype,"selectOrCreate"),s.prototype),s)
e.default=c,Ember._setComponentTemplate(u,c)})),define("ghost-admin/components/gh-input-with-select/suggested-option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"g3wZxYUI",block:'{"symbols":["@option"],"statements":[[10,"span"],[14,0,"gh-btn-create-snippet"],[12],[1,[32,1,["text"]]],[1,[30,[36,0],["plus"],null]],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/gh-input-with-select/suggested-option.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-input-with-select/trigger",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"TOfCvOVj",block:'{"symbols":["@extra","@placeholder","@select"],"statements":[[6,[37,1],[[32,1,["inputIcon"]]],null,[["default"],[{"statements":[[2,"    "],[1,[30,[36,0],[[32,1,["inputIcon"]]],[["class"],[[32,1,["inputIconClass"]]]]]],[2,"\\n"]],"parameters":[]}]]],[11,"input"],[24,0,"gh-input-with-select-input"],[16,"autofocus",[32,1,["autofocus"]]],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[16,2,[32,1,["value"]]],[24,3,"selectSearchTerm"],[24,"spellcheck","false"],[16,"placeholder",[32,2]],[16,"disabled",[32,3,["disabled"]]],[16,"aria-label",[32,1,["label"]]],[16,4,[30,[36,2],[[32,1,["inputType"]],"text"],null]],[4,[38,3],[[32,0,["registerInput"]]],null],[4,[38,4],[[32,0,["closeWhenEmpty"]],[32,3,["results"]]],null],[4,[38,5],["input",[32,0,["handleInput"]]],null],[4,[38,5],["keydown",[32,0,["handleKeydown"]]],null],[4,[38,5],["keyup",[32,0,["handleKeyup"]]],null],[4,[38,5],["focus",[32,0,["handleFocus"]]],null],[4,[38,5],["blur",[32,0,["handleBlur"]]],null],[12],[13]],"hasEval":false,"upvars":["svg-jar","if","or","did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-input-with-select/trigger.hbs"})
let b=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(){var e,t,i,n
super(...arguments),e=this,t="dropdown",n=this,(i=d)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),p(this,"inputElem",null),this.dropdown.on("close",this,this.closeFromDropdown)}willDestroy(){super.willDestroy(...arguments),this.dropdown.off("close",this,this.closeFromDropdown)}closeFromDropdown(){this.args.select.actions.close()}registerInput(e){this.inputElem=e,this.args.extra?.autofocus&&this.inputElem.focus()}handleInput(e){let t=e.target.value
Ember.isBlank(t)===this.args.select.isOpen&&(Ember.isBlank(t)?this.close():this.open()),this.args.onInput?.(e)}handleKeydown(e){("Escape"===e.key&&e.target.value||"Enter"===e.key)&&(this._previousKeyScope=key.getScope(),key.setScope("ignore"))}handleKeyup(){"ignore"===key.getScope()&&key.setScope(this._previousKeyScope)}handleFocus(){this.args.extra?.openOnFocus&&this.args.select.results.length>0&&this.open(),this.args.onFocus?.(...arguments),!1===this.args.extra.showSearchMessage&&0===this.args.select.results.length&&this.close()}handleBlur(e){if(e?.relatedTarget){const t=this.inputElem.closest(".ember-basic-dropdown-trigger")
e.relatedTarget.closest(".ember-basic-dropdown-trigger")!==t&&(this.args.select.actions.search(""),this.close())}this.args.extra?.value&&this.args.select.searchText===this.args.extra.value&&(this.args.select.actions.search(""),this.close()),this.args.onBlur?.(...arguments)}closeWhenEmpty(){document.activeElement===this.inputElem&&this.args.extra?.closeWhenEmpty&&(this.args.select.results.length>0&&this.open(),0===this.args.select.results.length&&this.close())}open(){this.args.select.isOpen||this.args.select.actions.open(null,!0)}close(){this.args.select.isOpen&&this.args.select.actions.close(null,!0)}},d=m(c.prototype,"dropdown",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(c.prototype,"registerInput",[n],Object.getOwnPropertyDescriptor(c.prototype,"registerInput"),c.prototype),m(c.prototype,"handleInput",[r],Object.getOwnPropertyDescriptor(c.prototype,"handleInput"),c.prototype),m(c.prototype,"handleKeydown",[a],Object.getOwnPropertyDescriptor(c.prototype,"handleKeydown"),c.prototype),m(c.prototype,"handleKeyup",[s],Object.getOwnPropertyDescriptor(c.prototype,"handleKeyup"),c.prototype),m(c.prototype,"handleFocus",[o],Object.getOwnPropertyDescriptor(c.prototype,"handleFocus"),c.prototype),m(c.prototype,"handleBlur",[l],Object.getOwnPropertyDescriptor(c.prototype,"handleBlur"),c.prototype),m(c.prototype,"closeWhenEmpty",[u],Object.getOwnPropertyDescriptor(c.prototype,"closeWhenEmpty"),c.prototype),c)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/gh-koenig-editor-lexical",["exports","@glimmer/component","ghost-admin/utils/ghost-paths"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w
function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const O=Ember.HTMLBars.template({id:"w/KQoOG8",block:'{"symbols":["&attrs","@featureImage","@setFeatureImage","@clearFeatureImage","@featureImageAlt","@setFeatureImageAlt","@featureImageCaption","@setFeatureImageCaption","@title","@cardOptions","@titlePlaceholder","@titleAutofocus","@onTitleBlur","@body","@onBodyChange","@updateWordCount"],"statements":[[11,"div"],[24,0,"gh-koenig-editor relative w-100 vh-100 overflow-x-hidden overflow-y-auto z-0"],[17,1],[4,[38,1],[[32,0,["registerElement"]]],null],[12],[2,"\\n"],[2,"    "],[11,"div"],[24,0,"gh-koenig-editor-pane flex flex-column mih-100"],[4,[38,2],["mousedown",[32,0,["trackMousedown"]]],null],[4,[38,2],["mouseup",[32,0,["focusEditor"]]],null],[4,[38,2],["dragover",[32,0,["editorPaneDragover"]]],null],[4,[38,2],["drop",[32,0,["editorPaneDrop"]]],null],[12],[2,"\\n        "],[8,"gh-editor-feature-image",[],[["@image","@updateImage","@clearImage","@alt","@updateAlt","@caption","@updateCaption","@forceButtonDisplay","@isHidden"],[[32,2],[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[30,[36,5],[[30,[36,4],[[32,9]],null],[30,[36,3],[[32,9],"(Untitled)"],null],[32,0,["titleIsHovered"]],[32,0,["titleIsFocused"]]],null],[30,[36,5],[[30,[36,4],[[32,10,["post","showTitleAndFeatureImage"]]],null],false],null]]],null],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-editor-title-container page-improvements"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,4],[[32,10,["post","showTitleAndFeatureImage"]]],null],[30,[36,4],[[32,2]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"gh-editor-hidden-indicator"],[14,"data-tooltip","Post title is hidden on page"],[12],[2,"\\n                    "],[1,[30,[36,0],["eye-closed"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-textarea",[[16,"data-test-editor-title-input",true],[4,[38,2],["focus",[30,[36,11],[[30,[36,10],[[32,0,["titleIsFocused"]]],null],true],null]],null],[4,[38,2],["blur",[30,[36,11],[[30,[36,10],[[32,0,["titleIsFocused"]]],null],false],null]],null],[4,[38,2],["mouseover",[30,[36,11],[[30,[36,10],[[32,0,["titleIsHovered"]]],null],true],null]],null],[4,[38,2],["mouseleave",[30,[36,11],[[30,[36,10],[[32,0,["titleIsHovered"]]],null],false],null]],null],[4,[38,2],["paste",[32,0,["cleanPastedTitle"]]],null]],[["@class","@placeholder","@shouldFocus","@tabindex","@autoExpand","@value","@input","@focus-out","@keyDown","@didCreateTextarea"],[[31,["gh-editor-title ",[30,[36,7],[[30,[36,6],[[30,[36,4],[[32,10,["post","showTitleAndFeatureImage"]]],null],[30,[36,4],[[32,0,["titleIsFocused"]]],null]],null],"faded"],null]]],[32,11],[30,[36,5],[[32,12],false],null],"1",".gh-koenig-editor",[30,[36,8],[[32,0,["title"]]],null],[32,0,["updateTitle"]],[30,[36,9],[[32,13]],null],[32,0,["onTitleKeydown"]],[32,0,["registerTitleElement"]]]],null],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"koenig-lexical-editor",[],[["@lexical","@cardConfig","@onChange","@registerAPI","@cursorDidExitAtTop","@updateWordCount"],[[32,14],[32,10],[32,15],[32,0,["registerEditorAPI"]],[32,0,["focusTitle"]],[32,16]]],null],[2,"\\n\\n"],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","did-insert","on","eq","not","or","and","if","readonly","optional","mut","fn"]}',moduleName:"ghost-admin/components/gh-koenig-editor-lexical.hbs"})
let j=(n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=class extends t.default{constructor(...e){super(...e),k(this,"settings",v,this),E(this,"containerElement",null),E(this,"titleElement",null),E(this,"mousedownY",0),E(this,"uploadUrl",`${(0,i.default)().apiRoot}/images/upload/`),E(this,"editorAPI",null),k(this,"titleIsHovered",y,this),k(this,"titleIsFocused",w,this)}get title(){return"(Untitled)"===this.args.title?"":this.args.title}get accentColor(){const e=this.settings.accentColor
return e&&"#"===e[0]?e.slice(1):e}registerElement(e){this.containerElement=e}trackMousedown(e){this.mousedownY=e.clientY}editorPaneDragover(e){e.preventDefault()}editorPaneDrop(e){e.dataTransfer.files.length>0&&(e.preventDefault(),this.editorAPI?.insertFiles(Array.from(e.dataTransfer.files)))}registerTitleElement(e){this.titleElement=e,this.titleElement===document.activeElement&&(this.titleIsFocused=!0)}updateTitle(e){this.args.onTitleChange?.(e.target.value)}cleanPastedTitle(e){const t=(e.clipboardData||window.clipboardData).getData("text")
if(!t)return
e.preventDefault()
const i=t.replace(/(\n|\r)+/g," ").trim()
document.execCommand("insertText",!1,i)}focusTitle(){this.titleElement.focus()}onTitleKeydown(e){const{editorAPI:t}=this
if(!t)return
const{key:i}=e,{value:n,selectionStart:r}=e.target,a=!n||r===n.length,s=["ArrowDown","ArrowRight"].includes(i)&&a;("Enter"===i||"Tab"===i||s)&&(e.preventDefault(),"Enter"!==i||t.editorIsEmpty()?t.focusEditor({position:"top"}):t.insertParagraphAtTop({focus:!0}))}registerEditorAPI(e){this.editorAPI=e,this.args.registerAPI(e)}focusEditor(e){if(e.target.classList.contains("gh-koenig-editor-pane")){let t=this.editorAPI.editorInstance.getRootElement(),{bottom:i}=t.getBoundingClientRect()
e.pageY>i&&e.clientY>i&&(e.preventDefault(),this.editorAPI.lastNodeIsDecorator()&&this.editorAPI.insertParagraphAtBottom(),this.editorAPI.focusEditor({position:"bottom"}))}}},v=P(f.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(f.prototype,"titleIsHovered",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=P(f.prototype,"titleIsFocused",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P(f.prototype,"registerElement",[s],Object.getOwnPropertyDescriptor(f.prototype,"registerElement"),f.prototype),P(f.prototype,"trackMousedown",[o],Object.getOwnPropertyDescriptor(f.prototype,"trackMousedown"),f.prototype),P(f.prototype,"editorPaneDragover",[l],Object.getOwnPropertyDescriptor(f.prototype,"editorPaneDragover"),f.prototype),P(f.prototype,"editorPaneDrop",[u],Object.getOwnPropertyDescriptor(f.prototype,"editorPaneDrop"),f.prototype),P(f.prototype,"registerTitleElement",[c],Object.getOwnPropertyDescriptor(f.prototype,"registerTitleElement"),f.prototype),P(f.prototype,"updateTitle",[d],Object.getOwnPropertyDescriptor(f.prototype,"updateTitle"),f.prototype),P(f.prototype,"cleanPastedTitle",[p],Object.getOwnPropertyDescriptor(f.prototype,"cleanPastedTitle"),f.prototype),P(f.prototype,"focusTitle",[m],Object.getOwnPropertyDescriptor(f.prototype,"focusTitle"),f.prototype),P(f.prototype,"onTitleKeydown",[h],Object.getOwnPropertyDescriptor(f.prototype,"onTitleKeydown"),f.prototype),P(f.prototype,"registerEditorAPI",[b],Object.getOwnPropertyDescriptor(f.prototype,"registerEditorAPI"),f.prototype),P(f.prototype,"focusEditor",[g],Object.getOwnPropertyDescriptor(f.prototype,"focusEditor"),f.prototype),f)
e.default=j,Ember._setComponentTemplate(O,j)})),define("ghost-admin/components/gh-koenig-editor",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"wOfu6u86",block:'{"symbols":["&attrs","@featureImage","@setFeatureImage","@clearFeatureImage","@featureImageAlt","@setFeatureImageAlt","@featureImageCaption","@setFeatureImageCaption","@title","@titlePlaceholder","@titleAutofocus","@onTitleBlur","@body","@bodyPlaceholder","@onBodyChange","@headerOffset","@scrollContainerSelector","@scrollOffsetTopSelector","@scrollOffsetBottomSelector","@onWordCountChange","@snippets","@collections","@saveSnippet","@updateSnippet","@deleteSnippet","@cardOptions","@postType"],"statements":[[11,"div"],[24,0,"gh-koenig-editor relative w-100 vh-100 overflow-x-hidden overflow-y-auto z-0"],[17,1],[4,[38,0],[[32,0,["registerElement"]]],null],[12],[2,"\\n"],[2,"    "],[11,"div"],[24,0,"gh-koenig-editor-pane flex flex-column mih-100"],[4,[38,1],["mousedown",[32,0,["trackMousedown"]]],null],[4,[38,1],["mouseup",[32,0,["focusEditor"]]],null],[12],[2,"\\n        "],[8,"gh-editor-feature-image",[],[["@image","@updateImage","@clearImage","@alt","@updateAlt","@caption","@updateCaption","@forceButtonDisplay"],[[32,2],[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[30,[36,4],[[30,[36,3],[[32,9]],null],[30,[36,2],[[32,9],"(Untitled)"],null],[32,0,["titleIsHovered"]],[32,0,["titleIsFocused"]]],null]]],null],[2,"\\n\\n        "],[8,"gh-textarea",[[16,"data-test-editor-title-input",true],[4,[38,1],["focus",[30,[36,8],[[30,[36,7],[[32,0,["titleIsFocused"]]],null],true],null]],null],[4,[38,1],["blur",[30,[36,8],[[30,[36,7],[[32,0,["titleIsFocused"]]],null],false],null]],null],[4,[38,1],["mouseover",[30,[36,8],[[30,[36,7],[[32,0,["titleIsHovered"]]],null],true],null]],null],[4,[38,1],["mouseleave",[30,[36,8],[[30,[36,7],[[32,0,["titleIsHovered"]]],null],false],null]],null],[4,[38,1],["paste",[32,0,["cleanPastedTitle"]]],null]],[["@class","@placeholder","@shouldFocus","@tabindex","@autoExpand","@value","@input","@focus-out","@keyDown","@didCreateTextarea"],["gh-editor-title",[32,10],[30,[36,4],[[32,11],false],null],"1",".gh-koenig-editor",[30,[36,5],[[32,0,["title"]]],null],[32,0,["updateTitle"]],[30,[36,6],[[32,12]],null],[32,0,["onTitleKeydown"]],[32,0,["registerTitleElement"]]]],null],[2,"\\n\\n        "],[8,"koenig-editor",[],[["@mobiledoc","@placeholder","@spellcheck","@onChange","@didCreateEditor","@cursorDidExitAtTop","@headerOffset","@dropTargetSelector","@scrollContainerSelector","@scrollOffsetTopSelector","@scrollOffsetBottomSelector","@wordCountDidChange","@snippets","@collections","@saveSnippet","@updateSnippet","@deleteSnippet","@cardOptions","@postType"],[[32,13],[32,14],true,[32,15],[32,0,["onEditorCreated"]],[32,0,["focusTitle"]],[32,16],".gh-koenig-editor-pane",[32,17],[32,18],[32,19],[32,20],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27]]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","on","eq","not","or","readonly","optional","mut","fn"]}',moduleName:"ghost-admin/components/gh-koenig-editor.hbs"})
let w=(i=Ember._tracked,n=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=class extends t.default{constructor(...e){super(...e),f(this,"containerElement",null),f(this,"titleElement",null),f(this,"koenigEditor",null),f(this,"mousedownY",0),g(this,"titleIsHovered",h,this),g(this,"titleIsFocused",b,this)}get title(){return"(Untitled)"===this.args.title?"":this.args.title}registerElement(e){this.containerElement=e}trackMousedown(e){this.mousedownY=e.clientY}registerTitleElement(e){this.titleElement=e,this.titleElement===document.activeElement&&(this.titleIsFocused=!0)}updateTitle(e){this.args.onTitleChange?.(e.target.value)}cleanPastedTitle(e){const t=(e.clipboardData||window.clipboardData).getData("text")
if(!t)return
e.preventDefault()
const i=t.replace(/(\n|\r)+/g," ").trim()
document.execCommand("insertText",!1,i)}focusTitle(){this.titleElement.focus()}onTitleKeydown(e){let t=e.target.value,i=e.target.selectionStart
"Enter"!==e.key&&"Tab"!==e.key&&("ArrowDown"!==e.key&&"ArrowRight"!==e.key||t&&i!==t.length)||(e.preventDefault(),"Enter"===e.key&&this._addParaAtTop(),this.koenigEditor.focus())}onEditorCreated(e){this._setupEditor(e),this.args.onEditorCreated?.(e)}focusEditor(e){if(e.target.classList.contains("gh-koenig-editor-pane")){let t=this.koenigEditor.element,{bottom:i}=t.getBoundingClientRect()
if(this.mousedownY>i&&e.clientY>i){let{post:t}=this.koenigEditor,i=t.toRange(),{tailSection:n}=i
e.preventDefault(),this.koenigEditor.focus(),n.isCardSection&&this.koenigEditor.run((e=>{let t=e.builder.createMarkupSection("p")
e.insertSectionAtEnd(t),n=t})),this.koenigEditor.selectRange(n.tailPosition()),this.containerElement.scrollTop=this.containerElement.scrollHeight}}}_setupEditor(e){let t=this
this.koenigEditor=e.editor,this.koenigEditor.registerKeyCommand({str:"SHIFT+TAB",run:()=>(t.focusTitle(),!0)})}_addParaAtTop(){if(!this.koenigEditor)return
let e=this.koenigEditor,t=e.post.toRange().head.section
!t.isListItem&&t.isBlank&&""===t.text||e.run((e=>{let{builder:i}=e,n=i.createMarkupSection("p"),r=t.isListItem?t.parent.parent.sections:t.parent.sections
e.insertSectionBefore(r,n,t)}))}},h=v(m.prototype,"titleIsHovered",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=v(m.prototype,"titleIsFocused",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(m.prototype,"registerElement",[r],Object.getOwnPropertyDescriptor(m.prototype,"registerElement"),m.prototype),v(m.prototype,"trackMousedown",[a],Object.getOwnPropertyDescriptor(m.prototype,"trackMousedown"),m.prototype),v(m.prototype,"registerTitleElement",[s],Object.getOwnPropertyDescriptor(m.prototype,"registerTitleElement"),m.prototype),v(m.prototype,"updateTitle",[o],Object.getOwnPropertyDescriptor(m.prototype,"updateTitle"),m.prototype),v(m.prototype,"cleanPastedTitle",[l],Object.getOwnPropertyDescriptor(m.prototype,"cleanPastedTitle"),m.prototype),v(m.prototype,"focusTitle",[u],Object.getOwnPropertyDescriptor(m.prototype,"focusTitle"),m.prototype),v(m.prototype,"onTitleKeydown",[c],Object.getOwnPropertyDescriptor(m.prototype,"onTitleKeydown"),m.prototype),v(m.prototype,"onEditorCreated",[d],Object.getOwnPropertyDescriptor(m.prototype,"onEditorCreated"),m.prototype),v(m.prototype,"focusEditor",[p],Object.getOwnPropertyDescriptor(m.prototype,"focusEditor"),m.prototype),m)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-link-to-custom-views-index",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"bLZZVvSZ",block:'{"symbols":["@route","&attrs","&default"],"statements":[[8,"link-to",[[17,2],[4,[38,0],[[32,0,["watchRouterEvents"]]],null],[4,[38,1],[[32,0,["unwatchRouterEvents"]]],null]],[["@route","@query","@current-when"],[[32,1],[32,0,["resetQuery"]],[32,0,["isActive"]]]],[["default"],[{"statements":[[2,"\\n    "],[18,3,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["did-insert","will-destroy"]}',moduleName:"ghost-admin/components/gh-link-to-custom-views-index.hbs"})
let h=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"customViews",l,this),c(this,"router",u,this),d(this,"_forceReset",!1),d(this,"_lastIsActive",!1)}watchRouterEvents(){this.router.on("routeWillChange",this.handleRouteWillChange)}unwatchRouterEvents(){this.router.off("routeWillChange",this.handleRouteWillChange)}handleRouteWillChange({from:e,to:t}){let i=t&&t.name.replace(/_loading$/,"")
e&&e.name===this.args.route&&i!==this.args.route&&this.customViews.activeView&&this.customViews.activeView.route===this.args.route&&(this._forceReset=!0),i===this.args.route&&(this._forceReset=!1)}get isActive(){if(this.router.currentRouteName.match(/_loading$/))return this._lastIsActive
let e=this.router.currentRouteName.replace(/_loading$/,"")
return this._lastIsActive=e===this.args.route&&!this.customViews.activeView,this._lastIsActive}get resetQuery(){if(this._forceReset||this.router.currentRouteName===this.args.route)return this.args.query}},l=p(o.prototype,"customViews",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"watchRouterEvents",[r],Object.getOwnPropertyDescriptor(o.prototype,"watchRouterEvents"),o.prototype),p(o.prototype,"unwatchRouterEvents",[a],Object.getOwnPropertyDescriptor(o.prototype,"unwatchRouterEvents"),o.prototype),p(o.prototype,"handleRouteWillChange",[s],Object.getOwnPropertyDescriptor(o.prototype,"handleRouteWillChange"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-loading-list",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"f5hW8lhN",block:'{"symbols":[],"statements":[[10,"ol"],[14,0,"gh-list loading"],[12],[2,"\\n    "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"\\n            "],[10,"div"],[14,0,"bg-lightgrey w20 h3"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"li"],[14,0,"gh-list-row loading"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-loadingcell"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-loading-list.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-loading-spinner",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"sA5WIfTx",block:'{"symbols":["&attrs"],"statements":[[6,[37,0],[[32,0,["showSpinner"]]],null,[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"gh-loading-content"],[17,1],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-loading-spinner.hbs"})
let u=(n=Ember._tracked,r=class extends t.default{constructor(){var e,t,i,n
super(...arguments),e=this,t="showSpinner",n=this,(i=a)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),s(this,"slowLoadTimeout",200),this.startSpinnerTimeout.perform()}*startSpinnerTimeout(){yield(0,i.timeout)(this.slowLoadTimeout),this.showSpinner=!0}},a=o(r.prototype,"showSpinner",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o(r.prototype,"startSpinnerTimeout",[i.task],Object.getOwnPropertyDescriptor(r.prototype,"startSpinnerTimeout"),r.prototype),r)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-markdown-editor",["exports","ghost-admin/mixins/shortcuts","ghost-admin/utils/ctrl-or-cmd","ghost-admin/utils/format-markdown","@ember-decorators/component","ghost-admin/decorators/inject"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z
function x(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function C(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const M=Ember.HTMLBars.template({id:"qSNz7GWJ",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,2],null,[["editor","isFullScreen","isSplitScreen","focus"],[[30,[36,1],["gh-simplemde"],[["value","placeholder","autofocus","onChange","onFocus","onBlur","onEditorInit","options"],[[32,0,["markdown"]],[32,0,["placeholder"]],[32,0,["autofocus"]],[30,[36,0],[[32,0],"updateMarkdown"],null],[30,[36,0],[[32,0],"updateFocusState",true],null],[30,[36,0],[[32,0],"updateFocusState",false],null],[30,[36,0],[[32,0],"setEditor"],null],[32,0,["simpleMDEOptions"]]]]],[32,0,["_isFullScreen"]],[32,0,["_isSplitScreen"]],[30,[36,0],[[32,0],"focusEditor"],null]]]]]],[2,"\\n\\n"],[10,"div"],[14,5,"display:none"],[12],[2,"\\n    "],[8,"gh-file-input",[],[["@multiple","@action","@accept"],[true,[30,[36,0],[[32,0],[32,0,["onImageFilesSelected"]]],null],[32,0,["imageMimeTypes"]]]],null],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["_showUnsplash"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-unsplash",[],[["@select","@close"],[[30,[36,0],[[32,0],"insertUnsplashPhoto"],null],[30,[36,0],[[32,0],"toggleUnsplash"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showMarkdownHelp"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["markdown-help",[30,[36,0],[[32,0],"toggleMarkdownHelp"],null],"wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","component","hash","if"]}',moduleName:"ghost-admin/components/gh-markdown-editor.hbs"})
let D=(s=(0,r.classNames)("gh-markdown-editor"),o=(0,r.classNameBindings)("_isFullScreen:gh-markdown-editor-full-screen","_isSplitScreen:gh-markdown-editor-side-by-side"),l=Ember.inject.service,u=Ember.inject.service,c=Ember.computed("options"),d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,s(O=o((j=class extends(Ember.Component.extend(t.default)){constructor(...e){super(...e),x(this,"notifications",_,this),x(this,"settings",T,this),x(this,"config",z,this),S(this,"autofocus",!1),S(this,"imageMimeTypes",null),S(this,"isFullScreen",!1),S(this,"markdown",null),S(this,"options",null),S(this,"placeholder",""),S(this,"showMarkdownHelp",!1),S(this,"uploadedImageUrls",null),S(this,"enableSideBySide",!0),S(this,"enablePreview",!0),S(this,"enableHemingway",!0),S(this,"shortcuts",null),S(this,"_editor",null),S(this,"_editorFocused",!1),S(this,"_isFullScreen",!1),S(this,"_isSplitScreen",!1),S(this,"_isHemingwayMode",!1),S(this,"_isUploading",!1),S(this,"_showUnsplash",!1),S(this,"_uploadedImageUrls",null)}onChange(){}onFullScreenToggle(){}onImageFilesSelected(){}onPreviewToggle(){}onSplitScreenToggle(){}get simpleMDEOptions(){let e=this.options||{},t={previewRender:e=>(0,n.default)(e),toolbar:["bold","italic","heading","|","quote","unordered-list","ordered-list","|","link",{name:"image",action:()=>{this._openImageFileDialog()},className:"fa fa-picture-o",title:"Upload Image(s)"},"|",{name:"preview",action:()=>{this._togglePreview()},className:"fa fa-eye no-disable",title:"Render Preview (Ctrl-Alt-R)",useCtrlOnMac:!0},{name:"side-by-side",action:()=>{this.send("toggleSplitScreen")},className:"fa fa-columns no-disable no-mobile",title:"Side-by-side Preview (Ctrl-Alt-P)",useCtrlOnMac:!0},"|",{name:"spellcheck",action:()=>{this._toggleSpellcheck()},className:"fa fa-check",title:"Spellcheck (Ctrl-Alt-S)",useCtrlOnMac:!0},{name:"hemingway",action:()=>{this._toggleHemingway()},className:"fa fa-h-square",title:"Hemingway Mode (Ctrl-Alt-H)",useCtrlOnMac:!0},{name:"guide",action:()=>{this.send("toggleMarkdownHelp")},className:"fa fa-question-circle",title:"Markdown Guide"}],shortcuts:{toggleFullScreen:null,togglePreview:null,toggleSideBySide:null,drawImage:null},status:["words"]},i=t.toolbar
if(!this.enableSideBySide){let e=i.findBy("name","side-by-side"),t=i.indexOf(e)
i.splice(t,1)}if(!this.enablePreview){let e=i.findBy("name","preview"),t=i.indexOf(e)
i.splice(t,1)}if(!this.enableHemingway){let e=i.findBy("name","hemingway"),t=i.indexOf(e)
i.splice(t,1)}if(this.settings.unsplash){let e=i.findBy("name","image"),t=i.indexOf(e)+1
i.splice(t,0,{name:"unsplash",action:()=>{this.send("toggleUnsplash")},className:"fa fa-camera",title:"Add Image from Unsplash"})}let r=null
return i.forEach(((e,t)=>{"|"===e&&e===r&&(i[t]=null),r=e})),t.toolbar=i.filter(Boolean),Ember.assign(t,e)}init(){super.init(...arguments)
let e={}
e[`${i.default}+shift+i`]={action:"openImageFileDialog"},e["ctrl+alt+s"]={action:"toggleSpellcheck"},this.enablePreview&&(e["ctrl+alt+r"]={action:"togglePreview"}),this.enableSideBySide&&(e["ctrl+alt+p"]={action:"toggleSplitScreen"}),this.enableHemingway&&(e["ctrl+alt+h"]={action:"toggleHemingway"}),this.shortcuts=e}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.uploadedImageUrls
Ember.isEmpty(e)||e===this._uploadedImageUrls||(this._uploadedImageUrls=e,Ember.run.scheduleOnce("afterRender",this,this._insertImages,e)),this.autofocus&&this._editor&&this.markdown!==this._editor.value()&&this.send("focusEditor"),Ember.isEmpty(this.isFullScreen)||this.set("_isFullScreen",this.isFullScreen),Ember.isEmpty(this.isSplitScreen)||this.set("_isSplitScreen",this.isSplitScreen),this._updateButtonState()}didInsertElement(){super.didInsertElement(...arguments),this.registerShortcuts(),!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform)&&this._preventBodyScroll()}willDestroyElement(){this._isSplitScreen&&this._disconnectSplitPreview(),this.removeShortcuts(),super.willDestroyElement(...arguments),this._preventBodyScrollId&&window.cancelAnimationFrame(this._preventBodyScrollId)}updateMarkdown(e){this.onChange(e)}setEditor(e){this._editor=e,this._editor.codemirror.setOption("dragDrop",!1),this._editor.codemirror.setOption("mode","gfm"),this._editor.codemirror.setOption("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\xa0]/g),this._updateButtonState()}focusEditor(e="bottom"){return this._editor.codemirror.focus(),"bottom"===e?this._editor.codemirror.execCommand("goDocEnd"):"top"===e&&this._editor.codemirror.execCommand("goDocStart"),!1}updateFocusState(e){e?this._editorFocused=!0:Ember.run.later(this,(function(){this._editorFocused=!1}),100)}openImageFileDialog(){let e=this._editor.codemirror.hasFocus()
this._openImageFileDialog({captureSelection:e})}toggleUnsplash(){if(this._showUnsplash)return this.toggleProperty("_showUnsplash")
this._editorFocused&&(this._imageInsertSelection={anchor:this._editor.codemirror.getCursor("anchor"),head:this._editor.codemirror.getCursor("head")}),this.toggleProperty("_showUnsplash")}insertUnsplashPhoto({src:e,alt:t,caption:i}){let n={alt:t,url:e,credit:`<small>${i}</small>`}
this._insertImages([n])}togglePreview(){this._togglePreview()}toggleFullScreen(){let e=!this._isFullScreen
this.set("_isFullScreen",e),this._updateButtonState(),this.onFullScreenToggle(e),!e&&this._isSplitScreen&&this.send("toggleSplitScreen")}toggleSplitScreen(){let e=!this._isSplitScreen,t=this._editor.toolbarElements.preview
if(this.set("_isSplitScreen",e),this._updateButtonState(),e){if(this._editor.isPreviewActive()){this._editor.toolbar.find((e=>"preview"===e.name)).action(this._editor)}t&&t.classList.add("disabled"),Ember.run.scheduleOnce("afterRender",this,this._connectSplitPreview)}else t&&t.classList.remove("disabled"),Ember.run.scheduleOnce("afterRender",this,this._disconnectSplitPreview)
this.onSplitScreenToggle(e),this.send("toggleFullScreen")}toggleSpellcheck(){this._toggleSpellcheck()}toggleHemingway(){this._toggleHemingway()}toggleMarkdownHelp(){this.toggleProperty("showMarkdownHelp")}_preventBodyScroll(){this._preventBodyScrollId=window.requestAnimationFrame((()=>{let e=document.querySelector("body")
if(document.activeElement.closest(".CodeMirror")&&0!==e.scrollTop){document.querySelector(".gh-markdown-editor").scrollTop+=e.scrollTop,e.scrollTop=0}this._preventBodyScroll()}))}_insertImages(e){let t=this._editor.codemirror,i=e.map((e=>{if("string"===Ember.typeOf(e)){let t=e.split("/").pop(),i=t
return t.lastIndexOf(".")>0&&(i=t.slice(0,t.lastIndexOf("."))),`![${i}](${e})`}{let t=`![${e.alt}](${e.url})`
return e.credit&&(t+=`\n${e.credit}`),t}})).join("\n\n")
this._imageInsertSelection&&(this.send("focusEditor",null),t.setSelection(this._imageInsertSelection.anchor,this._imageInsertSelection.head),this._imageInsertSelection=null),t.hasFocus()||(this.send("focusEditor"),i=`\n\n${i}\n\n`),t.replaceSelection(i,"end")}_updateButtonState(){if(this._editor){let e=this._editor.toolbarElements["side-by-side"],t=this._editor.toolbarElements.spellcheck,i=this._editor.toolbarElements.hemingway
e&&(this._isSplitScreen?e.classList.add("active"):e.classList.remove("active")),t&&("spell-checker"===this._editor.codemirror.getOption("mode")?t.classList.add("active"):t.classList.remove("active")),i&&(this._isHemingwayMode?i.classList.add("active"):i.classList.remove("active"))}}_connectSplitPreview(){let e=this._editor.codemirror,t=this._editor,i=this.element.querySelector(".gh-markdown-editor-pane"),n=this.element.querySelector(".gh-markdown-editor-preview"),r=this.element.querySelector(".gh-markdown-editor-preview-content")
this._editorPane=i,this._previewPane=n,this._previewContent=r
let a=function(){r.innerHTML=t.options.previewRender(t.value(),r)}
e.sideBySideRenderingFunction=a,a(),e.on("update",e.sideBySideRenderingFunction),e.refresh(),this._onEditorPaneScroll=this._scrollHandler.bind(this),i.addEventListener("scroll",this._onEditorPaneScroll,!1),this._scrollSync()}_scrollHandler(){this._scrollSyncTicking||requestAnimationFrame(this._scrollSync.bind(this)),this._scrollSyncTicking=!0}_scrollSync(){let e=this._editorPane,t=this._previewPane,i=e.scrollHeight-e.clientHeight,n=parseFloat(e.scrollTop)/i,r=(t.scrollHeight-t.clientHeight)*n
t.scrollTop=r,this._scrollSyncTicking=!1}_disconnectSplitPreview(){let e=this._editor.codemirror
e.off("update",e.sideBySideRenderingFunction),e.refresh(),this._editorPane.removeEventListener("scroll",this._onEditorPaneScroll,!1),delete this._previewPane,delete this._previewPaneContent,delete this._onEditorPaneScroll}_openImageFileDialog({captureSelection:e=!0}={}){e&&(this._imageInsertSelection={anchor:this._editor.codemirror.getCursor("anchor"),head:this._editor.codemirror.getCursor("head")}),this.element.querySelector('input[type="file"]').click()}_togglePreview(){this.onPreviewToggle(!this._editor.isPreviewActive()),this._editor.togglePreview()}_toggleSpellcheck(){let e=this._editor.codemirror
"spell-checker"===e.getOption("mode")?e.setOption("mode","gfm"):e.setOption("mode","spell-checker"),this._updateButtonState()}_toggleHemingway(){let e=this._editor.codemirror,t=e.getOption("extraKeys"),i=""
this._isHemingwayMode=!this._isHemingwayMode,this._isHemingwayMode?(i='<span class="gh-notification-title">Hemingway Mode On:</span> Write now; edit later. Backspace disabled.',t.Backspace=function(){}):(i='<span class="gh-notification-title">Hemingway Mode Off:</span> Normal editing restored.',delete t.Backspace),e.setOption("extraKeys",t),this._updateButtonState(),e.focus(),this.notifications.showNotification(Ember.String.htmlSafe(i),{key:"editor.hemingwaymode"})}},_=C(j.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=C(j.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C(j.prototype,"config",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(j.prototype,"simpleMDEOptions",[c],Object.getOwnPropertyDescriptor(j.prototype,"simpleMDEOptions"),j.prototype),C(j.prototype,"updateMarkdown",[d],Object.getOwnPropertyDescriptor(j.prototype,"updateMarkdown"),j.prototype),C(j.prototype,"setEditor",[p],Object.getOwnPropertyDescriptor(j.prototype,"setEditor"),j.prototype),C(j.prototype,"focusEditor",[m],Object.getOwnPropertyDescriptor(j.prototype,"focusEditor"),j.prototype),C(j.prototype,"updateFocusState",[h],Object.getOwnPropertyDescriptor(j.prototype,"updateFocusState"),j.prototype),C(j.prototype,"openImageFileDialog",[b],Object.getOwnPropertyDescriptor(j.prototype,"openImageFileDialog"),j.prototype),C(j.prototype,"toggleUnsplash",[g],Object.getOwnPropertyDescriptor(j.prototype,"toggleUnsplash"),j.prototype),C(j.prototype,"insertUnsplashPhoto",[f],Object.getOwnPropertyDescriptor(j.prototype,"insertUnsplashPhoto"),j.prototype),C(j.prototype,"togglePreview",[v],Object.getOwnPropertyDescriptor(j.prototype,"togglePreview"),j.prototype),C(j.prototype,"toggleFullScreen",[y],Object.getOwnPropertyDescriptor(j.prototype,"toggleFullScreen"),j.prototype),C(j.prototype,"toggleSplitScreen",[w],Object.getOwnPropertyDescriptor(j.prototype,"toggleSplitScreen"),j.prototype),C(j.prototype,"toggleSpellcheck",[k],Object.getOwnPropertyDescriptor(j.prototype,"toggleSpellcheck"),j.prototype),C(j.prototype,"toggleHemingway",[E],Object.getOwnPropertyDescriptor(j.prototype,"toggleHemingway"),j.prototype),C(j.prototype,"toggleMarkdownHelp",[P],Object.getOwnPropertyDescriptor(j.prototype,"toggleMarkdownHelp"),j.prototype),O=j))||O)||O)
e.default=D,Ember._setComponentTemplate(M,D)})),define("ghost-admin/components/gh-member-avatar",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"G6s6/oG+",block:'{"symbols":["@member","@containerClass","@sizeClass"],"statements":[[10,"figure"],[15,0,[31,["gh-member-gravatar ",[32,2]]]],[12],[2,"\\n    "],[10,"div"],[15,0,[31,["gh-member-initials flex items-center justify-center br-100 ",[32,2]]]],[15,5,[32,0,["backgroundStyle"]]],[12],[2,"\\n        "],[10,"span"],[15,0,[31,["gh-member-avatar-label ",[30,[36,0],[[32,3],"gh-member-list-avatar"],null]]]],[12],[1,[32,0,["initials"]]],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["avatarImage"]]],null,[["default"],[{"statements":[[2,"        "],[10,"img"],[14,0,"gh-member-avatar-image"],[15,"src",[31,[[32,0,["avatarImage"]]]]],[15,"alt",[31,[[30,[36,0],[[32,1,["name"]],[32,1,["email"]]],null]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["or","if"]}',moduleName:"ghost-admin/components/gh-member-avatar.hbs"})
class n extends t.default{get memberName(){let{member:e,name:t}=this.args
return e?.name||e?.email||t||"NM"}get avatarImage(){let{member:e}=this.args
return e?.avatar_image||e?.avatarImage||null}get backgroundStyle(){let e=function(e,t,i){for(var n=0,r=0;r<e.length;r++)n=e.charCodeAt(r)+((n<<5)-n)
return"hsl("+n%360+", "+t+"%, "+i+"%)"}(this.memberName,75,55)
return Ember.String.htmlSafe(`background-color: ${e}`)}get initials(){if("NM"===this.memberName)return"NM"
let e=this.memberName.split(" ")
return(e.length>1?[e[0][0],e[e.length-1][0]]:[e[0][0]]).join("").toUpperCase()}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/gh-member-details-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"5MxDSYiE",block:'{"symbols":["@member","&attrs"],"statements":[[11,"section"],[24,0,"gh-member-details-activity"],[17,2],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,0],[[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,1],[30,[36,0],[[32,1,["name"]],"f-subheadline fw4 lh-zero tracked-1","f-subheadline fw4 lh-zero tracked-1"],null],"w20 h20 mr4 gh-member-detail-avatar"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-center justify-center br-100 mr4 gh-new-member-avatar"],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-member-avatar-label f-subheadline lh-zero tracked-1"],[12],[2,"N"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"\\n                        "],[1,[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[6,[37,0],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"midgrey"],[12],[2,"New member"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n"],[6,[37,0],[[30,[36,3],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[1,[32,1,["email"]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-member-details-activity-link"]],[["@route","@model"],["member",[32,1]]],[["default"],[{"statements":[[2,"View member profile â†’"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","or","unless","and"]}',moduleName:"ghost-admin/components/gh-member-details-activity.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-member-details",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"cCUySnSU",block:'{"symbols":["@member","&attrs"],"statements":[[11,"section"],[24,0,"gh-member-details"],[17,2],[12],[2,"\\n    "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-member-details-identity"],[12],[2,"\\n"],[6,[37,1],[[30,[36,7],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,1],[30,[36,1],[[32,1,["name"]],"f-subheadline fw4 lh-zero tracked-1","f-subheadline fw4 lh-zero tracked-1"],null],"w20 h20 mr4 gh-member-detail-avatar"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center justify-center br-100 mr4 gh-new-member-avatar"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-member-avatar-label f-subheadline fw5 lh-zero tracked-1"],[12],[2,"N"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[12],[2,"\\n                "],[10,"h3"],[12],[2,"\\n                    "],[1,[30,[36,7],[[32,1,["name"]],[32,1,["email"]]],null]],[2,"\\n"],[6,[37,11],[[30,[36,7],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"midgrey"],[12],[2,"New member"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,1,["name"]],[32,1,["email"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"a"],[15,6,[31,["mailto:",[32,1,["email"]]]]],[12],[1,[32,1,["email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,11],[[32,1,["isNew"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-member-details-meta"],[12],[2,"\\n                "],[10,"p"],[12],[2,"\\n                    "],[1,[30,[36,4],["pin"],null]],[2,"\\n"],[6,[37,1],[[32,1,["geolocation"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,8],[[30,[36,3],[[32,1,["geolocation","country_code"]],"US"],null],[32,1,["geolocation","region"]]],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[32,1,["geolocation","region"]]],[2,", US\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,7],[[32,1,["geolocation","country"]],"Unknown location"],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        Unknown location\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-member-last-seen"],[12],[2,"\\n                    "],[1,[30,[36,4],["eye"],null]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,0],[[32,1,["lastSeenAtUTC"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        Last seen on "],[1,[30,[36,6],[[30,[36,5],[[32,1,["lastSeenAtUTC"]]],null],"D MMM YYYY"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"span"],[12],[2,"Not seen yet"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-member-details-attribution"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Signup info"],[13],[2,"\\n                "],[10,"p"],[12],[2,"\\n                    "],[1,[30,[36,4],["member-add"],null]],[2,"\\n                    CreatedÂ â€”Â "],[10,"span"],[12],[1,[30,[36,6],[[30,[36,5],[[32,1,["createdAtUTC"]]],null],"D MMM YYYY"],null]],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[32,0,["referrerSource"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[12],[2,"\\n                        "],[1,[30,[36,4],["earth"],null]],[2,"\\n                        SourceÂ â€”Â "],[10,"span"],[15,"title",[31,[[32,0,["referrerSource"]]]]],[12],[1,[32,0,["referrerSource"]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,8],[[32,1,["attribution","url"]],[32,1,["attribution","title"]]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[12],[2,"\\n                    "],[1,[30,[36,4],["posts"],null]],[2,"\\n                    PageÂ â€”Â "],[10,"a"],[15,6,[31,[[32,1,["attribution","url"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[15,"title",[31,[[32,1,["attribution","title"]]]]],[12],[1,[32,1,["attribution","title"]]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,8],[[30,[36,10],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,10],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-details-stats-container"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Engagement"],[13],[2,"\\n"],[6,[37,1],[[30,[36,3],[[32,1,["emailCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-members-no-stats"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"\\n"],[6,[37,1],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[2,"                                    We\'ll show "],[1,[30,[36,2],[[32,1,["name"]]],null]],[2,"\'s email stats here once they receive their first newsletter.\\n"]],"parameters":[]},{"statements":[[2,"                                    We\'ll show this member\'s email stats here once they receive their first newsletter.\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-member-details-stats"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Emails received"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-data-summary gh-cp-data-summary"],[12],[1,[32,1,["emailCount"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Emails opened"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-data-summary gh-cp-data-summary"],[12],[1,[32,1,["emailOpenedCount"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-details-stat open-rate"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"Average open rate"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["gh-data-summary gh-cp-data-summary ",[30,[36,1],[[30,[36,0],[[32,1,["emailOpenRate"]]],null],"gh-data-unavailable-label"],null]]]],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,1,["emailOpenRate"]]],null]],null,[["default","else"],[{"statements":[[2,"                                        This metric is calculated once a member has received 5 newsletters.\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[1,[32,1,["emailOpenRate"]]],[10,"span"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["is-empty","if","first-name","eq","svg-jar","moment-site-tz","moment-format","or","and","not","not-eq","unless"]}',moduleName:"ghost-admin/components/gh-member-details.hbs"})
var s,o,l,u,c,d,p=Ember._setComponentTemplate(a,(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get referrerSource(){const e=this.args.member.get("attribution")?.referrer_source
return"Created manually"===e?null:e}get showAttribution(){return this.referrerSource||this.args.member?.get("attribution")?.url&&this.args.member?.get("attribution")?.title}},s=n.prototype,o="settings",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n))
e.default=p})),define("ghost-admin/components/gh-member-label-input",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"5B5v3Uy4",block:'{"symbols":["label","@renderInPlace","@disabled","@allowCreation","@placeholder","@allowEdit"],"statements":[[8,"gh-token-input",[],[["@extra","@class","@onChange","@onCreate","@options","@renderInPlace","@selected","@showCreateWhen","@triggerId","@selectedItemComponent","@disabled","@allowCreation","@placeholder"],[[30,[36,4],null,[["tokenComponent"],[[30,[36,3],["gh-token-input/label-token"],null]]]],"gh-member-label-input",[32,0,["updateLabels"]],[32,0,["createLabel"]],[32,0,["availableLabels"]],[32,2],[32,0,["selectedLabels"]],[32,0,["hideCreateOptionOnMatchingLabel"]],[32,0,["triggerId"]],[30,[36,3],["gh-token-input/label-selected-item"],null],[32,3],[32,4],[32,5]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,5,"display: flex; width: 100%;"],[12],[2,"\\n        "],[10,"span"],[14,0,"dropdown-label"],[14,5,"flex-grow: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;"],[15,"title",[31,[[32,1,["name"]]]]],[15,"data-test-label-filter",[32,1,["name"]]],[12],[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[32,6],[32,1,["slug"]]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn-icon dropdown-action-icon"],[16,"aria-label",[31,["Edit label ",[32,1,["name"]]]]],[16,"data-test-edit-label",[32,1,["name"]]],[24,4,"button"],[4,[38,1],["mouseup",[30,[36,0],[[32,0,["editLabel"]],[32,1]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"\\n                    "],[1,[30,[36,2],["pen"],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","component","hash","and","if"]}',moduleName:"ghost-admin/components/gh-member-label-input.hbs"})
let d=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{get availableLabels(){return this._availableLabels.toArray().sort(((e,t)=>(e.name||"").localeCompare(t.name||"",void 0,{ignorePunctuation:!0})))}get availableLabelNames(){return this.availableLabels.map((e=>e.name.toLowerCase()))}constructor(...e){var t,i,n,r
super(...e),t=this,i="store",r=this,(n=l)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),this.store.query("label",{limit:"all"}),this._availableLabels=this.store.peekAll("label")}get selectedLabels(){return"object"==typeof this.args.labels?this.args.labels?.length&&"string"==typeof this.args.labels[0]?this.args.labels.map((e=>this.availableLabels.find((t=>t.slug===e))))||[]:this.args.labels||[]:[]}willDestroy(){super.willDestroy?.(...arguments),this._availableLabels.forEach((e=>{e.get("isNew")&&this.store.deleteRecord(e)}))}hideCreateOptionOnMatchingLabel(e){return!this.availableLabelNames.includes(e.toLowerCase())}updateLabels(e){this.selectedLabels.forEach((function(t){!e.includes(t)&&t.get("isNew")&&t.destroyRecord()})),this.args.onChange(e)}editLabel(e,t){t.stopPropagation(),this.args.onLabelEdit?.(e.slug)}createLabel(e){let t,i=this.selectedLabels,n=i.map((e=>e.get("name").toLowerCase()))
e=e.trim(),n.includes(e.toLowerCase())||(t=this._findLabelByName(e),t||(t=this.store.createRecord("label",{name:e})),i.pushObject(t),this.args.onChange(i))}_findLabelByName(e){return this.availableLabels.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},l=u(o.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"hideCreateOptionOnMatchingLabel",[n],Object.getOwnPropertyDescriptor(o.prototype,"hideCreateOptionOnMatchingLabel"),o.prototype),u(o.prototype,"updateLabels",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateLabels"),o.prototype),u(o.prototype,"editLabel",[a],Object.getOwnPropertyDescriptor(o.prototype,"editLabel"),o.prototype),u(o.prototype,"createLabel",[s],Object.getOwnPropertyDescriptor(o.prototype,"createLabel"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/gh-member-settings-form",["exports","@glimmer/component","moment-timezone","ghost-admin/utils/currency","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R
function U(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function F(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const B=Ember.HTMLBars.template({id:"AzQN7D2X",block:'{"symbols":["tier","sub","index","&attrs","@member","@onLabelEdit"],"statements":[[11,"div"],[24,0,"gh-member-settings"],[17,4],[4,[38,13],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section columns-3"],[12],[2,"\\n        "],[8,"gh-member-details",[],[["@member"],[[32,5]]],null],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section-block span-2"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-cp-member-email-name"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"max-width"]],[["@errors","@hasValidated","@property"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","member-name"],[12],[2,"Name"],[13],[2,"\\n                            "],[8,"gh-text-input",[[24,"data-test-input","member-name"]],[["@id","@name","@value","@tabindex","@shouldFocus","@focus-out"],["member-name","name",[32,0,["scratchMember","name"]],"1",[31,[[30,[36,3],[[32,0,["member","isNew"]],true],null]]],[30,[36,4],[[32,0,["setProperty"]],"name",[32,0,["scratchMember","name"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"name"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"max-width"]],[["@errors","@hasValidated","@property"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","member-email"],[12],[2,"Email"],[13],[2,"\\n                            "],[8,"gh-text-input",[[24,"data-test-input","member-email"]],[["@value","@id","@name","@tabindex","@autocapitalize","@autocorrect","@autocomplete","@focus-out"],[[32,0,["scratchMember","email"]],"member-email","email","2","off","off","off",[30,[36,4],[[32,0,["setProperty"]],"email",[32,0,["scratchMember","email"]]],null]]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"email"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-form-group",[[24,0,"gh-member-labels"]],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","label-input"],[12],[2,"Labels"],[13],[2,"\\n                        "],[8,"gh-member-label-input",[[24,"data-test-input",""]],[["@onChange","@allowEdit","@onLabelEdit","@labels","@triggerId","@renderInPlace"],[[32,0,["setLabels"]],true,[32,6],[32,0,["member","labels"]],"label-input",true]],null],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-form-group",[[24,0,"mb0 gh-member-note"]],[["@errors","@hasValidated","@property"],[[32,0,["member","errors"]],[32,0,["member","hasValidated"]],"note"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","member-note"],[12],[2,"Note "],[10,"span"],[14,0,"midgrey-d1 fw4"],[12],[2,"(not visible to member)"],[13],[13],[2,"\\n                        "],[8,"gh-textarea",[[24,"data-test-input","member-note"],[4,[38,1],["input",[32,0,["updateProperty"]]],null]],[["@id","@name","@class","@tabindex","@value"],["member-note","note","gh-member-details-textarea","3",[32,0,["scratchMember","note"]]]],null],[2,"\\n                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["member","errors"]],"note"]],null],[2,"\\n                        "],[10,"p"],[12],[2," Maximum: "],[10,"b"],[12],[2,"500"],[13],[2," characters. Youâ€™ve used\\n                            "],[1,[30,[36,14],[[32,0,["scratchMember","note"]],500],null]],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["canShowMultipleNewsletters"]]],null,[["default"],[{"statements":[[2,"                "],[8,"member/newsletter-preference",[],[["@member","@newsletters","@setMemberNewsletters"],[[32,0,["member"]],[32,0,["newslettersList"]],[32,0,["setMemberNewsletters"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Subscriptions"],[13],[2,"\\n\\n"],[6,[37,11],[[32,0,["tiers"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-cp-membertier-notier"],[12],[2,"\\n"],[6,[37,11],[[32,0,["isCreatingComplimentary"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-members-no-data gh-members-no-subs"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"lightgrey"],[12],[1,[30,[36,2],["no-data-subscription"],null]],[13],[2,"\\n                                    "],[10,"h4"],[12],[2,"No subscriptions"],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["isAddComplimentaryAllowed"]]],null,[["default"],[{"statements":[[6,[37,3],[[32,0,["isCreatingComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[11,"button"],[24,0,"gh-btn gh-btn-text green gh-btn-icon gh-btn-addtier"],[24,"data-test-button","add-complimentary"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],["showMemberTierModal",[32,0]],null]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[30,[36,2],["plus"],null]],[2," Add complimentary subscription"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["tiers"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-main-section-content grey gh-member-tier-container"],[15,"data-test-tier",[32,1,["id"]]],[12],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-main-content-card gh-cp-membertier gh-cp-membertier-attribution gh-membertier-subscription ",[30,[36,3],[[30,[36,8],[[32,1,["subscriptions","length"]],1],null],"multiple-subs",""],null]]]],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,1,["subscriptions"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-tier-card-header flex items-center"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-tier-card-price"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"currency-symbol"],[12],[1,[32,2,["price","currencySymbol"]]],[13],[2,"\\n                                        "],[10,"span"],[14,0,"amount"],[12],[1,[32,2,["price","nonDecimalAmount"]]],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"period"],[12],[1,[30,[36,3],[[30,[36,7],[[32,2,["price","interval"]],"year"],null],"yearly","monthly"],null]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,5,"margin-left: 16px; flex-grow: 1;"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"gh-membertier-name"],[14,"data-test-text","tier-name"],[14,5,"align-items:center !important; justify-content:flex-start !important;"],[12],[2,"\\n                                        "],[1,[32,1,["name"]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,2,["status"]],"canceled"],null]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-badge archived"],[14,"data-test-text","member-subscription-status"],[12],[2,"Cancelled"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["cancel_at_period_end"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-badge archived"],[14,"data-test-text","member-subscription-status"],[12],[2,"Cancelled"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["compExpiry"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-badge active"],[14,"data-test-text","member-subscription-status"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["trialUntil"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-badge active"],[14,"data-test-text","member-subscription-status"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-badge active"],[14,"data-test-text","member-subscription-status"],[12],[2,"Active"],[13],[2,"\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,3],[[30,[36,8],[[32,1,["subscriptions","length"]],1],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-membertier-subcount"],[12],[1,[32,1,["subscriptions","length"]]],[2," subscriptions"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n"],[6,[37,3],[[32,2,["trialUntil"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-pricelabel"],[12],[2,"Free trial "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,6],[[30,[36,7],[[32,2,["price","nickname"]],"Monthly"],null],[30,[36,7],[[32,2,["price","nickname"]],"Yearly"],null]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                                                "],[10,"span"],[14,0,"gh-cp-membertier-pricelabel"],[12],[1,[32,2,["price","nickname"]]],[13],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2," â€“"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,2,["status"]],"canceled"],null]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2,"Ended "],[1,[32,2,["validUntil"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["cancel_at_period_end"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2,"Has access until "],[1,[32,2,["validUntil"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["compExpiry"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2,"Expires "],[1,[32,2,["compExpiry"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["trialUntil"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2,"Ends "],[1,[32,2,["trialUntil"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-cp-membertier-renewal"],[12],[2,"Renews "],[1,[32,2,["validUntil"]]],[13],[2,"\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                    "],[8,"member/subscription-detail-box",[],[["@sub","@index"],[[32,2],[32,3]]],null],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,3],[[32,2,["isComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                        "],[8,"gh-dropdown-button",[[24,"data-test-button","subscription-actions"]],[["@dropdownName","@classNames","@title"],["subscription-menu-complimentary","gh-btn gh-btn-outline gh-btn-icon fill gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"span"],[12],[2,"\\n                                                "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["subscription-menu-complimentary","ul","tier-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"li"],[12],[2,"\\n                                                "],[11,"button"],[24,"data-test-button","remove-complimentary"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["removeComplimentary"]],[30,[36,6],[[32,1,["id"]],[32,1,["tier_id"]]],null]],null]],null],[12],[2,"\\n                                                    "],[10,"span"],[14,0,"red"],[12],[2,"Remove complimentary subscription"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                        "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],[[31,["subscription-menu-",[32,2,["id"]]]],"gh-btn gh-btn-outline gh-btn-icon fill gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"span"],[12],[2,"\\n                                                "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],[[31,["subscription-menu-",[32,2,["id"]]]],"ul","tier-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"li"],[12],[2,"\\n                                                "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/customers/",[32,2,["customer","id"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                    View Stripe customer\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                            "],[10,"li"],[12],[2,"\\n                                                "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/subscriptions/",[32,2,["id"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                    View Stripe subscription\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"li"],[12],[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,2,["status"]],"canceled"],null]],null,[["default"],[{"statements":[[6,[37,3],[[32,2,["cancel_at_period_end"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["continueSubscription"]],[32,2,["id"]]],null]],null],[12],[2,"\\n                                                        "],[10,"span"],[12],[2,"Continue subscription"],[13],[2,"\\n                                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                    "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["cancelSubscription"]],[32,2,["id"]]],null]],null],[12],[2,"\\n                                                        "],[10,"span"],[14,0,"red"],[12],[2,"Cancel subscription"],[13],[2,"\\n                                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"\\n"],[6,[37,3],[[30,[36,7],[[32,1,["subscriptions","length"]],0],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-membertier-subscription"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"div"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"gh-cp-membertier-pricelabel"],[12],[2,"Complimentary"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"gh-badge active"],[12],[2,"Active"],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-membertier-created"],[12],[2,"Created on"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-tier-card-price"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"currency-symbol"],[12],[2,"$"],[13],[2,"\\n                                                "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"period"],[12],[2,"yearly"],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"action-menu"],[12],[2,"\\n                                            "],[8,"gh-dropdown-button",[],[["@dropdownName","@classNames","@title"],["subscription-menu-complimentary","gh-btn gh-btn-outline gh-btn-icon fill gh-btn-subscription-action icon-only","Actions"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[12],[2,"\\n                                                    "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Subscription menu"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["subscription-menu-complimentary","ul","tier-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"li"],[12],[2,"\\n                                                    "],[11,"button"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[32,0,["removeComplimentary"]],[32,1,["id"]]],null]],null],[12],[2,"\\n                                                        "],[10,"span"],[14,0,"red"],[12],[2,"Remove complimentary subscription"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"],[6,[37,3],[[30,[36,12],[[32,0,["tiers"]],[32,0,["isAddComplimentaryAllowed"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[15,0,[31,["gh-membertier-list-footer ",[30,[36,3],[[32,0,["isCreatingComplimentary"]],"min-height",""],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["isCreatingComplimentary"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn gh-btn-text green gh-btn-icon gh-btn-addtier"],[24,"data-test-button","add-complimentary"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],["showMemberTierModal",[32,0]],null]],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["plus"],null]],[2," Add complimentary subscription"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[8,"member/activity-feed",[],[["@member"],[[32,0,["member"]]]],null],[2,"\\n        "],[13],[2,"\\n\\n    "],[13],[2,"\\n\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["showMemberTierModal"]]],null,[["default"],[{"statements":[[8,"gh-fullscreen-modal",[],[["@modifier"],["action wide member-tier"]],[["default"],[{"statements":[[2,"\\n    "],[8,"modal-member-tier",[],[["@model","@confirm","@closeModal"],[[32,0,["member"]],[32,0,["addTier"]],[32,0,["closeMemberTierModal"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["toggle-action","on","svg-jar","if","fn","not-eq","or","eq","gt","-track-array","each","unless","and","did-insert","gh-count-down-characters"]}',moduleName:"ghost-admin/components/gh-member-settings-form.hbs"})
var V=Ember._setComponentTemplate(B,(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,O=(0,r.task)({drop:!0}),j=(0,r.task)({drop:!0}),_=(0,r.task)({drop:!0}),T=(0,r.task)({drop:!0}),z=(0,r.task)({drop:!0}),x=class extends t.default{constructor(...e){super(...e),U(this,"membersUtils",S,this),U(this,"ghostPaths",C,this),U(this,"ajax",M,this),U(this,"store",D,this),U(this,"feature",A,this),U(this,"settings",I,this),U(this,"showMemberTierModal",N,this),U(this,"tiersList",L,this),U(this,"newslettersList",R,this),this.member=this.args.member,this.scratchMember=this.args.scratchMember}get isAddComplimentaryAllowed(){if(!this.membersUtils.paidMembersEnabled)return!1
if(this.member.get("isNew"))return!1
if(this.member.get("tiers")?.length>0)return!1
return!!this.tiersList?.length}get isCreatingComplimentary(){return this.args.isSaveRunning}get tiers(){let e=this.member.get("subscriptions")||[],t=e.map((e=>e.tier||e.price.tier)).filter(((e,t,i)=>void 0!==e.id&&i.findIndex((t=>(t.tier_id||t.id)===(e.tier_id||e.id)))===t)),r=e.filter((e=>!!e.price)).map((e=>{const t={...e,attribution:{...e.attribution,referrerSource:e.attribution?.referrer_source||"Unknown",referrerMedium:e.attribution?.referrer_medium||"-"},startDate:e.start_date?(0,i.default)(e.start_date).format("D MMM YYYY"):"-",validUntil:e.current_period_end?(0,i.default)(e.current_period_end).format("D MMM YYYY"):"-",cancellationReason:e.cancellation_reason,price:{...e.price,currencySymbol:(0,n.getSymbol)(e.price.currency),nonDecimalAmount:(0,n.getNonDecimal)(e.price.amount)},isComplimentary:!e.id}
if(e.trial_end_at){(0,i.default)(e.trial_end_at).isAfter(new Date,"day")&&(t.trialUntil=(0,i.default)(e.trial_end_at).format("D MMM YYYY"))}return!e.id&&e.tier?.expiry_at&&(t.compExpiry=(0,i.default)(e.tier.expiry_at).utc().format("D MMM YYYY")),t}))
return t.map((e=>{let t=r.filter((t=>t?.price?.tier?.tier_id===(e.tier_id||e.id)))
return{...e,subscriptions:t}}))}get customer(){let e=this.member.get("subscriptions").firstObject,t=e?.customer
return t?{...t,startDate:e?.startDate}:null}get canShowMultipleNewsletters(){return"disabled"!==this.settings.editorDefaultEmailRecipients}updateNewsletterPreference(e){if(e.target.checked){if(this.newslettersList.firstObject){const e=this.newslettersList.firstObject
this.member.set("newsletters",[e])}}else this.member.set("newsletters",[])}setup(){this.fetchTiers.perform(),this.fetchNewsletters.perform()}setProperty(e,t){this.args.setProperty(e,t)}updateProperty(e){this.args.setProperty(e.currentTarget.name,e.target.value)}setLabels(e){this.member.set("labels",e)}setMemberNewsletters(e){this.member.set("newsletters",e)}closeMemberTierModal(){this.showMemberTierModal=!1}cancelSubscription(e){this.cancelSubscriptionTask.perform(e)}removeComplimentary(e){this.removeComplimentaryTask.perform(e)}continueSubscription(e){this.continueSubscriptionTask.perform(e)}*cancelSubscriptionTask(e){let t=this.ghostPaths.url.api("members",this.member.get("id"),"subscriptions",e),i=yield this.ajax.put(t,{data:{cancel_at_period_end:!0}})
return this.store.pushPayload("member",i),i}*removeComplimentaryTask(e){let t=this.ghostPaths.url.api(`members/${this.member.get("id")}`)
const i=(this.member.get("tiers")||[]).filter((t=>t.id!==e)).map((e=>({id:e.id})))
let n=yield this.ajax.put(t,{data:{members:[{id:this.member.get("id"),email:this.member.get("email"),tiers:i}]}})
return this.store.pushPayload("member",n),n}*continueSubscriptionTask(e){let t=this.ghostPaths.url.api("members",this.member.get("id"),"subscriptions",e),i=yield this.ajax.put(t,{data:{cancel_at_period_end:!1}})
return this.store.pushPayload("member",i),i}*fetchTiers(){this.tiersList=yield this.store.query("tier",{filter:"type:paid+active:true",include:"monthly_price,yearly_price"})}*fetchNewsletters(){if(this.newslettersList=yield this.store.query("newsletter",{filter:"status:active"}),this.member.get("isNew")){const e=this.newslettersList.filter((e=>e.subscribeOnSignup&&"members"===e.visibility))
this.setMemberNewsletters(e)}}},S=F(x.prototype,"membersUtils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=F(x.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=F(x.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=F(x.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=F(x.prototype,"feature",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=F(x.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=F(x.prototype,"showMemberTierModal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=F(x.prototype,"tiersList",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=F(x.prototype,"newslettersList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F(x.prototype,"updateNewsletterPreference",[h],Object.getOwnPropertyDescriptor(x.prototype,"updateNewsletterPreference"),x.prototype),F(x.prototype,"setup",[b],Object.getOwnPropertyDescriptor(x.prototype,"setup"),x.prototype),F(x.prototype,"setProperty",[g],Object.getOwnPropertyDescriptor(x.prototype,"setProperty"),x.prototype),F(x.prototype,"updateProperty",[f],Object.getOwnPropertyDescriptor(x.prototype,"updateProperty"),x.prototype),F(x.prototype,"setLabels",[v],Object.getOwnPropertyDescriptor(x.prototype,"setLabels"),x.prototype),F(x.prototype,"setMemberNewsletters",[y],Object.getOwnPropertyDescriptor(x.prototype,"setMemberNewsletters"),x.prototype),F(x.prototype,"closeMemberTierModal",[w],Object.getOwnPropertyDescriptor(x.prototype,"closeMemberTierModal"),x.prototype),F(x.prototype,"cancelSubscription",[k],Object.getOwnPropertyDescriptor(x.prototype,"cancelSubscription"),x.prototype),F(x.prototype,"removeComplimentary",[E],Object.getOwnPropertyDescriptor(x.prototype,"removeComplimentary"),x.prototype),F(x.prototype,"continueSubscription",[P],Object.getOwnPropertyDescriptor(x.prototype,"continueSubscription"),x.prototype),F(x.prototype,"cancelSubscriptionTask",[O],Object.getOwnPropertyDescriptor(x.prototype,"cancelSubscriptionTask"),x.prototype),F(x.prototype,"removeComplimentaryTask",[j],Object.getOwnPropertyDescriptor(x.prototype,"removeComplimentaryTask"),x.prototype),F(x.prototype,"continueSubscriptionTask",[_],Object.getOwnPropertyDescriptor(x.prototype,"continueSubscriptionTask"),x.prototype),F(x.prototype,"fetchTiers",[T],Object.getOwnPropertyDescriptor(x.prototype,"fetchTiers"),x.prototype),F(x.prototype,"fetchNewsletters",[z],Object.getOwnPropertyDescriptor(x.prototype,"fetchNewsletters"),x.prototype),x))
e.default=V})),define("ghost-admin/components/gh-member-single-label-input",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"/iEvzAf+",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["availableLabels"]],"id","name","id",[32,0,["updateLabel"]]]],null],[2,"\\n    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/gh-member-single-label-input.hbs"})
let d=(i=Ember.inject.service,n=Ember._tracked,r=Ember._action,a=class extends t.default{get availableLabels(){return this._availableLabels.toArray().sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})))}get availableLabelNames(){return this.availableLabels.map((e=>e.name.toLowerCase()))}constructor(...e){super(...e),l(this,"store",s,this),l(this,"selectedLabel",o,this),this.store.query("label",{limit:"all"}),this._availableLabels=this.store.peekAll("label"),this.selectedLabel=this.args.label||this.availableLabels[0]?.get("id"),this.args.onChange(this.selectedLabel)}updateLabel(e){this.selectedLabel=e,this.args.onChange(e)}},s=u(a.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"selectedLabel",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"updateLabel",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateLabel"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/gh-members-filter-count",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"0/PvpuSl",block:'{"symbols":[],"statements":[[1,[32,0,["memberCount"]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-members-filter-count.hbs"})
let d=(n=Ember.inject.service,r=Ember._tracked,a=class extends t.default{constructor(){super(...arguments),l(this,"membersCountCache",s,this),l(this,"memberCount",o,this),this.getMembersCountTask.perform()}*getMembersCountTask(){this.memberCount=yield this.membersCountCache.countString(this.args.filter,{knownCount:this.args.knownCount,newsletter:this.args.newsletter})}},s=u(a.prototype,"membersCountCache",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"memberCount",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"getMembersCountTask",[i.task],Object.getOwnPropertyDescriptor(a.prototype,"getMembersCountTask"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/gh-members-import-mapping-input",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"C0tv2tZe",block:'{"symbols":["@disabled"],"statements":[[10,"span"],[15,0,[31,["gh-select gh-import-member-select ",[30,[36,1],[[32,1],"disabled"],null]," ",[30,[36,0],[[32,0,["mapTo"]],"unmapped"],null]]]],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@includeBlank","@promptIsSelectable","@prompt","@update","@disabled"],[[32,0,["mapTo"]],[32,0,["availableFields"]],"value","label","value",true,true,"Not imported",[30,[36,2],[[32,0],"updateMapping"],null],[32,1]]],null],[2,"\\n    "],[1,[30,[36,3],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["unless","if","action","svg-jar"]}',moduleName:"ghost-admin/components/gh-members-import-mapping-input.hbs"}),d=[{label:"Email",value:"email"},{label:"Name",value:"name"},{label:"Note",value:"note"},{label:"Subscribed to emails",value:"subscribed_to_emails"},{label:"Stripe Customer ID",value:"stripe_customer_id"},{label:"Complimentary plan",value:"complimentary_plan"},{label:"Labels",value:"labels"},{label:"Created at",value:"created_at"}]
var p=Ember._setComponentTemplate(c,(i=Ember.inject.service,n=Ember._tracked,r=Ember._action,a=class extends t.default{constructor(...e){super(...e),l(this,"feature",s,this),l(this,"availableFields",o,this)}get mapTo(){return this.args.mapTo}updateMapping(e){this.args.updateMapping&&this.args.updateMapping(this.args.mapFrom,e)}},s=u(a.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"availableFields",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[...d,...this.feature.importMemberTier?[{label:"Tier",value:"import_tier"}]:[]]}}),u(a.prototype,"updateMapping",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateMapping"),a.prototype),a))
e.default=p})),define("ghost-admin/components/gh-members-import-table",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"xEDEvXCW",block:'{"symbols":["row","@disabled"],"statements":[[10,"table"],[14,0,"f8 gh-members-import-table ma0"],[14,"data-test-members-import-table",""],[12],[2,"\\n    "],[10,"thead"],[12],[2,"\\n        "],[10,"tr"],[12],[2,"\\n            "],[10,"th"],[14,0,"table-cell-field"],[12],[10,"span"],[14,0,"f-small midgrey ttu fw5"],[12],[2,"Field"],[13],[13],[2,"\\n            "],[10,"th"],[14,0,"table-cell-data"],[12],[2,"\\n                "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n                    "],[10,"span"],[14,0,"f-small midgrey ttu fw5 nudge-top--1"],[12],[2,"Sample data "],[10,"span"],[14,0,"midlightgrey fw4"],[12],[2,"(#"],[1,[30,[36,1],[[32,0,["currentRecord"]]],null]],[2,")"],[13],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center bg-white br2 ml1 nr1 gh-members-import-datanav"],[12],[2,"\\n                        "],[11,"a"],[24,6,"#"],[16,0,[31,["pa1 flex items-center justify-center br b--whitegrey ",[30,[36,0],[[32,0,["hasPrevRecord"]],"o-30"],null]]]],[24,"data-test-import-prev",""],[4,[38,2],[[32,0],"prev"],null],[12],[1,[30,[36,3],["arrow-left"],[["class"],["w3 h3 fill-middarkgrey"]]]],[13],[2,"\\n                        "],[11,"a"],[24,6,"#"],[16,0,[31,["pa1 flex items-center justify-center ",[30,[36,0],[[32,0,["hasNextRecord"]],"o-30"],null]]]],[24,"data-test-import-next",""],[4,[38,2],[[32,0],"next"],null],[12],[1,[30,[36,3],["arrow-right"],[["class"],["w3 h3 fill-middarkgrey"]]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"th"],[12],[10,"span"],[14,0,"f-small midgrey ttu fw5"],[12],[2,"Import as"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"tbody"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["currentlyDisplayedData"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"tr"],[15,"data-test-members-import-mapper",[32,1,["key"]]],[12],[2,"\\n                "],[10,"td"],[14,0,"middarkgrey table-cell-field"],[12],[10,"span"],[12],[1,[32,1,["key"]]],[13],[13],[2,"\\n                "],[10,"td"],[15,0,[31,["middarkgrey table-cell-data ",[30,[36,0],[[32,1,["value"]],"empty-cell"],null]]]],[12],[10,"span"],[12],[1,[32,1,["value"]]],[13],[13],[2,"\\n                "],[10,"td"],[12],[10,"span"],[12],[8,"gh-members-import-mapping-input",[],[["@updateMapping","@mapFrom","@mapTo","@disabled"],[[32,0,["updateMapping"]],[32,1,["key"]],[32,1,["mapTo"]],[32,2]]],null],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[14,"colspan","3"],[14,0,"gh-member-import-nodata"],[12],[10,"span"],[12],[2,"No data found in the uploaded CSV."],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["unless","format-number","action","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/gh-members-import-table.hbs"})
let g=(i=Ember._tracked,r=h((n=class{constructor(e){if(m(this,"_mapping",r,this),e)for(const[t,i]of Object.entries(e))this._mapping[i]=t}get(e){return this._mapping[e]}toJSON(){return this._mapping}getKeyByValue(e){for(const[t,i]of Object.entries(this._mapping))if(i===e)return t
return null}updateMapping(e,t){for(const i in this._mapping)this.get(i)===t&&(this._mapping[i]=null)
this._mapping[e]=t,this._mapping=this._mapping}}).prototype,"_mapping",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),n),f=(a=Ember._tracked,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),m(this,"dataPreviewIndex",d,this),m(this,"memberImportValidator",p,this)
const t=this.memberImportValidator.check(this.args.data)
this.data=this.args.data,this.mapping=new g(t),Ember.run.schedule("afterRender",(()=>this.args.setMapping(this.mapping)))}get currentlyDisplayedData(){let e=[]
if(this.data&&this.data.length&&this.mapping){let t=this.data[this.dataPreviewIndex]
for(const[i,n]of Object.entries(t))e.push({key:i,value:n,mapTo:this.mapping.get(i)})}return e}get hasNextRecord(){return this.data&&!!this.data[this.dataPreviewIndex+1]}get hasPrevRecord(){return this.data&&!!this.data[this.dataPreviewIndex-1]}get currentRecord(){return this.dataPreviewIndex+1}get allRecords(){return this.data?this.data:0}updateMapping(e,t){this.mapping.updateMapping(e,t),this.args.setMapping(this.mapping)}next(){this.hasNextRecord&&(this.dataPreviewIndex+=1)}prev(){this.hasPrevRecord&&(this.dataPreviewIndex-=1)}},d=h(c.prototype,"dataPreviewIndex",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=h(c.prototype,"memberImportValidator",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(c.prototype,"updateMapping",[o],Object.getOwnPropertyDescriptor(c.prototype,"updateMapping"),c.prototype),h(c.prototype,"next",[l],Object.getOwnPropertyDescriptor(c.prototype,"next"),c.prototype),h(c.prototype,"prev",[u],Object.getOwnPropertyDescriptor(c.prototype,"prev"),c.prototype),c)
e.default=f,Ember._setComponentTemplate(b,f)})),define("ghost-admin/components/gh-members-no-members",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"CiyAlYn+",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-members-empty"],[12],[2,"\\n    "],[1,[30,[36,1],["members-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n    "],[10,"h4"],[12],[2,"Start building your audience"],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"p"],[12],[2,"Use memberships to allow your readers to sign up and subscribe to your content."],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","add-yourself"],[24,4,"button"],[4,[38,0],["click",[32,0,["addYourself"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Add yourself as a member to test"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-members-empty-secondary-cta"],[12],[2,"Have members already? "],[8,"link-to",[],[["@route"],["member.new"]],[["default"],[{"statements":[[2,"Add them manually"]],"parameters":[]}]]],[2," or "],[8,"link-to",[],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"import from CSV"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"p"],[12],[2,"Memberships have been disabled. Adjust your Subscription Access settings to start adding members."],[13],[2,"\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["settings.membership"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Membership settings"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","not-eq","if"]}',moduleName:"ghost-admin/components/gh-members-no-members.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=(0,i.task)({drop:!0}),u=class extends t.default{constructor(...e){super(...e),h(this,"session",c,this),h(this,"store",d,this),h(this,"notifications",p,this),h(this,"settings",m,this)}addYourself(){return this.addTask.perform()}*addTask(){const e=yield this.session.user,t=yield this.store.query("newsletter",{filter:"status:active+subscribe_on_signup:true+visibility:members"}),i=this.store.createRecord("member",{email:e.get("email"),name:e.get("name"),newsletters:t})
try{return yield i.save(),this.args.afterCreate&&this.args.afterCreate(),this.notifications.showNotification("Member added",{description:"You've successfully added yourself as a member."}),i}catch(n){n&&this.notifications.showAPIError(n,{key:"member.save"})}}},c=b(u.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"addYourself",[o],Object.getOwnPropertyDescriptor(u.prototype,"addYourself"),u.prototype),b(u.prototype,"addTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"addTask"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/gh-members-recipient-select",["exports","@glimmer/component","ghost-admin/utils/flatten-grouped-options","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"T/CUJ7MQ",block:'{"symbols":["option","countFetcher","countFetcher","@dropdownClass","@disabled","@newsletter"],"statements":[[10,"div"],[15,0,[31,["gh-publish-send-to ",[30,[36,1],[[32,0,["isSpecificChecked"]],"mb4"],null]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-publish-send-to-option"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["for-checkbox ",[30,[36,1],[[32,5],"disabled"],null]]]],[12],[2,"\\n            "],[10,"label"],[14,0,"checkbox"],[14,"for","send-email-to-free"],[12],[2,"\\n                "],[11,"input"],[24,1,"send-email-to-free"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isFreeChecked"]]],[16,"disabled",[32,5]],[24,"aria-label","Free members toggle"],[24,"data-test-checkbox","free-members"],[24,4,"checkbox"],[4,[38,2],["change",[30,[36,6],[[32,0,["toggleFilter"]],"status:free"],null]],null],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        Free\\n"],[6,[37,10],[[30,[36,9],null,[["query"],[[30,[36,8],null,[["filter"],[[30,[36,7],[[32,6,["recipientFilter"]],"+status:free"],null]]]]]]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,5],[[30,[36,4],[[32,3,["count"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-publish-emailcount"],[14,"data-test-email-count","free-members"],[12],[2,"("],[1,[30,[36,3],[[32,3,["count"]]],null]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["isPaidAvailable"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-send-to-option"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["for-checkbox ",[30,[36,1],[[32,5],"disabled"],null]]]],[12],[2,"\\n                "],[10,"label"],[14,0,"checkbox"],[14,"for","send-email-to-paid"],[12],[2,"\\n                    "],[11,"input"],[24,1,"send-email-to-paid"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isPaidChecked"]]],[16,"disabled",[32,5]],[24,"aria-label","Paid members toggle"],[24,"data-test-checkbox","paid-members"],[24,4,"checkbox"],[4,[38,2],["change",[30,[36,6],[[32,0,["toggleFilter"]],"status:-free"],null]],null],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            Paid\\n"],[6,[37,10],[[30,[36,9],null,[["query"],[[30,[36,8],null,[["filter"],[[30,[36,7],[[32,6,["recipientFilter"]],"+status:-free"],null]]]]]]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,5],[[30,[36,4],[[32,2,["count"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-publish-emailcount"],[14,"data-test-email-count","paid-members"],[12],[2,"("],[1,[30,[36,3],[[32,2,["count"]]],null]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["specificOptions"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-publish-send-to-option"],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["for-checkbox ",[30,[36,1],[[32,5],"disabled"],null]]]],[12],[2,"\\n                "],[10,"label"],[14,0,"checkbox"],[14,"for","send-email-to-specific"],[12],[2,"\\n                    "],[11,"input"],[24,1,"send-email-to-specific"],[24,0,"gh-input post-settings-featured"],[16,"checked",[32,0,["isSpecificChecked"]]],[16,"disabled",[32,5]],[24,"aria-label","Specific people toggle"],[24,"data-test-checkbox","specific-members"],[24,4,"checkbox"],[4,[38,2],["change",[32,0,["toggleSpecificFilter"]]],null],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Specific people"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"],[6,[37,1],[[32,0,["isSpecificChecked"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,"data-test-select","specific-members"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-main-section-header small bn"],[12],[2,"Selection"],[13],[2,"\\n        "],[8,"gh-token-input",[],[["@class","@dropdownClass","@options","@selected","@disabled","@searchMessage","@optionsComponent","@allowCreation","@renderInPlace","@onChange"],["select-members select-members-recipient",[32,4],[32,0,["specificOptions"]],[32,0,["selectedSpecificOptions"]],[32,5],"All labels selected",[30,[36,0],["power-select/options"],null],false,[32,0,["renderInPlace"]],[32,0,["selectSpecificOptions"]]]],[["default"],[{"statements":[[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["component","if","on","format-number","is-empty","not","fn","concat","hash","members-count-fetcher","let"]}',moduleName:"ghost-admin/components/gh-members-recipient-select.hbs"}),y=["status:free","status:-free"]
let w=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(){super(...arguments),g(this,"membersUtils",p,this),g(this,"store",m,this),g(this,"forceSpecificChecked",h,this),g(this,"specificOptions",b,this),this.fetchSpecificOptionsTask.perform()}get renderInPlace(){return void 0===this.args.renderInPlace||this.args.renderInPlace}get baseFilters(){const e=(this.args.filter||"").split(",").filter((e=>y.includes(e?.trim())))
return new Set(e)}get isFreeChecked(){return this.baseFilters.has("status:free")}get isPaidChecked(){return this.baseFilters.has("status:-free")}get isPaidAvailable(){return this.membersUtils.isStripeEnabled}get specificFilters(){const e=(this.args.filter||"").split(",").reject((e=>Ember.isBlank(e)||y.includes(e?.trim())))
return new Set(e)}get isSpecificChecked(){return this.forceSpecificChecked||this.specificFilters.size>0}get selectedSpecificOptions(){return(0,i.default)(this.specificOptions).filter((e=>this.specificFilters.has(e.segment)))}toggleFilter(e){if(this.args.disabled)return
const t=this.baseFilters
t.has(e)?t.delete(e):t.add(e),this.updateFilter({newBaseFilters:t})}toggleSpecificFilter(){if(!this.args.disabled)if(this.forceSpecificChecked&&0===this.specificFilters.size)this.forceSpecificChecked=!1
else{if(this.forceSpecificChecked=!1,this.isSpecificChecked)return this._previousSpecificFilters=this.specificFilters,void this.updateFilter({newSpecificFilters:new Set})
this._previousSpecificFilters?this.updateFilter({newSpecificFilters:this._previousSpecificFilters}):this.forceSpecificChecked=!0}}selectSpecificOptions(e){if(this.args.disabled)return
const t=new Set(e.map((e=>e.segment)))
0===t.size&&(this._previousSpecificFilters=void 0,this.forceSpecificChecked=!0),this.updateFilter({newSpecificFilters:t})}updateFilter({newBaseFilters:e,newSpecificFilters:t}){const i=new Set([...e||this.baseFilters,...t||this.specificFilters])
this.isPaidAvailable||i.delete("status:-free")
const n=Array.from(i).join(",")||null
this.args.onChange?.(n)}*fetchSpecificOptionsTask(){const e=[],t=yield this.store.query("label",{limit:"all"})
if(t.length>0){const i={groupName:"Labels",options:[]}
t.forEach((e=>{i.options.push({name:e.name,segment:`label:${e.slug}`,count:e.count?.members,class:"segment-label"})})),e.push(i)}const i=yield this.store.query("tier",{filter:"type:paid",limit:"all"})
if(i.length>1){const t={groupName:"Active tiers",options:[]},n={groupName:"Archived tiers",options:[]}
i.forEach((e=>{const i={name:e.name,segment:`tier:${e.slug}`,count:e.count?.members,class:"segment-tier"}
e.active?t.options.push(i):n.options.push(i)})),e.push(t),e.push(n)}this.specificOptions=e}},p=f(d.prototype,"membersUtils",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(d.prototype,"forceSpecificChecked",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=f(d.prototype,"specificOptions",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f(d.prototype,"toggleFilter",[l],Object.getOwnPropertyDescriptor(d.prototype,"toggleFilter"),d.prototype),f(d.prototype,"toggleSpecificFilter",[u],Object.getOwnPropertyDescriptor(d.prototype,"toggleSpecificFilter"),d.prototype),f(d.prototype,"selectSpecificOptions",[c],Object.getOwnPropertyDescriptor(d.prototype,"selectSpecificOptions"),d.prototype),f(d.prototype,"fetchSpecificOptionsTask",[n.task],Object.getOwnPropertyDescriptor(d.prototype,"fetchSpecificOptionsTask"),d.prototype),d)
e.default=w,Ember._setComponentTemplate(v,w)}))
define("ghost-admin/components/gh-members-segment-count",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"/enyiVhR",block:'{"symbols":["@segment"],"statements":[[6,[37,5],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[11,"span"],[24,0,"segment-totals"],[4,[38,1],[[30,[36,0],[[32,0,["fetchTotalsTask"]]],null]],null],[4,[38,2],[[30,[36,0],[[32,0,["fetchSegmentTotalTask"]]],null],[32,1]],null],[12],[2,"\\n    "],[10,"strong"],[12],[1,[30,[36,3],[[32,0,["segmentTotal"]]],null]],[13],[2," "],[1,[30,[36,4],[[32,0,["segmentTotal"]],"member"],[["without-count"],[true]]]],[2,"\\n"],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["perform","did-insert","did-update","format-number","gh-pluralize","if"]}',moduleName:"ghost-admin/components/gh-members-segment-count.hbs"})
let v=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=(0,i.task)({group:"fetchTasks"}),l=(0,i.task)({group:"fetchTasks"}),u=class extends t.default{constructor(...e){super(...e),b(this,"store",c,this),b(this,"session",d,this),b(this,"total",p,this),b(this,"segmentTotal",m,this),b(this,"fetchTasks",h,this)}*fetchTotalsTask(){this.fetchSegmentTotalTask.perform()
const e=this.args.enforcedFilter||void 0,t=yield this.store.query("member",{limit:1,filter:e})
this.total=t.meta.pagination.total}*fetchSegmentTotalTask(){if(!this.args.segment)return this.segmentTotal=0
let e
e=this.args.enforcedFilter?`${this.args.enforcedFilter}+(${this.args.segment})`:this.args.segment
const t=yield this.store.query("member",{limit:1,filter:e})
this.segmentTotal=t.meta.pagination.total,this.args.onSegmentCountChange?.(this.segmentTotal)}},c=g(u.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"total",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),m=g(u.prototype,"segmentTotal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=g(u.prototype,"fetchTasks",[i.taskGroup],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"fetchTotalsTask",[o],Object.getOwnPropertyDescriptor(u.prototype,"fetchTotalsTask"),u.prototype),g(u.prototype,"fetchSegmentTotalTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"fetchSegmentTotalTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-members-segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"SjOZPRag",block:'{"symbols":["option","@disabled","@segment","@enforcedCountFilter","@onSegmentCountChange"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,2],[32,0,["fetchOptionsTask","isRunning"]]],null],[30,[36,1],["power-select/options"],null],false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[1,[32,1,["name"]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[8,"gh-members-segment-count",[],[["@segment","@enforcedFilter","@onSegmentCountChange"],[[32,3],[32,4],[32,5]]],null]],"hasEval":false,"upvars":["or","component"]}',moduleName:"ghost-admin/components/gh-members-segment-select.hbs"})
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),d(this,"store",l,this),d(this,"feature",u,this),d(this,"_options",c,this),this.fetchOptionsTask.perform()}get options(){if(this.args.hideOptionsWhenAllSelected){const e=this.selectedOptions.mapBy("segment")
if(e.includes("status:free")&&e.includes("status:-free"))return this._options.filter((e=>!e.groupName))}return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(i){if(i.options)return i.options.forEach(t)
e.push(i)})),e}get selectedOptions(){const e=(this.args.segment||"").split(",")
return this.flatOptions.filter((t=>e.includes(t.segment)))}setSegment(e){const t=e.mapBy("segment").join(",")||null
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[]
this.args.hideDefaultSegments||e.push({name:"Free members",segment:"status:free",class:"segment-status-free"},{name:"Paid members",segment:"status:-free",class:"segment-status-paid"})
const t=yield this.store.query("tier",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(t.length>0){const i={groupName:"Active tiers",options:[]},n={groupName:"Archived tiers",options:[]}
t.forEach((e=>{const t={name:e.name,segment:`${e.id}`,count:e.count?.members,class:"segment-tier"}
e.active?i.options.push(t):n.options.push(t)})),e.push(i),e.push(n),this.args.selectDefaultTier&&!this.args.segment&&this.args.onChange?.(i.options[0].segment)}const i=yield this.store.query("label",{limit:"all"})
if(i.length>0&&!this.args.hideLabels){const t={groupName:"Labels",options:[]}
i.forEach((e=>{t.options.push({name:e.name,segment:`label:${e.slug}`,count:e.count?.members,class:"segment-label"})})),e.push(t)}const n=yield this.store.query("offer",{limit:"all"})
if(n.length>0){const t={groupName:"Offers",options:[]}
n.forEach((e=>{t.options.push({name:e.name,segment:`offer_redemptions:${e.id}`,count:e.count?.members,class:"segment-offer"})})),e.push(t)}this._options=e}},l=p(o.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(o.prototype,"setSegment",[s],Object.getOwnPropertyDescriptor(o.prototype,"setSegment"),o.prototype),p(o.prototype,"fetchOptionsTask",[i.task],Object.getOwnPropertyDescriptor(o.prototype,"fetchOptionsTask"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-membership-tiers-alpha",["exports","@glimmer/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j
function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const z=Ember.HTMLBars.template({id:"vY8SkR/N",block:'{"symbols":["tier","type"],"statements":[[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n    "],[10,"label"],[12],[2,"Tiers"],[13],[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,4],[[30,[36,3],[[32,0,["selectedType","value"]],"active"],null],"gh-contentfilter-selected"],null]]]],[14,"data-test-type-select","true"],[12],[2,"\\n            "],[8,"power-select",[[24,"data-test-select-tiers-list",""]],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedType"]],[32,0,["availableTypes"]],false,[32,0,["onTypeChange"]],[30,[36,5],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger gh-contentfilter-menu-trigger-tiers","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,4],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[2]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[14,0,"gh-tier-cards"],[12],[2,"\\n"],[6,[37,4],[[32,0,["isEmptyList"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-main-content-card gh-tier-card-empty-state"],[12],[2,"\\n        "],[10,"p"],[12],[2,"You have no "],[1,[32,0,["selectedType","value"]]],[2," tiers."],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["tiers"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-tier-card",[],[["@tier","@openEditTier","@onUnarchive","@onArchive"],[[32,1],[32,0,["openEditTier"]],[32,0,["onUnarchive"]],[32,0,["onArchive"]]]],null],[2,"\\n"]],"parameters":[1]}]]],[6,[37,4],[[30,[36,8],[[32,0,["type"]],"active"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-tier-cards-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-link gh-btn-text gh-btn-icon gh-btn-add-tier green"],[24,4,"button"],[4,[38,1],[[32,0],"openNewTier",[32,0,["tier"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,2],["plus"],null]],[2,"Add tier"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showTierModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["tier",[30,[36,0],null,[["tier"],[[32,0,["tierModel"]]]]],[32,0,["confirmTierSave"]],[32,0,["closeTierModal"]],"edit-tier action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","action","svg-jar","not-eq","if","component","-track-array","each","eq"]}',moduleName:"ghost-admin/components/gh-membership-tiers-alpha.hbs"}),x=[{name:"Active",value:"active"},{name:"Archived",value:"archived"}]
var S=Ember._setComponentTemplate(z,(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=class extends t.default{constructor(...e){super(...e),_(this,"membersUtils",v,this),_(this,"ghostPaths",y,this),_(this,"ajax",w,this),_(this,"store",k,this),_(this,"config",E,this),_(this,"showTierModal",P,this),_(this,"tierModel",O,this),_(this,"type",j,this)}get tiers(){return this.args.tiers.filter((e=>"active"===this.type?!!e.active:"archived"!==this.type||!e.active))}get availableTypes(){return x}get selectedType(){return this.type?x.find((e=>this.type===e.value)):x[0]}get isEmptyList(){return 0===this.tiers.length}onTypeChange(e){this.type=e.value}async openEditTier(e){this.tierModel=e,this.showTierModal=!0}async onUnarchive(){this.type="active",this.args.updatePortalPreview(),this.reloadTiers()}async onArchive(){this.args.updatePortalPreview(),this.reloadTiers()}reloadTiers(){this.membersUtils.reload()}async openNewTier(){this.tierModel=this.store.createRecord("tier"),this.showTierModal=!0}closeTierModal(){this.showTierModal=!1}confirmTierSave(){this.args.confirmTierSave()}},v=T(f.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=T(f.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(f.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(f.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(f.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(f.prototype,"showTierModal",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=T(f.prototype,"tierModel",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=T(f.prototype,"type",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"active"}}),T(f.prototype,"onTypeChange",[c],Object.getOwnPropertyDescriptor(f.prototype,"onTypeChange"),f.prototype),T(f.prototype,"openEditTier",[d],Object.getOwnPropertyDescriptor(f.prototype,"openEditTier"),f.prototype),T(f.prototype,"onUnarchive",[p],Object.getOwnPropertyDescriptor(f.prototype,"onUnarchive"),f.prototype),T(f.prototype,"onArchive",[m],Object.getOwnPropertyDescriptor(f.prototype,"onArchive"),f.prototype),T(f.prototype,"openNewTier",[h],Object.getOwnPropertyDescriptor(f.prototype,"openNewTier"),f.prototype),T(f.prototype,"closeTierModal",[b],Object.getOwnPropertyDescriptor(f.prototype,"closeTierModal"),f.prototype),T(f.prototype,"confirmTierSave",[g],Object.getOwnPropertyDescriptor(f.prototype,"confirmTierSave"),f.prototype),f))
e.default=S})),define("ghost-admin/components/gh-migrate-iframe",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"h1JcPKlf",block:'{"symbols":["&attrs"],"statements":[[11,"iframe"],[24,1,"migrate-frame"],[24,0,"migrate-frame"],[24,"frameborder","0"],[24,"title","migrate"],[17,1],[4,[38,0],[[32,0,["setup"]]],null],[12],[13]],"hasEval":false,"upvars":["did-insert"]}',moduleName:"ghost-admin/components/gh-migrate-iframe.hbs"})
let g=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),m(this,"migrate",u,this),m(this,"router",c,this),m(this,"feature",d,this),m(this,"notifications",p,this)}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("message",this.handleIframeMessage)}setup(){this.migrate.getMigrateIframe().src=this.migrate.getIframeURL(),window.addEventListener("message",this.handleIframeMessage)}async handleIframeMessage(e){if(this.isDestroyed||this.isDestroying)return
const t=new URL(this.migrate.getIframeURL())
if(e.origin===t.origin){if("apiUrl"===e.data?.request)return void await this._handleUrlRequest()
if(e.data?.route)return void this._handleRouteUpdate(e.data)
if(e.data?.siteData)return void this._handleSiteDataUpdate(e.data)}}_handleRouteUpdate(e){const t=e.route
this.migrate.isIframeTransition=t?.includes("/migrate"),this.migrate.toggleMigrateWindow(this.migrate.isIframeTransition),this.router.transitionTo(t)}async _handleUrlRequest(){const e=await this.migrate.apiToken()
this.migrate.getMigrateIframe().contentWindow.postMessage({request:"initialData",response:{apiUrl:this.migrate.apiUrl,apiToken:e,darkMode:this.feature.nightShift,stripe:this.migrate.isStripeConnected}},new URL(this.migrate.getIframeURL()).origin)}_handleSiteDataUpdate(e){this.migrate.siteData=e?.siteData??{},this.migrate.siteData}},u=h(l.prototype,"migrate",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(l.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"setup",[s],Object.getOwnPropertyDescriptor(l.prototype,"setup"),l.prototype),h(l.prototype,"handleIframeMessage",[o],Object.getOwnPropertyDescriptor(l.prototype,"handleIframeMessage"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/gh-migrate-modal",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"wYd7sOL3",block:'{"symbols":[],"statements":[[10,"div"],[15,0,[31,[[32,0,["visibilityClass"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-migrate-container"],[12],[2,"\\n        "],[8,"gh-migrate-iframe",[],[[],[]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-migrate-modal.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="migrate",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get visibilityClass(){return this.migrate.migrateWindowOpen?"gh-migrate":"gh-migrate closed"}},o=n.prototype,l="migrate",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-mobile-nav-bar",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"414DJEpi",block:'{"symbols":["&default"],"statements":[[8,"link-to",[[24,"data-test-mobile-nav","dashboard"]],[["@route"],["dashboard"]],[["default"],[{"statements":[[1,[30,[36,0],["house"],null]],[2,"Dashboard"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["router","currentRouteName"]],"posts"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"link-to",[[24,0,"active"],[24,"data-test-mobile-nav","posts"]],[["@route","@query"],["posts",[30,[36,1],null,[["type"],[null]]]]],[["default"],[{"statements":[[1,[30,[36,0],["posts"],null]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[1,[30,[36,0],["content"],[["data-test-mobile-nav"],["posts"]]]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[8,"link-to",[[24,0,"gh-nav-main-users"],[24,"data-test-mobile-nav","members"]],[["@route"],["members"]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members"]],"parameters":[]}]]],[2,"\\n"],[11,"div"],[24,"role","button"],[24,0,"gh-mobile-nav-bar-more"],[4,[38,4],[[32,0],"openMobileMenu"],[["target","data-test-mobile-nav"],[[32,0,["ui"]],"more"]]],[12],[1,[30,[36,0],["icon"],[["class"],["icon-gh"]]]],[2,"More"],[13],[2,"\\n"],[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","hash","eq","if","action"]}',moduleName:"ghost-admin/components/gh-mobile-nav-bar.hbs"})
let u=(i=(0,t.tagName)("nav"),n=(0,t.classNames)("gh-mobile-nav-bar"),r=Ember.inject.service,i(a=n((s=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="ui",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},c=s.prototype,d="ui",p=[r],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=p.slice().reverse().reduce((function(e,t){return t(c,d,e)||e}),b),h&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(h):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,d,b),b=null),o=b,a=s))||a)||a)
var c,d,p,m,h,b
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-nav-menu",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"tF2+7KMv",block:'{"symbols":["&attrs"],"statements":[[11,"nav"],[16,0,[31,["gh-nav ",[30,[36,2],[[32,0,["ui","contextualNavMenu"]],"gh-nav-contextual"],null]," ",[30,[36,2],[[32,0,["session","user","isContributor"]],"gh-nav-contributor"],null]]]],[17,1],[4,[38,3],[[32,0,["updateFirstRender"]]],null],[12],[2,"\\n"],[6,[37,2],[[32,0,["ui","contextualNavMenu"]]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,1],[[30,[36,0],["gh-nav-menu/",[32,0,["ui","contextualNavMenu"]]],null]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"gh-nav-menu/main",[],[["@icon","@firstRender"],[[32,0,["settings","settledIcon"]],[32,0,["firstRender"]]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["concat","component","if","did-insert"]}',moduleName:"ghost-admin/components/gh-nav-menu.hbs"})
let b=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),p(this,"settings",l,this),p(this,"ui",u,this),p(this,"session",c,this),p(this,"firstRender",d,this)}updateFirstRender(){Ember.run.schedule("afterRender",this,(()=>{this.firstRender=!1}))}},l=m(o.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"ui",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(o.prototype,"firstRender",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),m(o.prototype,"updateFirstRender",[s],Object.getOwnPropertyDescriptor(o.prototype,"updateFirstRender"),o.prototype),o)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/gh-nav-menu/announcement-bar",["exports","@glimmer/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"CpBZwhiT",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[24,0,"flex flex-column h-100"],[24,"data-test-nav-menu","design"],[17,1],[4,[38,0],["gh-nav-contextual"],null],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-nav-header no-accordion"],[12],[2,"\\n        "],[8,"link-to",[[24,0,"gh-nav-menu-back-button"],[24,"data-test-link","back-to-settings"]],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n        "],[1,[30,[36,1],["arrow-right-small"],null]],[2," Announcement bar\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-nav-body gh-nav-design"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-nav-top"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-list gh-nav-main"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-design-settings"],[12],[2,"\\n                    "],[10,"form"],[12],[2,"\\n                        "],[8,"announcement-settings/content",[],[["@onChange"],[[32,0,["updatePreview"]]]],null],[2,"\\n                        "],[8,"announcement-settings/background",[],[["@onChange"],[[32,0,["updatePreview"]]]],null],[2,"\\n                        "],[8,"announcement-settings/visibility",[],[["@onChange"],[[32,0,["updatePreview"]]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["css-transition","svg-jar"]}',moduleName:"ghost-admin/components/gh-nav-menu/announcement-bar.hbs"})
let d=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){super(...e),l(this,"themeManagement",s,this),l(this,"config",o,this)}updatePreview(){this.themeManagement.updatePreviewHtmlTask.perform()}},s=u(a.prototype,"themeManagement",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"updatePreview",[r],Object.getOwnPropertyDescriptor(a.prototype,"updatePreview"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/gh-nav-menu/design",["exports","@glimmer/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w
function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const O=Ember.HTMLBars.template({id:"Q5k86lxK",block:'{"symbols":["group","isOpen","isOpen","&attrs"],"statements":[[11,"div"],[24,0,"flex flex-column h-100"],[24,"data-test-nav-menu","design"],[17,4],[4,[38,8],["gh-nav-contextual"],null],[12],[2,"\\n    "],[10,"header"],[14,0,"gh-nav-header"],[12],[2,"\\n        "],[8,"link-to",[[24,0,"gh-nav-menu-back-button"],[24,"data-test-link","back-to-settings"]],[["@route"],["settings"]],[["default"],[{"statements":[[2,"Settings"]],"parameters":[]}]]],[2,"\\n        "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Design\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-nav-body gh-nav-design"],[12],[2,"\\n        "],[11,"div"],[24,0,"gh-nav-top"],[4,[38,3],["click",[32,0,["transitionBackToIndex"]]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-list gh-nav-main"],[12],[2,"\\n                "],[8,"link-to",[[24,0,"gh-nav-menu-title"],[4,[38,3],["click",[32,0,["closeAllSections"]]],null]],[["@route","@current-when"],["settings.design","settings.design.index"]],[["default"],[{"statements":[[2,"Site design"]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,6],[[30,[36,5],[[32,0,["openSection"]],"brand"],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[16,0,[31,["gh-nav-design-tab ",[30,[36,1],[[32,3],"active"],null]]]],[24,"data-test-nav-toggle","general"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["toggleSection"]],"brand"],null]],null],[12],[2,"\\n                        "],[1,[30,[36,0],["paintbrush"],null]],[2," Brand\\n                        "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,0],[[30,[36,1],[[32,3],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,4],[[32,3]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-nav-design-settings"],[14,"data-test-nav-group","general"],[12],[2,"\\n                            "],[8,"settings/design/general-settings-form",[],[["@didUpdate"],[[30,[36,7],[[32,0,["themeManagement","updatePreviewHtmlTask"]]],null]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["customThemeSettings","settingGroups"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,5],[[32,0,["openSection"]],[32,1,["key"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[16,0,[31,["gh-nav-design-tab ",[30,[36,1],[[32,2],"active"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["toggleSection"]],[32,1,["key"]]],null]],null],[12],[2,"\\n                            "],[1,[30,[36,0],[[32,1,["icon"]]],null]],[2," "],[1,[32,1,["name"]]],[2,"\\n                            "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,0],[[30,[36,1],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                        "],[13],[2,"\\n\\n"],[6,[37,4],[[32,2]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-nav-design-settings"],[15,"data-test-nav-group",[32,1,["key"]]],[12],[2,"\\n                                "],[8,"settings/design/theme-settings-form",[],[["@themeSettings","@onChange"],[[32,1,["settings"]],[32,0,["handleThemeSettingChange"]]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-nav-bottom"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-change-theme"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-design-tab"],[12],[2,"\\n                    "],[8,"link-to",[[24,"aria-label","Change theme"],[24,"data-test-nav","change-theme"],[4,[38,3],["click",[32,0,["closeAllSections"]]],null]],[["@route"],["settings.design.change-theme"]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Change theme"],[13],[2,"\\n                        "],[10,"span"],[14,0,"active-theme"],[14,"data-test-text","current-theme"],[12],[2,"Current: "],[1,[32,0,["activeTheme","name"]]],[6,[37,1],[[32,0,["activeTheme","package","version"]]],null,[["default"],[{"statements":[[2," - v"],[1,[32,0,["activeTheme","package","version"]]]],"parameters":[]}]]],[6,[37,1],[[32,0,["activeTheme","package","docs"]]],null,[["default"],[{"statements":[[10,"a"],[14,0,"gh-theme-docs"],[15,6,[31,[[32,0,["activeTheme","package","docs"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,0],["book-open"],[["width","height"],["12","12"]]]],[13]],"parameters":[]}]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-nav-design-tabicon"],[12],[1,[30,[36,0],["sync"],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","fn","on","liquid-if","eq","let","perform","css-transition","-track-array","each"]}',moduleName:"ghost-admin/components/gh-nav-menu/design.hbs"})
let j=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=class extends t.default{constructor(){super(...arguments),k(this,"customThemeSettings",h,this),k(this,"router",b,this),k(this,"settings",g,this),k(this,"store",f,this),k(this,"themeManagement",v,this),k(this,"config",y,this),k(this,"openSection",w,this),E(this,"themes",this.store.peekAll("theme")),this.store.findAll("theme"),"settings.design.index"===this.router.currentRouteName&&this.openDefaultSection(),this.routeDidChangeHandler=Ember.run.bind(this,this.handleRouteDidChange),this.router.on("routeDidChange",this.routeDidChangeHandler)}willDestroy(){super.willDestroy(...arguments),this.router.off("routeDidChange",this.routeDidChangeHandler)}get activeTheme(){return this.themes.findBy("active",!0)}toggleSection(e){if(this.openSection===e)this.openSection=null
else{this.openSection=e
const t=this.customThemeSettings.KNOWN_GROUPS.findBy("key",e)
t&&t.previewType?this.themeManagement.setPreviewType(t.previewType):this.themeManagement.setPreviewType("homepage")}}transitionBackToIndex(){"settings.design.index"!==this.router.currentRouteName&&this.router.transitionTo("settings.design.index")}closeAllSections(){this.openSection=null}handleThemeSettingChange(){this.customThemeSettings.updateSettingsVisibility(),this.themeManagement.updatePreviewHtmlTask.perform()}openDefaultSection(){Ember.isEmpty(this.customThemeSettings.settings)&&(this.openSection="brand")}handleRouteDidChange(e){e.isAborted||"settings.design.index"!==e.to?.name||this.openDefaultSection()}},h=P(m.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=P(m.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=P(m.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=P(m.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(m.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(m.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(m.prototype,"openSection",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P(m.prototype,"toggleSection",[u],Object.getOwnPropertyDescriptor(m.prototype,"toggleSection"),m.prototype),P(m.prototype,"transitionBackToIndex",[c],Object.getOwnPropertyDescriptor(m.prototype,"transitionBackToIndex"),m.prototype),P(m.prototype,"closeAllSections",[d],Object.getOwnPropertyDescriptor(m.prototype,"closeAllSections"),m.prototype),P(m.prototype,"handleThemeSettingChange",[p],Object.getOwnPropertyDescriptor(m.prototype,"handleThemeSettingChange"),m.prototype),m)
e.default=j,Ember._setComponentTemplate(O,j)})),define("ghost-admin/components/gh-nav-menu/footer",["exports","ghost-admin/components/modals/design/theme-errors","ember-basic-dropdown/utils/calculate-position","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"su7BI2FH",block:'{"symbols":["dropdown","menuItem"],"statements":[[10,"div"],[14,0,"gh-nav-bottom"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasThemeErrors"]]],null,[["default"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-footer-toast gh-theme-error-toast"],[24,4,"button"],[4,[38,7],["click",[30,[36,6],[[32,0,["openThemeErrors"]],null],null]],null],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-footer-toast-title gh-notification-title"],[12],[2,"Your theme contains errors"],[13],[2,"\\n        "],[10,"span"],[14,0,"gh-footer-toast-p"],[12],[2,"Some functionality on your site may be limited â†’"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"gh-referral-invite",[],[["@hasThemeErrors"],[[32,0,["hasThemeErrors"]]]],null],[2,"\\n\\n    "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n        "],[10,"div"],[14,0,"pe-all"],[12],[2,"\\n            "],[8,"gh-basic-dropdown",[],[["@horizontalPosition","@verticalPosition","@calculatePosition"],["left","above",[32,0,["userDropdownPosition"]]]],[["default"],[{"statements":[[2,"\\n                "],[8,[32,1,["Trigger"]],[[24,0,"outline-0 pointer"]],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex-auto flex items-center"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-user-avatar relative"],[15,5,[30,[36,8],[[32,0,["session","user","profileImageUrl"]]],null]],[12],[2,"\\n                            "],[6,[37,2],[[32,0,["whatsNew","hasNew"]]],null,[["default"],[{"statements":[[10,"span"],[14,0,"absolute dib ba b--white br-100 gh-whats-new-badge-account"],[12],[13]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[1,[30,[36,0],["arrow-down"],[["class"],["w3 mr1 fill-darkgrey"]]]],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,[32,1,["Content"]],[[16,0,[31,["gh-nav-menu-dropdown ",[30,[36,2],[[32,0,["session","user","isContributor"]],"gh-nav-menu-dropdown-contributor"],null]]]]],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"ul"],[14,0,"dropdown-menu dropdown-triangle-top"],[14,"role","menu"],[12],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-account-menu-header"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-user-avatar relative"],[15,5,[30,[36,8],[[32,0,["session","user","profileImageUrl"]]],null]],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-user-info"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-user-name"],[12],[1,[32,0,["session","user","name"]]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-user-email"],[12],[1,[32,0,["session","user","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["session","user","isContributor"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"],[24,"data-test-nav","posts"]],[["@route","@query","@role"],["posts",[30,[36,5],null,[["entry"],[null]]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    Posts\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[15,6,[31,[[32,0,["config","blogUrl"]],"/"]]],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,"title","Open site in new tab"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"View site"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"],[24,"data-test-nav","whatsnew"]],[["@route","@query","@role"],["whatsnew",[30,[36,5],null,[["entry"],[null]]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    What\'s new?\\n"],[6,[37,2],[[32,0,["whatsNew","hasNew"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"flex-grow-1 flex justify-end"],[12],[10,"span"],[14,0,"dib w2 h2 top-0 right-0 bg-green br-100"],[12],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"li"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],["adminXSettings"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"],[24,"data-test-nav","user-profile"]],[["@route","@model","@role"],["settings-x.settings-x",[31,["users/show/",[32,0,["session","user","slug"]]]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    Your profile\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"link-to",[[24,0,"dropdown-item"],[24,"tabindex","-1"],[24,"data-test-nav","user-profile"]],[["@route","@model","@role"],["settings.staff.user",[32,0,["session","user","slug"]],"menuitem"]],[["default"],[{"statements":[[2,"\\n                                    Your profile\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n"],[6,[37,9],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,6,"https://ghost.org/help?utm_source=admin&utm_campaign=help"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    Help center\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[14,0,"dropdown-item"],[14,"role","menuitem"],[14,"tabindex","-1"],[14,6,"https://ghost.org/resources?utm_source=admin&utm_campaign=resources"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    Resources & guides\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showDropdownExtension"]]],null,[["default"],[{"statements":[[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["config","clientExtensions","dropdown","items"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,2],[[32,2,["divider"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"li"],[12],[2,"\\n                                            "],[10,"a"],[15,6,[31,[[32,2,["href"]]]]],[14,"target","_blank"],[15,0,[31,["dropdown-item ",[32,2,["classes"]]]]],[14,"role","menuitem"],[14,"tabindex","-1"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                                "],[1,[32,2,["text"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[]}]]],[2,"                        "],[10,"li"],[14,0,"divider"],[14,"role","separator"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"dropdown-item user-menu-signout"],[24,"tabindex","-1"]],[["@route","@role"],["signout","menuitem"]],[["default"],[{"statements":[[2,"\\n                                Sign out\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"flex items-center pe-all"],[12],[2,"\\n"],[6,[37,2],[[30,[36,11],[[30,[36,10],[[32,0,["session","user"]]],null],[32,0,["session","user","isEditor"]]],null]],null,[["default"],[{"statements":[[6,[37,2],[[30,[36,1],["adminXSettings"],null]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"link-to",[[24,0,"gh-nav-bottom-tabicon"],[24,"data-test-nav","settings"]],[["@route","@current-when"],["settings-x",[32,0,["isSettingsRoute"]]]],[["default"],[{"statements":[[1,[30,[36,0],["settings"],null]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"link-to",[[24,0,"gh-nav-bottom-tabicon"],[24,"data-test-nav","settings"]],[["@route","@current-when"],["settings",[32,0,["isSettingsRoute"]]]],[["default"],[{"statements":[[1,[30,[36,0],["settings"],null]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"nightshift-toggle-container"],[12],[2,"\\n                "],[11,"div"],[16,0,[31,["nightshift-toggle ",[30,[36,2],[[32,0,["feature","nightShift"]],"on"],null]]]],[4,[38,13],[[32,0],[30,[36,12],["nightShift",[32,0,["feature"]]],null]],null],[12],[2,"\\n                    "],[10,"div"],[14,0,"sun"],[12],[1,[30,[36,0],["sun"],null]],[13],[2,"\\n                    "],[10,"div"],[14,0,"moon"],[12],[1,[30,[36,0],["moon"],null]],[13],[2,"\\n                    "],[10,"div"],[14,0,"thumb"],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","feature","if","-track-array","each","hash","fn","on","background-image-style","unless","gh-user-can-admin","or","toggle","action"]}',moduleName:"ghost-admin/components/gh-nav-menu/footer.hbs"})
let _=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.computed.and("config.clientExtensions.dropdown","session.user.isOwnerOnly"),d=Ember.computed.match("router.currentRouteName",/^settings/),p=Ember._action,m=class extends Ember.Component{constructor(...e){super(...e),P(this,"session",h,this),P(this,"router",b,this),P(this,"whatsNew",g,this),P(this,"feature",f,this),P(this,"modals",v,this),P(this,"themeManagement",y,this),P(this,"config",w,this),P(this,"showDropdownExtension",k,this),P(this,"isSettingsRoute",E,this)}openThemeErrors(){this.advancedModal=this.modals.open(t.default,{title:"Theme errors",canActivate:!1,warnings:this.themeManagement.activeTheme.warnings,errors:this.themeManagement.activeTheme.gscanErrors})}get hasThemeErrors(){const e=this.themeManagement.activeTheme&&this.themeManagement.activeTheme.gscanErrors
if(!e)return!1
const t=e?.filter((e=>"GS110-NO-MISSING-PAGE-BUILDER-USAGE"!==e.code||!e?.failures?.[0].message.includes("show_title_and_feature_image")))
return t&&t.length}userDropdownPosition(e,t){let{horizontalPosition:n,verticalPosition:r,style:a}=(0,i.default)(...arguments),{width:s}=t.firstElementChild.getBoundingClientRect()
return a.right+=s-20,a["z-index"]="1100",{horizontalPosition:n,verticalPosition:r,style:a}}},h=O(m.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=O(m.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=O(m.prototype,"whatsNew",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O(m.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(m.prototype,"modals",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(m.prototype,"themeManagement",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(m.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(m.prototype,"showDropdownExtension",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=O(m.prototype,"isSettingsRoute",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O(m.prototype,"openThemeErrors",[p],Object.getOwnPropertyDescriptor(m.prototype,"openThemeErrors"),m.prototype),m)
e.default=_,Ember._setComponentTemplate(j,_)})),define("ghost-admin/components/gh-nav-menu/main",["exports","ghost-admin/components/modals/search","ghost-admin/mixins/shortcuts","ghost-admin/utils/ctrl-or-cmd","ghost-admin/decorators/inject","@ember-decorators/component","ember-concurrency"],(function(e,t,i,n,r,a,s){var o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z
function Q(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ee(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function te(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const ie=Ember.HTMLBars.template({id:"RWhpk6Th",block:'{"symbols":["menuItem","view","view","&attrs","@firstRender"],"statements":[[11,"div"],[24,0,"flex flex-column h-100"],[24,"data-test-nav-menu","main"],[17,4],[4,[38,15],[[30,[36,6],[[32,5],"gh-nav-main"],null]],null],[12],[2,"\\n\\n"],[6,[37,6],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"gh-nav-menu"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-menu-details"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-nav-menu-icon ",[32,0,["iconClass"]]]]],[15,5,[32,0,["iconStyle"]]],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-menu-details-sitetitle"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-nav-menu-search"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-nav-btn-search"],[24,"title","Search site (Ctrl/âŒ˜ + K)"],[24,4,"button"],[4,[38,10],["click",[30,[36,4],[[32,0],"openSearchModal"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["search"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"gh-nav-body"],[12],[2,"\\n\\n"],[6,[37,6],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-nav-top"],[12],[2,"\\n                "],[10,"ul"],[14,0,"gh-nav-list gh-nav-main"],[12],[2,"\\n"],[6,[37,1],[[30,[36,12],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                        "],[8,"link-to",[[24,"title","Dashboard"],[24,"data-test-nav","dashboard"]],[["@route","@alt"],["dashboard","Dashboard"]],[["default"],[{"statements":[[1,[30,[36,0],["house"],null]],[2," Dashboard"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                        "],[11,"span"],[4,[38,4],[[32,0],"transitionToOrRefreshSite"],[["on"],["click"]]],[12],[2,"\\n                            "],[8,"link-to",[[24,"data-test-nav","site"]],[["@route","@current-when","@preventDefault"],["site",[32,0,["isOnSite"]],false]],[["default"],[{"statements":[[2,"\\n                                "],[1,[30,[36,0],["view-site"],null]],[2," View site\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"a"],[15,6,[31,[[32,0,["config","blogUrl"]],"/"]]],[14,0,"gh-secondary-action"],[14,"title","Open site in new tab"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,0],["external"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,1],[[30,[36,12],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                        "],[11,"a"],[24,6,"javascript:void(0)"],[16,0,[30,[36,1],[[32,0,["explore","exploreWindowOpen"]],"active"],null]],[24,"data-test-nav","explore"],[4,[38,10],["click",[30,[36,9],[[32,0,["toggleExploreWindow"]],""],null]],null],[12],[2,"\\n                            "],[1,[30,[36,0],["globe-simple"],null]],[2," Explore\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"gh-nav-list gh-nav-manage"],[12],[2,"\\n                    "],[10,"li"],[14,0,"gh-nav-list-new relative"],[12],[2,"\\n                        "],[8,"gh-link-to-custom-views-index",[[24,"data-test-nav","posts"]],[["@route","@query"],["posts",[30,[36,7],["posts"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["posts"],null]],[2,"Posts"]],"parameters":[]}]]],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-secondary-action gh-nav-new-post"],[24,"title","New post"],[24,"data-test-nav","new-story"]],[["@route","@model","@alt"],["editor.new","post","New post"]],[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,0],["plus"],null]],[13]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["customViews","forPosts"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"ul"],[14,0,"gh-nav-view-list"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["customViews","forPosts"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"li"],[12],[2,"\\n                                            "],[8,"link-to",[[16,"data-test-nav-custom",[31,[[32,3,["route"]],"-",[32,3,["name"]]]]],[16,"title",[31,[[32,3,["name"]]]]]],[["@route","@query"],["posts",[30,[36,7],["posts",[32,3,["filter"]]],null]]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[14,0,"gh-nav-viewname"],[12],[1,[32,3,["name"]]],[13],[2,"\\n                                                "],[10,"span"],[15,0,[31,["flex items-center svg-",[32,3,["color"]]]]],[12],[2,"\\n"],[6,[37,6],[[32,3,["icon"]]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"span"],[14,0,"absolute circle"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["customViews","forPosts"]]],null,[["default"],[{"statements":[[2,"                                "],[11,"button"],[16,0,[31,["gh-nav-button-expand ",[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"expanded"],null]]]],[16,"aria-label",[31,[[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"Collapse custom post types","Expand custom post types"],null]]]],[24,4,"button"],[4,[38,10],["click",[30,[36,9],[[32,0,["navigation","toggleExpansion"]],"posts"],null]],null],[12],[2,"\\n                                    "],[1,[30,[36,0],[[30,[36,1],[[32,0,["navigation","settings","expanded","posts"]],"arrow-down-stroke","arrow-right-stroke"],null]],null]],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,11],[[32,0,["navigation","settings","expanded","posts"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"ul"],[14,0,"gh-nav-view-list"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["customViews","forPosts"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"li"],[12],[2,"\\n                                                "],[8,"link-to",[[16,"data-test-nav-custom",[31,[[32,2,["route"]],"-",[32,2,["name"]]]]],[16,"title",[31,[[32,2,["name"]]]]]],[["@route","@query"],["posts",[30,[36,7],["posts",[32,2,["filter"]]],null]]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"span"],[14,0,"gh-nav-viewname"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                                                    "],[10,"span"],[15,0,[31,["flex items-center svg-",[32,2,["color"]]]]],[12],[2,"\\n"],[6,[37,6],[[32,2,["icon"]]],null,[["default"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"absolute circle"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,0,["router","currentRouteName"]],"pages"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"link-to",[[24,0,"active"],[24,"data-test-nav","pages"]],[["@route","@query"],["pages",[30,[36,7],["pages"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["page"],null]],[2,"Pages"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"link-to",[[24,"data-test-nav","pages"]],[["@route"],["pages"]],[["default"],[{"statements":[[1,[30,[36,0],["page"],null]],[2,"Pages"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["showTagsNavigation"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[8,"link-to",[[24,"data-test-nav","tags"]],[["@route","@current-when"],["tags","tags tag tag.new"]],[["default"],[{"statements":[[1,[30,[36,0],["tag"],null]],[2,"Tags"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,14],[[30,[36,12],[[32,0,["session","user"]]],null],[30,[36,13],["collections"],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[8,"link-to",[[24,"data-test-nav","collections"]],[["@route","@current-when"],["collections","collections collection collection.new"]],[["default"],[{"statements":[[1,[30,[36,0],["collections-bookmark"],null]],[2,"Collections"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,12],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"relative"],[12],[2,"\\n"],[6,[37,1],[[30,[36,8],[[32,0,["router","currentRouteName"]],"members.index"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"link-to",[[24,"data-test-nav","members"]],[["@route","@current-when","@query"],["members","members member member.new",[30,[36,7],["members.index"],null]]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members\\n"],[6,[37,6],[[32,0,["memberCountLoading"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-nav-member-count"],[12],[1,[30,[36,5],[[32,0,["membersStats","memberCount"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"link-to",[[24,"data-test-nav","members"]],[["@route","@current-when"],["members","members member member.new"]],[["default"],[{"statements":[[1,[30,[36,0],["members"],null]],[2,"Members\\n"],[6,[37,6],[[32,0,["memberCountLoading"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-nav-member-count"],[12],[1,[30,[36,5],[[32,0,["membersStats","memberCount"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["settings","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[8,"link-to",[[24,"data-test-nav","offers"]],[["@route","@current-when","@alt"],["offers","offers offer offer.new","Offers"]],[["default"],[{"statements":[[1,[30,[36,0],["percentage"],null]],[2,"Offers"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["session","user","isOwnerOnly"]]],null,[["default"],[{"statements":[[2,"                "],[10,"ul"],[14,0,"gh-nav-list"],[12],[2,"\\n"],[6,[37,1],[[32,0,["showBilling"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"relative"],[12],[2,"\\n                            "],[11,"a"],[24,6,"javascript:void(0)"],[16,0,[30,[36,1],[[32,0,["billing","billingWindowOpen"]],"active"],null]],[24,"data-test-nav","billing"],[4,[38,4],[[32,0],"toggleBillingModal"],null],[12],[2,"\\n                                "],[1,[30,[36,0],["credit-card"],null]],[2," Ghost(Pro)\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"relative gh-nav-pro"],[12],[2,"\\n                            "],[8,"gh-billing-update-button",[],[[],[]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showMenuExtension"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"ul"],[14,0,"gh-nav-list gh-nav-settings"],[12],[2,"\\n"],[6,[37,1],[[32,0,["config","clientExtensions","menu","title"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"gh-nav-list-h"],[12],[1,[32,0,["config","clientExtensions","menu","title"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["config","clientExtensions","menu","items"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[10,"a"],[15,6,[31,[[32,1,["href"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,0],[[32,1,["icon"]]],null]],[1,[32,1,["text"]]],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-nav-menu/footer",[],[[],[]],null],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","-track-array","each","action","format-number","unless","reset-query-params","eq","fn","on","liquid-if","gh-user-can-admin","feature","and","css-transition"]}',moduleName:"ghost-admin/components/gh-nav-menu/main.hbs"})
let ne=(o=(0,a.tagName)(""),l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,k=Ember.computed.match("router.currentRouteName",/^settings\.integration/),E=Ember.computed.equal("router.currentRouteName","site"),P=Ember.computed.or("session.user.isAdmin","session.user.isEditor"),O=Ember.computed.and("config.clientExtensions.menu","session.user.isOwnerOnly"),j=Ember.computed.reads("config.hostSettings.billing.enabled"),_=Ember._action,T=Ember._action,z=Ember._action,x=Ember._action,S=(0,s.task)((function*(){try{this.set("memberCountLoading",!0),yield this.membersStats.fetchMemberCount(),this.set("memberCountLoading",!1)}catch(e){return!1}})),o((M=class extends(Ember.Component.extend(i.default)){constructor(...e){super(...e),Q(this,"billing",D,this),Q(this,"customViews",A,this),Q(this,"feature",I,this),Q(this,"ghostPaths",N,this),Q(this,"modals",L,this),Q(this,"navigation",R,this),Q(this,"router",U,this),Q(this,"session",F,this),Q(this,"ui",B,this),Q(this,"whatsNew",V,this),Q(this,"membersStats",H,this),Q(this,"settings",q,this),Q(this,"explore",$,this),Q(this,"config",Y,this),ee(this,"iconStyle",""),ee(this,"iconClass",""),ee(this,"memberCountLoading",!0),ee(this,"shortcuts",null),Q(this,"isIntegrationRoute",W,this),Q(this,"isOnSite",G,this),Q(this,"showTagsNavigation",K,this),Q(this,"showMenuExtension",J,this),Q(this,"showBilling",X,this),Q(this,"_loadMemberCountsTask",Z,this)}init(){super.init(...arguments)
let e={}
e[`${n.default}+k`]={action:"openSearchModal"},this.shortcuts=e}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this._setIconStyle(),this.session.user&&this.session.user.isAdmin&&this._loadMemberCountsTask.perform()}didInsertElement(){super.didInsertElement(...arguments),this.registerShortcuts()}willDestroyElement(){this.removeShortcuts(),super.willDestroyElement(...arguments)}transitionToOrRefreshSite(){let{currentRouteName:e}=this.router
"site"===e?Ember.getOwner(this).lookup(`route:${e}`).refresh():this.session.user.isContributor?this.router.transitionTo("posts"):this.router.transitionTo("site")}openSearchModal(){return this.modals.open(t.default)}toggleBillingModal(){this.billing.openBillingWindow(this.router.currentURL)}toggleExploreWindow(){this.explore.openExploreWindow()}_setIconStyle(){let e=this.icon
if(e===this._icon)return
if(this._icon=e,e&&e.match(/^https?:\/\//i))return this.set("iconClass",""),void this.set("iconStyle",Ember.String.htmlSafe(`background-image: url(${e})`))
this.set("iconStyle",Ember.String.htmlSafe("background-image: url(https://static.ghost.org/v4.0.0/images/ghost-orb-1.png)")),this.set("iconClass","gh-nav-logo-default")}},D=te(M.prototype,"billing",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=te(M.prototype,"customViews",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=te(M.prototype,"feature",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=te(M.prototype,"ghostPaths",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=te(M.prototype,"modals",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=te(M.prototype,"navigation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=te(M.prototype,"router",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=te(M.prototype,"session",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=te(M.prototype,"ui",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=te(M.prototype,"whatsNew",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=te(M.prototype,"membersStats",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=te(M.prototype,"settings",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=te(M.prototype,"explore",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=te(M.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=te(M.prototype,"isIntegrationRoute",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=te(M.prototype,"isOnSite",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=te(M.prototype,"showTagsNavigation",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=te(M.prototype,"showMenuExtension",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=te(M.prototype,"showBilling",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te(M.prototype,"transitionToOrRefreshSite",[_],Object.getOwnPropertyDescriptor(M.prototype,"transitionToOrRefreshSite"),M.prototype),te(M.prototype,"openSearchModal",[T],Object.getOwnPropertyDescriptor(M.prototype,"openSearchModal"),M.prototype),te(M.prototype,"toggleBillingModal",[z],Object.getOwnPropertyDescriptor(M.prototype,"toggleBillingModal"),M.prototype),te(M.prototype,"toggleExploreWindow",[x],Object.getOwnPropertyDescriptor(M.prototype,"toggleExploreWindow"),M.prototype),Z=te(M.prototype,"_loadMemberCountsTask",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=M))||C)
e.default=ne,Ember._setComponentTemplate(ie,ne)})),define("ghost-admin/components/gh-notification",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"EGhcCL/U",block:'{"symbols":["@message","&attrs"],"statements":[[11,"article"],[16,0,[31,["gh-notification gh-notification-passive ",[32,0,["typeClass"]]]]],[17,2],[4,[38,3],["animationend",[32,0,["closeOnFadeOut"]]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-notification-icon"],[12],[2,"\\n"],[6,[37,2],[[32,1,["icon"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[30,[36,0],[[32,1,["icon"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,1,["type"]],"success"],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],["check-circle"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,1,["type"]],"error"],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],["warning-stroke"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[30,[36,1],[[32,1,["type"]],"warn"],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],["warning-stroke"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,0],["check-circle"],null]],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-notification-content"],[14,"data-test-text","notification-content"],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-notification-title"],[12],[1,[32,1,["message"]]],[13],[2,"\\n\\n"],[6,[37,2],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[1,[32,1,["description"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["actions"]]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"gh-notification-actions"],[12],[1,[32,1,["actions"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-notification-close"],[24,"data-test-button","close-notification"],[24,4,"button"],[4,[38,3],["click",[32,0,["closeNotification"]]],null],[12],[2,"\\n        "],[1,[30,[36,0],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","eq","if","on"]}',moduleName:"ghost-admin/components/gh-notification.hbs"})
let u=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get typeClass(){const e={error:"red",warn:"yellow"},t=this.args.message.type
let i=""
return void 0!==e[t]&&(i+=`gh-notification-${e[t]}`),i}closeOnFadeOut(e){"fade-out"===e.animationName&&this.closeNotification()}closeNotification(){this.notifications.closeNotification(this.args.message)}},s=o(a.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"closeOnFadeOut",[n],Object.getOwnPropertyDescriptor(a.prototype,"closeOnFadeOut"),a.prototype),o(a.prototype,"closeNotification",[r],Object.getOwnPropertyDescriptor(a.prototype,"closeNotification"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-notifications",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"1cnmEWiX",block:'{"symbols":["message","&attrs"],"statements":[[11,"aside"],[24,0,"gh-notifications"],[17,2],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["notifications","notifications"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-notification",[],[["@message"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]],[13]],"hasEval":false,"upvars":["-track-array","each"]}',moduleName:"ghost-admin/components/gh-notifications.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="notifications",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}},o=n.prototype,l="notifications",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-portal-links",["exports","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/decorators/inject","@ember-decorators/component","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function T(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const z=Ember.HTMLBars.template({id:"S+lO2kmm",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-portal-links-container"],[4,[38,8],[[30,[36,2],[[32,0,["fetchTiers"]]],null]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-portal-links-main"],[12],[2,"\\n        "],[10,"h2"],[12],[2,"Links"],[13],[2,"\\n        "],[10,"p"],[12],[2,"Use these "],[1,[30,[36,1],[[32,0,["isLink"]],"links","data attributes"],null]],[2," in your theme to show pages of Portal."],[13],[2,"\\n        "],[10,"table"],[14,0,"gh-portal-links-table"],[12],[2,"\\n            "],[10,"thead"],[12],[2,"\\n                "],[10,"tr"],[14,0,"header"],[12],[2,"\\n                    "],[10,"td"],[12],[10,"h4"],[12],[2,"Page"],[13],[13],[2,"\\n                    "],[10,"td"],[12],[2,"\\n                        "],[10,"div"],[14,0,"toggle-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[1,[32,0,["sectionHeaderLabel"]]],[13],[2,"\\n                            "],[11,"h4"],[24,"role","button"],[24,0,"gh-portal-links-cell toggle"],[24,"data-test-toggle","portal-links-data-attr-toggle"],[4,[38,4],["click",[32,0,["toggleShowLinks"]]],null],[12],[2,"\\n                                "],[1,[32,0,["toggleValue"]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider first"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tbody"],[12],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Default"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[14,"data-test--page-url","default"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-link-default"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal"]]],[14,"disabled","true"],[14,"aria-label","Default Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-data-attr-default"],[14,2,"data-portal"],[14,"disabled","true"],[14,"aria-label","Default Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],""],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],""],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign in"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[14,"data-test-page-url","signin"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-link-signin"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signin"]]],[14,"disabled","true"],[14,"aria-label","Sign in Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-data-attr-signin"],[14,2,"data-portal=\\"signin\\""],[14,"disabled","true"],[14,"aria-label","Sign in Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signin"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signin"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[14,"data-test-page-url","signup"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-link-signup"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup"]]],[14,"disabled","true"],[14,"aria-label","Sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-data-attr-signup"],[14,2,"data-portal=\\"signup\\""],[14,"disabled","true"],[14,"aria-label","Sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signup"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signup"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[30,[36,9],[[32,0,["tiers","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename strong"],[12],[2,"Tier"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-select"],[14,"data-select-text","test"],[14,"tabindex","0"],[12],[2,"\\n                                    "],[8,"one-way-select",[[24,"data-test-select","portal-tier-select"]],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["portal-tier-link","portal[tier-link]",[32,0,["tierOptions"]],"name","label",[32,0,["selectedTier"]],[30,[36,7],[[32,0],"setSelectedTier"],null]]],null],[2,"\\n                                    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Monthly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[15,"data-test-page-url",[31,[[32,0,["selectedTierIdPath"]]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-monthly"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup",[32,0,["selectedTierIdPath"]],"/monthly"]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-monthly"],[15,2,[31,["data-portal=\\"signup",[32,0,["selectedTierIdPath"]],"/monthly\\""]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyTierSignupLink"]]],null],"monthly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyTierSignupLink","isRunning"]],[30,[36,5],[[32,0,["copiedSignupInterval"]],"monthly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Yearly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[15,"data-test-page-url",[31,[[32,0,["selectedTierIdPath"]]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-yearly"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup",[32,0,["selectedTierIdPath"]],"/yearly"]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-yearly"],[15,2,[31,["data-portal=\\"signup",[32,0,["selectedTierIdPath"]],"/yearly\\""]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyTierSignupLink"]]],null],"yearly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyTierSignupLink","isRunning"]],[30,[36,5],[[32,0,["copiedSignupInterval"]],"yearly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Free"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-free"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/free"]]],[14,"disabled","true"],[14,"aria-label","Free sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-free"],[14,2,"data-portal=\\"signup/free\\""],[14,"disabled","true"],[14,"aria-label","Free sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signup/free"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signup/free"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Monthly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-monthly"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/monthly"]]],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-monthly"],[14,2,"data-portal=\\"signup/monthly\\""],[14,"disabled","true"],[14,"aria-label","Monthly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signup/monthly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signup/monthly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Yearly"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-yearly"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/yearly"]]],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-yearly"],[14,2,"data-portal=\\"signup/yearly\\""],[14,"disabled","true"],[14,"aria-label","Yearly sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signup/yearly"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signup/yearly"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,0,"pagename"],[12],[2,"Sign up/Free"],[13],[2,"\\n                        "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-free"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/signup/free"]]],[14,"disabled","true"],[14,"aria-label","Free sign up Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-free"],[14,2,"data-portal=\\"signup/free\\""],[14,"disabled","true"],[14,"aria-label","Free sign up Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"signup/free"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"signup/free"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,10],["tipsAndDonations"],null]],null,[["default"],[{"statements":[[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Tips & donations"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-support"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/support"]]],[14,"disabled","true"],[14,"aria-label","Tips & donations Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-support"],[14,2,"data-portal=\\"support\\""],[14,"disabled","true"],[14,"aria-label","Tips & donations data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"support"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"support"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[14,0,"gh-portal-links-group-divider"],[12],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-account"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account"]]],[14,"disabled","true"],[14,"aria-label","Account Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-account"],[14,2,"data-portal=\\"account\\""],[14,"disabled","true"],[14,"aria-label","Account Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"account"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"account"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account/Plans"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-account-plans"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account/plans"]]],[14,"disabled","true"],[14,"aria-label","Account/Plans Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-account-plans"],[14,2,"data-portal=\\"account/plans\\""],[14,"disabled","true"],[14,"aria-label","Account/Plans Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"account/plans"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"account/plans"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account/Profile"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-account-profile"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account/profile"]]],[14,"disabled","true"],[14,"aria-label","Account/Profile Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-account-profile"],[14,2,"data-portal=\\"account/profile\\""],[14,"disabled","true"],[14,"aria-label","Account/Profile Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"account/profile"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"account/profile"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[14,0,"pagename"],[12],[2,"Account/Newsletters"],[13],[2,"\\n                    "],[10,"td"],[14,0,"page-url"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-page-url-container"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isLink"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-link-account-newsletters"],[15,2,[31,[[32,0,["siteUrl"]],"/#/portal/account/newsletters"]]],[14,"disabled","true"],[14,"aria-label","Account/Newsletters Portal link"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"input"],[14,0,"gh-input page-url-field"],[14,"data-test-input","portal-tier-data-attr-account-newsletters"],[14,2,"data-portal=\\"account/newsletters\\""],[14,"disabled","true"],[14,"aria-label","Account/Newsletters Portal data attribute"],[14,4,"text"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[30,[36,2],[[32,0,["copyStaticLink"]]],null],"account/newsletters"],null]],null],[12],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["copyStaticLink","isRunning"]],[30,[36,5],[[32,0,["copiedPrice"]],"account/newsletters"],null]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","perform","fn","on","eq","and","action","did-insert","gt","feature"]}',moduleName:"ghost-admin/components/gh-portal-links.hbs"})
let x=(a=(0,n.tagName)(""),s=Ember.inject.service,o=Ember.inject.service,l=Ember.computed("isLink"),u=Ember.computed("isLink"),c=Ember.computed("selectedTier"),d=Ember.computed("tiers.[]"),p=Ember._action,m=Ember._action,h=(0,r.task)((function*(){const e=yield this.store.query("tier",{filter:"type:paid+active:true",include:"monthly_price,yearly_price"})||[]
this.set("tiers",e),e.length>0&&this.set("selectedTier",{name:e.firstObject.id,label:e.firstObject.name})})),b=(0,r.task)((function*(e){this.set("copiedPrice",e)
let i=""
this.isLink?(i=e?`#/portal/${e}`:"#/portal/",i=this.siteUrl+"/"+i):i=e?`data-portal="${e}"`:"data-portal",(0,t.default)(i),yield(0,r.timeout)(this.isTesting?50:3e3)})),g=(0,r.task)((function*(e){this.set("copiedSignupInterval",e)
let i=""
this.isLink?(i=`#/portal/signup${this.selectedTierIdPath}/${e}`,i=this.siteUrl+"/"+i):i=`data-portal="signup${this.selectedTierIdPath}/${e}"`,(0,t.default)(i),yield(0,r.timeout)(this.isTesting?50:3e3)})),a((v=class extends Ember.Component{constructor(...e){super(...e),j(this,"store",y,this),j(this,"settings",w,this),j(this,"config",k,this),_(this,"isLink",!0),_(this,"prices",null),_(this,"copiedPrice",null),_(this,"copiedSignupInterval",null),_(this,"selectedTier",null),_(this,"tiers",null),j(this,"fetchTiers",E,this),j(this,"copyStaticLink",P,this),j(this,"copyTierSignupLink",O,this)}get toggleValue(){return this.isLink?"Data attributes":"Links"}get sectionHeaderLabel(){return this.isLink?"Link":"Data attribute"}get selectedTierIdPath(){const e=this.selectedTier
return e?`/${e.name}`:""}get tierOptions(){return this.tiers?this.tiers.map((e=>({label:e.name,name:e.id}))):[]}get siteUrl(){return this.config.blogUrl}toggleShowLinks(){this.toggleProperty("isLink")}setSelectedTier(e){this.set("selectedTier",e)}},y=T(v.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(v.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(v.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T(v.prototype,"toggleValue",[l],Object.getOwnPropertyDescriptor(v.prototype,"toggleValue"),v.prototype),T(v.prototype,"sectionHeaderLabel",[u],Object.getOwnPropertyDescriptor(v.prototype,"sectionHeaderLabel"),v.prototype),T(v.prototype,"selectedTierIdPath",[c],Object.getOwnPropertyDescriptor(v.prototype,"selectedTierIdPath"),v.prototype),T(v.prototype,"tierOptions",[d],Object.getOwnPropertyDescriptor(v.prototype,"tierOptions"),v.prototype),T(v.prototype,"toggleShowLinks",[p],Object.getOwnPropertyDescriptor(v.prototype,"toggleShowLinks"),v.prototype),T(v.prototype,"setSelectedTier",[m],Object.getOwnPropertyDescriptor(v.prototype,"setSelectedTier"),v.prototype),E=T(v.prototype,"fetchTiers",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(v.prototype,"copyStaticLink",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=T(v.prototype,"copyTierSignupLink",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f)
e.default=x,Ember._setComponentTemplate(z,x)})),define("ghost-admin/components/gh-post-bookmark",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"EPqVhGxu",block:'{"symbols":["imageUrl","@post"],"statements":[[10,"div"],[14,0,"gh-post-bookmark-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-post-bookmark"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,2,["featureImage"]],[30,[36,0],["coverImage"],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-post-bookmark-image"],[12],[2,"\\n                    "],[10,"img"],[15,"src",[32,1]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[15,0,[31,["gh-post-bookmark-content ",[30,[36,1],[[32,1],"","no-image"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-bookmark-title"],[12],[1,[32,2,["title"]]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-post-bookmark-text truncate"],[12],[1,[32,2,["excerpt"]]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-post-bookmark-details"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],["icon"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-post-bookmark-site-icon"],[12],[10,"img"],[15,"src",[30,[36,0],["icon"],null]],[14,"alt",""],[14,"role","presentation"],[12],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-post-bookmark-site-title"],[12],[1,[30,[36,0],["title"],null]],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-post-bookmark-authors"],[12],[1,[30,[36,2],[[32,2]],null]],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["get-setting","if","post-author-names","or","let"]}',moduleName:"ghost-admin/components/gh-post-bookmark.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-post-settings-menu",["exports","ghost-admin/utils/bound-one-way","moment-timezone","ghost-admin/decorators/inject","@ember-decorators/component"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me,he,be,ge,fe,ve,ye,we,ke,Ee,Pe,Oe,je,_e,Te,ze,xe,Se,Ce,Me,De,Ae,Ie,Ne,Le,Re,Ue,Fe,Be,Ve,He,qe,$e,Ye,We,Ge
function Ke(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Je(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Xe(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Ze=Ember.HTMLBars.template({id:"P77TSIWC",block:'{"symbols":["@post"],"statements":[[11,"div"],[16,0,[31,["settings-menu-container ",[30,[36,8],[[32,0,["isViewingSubview"]],"settings-menu-container-wide"],null]]]],[4,[38,18],[[32,0,["setSidebarWidthFromElement"]]],null],[4,[38,19],[[32,0,["setSidebarWidthFromElement"]],[32,0,["isViewingSubview"]]],null],[12],[2,"\\n    "],[10,"div"],[14,1,"entry-controls"],[12],[2,"\\n        "],[10,"div"],[14,0,"settings-menu settings-menu-pane settings-menu-pane-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-header"],[12],[2,"\\n                "],[10,"h4"],[12],[1,[30,[36,3],[[32,0,["post","displayName"]]],null]],[2," settings"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                "],[10,"form"],[14,"aria-label","Post settings"],[12],[2,"\\n                    "],[10,"section"],[14,0,"gh-post-settings"],[12],[2,"\\n                        "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                            "],[10,"label"],[14,"for","url"],[12],[1,[30,[36,3],[[32,0,["post","displayName"]]],null]],[2," URL"],[13],[2,"\\n"],[6,[37,20],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[6,[37,8],[[30,[36,17],[[32,0,["post","isPublished"]],[32,0,["post","isSent"]]],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"a"],[14,0,"post-view-link"],[14,"target","_blank"],[15,6,[31,[[32,0,["post","url"]]]]],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    View "],[1,[32,0,["post","displayName"]]],[2," "],[1,[30,[36,2],["external"],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,8],[[32,0,["post","isScheduled"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"a"],[14,0,"post-view-link"],[14,"target","_blank"],[15,6,[31,[[32,0,["post","previewUrl"]]]]],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                    Preview "],[1,[30,[36,2],["external"],null]],[2,"\\n                                "],[13],[2,"\\n                                "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-input-icon gh-icon-link"],[12],[2,"\\n                                "],[1,[30,[36,2],["link"],null]],[2,"\\n                                "],[8,"gh-text-input",[],[["@class","@id","@name","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-slug","url","post-setting-slug",[30,[36,7],[[32,0,["slugValue"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["slugValue"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"updateSlug",[32,0,["slugValue"]]],null],true]],null],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,8],[[32,0,["post","isSent"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"gh-url-preview",[],[["@prefix","@slug","@tagName","@classNames"],["email",[32,0,["uuidValue"]],"p","description"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"gh-url-preview",[],[["@slug","@tagName","@classNames"],[[32,0,["slugValue"]],"p","description"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n"],[6,[37,8],[[30,[36,17],[[32,0,["post","isDraft"]],[32,0,["post","isPublished"]],[32,0,["post","pastScheduledTime"]],[32,0,["post","isSent"]]],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"label"],[12],[2,"Publish date"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"label"],[12],[2,"Scheduled date"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[8,"gh-date-time-picker",[],[["@date","@time","@setDate","@setTime","@errors","@dateErrorProperty","@timeErrorProperty","@maxDate","@disabled","@isActive"],[[32,0,["post","publishedAtBlogDate"]],[32,0,["post","publishedAtBlogTime"]],[30,[36,1],[[32,0],"setPublishedAtBlogDate"],null],[30,[36,1],[[32,0],"setPublishedAtBlogTime"],null],[32,0,["post","errors"]],"publishedAtBlogDate","publishedAtBlogTime","now",[32,0,["post","isScheduled"]],[30,[36,14],[[32,0,["isViewingSubview"]]],null]]],null],[2,"\\n"],[6,[37,20],[[30,[36,17],[[32,0,["post","isDraft"]],[32,0,["post","isPublished"]],[32,0,["post","pastScheduledTime"]],[32,0,["post","isSent"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"p"],[12],[2,"Use the publish menu to re-schedule"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n"],[6,[37,20],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                            "],[10,"label"],[14,"for","tag-input"],[12],[2,"Tags"],[13],[2,"\\n                            "],[8,"gh-psm-tags-input",[],[["@post","@triggerId"],[[32,0,["post"]],"tag-input"]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[32,0,["showVisibilityInput"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"visibility"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","visibility-input"],[12],[1,[30,[36,3],[[32,1,["displayName"]]],null]],[2," access"],[13],[2,"\\n                                "],[8,"gh-psm-visibility-input",[],[["@post","@triggerId"],[[32,0,["post"]],"visibility-input"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,8],[[30,[36,12],[[32,0,["post","visibility"]],"tiers"],null]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-form-group",[[24,0,"nt3"],[24,"data-test-visibility-segment-select",""]],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"tiers"]],[["default"],[{"statements":[[2,"\\n                                    "],[8,"gh-post-settings-menu/visibility-segment-select",[],[["@tiers","@onChange","@renderInPlace","@hideOptionsWhenAllSelected"],[[32,0,["post","tiers"]],[30,[36,1],[[32,0],"setVisibility"],null],true,true]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","tiers"]],[["@errors","@property"],[[32,0,["post","errors"]],"tiers"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"customExcerpt"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","custom-excerpt"],[12],[2,"Excerpt"],[13],[2,"\\n                            "],[8,"gh-textarea",[[24,"data-test-field","custom-excerpt"]],[["@class","@id","@name","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-custom-excerpt","custom-excerpt","post-setting-custom-excerpt",[30,[36,7],[[32,0,["customExcerptScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["customExcerptScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setCustomExcerpt",[32,0,["customExcerptScratch"]]],null],"true"]],null],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","custom-excerpt"]],[["@errors","@property"],[[32,0,["post","errors"]],"customExcerpt"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,20],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"for-select mb8"],[24,"data-test-input","authors"]],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"authors"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","author-list"],[12],[2,"Authors"],[13],[2,"\\n                                "],[8,"gh-psm-authors-input",[],[["@selectedAuthors","@updateAuthors","@triggerId"],[[32,0,["post","authors"]],[30,[36,1],[[32,0],"changeAuthors"],null],"author-list"]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","authors"]],[["@errors","@property"],[[32,0,["post","errors"]],"authors"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-psm-template-select",[],[["@post","@onTemplateSelect"],[[32,0,["post"]],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["post","customTemplate"]]],null]],null]]],null],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"ul"],[14,0,"nav-list"],[12],[2,"\\n"],[6,[37,8],[[30,[36,15],[[32,0,["post","isPage"]],[32,0,["post","lexical"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"\\n                                            "],[8,"icons/eye-open-close",[[24,0,"feature"]],[["@closed"],[[30,[36,14],[[32,0,["post","showTitleAndFeatureImage"]]],null]]],null],[2,"\\n                                            Show title and feature image\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-toggle-featured"],[12],[2,"\\n                                            "],[11,"input"],[16,"checked",[32,0,["post","showTitleAndFeatureImage"]]],[24,0,"gh-input post-settings-featured"],[24,"data-test-checkbox","hide-title-and-feature-image"],[24,4,"checkbox"],[4,[38,13],["change",[32,0,["toggleShowTitleAndFeatureImage"]]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,16],[[30,[36,15],[[30,[36,14],[[32,0,["post","showTitleAndFeatureImage"]]],null],[32,0,["themeMissingShowTitleAndFeatureImage"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"nav-list-item-notification"],[12],[2,"\\n                                            Uh-oh. Looks like your theme doesn\'t support this feature.\\n                                            "],[10,"a"],[14,6,"https://ghost.org/docs/themes/helpers/"],[12],[2,"Learn more"],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,20],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                    "],[11,"label"],[24,0,"switch"],[24,"for","featured"],[4,[38,1],[[32,0],"toggleFeatured"],[["bubbles"],["false"]]],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"\\n"],[6,[37,8],[[32,0,["post","featured"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[1,[30,[36,2],["star-fill"],[["class"],["feature"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[1,[30,[36,2],["star"],[["class"],["feature"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                            Feature this "],[1,[32,0,["post","displayName"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-toggle-featured"],[12],[2,"\\n                                            "],[10,"input"],[15,"checked",[32,0,["post","featured"]]],[14,0,"gh-input post-settings-featured"],[15,"onclick",[30,[36,1],[[32,0],[30,[36,4],[[32,0,["post","featured"]]],null]],[["value"],["target.checked"]]]],[14,"data-test-checkbox","featured"],[14,4,"checkbox"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,8],[[32,0,["canViewPostHistory"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                                "],[11,"button"],[24,"data-test-toggle","post-history"],[24,4,"button"],[4,[38,13],["click",[32,0,["openPostHistory"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,2],["history"],[["class"],["history"]]]],[2," "],[1,[30,[36,3],[[32,0,["post","displayName"]]],null]],[2," history"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[1,[30,[36,2],["arrow-right"],[["class"],["arrow-right"]]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                            "],[11,"button"],[24,"data-test-button","codeinjection"],[24,4,"button"],[4,[38,1],[[32,0],"showSubview","codeinjection"],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["brackets"],null]],[2," Code injection"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[1,[30,[36,2],["arrow-right"],[["class"],["arrow-right"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                            "],[11,"button"],[24,"data-test-button","meta-data"],[24,4,"button"],[4,[38,1],[[32,0],"showSubview","meta-data"],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["google-icon"],null]],[2," Meta data"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[1,[30,[36,2],["arrow-right"],[["class"],["arrow-right"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                            "],[11,"button"],[24,"data-test-button","twitter-data"],[24,4,"button"],[4,[38,1],[[32,0],"showSubview","twitter-data"],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["twitter-logo"],null]],[2," Twitter card"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[1,[30,[36,2],["arrow-right"],[["class"],["arrow-right"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"li"],[14,0,"nav-list-item"],[12],[2,"\\n                            "],[11,"button"],[24,"data-test-button","facebook-data"],[24,4,"button"],[4,[38,1],[[32,0],"showSubview","facebook-data"],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,2],["social-facebook"],null]],[2," Facebook card"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[1,[30,[36,2],["arrow-right"],[["class"],["arrow-right"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,20],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"settings-menu-delete-button"],[12],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn gh-btn-outline gh-btn-icon gh-btn-fullwidth"],[24,4,"button"],[4,[38,1],[[32,0],"deletePostInternal"],null],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,2],["trash"],null]],[2," Delete "],[1,[32,0,["post","displayName"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,8],[[32,0,["isViewingSubview"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"settings-menu settings-menu-pane settings-menu-pane-wide"],[12],[2,"\\n            "],[10,"div"],[14,0,"active"],[12],[2,"\\n"],[6,[37,8],[[30,[36,12],[[32,0,["subview"]],"meta-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Close meta data panel"],[24,0,"back settings-menu-header-action"],[24,"data-test-button","close-psm-subview"],[24,4,"button"],[4,[38,1],[[32,0],"closeSubview"],null],[12],[1,[30,[36,2],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Meta data"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                            "],[11,"form"],[24,0,"gh-post-settings"],[24,"aria-label","Meta data settings"],[4,[38,1],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","meta-title"],[12],[2,"Meta title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-field","meta-title"]],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-meta-title","meta-title","post-setting-meta-title",[32,0,["seoTitle"]],[30,[36,7],[[32,0,["metaTitleScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["metaTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setMetaTitle",[32,0,["metaTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"60"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,9],[[32,0,["metaTitleScratch"]],60],null]],[13],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"meta-title"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","meta-description"],[12],[2,"Meta description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[[24,"data-test-field","meta-description"]],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-meta-description","meta-description","post-setting-meta-description",[30,[36,6],[[32,0,["seoDescription"]],150],null],[30,[36,7],[[32,0,["metaDescriptionScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["metaDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setMetaDescription",[32,0,["metaDescriptionScratch"]]],null],"true"]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"145"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,9],[[32,0,["metaDescriptionScratch"]],145],null]],[13],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"meta-description"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"canonicalUrl"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","canonicalUrl"],[12],[2,"Canonical URL"],[13],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-field","canonicalUrl"]],[["@class","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-canonicalUrl","post-setting-canonicalUrl",[32,0,["post","url"]],[30,[36,7],[[32,0,["canonicalUrlScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["canonicalUrlScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setCanonicalUrl",[32,0,["canonicalUrlScratch"]]],null],"true"]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["post","errors"]],"canonicalUrl"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Search Engine Result Preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex mb7"],[12],[2,"\\n                                                "],[1,[30,[36,2],["google"],null]],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,2],["google-search"],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["seoURL"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[30,[36,6],[[32,0,["seoTitle"]],60],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[1,[30,[36,11],[[30,[36,10],null,null],"DD MMM YYYY"],null]],[2," â€” "],[6,[37,8],[[32,0,["seoDescription"]]],null,[["default","else"],[{"statements":[[1,[30,[36,6],[[32,0,["seoDescription"]],149],null]]],"parameters":[]},{"statements":[[2,"Search engines will automatically show a custom preview of content related to the search term here if no custom meta description is set."]],"parameters":[]}]]],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,12],[[32,0,["subview"]],"twitter-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Close Twitter card panel"],[24,0,"back settings-menu-header-action"],[24,"data-test-button","close-psm-subview"],[24,4,"button"],[4,[38,1],[[32,0],"closeSubview"],null],[12],[1,[30,[36,2],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Twitter card"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n\\n                            "],[11,"form"],[24,0,"gh-post-settings"],[24,"aria-label","Twitter card settings"],[4,[38,1],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["post","twitterImage"]],"Add Twitter image",true,[30,[36,1],[[32,0],"setTwitterImage"],null],[30,[36,1],[[32,0],"clearTwitterImage"],null]]],null],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitter-title"],[12],[2,"Twitter title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-field","twitter-title"]],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-twitter-title","twitter-title","post-setting-twitter-title",[30,[36,6],[[32,0,["twitterTitle"]],40],null],[30,[36,7],[[32,0,["twitterTitleScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["twitterTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setTwitterTitle",[32,0,["twitterTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","twitter-title"]],[["@errors","@property"],[[32,0,["post","errors"]],"twitterTitle"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"twitterDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","twitter-description"],[12],[2,"Twitter description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[[24,"data-test-field","twitter-description"]],[["@class","@id","@name","@placeholder","@stopEnterKeyDownPropagation","@value","@input","@focus-out"],["post-setting-twitter-description","twitter-description","post-setting-twitter-description",[30,[36,6],[[32,0,["twitterDescription"]],150],null],"true",[30,[36,7],[[32,0,["twitterDescriptionScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["twitterDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setTwitterDescription",[32,0,["twitterDescriptionScratch"]]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","twitter-description"]],[["@errors","@property"],[[32,0,["post","errors"]],"twitterDescription"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,8],[[32,0,["twitterImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,5],[[32,0,["twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,6],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                "],[1,[30,[36,2],["twitter-link"],null]],[2,"\\n                                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,12],[[32,0,["subview"]],"facebook-data"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Close Facebook card panel"],[24,0,"back settings-menu-header-action"],[24,"data-test-button","close-psm-subview"],[24,4,"button"],[4,[38,1],[[32,0],"closeSubview"],null],[12],[1,[30,[36,2],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Facebook card"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                            "],[11,"form"],[24,0,"gh-post-settings"],[24,"aria-label","Facebook card settings"],[4,[38,1],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["post","ogImage"]],"Add Facebook image",true,[30,[36,1],[[32,0],"setOgImage"],null],[30,[36,1],[[32,0],"clearOgImage"],null]]],null],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"ogTitle"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","og-title"],[12],[2,"Facebook title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-field","og-title"]],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-og-title","og-title","post-setting-og-title",[30,[36,6],[[32,0,["facebookTitle"]],40],null],[30,[36,7],[[32,0,["ogTitleScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["ogTitleScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setOgTitle",[32,0,["ogTitleScratch"]]],null],true]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","og-title"]],[["@errors","@property"],[[32,0,["post","errors"]],"ogTitle"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","og-description"],[12],[2,"Facebook description"],[13],[2,"\\n                                    "],[8,"gh-textarea",[[24,"data-test-field","og-description"]],[["@class","@id","@name","@placeholder","@value","@input","@focus-out","@stopEnterKeyDownPropagation"],["post-setting-og-description","og-description","post-setting-og-description",[30,[36,6],[[32,0,["facebookDescription"]],150],null],[30,[36,7],[[32,0,["ogDescriptionScratch"]]],null],[30,[36,1],[[32,0],[30,[36,4],[[32,0,["ogDescriptionScratch"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"setOgDescription",[32,0,["ogDescriptionScratch"]]],null],"true"]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","og-description"]],[["@errors","@property"],[[32,0,["post","errors"]],"ogDescription"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-preview no-container"],[12],[2,"\\n"],[6,[37,8],[[32,0,["facebookImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,5],[[32,0,["facebookImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                            "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                                    "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,6],[[32,0,["facebookTitle"]]],null]],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,6],[[32,0,["facebookDescription"]]],null]],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[30,[36,12],[[32,0,["subview"]],"codeinjection"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                            "],[11,"button"],[24,"aria-label","Close code injection panel"],[24,0,"back settings-menu-header-action"],[24,"data-test-button","close-psm-subview"],[24,4,"button"],[4,[38,1],[[32,0],"closeSubview"],null],[12],[1,[30,[36,2],["arrow-left"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Code injection"],[13],[2,"\\n                            "],[10,"div"],[14,5,"width:23px;"],[12],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"settings-menu-content settings-menu-content-codeinjection"],[12],[2,"\\n                            "],[11,"form"],[24,0,"gh-post-settings"],[24,"aria-label","Code injection settings"],[4,[38,1],[[32,0],"discardEnter"],[["on"],["submit"]]],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"codeinjectionHead"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","codeinjection-head"],[12],[1,[30,[36,3],[[32,0,["post","displayName"]]],null]],[2," header "],[10,"code"],[12],[2,"{{ghost_head}}"],[13],[13],[2,"\\n                                    "],[8,"gh-cm-editor",[[24,"data-test-field","codeinjection-head"]],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["codeinjectionHeadScratch"]],"post-setting-codeinjection-head","post-setting-codeinjection","post-setting-codeinjection-head",[30,[36,1],[[32,0],"setHeaderInjection",[32,0,["codeinjectionHeadScratch"]]],null],"true",[30,[36,1],[[32,0],[30,[36,4],[[32,0,["codeinjectionHeadScratch"]]],null]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","codeinjection-head"]],[["@errors","@property"],[[32,0,["post","errors"]],"codeinjectionHead"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"codeinjectionFoot"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","codeinjection-foot"],[12],[1,[30,[36,3],[[32,0,["post","displayName"]]],null]],[2," footer "],[10,"code"],[12],[2,"{{ghost_foot}}"],[13],[13],[2,"\\n                                    "],[8,"gh-cm-editor",[[24,"data-test-field","codeinjection-foot"]],[["@value","@id","@class","@name","@focusOut","@stopEnterKeyDownPropagation","@update"],[[32,0,["codeinjectionFootScratch"]],"post-setting-codeinjection-foot","post-setting-codeinjection","post-setting-codeinjection-foot",[30,[36,1],[[32,0],"setFooterInjection",[32,0,["codeinjectionFootScratch"]]],null],"true",[30,[36,1],[[32,0],[30,[36,4],[[32,0,["codeinjectionFootScratch"]]],null]],null]]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","codeinjection-foot"]],[["@errors","@property"],[[32,0,["post","errors"]],"codeinjectionFoot"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,8],[[32,0,["showPostHistory"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["post-history",[30,[36,0],null,[["post","editorAPI","toggleSettingsMenu"],[[32,0,["post"]],[32,0,["editorAPI"]],[32,0,["toggleSettingsMenu"]]]]],[32,0,["closePostHistory"]],"total-overlay post-history"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","action","svg-jar","capitalize","mut","background-image-style","truncate","readonly","if","gh-count-down-characters","now","moment-format","eq","on","not","and","liquid-if","or","did-insert","did-update","unless"]}',moduleName:"ghost-admin/components/gh-post-settings-menu.hbs"})
let Qe=(a=(0,r.tagName)(""),s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember._tracked,f=Ember.computed.alias("post.canonicalUrlScratch"),v=Ember.computed.alias("post.customExcerptScratch"),y=Ember.computed.alias("post.codeinjectionFootScratch"),w=Ember.computed.alias("post.codeinjectionHeadScratch"),k=Ember.computed.alias("post.metaDescriptionScratch"),E=Ember.computed.alias("post.metaTitleScratch"),P=Ember.computed.alias("post.ogDescriptionScratch"),O=Ember.computed.alias("post.ogTitleScratch"),j=Ember.computed.alias("post.twitterDescriptionScratch"),_=Ember.computed.alias("post.twitterTitleScratch"),T=(0,t.default)("post.slug"),z=(0,t.default)("post.uuid"),x=Ember.computed.or("metaDescriptionScratch","customExcerptScratch"),S=Ember.computed.or("ogDescriptionScratch","customExcerptScratch","seoDescription","post.excerpt","settings.description",""),C=Ember.computed.or("post.ogImage","post.featureImage","settings.ogImage","settings.coverImage"),M=Ember.computed.or("ogTitleScratch","seoTitle"),D=Ember.computed.or("twitterDescriptionScratch","customExcerptScratch","seoDescription","post.excerpt","settings.description",""),A=Ember.computed.or("post.twitterImage","post.featureImage","settings.twitterImage","settings.coverImage"),I=Ember.computed.or("twitterTitleScratch","seoTitle"),N=Ember.computed.or("session.user.isOwnerOnly","session.user.isAdminOnly","session.user.isEditor"),L=Ember.computed("metaTitleScratch","post.titleScratch"),R=Ember.computed("post.{slug,canonicalUrl}","config.blogUrl"),U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=Ember._action,K=Ember._action,J=Ember._action,X=Ember._action,Z=Ember._action,Q=Ember._action,ee=Ember._action,te=Ember._action,ie=Ember._action,ne=Ember._action,re=Ember._action,ae=Ember._action,se=Ember._action,oe=Ember._action,le=Ember._action,ue=Ember._action,ce=Ember._action,de=Ember._action,pe=Ember._action,me=Ember._action,he=Ember._action,a((ge=class extends Ember.Component{constructor(...e){super(...e),Ke(this,"feature",fe,this),Ke(this,"store",ve,this),Ke(this,"ajax",ye,this),Ke(this,"ghostPaths",we,this),Ke(this,"notifications",ke,this),Ke(this,"slugGenerator",Ee,this),Ke(this,"session",Pe,this),Ke(this,"settings",Oe,this),Ke(this,"themeManagement",je,this),Ke(this,"ui",_e,this),Ke(this,"config",Te,this),Ke(this,"showPostHistory",ze,this),Je(this,"post",null),Je(this,"isViewingSubview",!1),Ke(this,"canonicalUrlScratch",xe,this),Ke(this,"customExcerptScratch",Se,this),Ke(this,"codeinjectionFootScratch",Ce,this),Ke(this,"codeinjectionHeadScratch",Me,this),Ke(this,"metaDescriptionScratch",De,this),Ke(this,"metaTitleScratch",Ae,this),Ke(this,"ogDescriptionScratch",Ie,this),Ke(this,"ogTitleScratch",Ne,this),Ke(this,"twitterDescriptionScratch",Le,this),Ke(this,"twitterTitleScratch",Re,this),Ke(this,"slugValue",Ue,this),Ke(this,"uuidValue",Fe,this),Ke(this,"seoDescription",Be,this),Ke(this,"facebookDescription",Ve,this),Ke(this,"facebookImage",He,this)
Ke(this,"facebookTitle",qe,this),Ke(this,"twitterDescription",$e,this),Ke(this,"twitterImage",Ye,this),Ke(this,"twitterTitle",We,this),Ke(this,"showVisibilityInput",Ge,this)}get seoTitle(){return this.metaTitleScratch||this.post.titleScratch||"(Untitled)"}get seoURL(){const e=[]
if(this.post.canonicalUrl)try{const t=new URL(this.post.canonicalUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e)))}catch(t){}else{const t=new URL(this.config.blogUrl)
e.push(t.host),e.push(...t.pathname.split("/").reject((e=>!e))),e.push(this.post.slug)}return e.join(" â€º ")}get canViewPostHistory(){return null!==this.post.lexical&&(!this.post.isPublished&&!this.post.isSent||!this.post.emailOnly)}get themeMissingShowTitleAndFeatureImage(){return!this.themeManagement.activeTheme.hasPageBuilderFeature("show_title_and_feature_image")}willDestroyElement(){super.willDestroyElement(...arguments)
let e=this.post,t=e.get("errors");(t.has("publishedAtBlogDate")||t.has("publishedAtBlogTime"))&&(e.set("publishedAtBlogTZ",e.get("publishedAtUTC")),e.validate({attribute:"publishedAtBlog"})),this.setSidebarWidthVariable(0)}showSubview(e){this.set("isViewingSubview",!0),this.set("subview",e)}closeSubview(){this.set("isViewingSubview",!1),this.set("subview",null)}discardEnter(){return!1}toggleFeatured(){this.post.featured=!this.post.featured,this.post.isNew||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}toggleShowTitleAndFeatureImage(e){this.post.showTitleAndFeatureImage=e.target.checked,this.post.isNew||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}openPostHistory(){this.showPostHistory=!0}closePostHistory(){this.showPostHistory=!1}updateSlug(e){return this.updateSlugTask.perform(e).catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setPublishedAtBlogDate(e){let t=this.post,n=i.default.tz(e,this.settings.get("timezone")).format("YYYY-MM-DD")
if(t.get("errors").remove("publishedAtBlogDate"),!t.get("isNew")&&e!==t.get("publishedAtBlogDate"))return t.set("publishedAtBlogDate",n),this.savePostTask.perform()
t.validate({property:"publishedAtBlog"})}async setVisibility(e){this.post.set("tiers",e)
try{await this.post.validate({property:"visibility"}),await this.post.validate({property:"tiers"}),this.post.get("isDraft")&&this.post.changedAttributes().tiers&&await this.savePostTask.perform()}catch(t){if(!t)return
throw t}}setPublishedAtBlogTime(e){let t=this.post
if(t.get("errors").remove("publishedAtBlogDate"),!t.get("isNew")&&e!==t.get("publishedAtBlogTime"))return t.set("publishedAtBlogTime",e),this.savePostTask.perform()
t.validate({property:"publishedAtBlog"})}setCustomExcerpt(e){let t=this.post
if(e!==t.get("customExcerpt"))return t.set("customExcerpt",e),t.validate({property:"customExcerpt"}).then((()=>this.savePostTask.perform()))}setHeaderInjection(e){let t=this.post
if(e!==t.get("codeinjectionHead"))return t.set("codeinjectionHead",e),t.validate({property:"codeinjectionHead"}).then((()=>this.savePostTask.perform()))}setFooterInjection(e){let t=this.post
if(e!==t.get("codeinjectionFoot"))return t.set("codeinjectionFoot",e),t.validate({property:"codeinjectionFoot"}).then((()=>this.savePostTask.perform()))}setMetaTitle(e){let t=this.post
if(t.get("metaTitle")!==e)return t.set("metaTitle",e),t.validate({property:"metaTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setMetaDescription(e){let t=this.post
if(t.get("metaDescription")!==e)return t.set("metaDescription",e),t.validate({property:"metaDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setCanonicalUrl(e){let t=this.post
if(t.canonicalUrl!==e)return t.set("canonicalUrl",e),t.validate({property:"canonicalUrl"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setOgTitle(e){let t=this.post
if(t.get("ogTitle")!==e)return t.set("ogTitle",e),t.validate({property:"ogTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setOgDescription(e){let t=this.post
if(t.get("ogDescription")!==e)return t.set("ogDescription",e),t.validate({property:"ogDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setTwitterTitle(e){let t=this.post
if(t.get("twitterTitle")!==e)return t.set("twitterTitle",e),t.validate({property:"twitterTitle"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setTwitterDescription(e){let t=this.post
if(t.get("twitterDescription")!==e)return t.set("twitterDescription",e),t.validate({property:"twitterDescription"}).then((()=>{if(!t.get("isNew"))return this.savePostTask.perform()}))}setCoverImage(e){this.set("post.featureImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearCoverImage(){this.set("post.featureImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setOgImage(e){this.set("post.ogImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearOgImage(){this.set("post.ogImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}setTwitterImage(e){this.set("post.twitterImage",e),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}clearTwitterImage(){this.set("post.twitterImage",""),this.get("post.isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),this.post.rollbackAttributes()}))}changeAuthors(e){let t=this.post
e.mapBy("id").join()!==t.get("authors").mapBy("id").join()&&(t.set("authors",e),t.validate({property:"authors"}),t.get("isNew")||this.savePostTask.perform().catch((e=>{this.showError(e),t.rollbackAttributes()})))}deletePostInternal(){this.deletePost&&this.deletePost()}setSidebarWidthFromElement(e){const t=e.getBoundingClientRect().width
this.setSidebarWidthVariable(t)}showError(e){e&&this.notifications.showAPIError(e)}setSidebarWidthVariable(e){document.documentElement.style.setProperty("--editor-sidebar-width",`${e}px`),document.documentElement.style.setProperty("--kg-breakout-adjustment",`${e}px`)}},fe=Xe(ge.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Xe(ge.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Xe(ge.prototype,"ajax",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Xe(ge.prototype,"ghostPaths",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Xe(ge.prototype,"notifications",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Xe(ge.prototype,"slugGenerator",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Xe(ge.prototype,"session",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Xe(ge.prototype,"settings",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Xe(ge.prototype,"themeManagement",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Xe(ge.prototype,"ui",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Xe(ge.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Xe(ge.prototype,"showPostHistory",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xe=Xe(ge.prototype,"canonicalUrlScratch",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Xe(ge.prototype,"customExcerptScratch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=Xe(ge.prototype,"codeinjectionFootScratch",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Xe(ge.prototype,"codeinjectionHeadScratch",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=Xe(ge.prototype,"metaDescriptionScratch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Xe(ge.prototype,"metaTitleScratch",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Xe(ge.prototype,"ogDescriptionScratch",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=Xe(ge.prototype,"ogTitleScratch",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=Xe(ge.prototype,"twitterDescriptionScratch",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=Xe(ge.prototype,"twitterTitleScratch",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=Xe(ge.prototype,"slugValue",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fe=Xe(ge.prototype,"uuidValue",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=Xe(ge.prototype,"seoDescription",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ve=Xe(ge.prototype,"facebookDescription",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),He=Xe(ge.prototype,"facebookImage",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qe=Xe(ge.prototype,"facebookTitle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=Xe(ge.prototype,"twitterDescription",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ye=Xe(ge.prototype,"twitterImage",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We=Xe(ge.prototype,"twitterTitle",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=Xe(ge.prototype,"showVisibilityInput",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xe(ge.prototype,"seoTitle",[L],Object.getOwnPropertyDescriptor(ge.prototype,"seoTitle"),ge.prototype),Xe(ge.prototype,"seoURL",[R],Object.getOwnPropertyDescriptor(ge.prototype,"seoURL"),ge.prototype),Xe(ge.prototype,"showSubview",[U],Object.getOwnPropertyDescriptor(ge.prototype,"showSubview"),ge.prototype),Xe(ge.prototype,"closeSubview",[F],Object.getOwnPropertyDescriptor(ge.prototype,"closeSubview"),ge.prototype),Xe(ge.prototype,"discardEnter",[B],Object.getOwnPropertyDescriptor(ge.prototype,"discardEnter"),ge.prototype),Xe(ge.prototype,"toggleFeatured",[V],Object.getOwnPropertyDescriptor(ge.prototype,"toggleFeatured"),ge.prototype),Xe(ge.prototype,"toggleShowTitleAndFeatureImage",[H],Object.getOwnPropertyDescriptor(ge.prototype,"toggleShowTitleAndFeatureImage"),ge.prototype),Xe(ge.prototype,"openPostHistory",[q],Object.getOwnPropertyDescriptor(ge.prototype,"openPostHistory"),ge.prototype),Xe(ge.prototype,"closePostHistory",[$],Object.getOwnPropertyDescriptor(ge.prototype,"closePostHistory"),ge.prototype),Xe(ge.prototype,"updateSlug",[Y],Object.getOwnPropertyDescriptor(ge.prototype,"updateSlug"),ge.prototype),Xe(ge.prototype,"setPublishedAtBlogDate",[W],Object.getOwnPropertyDescriptor(ge.prototype,"setPublishedAtBlogDate"),ge.prototype),Xe(ge.prototype,"setVisibility",[G],Object.getOwnPropertyDescriptor(ge.prototype,"setVisibility"),ge.prototype),Xe(ge.prototype,"setPublishedAtBlogTime",[K],Object.getOwnPropertyDescriptor(ge.prototype,"setPublishedAtBlogTime"),ge.prototype),Xe(ge.prototype,"setCustomExcerpt",[J],Object.getOwnPropertyDescriptor(ge.prototype,"setCustomExcerpt"),ge.prototype),Xe(ge.prototype,"setHeaderInjection",[X],Object.getOwnPropertyDescriptor(ge.prototype,"setHeaderInjection"),ge.prototype),Xe(ge.prototype,"setFooterInjection",[Z],Object.getOwnPropertyDescriptor(ge.prototype,"setFooterInjection"),ge.prototype),Xe(ge.prototype,"setMetaTitle",[Q],Object.getOwnPropertyDescriptor(ge.prototype,"setMetaTitle"),ge.prototype),Xe(ge.prototype,"setMetaDescription",[ee],Object.getOwnPropertyDescriptor(ge.prototype,"setMetaDescription"),ge.prototype),Xe(ge.prototype,"setCanonicalUrl",[te],Object.getOwnPropertyDescriptor(ge.prototype,"setCanonicalUrl"),ge.prototype),Xe(ge.prototype,"setOgTitle",[ie],Object.getOwnPropertyDescriptor(ge.prototype,"setOgTitle"),ge.prototype),Xe(ge.prototype,"setOgDescription",[ne],Object.getOwnPropertyDescriptor(ge.prototype,"setOgDescription"),ge.prototype),Xe(ge.prototype,"setTwitterTitle",[re],Object.getOwnPropertyDescriptor(ge.prototype,"setTwitterTitle"),ge.prototype),Xe(ge.prototype,"setTwitterDescription",[ae],Object.getOwnPropertyDescriptor(ge.prototype,"setTwitterDescription"),ge.prototype),Xe(ge.prototype,"setCoverImage",[se],Object.getOwnPropertyDescriptor(ge.prototype,"setCoverImage"),ge.prototype),Xe(ge.prototype,"clearCoverImage",[oe],Object.getOwnPropertyDescriptor(ge.prototype,"clearCoverImage"),ge.prototype),Xe(ge.prototype,"setOgImage",[le],Object.getOwnPropertyDescriptor(ge.prototype,"setOgImage"),ge.prototype),Xe(ge.prototype,"clearOgImage",[ue],Object.getOwnPropertyDescriptor(ge.prototype,"clearOgImage"),ge.prototype),Xe(ge.prototype,"setTwitterImage",[ce],Object.getOwnPropertyDescriptor(ge.prototype,"setTwitterImage"),ge.prototype),Xe(ge.prototype,"clearTwitterImage",[de],Object.getOwnPropertyDescriptor(ge.prototype,"clearTwitterImage"),ge.prototype),Xe(ge.prototype,"changeAuthors",[pe],Object.getOwnPropertyDescriptor(ge.prototype,"changeAuthors"),ge.prototype),Xe(ge.prototype,"deletePostInternal",[me],Object.getOwnPropertyDescriptor(ge.prototype,"deletePostInternal"),ge.prototype),Xe(ge.prototype,"setSidebarWidthFromElement",[he],Object.getOwnPropertyDescriptor(ge.prototype,"setSidebarWidthFromElement"),ge.prototype),be=ge))||be)
e.default=Qe,Ember._setComponentTemplate(Ze,Qe)})),define("ghost-admin/components/gh-post-settings-menu/visibility-segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"EIG0XORO",block:'{"symbols":["option","@disabled"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,2],[32,0,["fetchOptionsTask","isRunning"]]],null],[30,[36,1],["power-select/options"],null],false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[10,"span"],[15,"data-test-visibility-segment-option",[32,1,["name"]]],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["or","component"]}',moduleName:"ghost-admin/components/gh-post-settings-menu/visibility-segment-select.hbs"})
let g=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),m(this,"store",u,this),m(this,"feature",c,this),m(this,"_options",d,this),m(this,"tiers",p,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(i){if(i.options)return i.options.forEach(t)
e.push(i)})),e}get selectedOptions(){const e=this.args.tiers.map((e=>this.tiers.find((t=>t.id===e.id)))).filter((e=>!!e)).map((e=>e.id))
return this.flatOptions.filter((t=>e.includes(t.id)))}setSegment(e){let t=e.mapBy("id").map((e=>{let t=this.tiers.find((t=>t.id===e))
return{id:t.id,slug:t.slug,name:t.name}}))||[]
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[],t=yield this.store.query("tier",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(this.tiers=t,t.length>0){const i={groupName:"Active tiers",options:[]},n={groupName:"Archived tiers",options:[]}
t.forEach((e=>{const t={name:e.name,id:e.id,count:e.count?.members,class:"segment-tier"}
e.active?i.options.push(t):n.options.push(t)})),e.push(i),e.push(n),this.args.selectDefaultTier&&!this.args.tiers&&this.setSegment([i.options[0]])}this._options=e}},u=h(l.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=h(l.prototype,"tiers",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(l.prototype,"setSegment",[o],Object.getOwnPropertyDescriptor(l.prototype,"setSegment"),l.prototype),h(l.prototype,"fetchOptionsTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/gh-power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"TqC27RoR",block:'{"symbols":["@placeholder","@placeholderComponent","@select","&default","@option","@extra","@selectedItemComponent","@allowClear"],"statements":[[6,[37,3],[[32,3,["selected"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[32,7]],null,[["default","else"],[{"statements":[[2,"        "],[1,[30,[36,0],[[32,7]],[["extra","option","select"],[[30,[36,2],[[32,6]],null],[30,[36,2],[[32,5,["selected"]]],null],[30,[36,2],[[32,3]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"span"],[14,0,"ember-power-select-selected-item"],[12],[18,4,[[32,3,["selected"]],[32,0,["select"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,5],[[32,8],[30,[36,4],[[32,3,["disabled"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[11,"span"],[24,0,"ember-power-select-clear-btn"],[4,[38,1],["mousedown",[32,0,["clear"]]],null],[4,[38,1],["touchstart",[32,0,["clear"]]],null],[12],[2,"Ã—"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[1,[30,[36,0],[[32,2]],[["placeholder"],[[32,1]]]]],[2,"\\n"]],"parameters":[]}]]],[1,[30,[36,6],["arrow-down-small"],null]],[2,"\\n"]],"hasEval":false,"upvars":["component","on","readonly","if","not","and","svg-jar"]}',moduleName:"ghost-admin/components/gh-power-select/trigger.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(){var e,t,i,n
super(...arguments),e=this,t="dropdown",n=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),this.dropdown.on("close",this,this.closeFromDropdown)}willDestroy(){super.willDestroy(...arguments),this.dropdown.off("close",this,this.closeFromDropdown)}closeFromDropdown(){this.args.select.actions.close()}},o=n.prototype,l="dropdown",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-progress-bar",["exports","@ember-decorators/component"],(function(e,t){var i
function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"vFuUyfY7",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-progress-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-progress-container-progress"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-progress-bar ",[30,[36,0],[[32,0,["isError"]],"-error"],null]]]],[15,5,[32,0,["progressStyle"]]],[14,"data-test-progress-bar",""],[15,"data-test-progress-width",[32,0,["percentage"]]],[12],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-progress-bar.hbs"})
let a=(0,t.tagName)("")(i=class extends Ember.Component{constructor(...e){super(...e),n(this,"percentage",0),n(this,"isError",!1),n(this,"progressStyle","")}didReceiveAttrs(){super.didReceiveAttrs(...arguments)
let e=this.percentage,t=e>0?`${e}%`:"0"
this.set("progressStyle",Ember.String.htmlSafe(`width: ${t}`))}})||i
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-psm-authors-input",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ljUtZm6S",block:'{"symbols":[],"statements":[[8,"gh-token-input",[],[["@options","@selected","@onChange","@allowCreation","@renderInPlace","@triggerId"],[[32,0,["availableAuthors"]],[32,0,["selectedAuthors"]],[30,[36,0],[[32,0],"updateAuthors"],null],false,true,[32,0,["triggerId"]]]],null]],"hasEval":false,"upvars":["action"]}',moduleName:"ghost-admin/components/gh-psm-authors-input.hbs"})
var i=Ember._setComponentTemplate(t,Ember.Component.extend({store:Ember.inject.service(),selectedAuthors:null,tagName:"",triggerId:"",availableAuthors:null,updateAuthors(){},availableAuthorNames:Ember.computed("availableAuthors.@each.name",(function(){return this.availableAuthors.map((e=>e.get("name").toLowerCase()))})),init(){this._super(...arguments),this.store.query("user",{limit:"all"}),this.set("availableAuthors",this.store.peekAll("user"))},actions:{updateAuthors(e){this.updateAuthors(e)}}}))
e.default=i})),define("ghost-admin/components/gh-psm-tags-input",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"GCx+dPjS",block:'{"symbols":[],"statements":[[8,"gh-token-input",[],[["@extra","@onChange","@onCreate","@options","@renderInPlace","@selected","@showCreateWhen","@triggerId"],[[30,[36,1],null,[["tokenComponent"],[[30,[36,0],["gh-token-input/tag-token"],null]]]],[30,[36,2],[[32,0],"updateTags"],null],[30,[36,2],[[32,0],"createTag"],null],[32,0,["availableTags"]],true,[32,0,["post","tags"]],[30,[36,2],[[32,0],"hideCreateOptionOnMatchingTag"],null],[32,0,["triggerId"]]]],null],[2,"\\n"]],"hasEval":false,"upvars":["component","hash","action"]}',moduleName:"ghost-admin/components/gh-psm-tags-input.hbs"})
let v=(i=(0,t.tagName)(""),n=Ember.inject.service,r=Ember.computed.sort("_availableTags.[]",(function(e,t){return e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})})),a=Ember.computed("availableTags.@each.name"),s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,i((d=class extends Ember.Component{constructor(...e){super(...e),h(this,"store",p,this),b(this,"post",null),b(this,"_availableTags",null),h(this,"availableTags",m,this)}get availableTagNames(){return this.availableTags.map((e=>e.name.toLowerCase()))}init(){super.init(...arguments),this.store.query("tag",{limit:"all"}),this.set("_availableTags",this.store.peekAll("tag"))}matchTags(e,t){return e.toLowerCase()===t.trim().toLowerCase()}hideCreateOptionOnMatchingTag(e){return!this.availableTagNames.includes(e.toLowerCase())}updateTags(e){return this.get("post.tags").forEach((function(t){!e.includes(t)&&t.get("isNew")&&t.destroyRecord()})),this.set("post.tags",e)}createTag(e){let t,i=this.get("post.tags"),n=i.map((e=>e.get("name").toLowerCase()))
if(e=e.trim(),!n.includes(e.toLowerCase()))return t=this._findTagByName(e),t||(t=this.store.createRecord("tag",{name:e}),t.updateVisibility()),i.pushObject(t)}_findTagByName(e){return this.availableTags.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}},p=g(d.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"availableTags",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"availableTagNames",[a],Object.getOwnPropertyDescriptor(d.prototype,"availableTagNames"),d.prototype),g(d.prototype,"matchTags",[s],Object.getOwnPropertyDescriptor(d.prototype,"matchTags"),d.prototype),g(d.prototype,"hideCreateOptionOnMatchingTag",[o],Object.getOwnPropertyDescriptor(d.prototype,"hideCreateOptionOnMatchingTag"),d.prototype),g(d.prototype,"updateTags",[l],Object.getOwnPropertyDescriptor(d.prototype,"updateTags"),d.prototype),g(d.prototype,"createTag",[u],Object.getOwnPropertyDescriptor(d.prototype,"createTag"),d.prototype),c=d))||c)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-psm-template-select",["exports","@ember-decorators/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"y2Fv0Vxb",block:'{"symbols":[],"statements":[[6,[37,0],[[32,0,["customTemplates"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"form-group for-select"],[14,"data-test-custom-template-form",""],[12],[2,"\\n        "],[10,"label"],[14,"for","author-list"],[12],[2,"Template"],[13],[2,"\\n        "],[10,"span"],[15,0,[31,["gh-select ",[30,[36,0],[[32,0,["matchedSlugTemplate"]],"disabled"],null]]]],[12],[2,"\\n            "],[8,"one-way-select",[[24,"data-test-select","custom-template"]],[["@value","@options","@optionValuePath","@optionLabelPath","@update","@disabled"],[[32,0,["selectedTemplate"]],[32,0,["customTemplates"]],"filename","name",[30,[36,1],[[32,0],"selectTemplate"],null],[32,0,["matchedSlugTemplate"]]]],null],[2,"\\n            "],[1,[30,[36,2],["arrow-down-small"],null]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,0],[[32,0,["matchedSlugTemplate"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"Post URL matches "],[1,[32,0,["matchedSlugTemplate","filename"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","action","svg-jar"]}',moduleName:"ghost-admin/components/gh-psm-template-select.hbs"})
let v=(n=(0,t.tagName)(""),r=Ember.inject.service,a=Ember.computed("activeTheme.customTemplates.[]"),s=Ember.computed("post.{page,slug}","activeTheme.slugTemplates.[]"),o=Ember.computed("post.customTemplate","customTemplates.[]"),l=Ember._action,u=(0,i.task)((function*(){let e=this.store,t=yield e.peekAll("theme")
Ember.isEmpty(t)&&(t=yield e.findAll("theme"))
let i=t.filterBy("active",!0).get("firstObject")
this.set("activeTheme",i)})),n((d=class extends Ember.Component{constructor(...e){super(...e),h(this,"store",p,this),b(this,"post",null),b(this,"activeTheme",null),h(this,"loadActiveTheme",m,this)}onTemplateSelect(){}get customTemplates(){let e=this.get("activeTheme.customTemplates")||[]
return Ember.isEmpty(e)?e:[{filename:"",name:"Default"},...e.sortBy("name")]}get matchedSlugTemplate(){let e=this.get("post.slug"),t=this.post.constructor.modelName,[i]=this.get("activeTheme.slugTemplates").filter((function(i){return i.for.includes(t)&&i.slug===e}))
return i}get selectedTemplate(){let e=this.customTemplates,t=this.get("post.customTemplate")
return e.findBy("filename",t)}didInsertElement(){super.didInsertElement(...arguments),this.loadActiveTheme.perform()}selectTemplate(e){this.onTemplateSelect(e.filename)}},p=g(d.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"customTemplates",[a],Object.getOwnPropertyDescriptor(d.prototype,"customTemplates"),d.prototype),g(d.prototype,"matchedSlugTemplate",[s],Object.getOwnPropertyDescriptor(d.prototype,"matchedSlugTemplate"),d.prototype),g(d.prototype,"selectedTemplate",[o],Object.getOwnPropertyDescriptor(d.prototype,"selectedTemplate"),d.prototype),g(d.prototype,"selectTemplate",[l],Object.getOwnPropertyDescriptor(d.prototype,"selectTemplate"),d.prototype),m=g(d.prototype,"loadActiveTheme",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=d))||c)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-psm-visibility-input",["exports"],(function(e){var t,i,n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"PN2FGtRv",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update","@data-test-select"],[[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],"name","label","name",[30,[36,0],[[32,0],"updateVisibility"],null],"post-visibility"]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-psm-visibility-input.hbs"}),u=[{label:"Public",name:"public"},{label:"Members only",name:"members"},{label:"Paid-members only",name:"paid"}]
let c=(t=Ember.inject.service,i=Ember.computed("post.visibility"),n=Ember._action,r=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),s(this,"post",null)}get selectedVisibility(){return this.get("post.visibility")||this.settings.defaultContentVisibility}init(){super.init(...arguments),this.availableVisibilities=[...u],this.availableVisibilities.push({label:"Specific tier(s)",name:"tiers"})}updateVisibility(e){this.post.set("visibility",e),"tiers"!==e&&this.post.set("tiers",[])}},a=o(r.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(r.prototype,"selectedVisibility",[i],Object.getOwnPropertyDescriptor(r.prototype,"selectedVisibility"),r.prototype),o(r.prototype,"updateVisibility",[n],Object.getOwnPropertyDescriptor(r.prototype,"updateVisibility"),r.prototype),r)
e.default=c,Ember._setComponentTemplate(l,c)})),define("ghost-admin/components/gh-recipient-filter-count",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"wrLae6UW",block:'{"symbols":["@filter","@newsletter","@knownCount"],"statements":[[6,[37,0],[[32,1]],null,[["default","else"],[{"statements":[[8,"gh-members-filter-count",[],[["@filter","@newsletter","@knownCount"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"0 members\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/gh-recipient-filter-count.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-referral-invite",["exports","@glimmer/component","ghost-admin/config/environment","moment-timezone","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"nJxHF/pL",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["showReferralInvite"]]],null,[["default"],[{"statements":[[10,"div"],[14,0,"gh-referral-toast"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-referral-toast-close"],[24,4,"button"],[4,[38,0],["click",[32,0,["dismissReferralInvite"]]],null],[12],[2,"Ã—"],[13],[2,"\\n    "],[10,"a"],[14,6,"https://referrals.ghost.org/?ref=admin"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n        "],[10,"strong"],[12],[2,"You qualify for our invite-only referral program."],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-footer-toast-p"],[12],[2,"Refer people to Ghost and earn a "],[10,"strong"],[12],[2,"30% share"],[13],[2," of the subscription revenue, every single month."],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-btn gh-btn-black gh-referral-toast-button"],[14,4,"button"],[12],[10,"span"],[12],[2,"Find out more â†’"],[13],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","if"]}',moduleName:"ghost-admin/components/gh-referral-invite.hbs"})
let w=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember._action,d=class extends t.default{constructor(){super(...arguments),f(this,"session",p,this),f(this,"dashboardStats",m,this),f(this,"feature",h,this),f(this,"membersUtils",b,this),f(this,"settings",g,this),this.loadCurrentMRR.perform()}get isAdminOrOwner(){return this.session.user.isAdmin}get isReferralNotificationNotDismissed(){return!this.feature.accessibility.referralInviteDismissed}get stripeLiveModeEnabled(){const e="production"!==i.default.environment&&this.membersUtils.isStripeEnabled,t=this.settings.stripeConnectLivemode
return e||t}get hasReachedMRR(){return this.dashboardStats.currentMRR/100>=100}get showReferralInvite(){return!this.args.hasThemeErrors&&this.isAdminOrOwner&&this.isReferralNotificationNotDismissed&&this.stripeLiveModeEnabled&&this.hasReachedMRR}*loadCurrentMRR(){if(this.isAdminOrOwnern)try{yield this.dashboardStats.loadMrrStats()}catch(e){}}dismissReferralInvite(e){e.preventDefault(),e.stopPropagation(),this.feature.referralInviteDismissed||(this.feature.referralInviteDismissed=(0,n.default)().tz(this.settings.timezone))}},p=v(d.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(d.prototype,"dashboardStats",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(d.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(d.prototype,"membersUtils",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(d.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(d.prototype,"loadCurrentMRR",[r.task],Object.getOwnPropertyDescriptor(d.prototype,"loadCurrentMRR"),d.prototype),v(d.prototype,"dismissReferralInvite",[c],Object.getOwnPropertyDescriptor(d.prototype,"dismissReferralInvite"),d.prototype),d)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/gh-resource-select",["exports","@glimmer/component","ember-power-select/utils/group-utils","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"+db2vF6L",block:'{"symbols":["resource","@disabled","@searchMessage"],"statements":[[8,"power-select",[],[["@searchEnabled","@options","@selected","@onChange","@triggerClass","@dropdownClass","@placeholder","@renderInPlace","@disabled","@optionsComponent","@search","@searchField","@searchMessage","@searchPlaceholder"],[true,[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["onChange"]],"gh-resource-select-trigger","gh-resource-select-dropdown",[32,0,["placeholderText"]],[32,0,["renderInPlace"]],[30,[36,0],[[32,2],[32,0,["fetchOptionsTask","isRunning"]]],null],[30,[36,1],["power-select/options"],null],[32,0,["searchAndSuggest"]],[32,0,["searchField"]],[32,3],[32,0,["searchPlaceholderText"]]]],[["default"],[{"statements":[[2,"\\n  "],[1,[32,1,["title"]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["or","component"]}',moduleName:"ghost-admin/components/gh-resource-select.hbs"})
let h=(r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}get searchField(){return void 0===this.args.searchField?"name":this.args.searchField}searchAndSuggest(e,t){return this.searchAndSuggestTask.perform(e,t)}*searchAndSuggestTask(e){let t=this.flatOptions.toArray()
return 0===e.length||(yield,t=this._filter(Ember.A(t),e)),t}get matcher(){return this.args.matcher||i.defaultMatcher}_filter(e,t){let n
return n=this.searchField?(e,t)=>this.matcher(Ember.get(e,this.searchField),t):(e,t)=>this.matcher(e,t),(0,i.filterOptions)(e||[],t,n)}constructor(){super(...arguments),d(this,"store",u,this),d(this,"_options",c,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(i){if(i.options)return i.options.forEach(t)
e.push(i)})),e}get selectedOption(){if(this.args.resource.title)return this.args.resource
const e=this.args.resource??{}
return this.flatOptions.find((t=>e.id===t.id))}onChange(e){this.args.onChange(e)}get placeholderText(){return"email"===this.args.type?"Select an email":"Select a page/post"}get searchPlaceholderText(){return"email"===this.args.type?"Search emails":"Search posts/pages"}*fetchOptionsTask(){const e=yield[]
if("email"===this.args.type){const t=yield this.store.query("post",{filter:"(status:published,status:sent)+newsletter_id:-null",limit:"all"})
return e.push(...t.map(n)),void(this._options=e)}const t=yield this.store.query("post",{filter:"status:published",limit:"all"}),i=yield this.store.query("page",{filter:"status:published",limit:"all"})
function n(e){return{id:e.id,title:e.title}}t.length>0&&e.push({groupName:"Posts",options:t.map(n)}),i.length>0&&e.push({groupName:"Pages",options:i.map(n)}),this._options=e}},u=p(l.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(l.prototype,"searchAndSuggest",[s],Object.getOwnPropertyDescriptor(l.prototype,"searchAndSuggest"),l.prototype),p(l.prototype,"searchAndSuggestTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"searchAndSuggestTask"),l.prototype),p(l.prototype,"onChange",[o],Object.getOwnPropertyDescriptor(l.prototype,"onChange"),l.prototype),p(l.prototype,"fetchOptionsTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-role-selection",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"5lA+l9gw",block:'{"symbols":["@selected"],"statements":[[11,"div"],[24,0,"gh-roles-container"],[4,[38,7],[[30,[36,6],[[32,0,["fetchRolesTask"]]],null]],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["fetchRolesTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,5,"width: 486px; height: 268px"],[12],[2,"\\n            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Contributor"],null],"active"],null]]]],[24,"data-test-option","Contributor"],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Contributor"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Contributor"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Can create and edit their own posts, but cannot publish. An Editor needs to approve and publish for them."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create and edit own draft posts"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Author"],null],"active"],null]]]],[24,"data-test-option","Author"],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Author"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Author"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"A trusted user who can create, edit and publish their own posts, but canâ€™t modify others."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Browse users"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View, edit and publish own posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Add tags"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Editor"],null],"active"],null]]]],[24,"data-test-option","Editor"],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Editor"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Editor"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Can invite and manage other Authors and Contributors, as well as edit and publish any posts on the site."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"View and edit own profile"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Browse users, manage authors and contributors (invite, revoke, delete)"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create, publish, edit and delete all posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Edit, add and delete tags"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,1,["name"]],"Administrator"],null],"active"],null]]]],[24,"data-test-option","Administrator"],[4,[38,3],["click",[30,[36,2],[[32,0,["setRole"]],"Administrator"],null]],null],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Administrator"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Trusted staff user who should be able to manage all content and users, as well as site settings and options."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n"],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[1,[30,[36,4],["info"],null]],[2,"\\n                    "],[8,"ember-popover",[],[["@tooltipClass","@arrowClass","@side"],["popover","popover-arrow","left"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"table"],[12],[2,"\\n                            "],[10,"tbody"],[12],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Settings"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Access all except Stripe settings"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Users"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Manage all users (invite, revoke, delete)"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Posts"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Create, publish, edit and delete all posts, generate slugs"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Tags"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Edit, add and delete tags"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Database"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Import, export and delete all content"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"tr"],[12],[2,"\\n                                    "],[10,"td"],[14,0,"left"],[12],[2,"Email"],[13],[2,"\\n                                    "],[10,"td"],[12],[2,"Send newsletters and test emails"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n\\n        "],[10,"div"],[14,0,"gh-content-box pa"],[15,"hidden",[30,[36,1],[[32,0,["limitErrorMessage"]],false,true],null]],[12],[2,"\\n            "],[1,[30,[36,5],[[32,0,["limitErrorMessage"]]],null]],[2," To use selected user role, upgrade to a different plan.\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["eq","if","fn","on","svg-jar","html-safe","perform","did-insert"]}',moduleName:"ghost-admin/components/gh-role-selection.hbs"})
let v=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),b(this,"limit",c,this),b(this,"notifications",d,this),b(this,"store",p,this),b(this,"roles",m,this),b(this,"limitErrorMessage",h,this)}async setRole(e){const t=this.roles.findBy("name",e)
return this.args.setRole(t),this.validateRole(t)}*fetchRolesTask(){const e=yield this.store.query("role",{permissions:"assign"}),t=e.findBy("name","Contributor")
this.roles=e,!this.args.selected&&t&&this.args.setRole(t)}async validateRole(e){if("Contributor"===e.name&&this.args.onValidationSuccess?.(),"Contributor"!==e.name&&this.limit.limiter&&this.limit.limiter.isLimited("staff"))try{await this.limit.limiter.errorIfWouldGoOverLimit("staff"),this.limitErrorMessage=null,this.args.onValidationSuccess?.()}catch(t){"HostLimitError"===t.errorType?(this.limitErrorMessage=t.message,this.args.onValidationFailure?.(this.limitErrorMessage)):this.notifications.showAPIError(t,{key:"staff.limit"})}else this.limitErrorMessage=null}},c=g(u.prototype,"limit",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"roles",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=g(u.prototype,"limitErrorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g(u.prototype,"setRole",[l],Object.getOwnPropertyDescriptor(u.prototype,"setRole"),u.prototype),g(u.prototype,"fetchRolesTask",[i.task],Object.getOwnPropertyDescriptor(u.prototype,"fetchRolesTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/gh-scroll-trigger",["exports","@glimmer/component","ghost-admin/utils/get-scroll-parent"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"o3+eYU0s",block:'{"symbols":["&default"],"statements":[[11,"div"],[4,[38,0],[[32,0,["setupInViewport"]]],null],[4,[38,1],[[32,0,["teardownInViewport"]]],null],[12],[2,"\\n  "],[18,1,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["did-insert","will-destroy"]}',moduleName:"ghost-admin/components/gh-scroll-trigger.hbs"})
let c=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="inViewport",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}setupInViewport(e){this.loaderElement=e
let t=this.args.triggerOffset||{}
"number"==typeof t&&(t={top:t,bottom:t,left:t,right:t})
let n={viewportSpy:!0,viewportTolerance:t,scrollableArea:this.args.scrollable||(0,i.default)(e)},{onEnter:r,onExit:a}=this.inViewport.watchElement(e,n)
r(this.didEnterViewport.bind(this)),a(this.didExitViewport.bind(this)),this.args.registerElement?.(e)}didEnterViewport(){this.args.enter?.()}didExitViewport(){this.args.exit?.()}teardownInViewport(e){this.inViewport.stopWatching(e)}},o=l(s.prototype,"inViewport",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"setupInViewport",[r],Object.getOwnPropertyDescriptor(s.prototype,"setupInViewport"),s.prototype),l(s.prototype,"teardownInViewport",[a],Object.getOwnPropertyDescriptor(s.prototype,"teardownInViewport"),s.prototype),s)
e.default=c,Ember._setComponentTemplate(u,c)})),define("ghost-admin/components/gh-search-input",["exports","@glimmer/component","ember-inflector","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"q29c/Zn+",block:'{"symbols":["name","select","&attrs"],"statements":[[11,"div"],[17,3],[12],[2,"\\n    "],[10,"div"],[14,0,"ember-power-select-search"],[12],[2,"\\n        "],[8,"power-select",[],[["@search","@onChange","@onClose","@placeholder","@searchEnabled","@triggerComponent","@renderInPlace","@loadingMessage","@extra"],[[30,[36,0],[[32,0,["searchTask"]]],null],[32,0,["openSelected"]],[32,0,["onClose"]],"Search site",false,[30,[36,1],["gh-input-with-select/trigger"],null],true,"Loading",[30,[36,2],null,[["autofocus","inputType","inputIcon","inputIconClass"],[true,"search","search","gh-nav-search-icon"]]]]],[["default"],[{"statements":[[2,"\\n            "],[1,[30,[36,3],[[32,1,["title"]],[32,2,["searchText"]]],null]],[2,"\\n        "]],"parameters":[1,2]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","component","hash","highlighted-text"]}',moduleName:"ghost-admin/components/gh-search-input.hbs"})
let k=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._action,u=Ember._action,c=(0,n.task)({restartable:!0}),d=(0,n.task)({drop:!0}),p=class extends t.default{constructor(...e){super(...e),f(this,"ajax",m,this),f(this,"notifications",h,this),f(this,"router",b,this),f(this,"store",g,this),v(this,"content",[]),v(this,"contentExpiresAt",!1),v(this,"contentExpiry",3e4),v(this,"searchables",[{name:"Posts",model:"post",fields:["id","title"],idField:"id",titleField:"title"},{name:"Pages",model:"page",fields:["id","title"],idField:"id",titleField:"title"},{name:"Users",model:"user",fields:["slug","name"],idField:"slug",titleField:"name"},{name:"Tags",model:"tag",fields:["slug","name"],idField:"slug",titleField:"name"}])}openSelected(e){if(e){if(this.args.onSelected?.(e),"Posts"===e.searchable){let t=e.id.replace("post.","")
this.router.transitionTo("editor.edit","post",t)}if("Pages"===e.searchable){let t=e.id.replace("page.","")
this.router.transitionTo("editor.edit","page",t)}if("Users"===e.searchable){let t=e.id.replace("user.","")
this.router.transitionTo("settings.staff.user",t)}if("Tags"===e.searchable){let t=e.id.replace("tag.","")
this.router.transitionTo("tag",t)}}}onClose(e,t){Ember.run.later((()=>{t?.target.focus()}))}*searchTask(e){if(Ember.isBlank(e))return[]
this.refreshContentTask.perform(),yield(0,n.timeout)(200),this.refreshContentTask.isRunning&&(yield(0,n.waitForProperty)(this,"refreshContentTask.isIdle"))
return this._searchContent(e)}_searchContent(e){const t=e.toString().toLowerCase(),i=[]
return this.searchables.forEach((e=>{const n=this.content.filter((i=>{const n=i.title.toString().toLowerCase()
return i.searchable===e.name&&n.indexOf(t)>=0}))
Ember.isEmpty(n)||i.push({groupName:e.name,options:n})})),i}*refreshContentTask(){let e=new Date
if(this.contentExpiresAt>e)return!0
const t=[],i=this.searchables.map((e=>this._loadSearchable(e,t)))
try{yield Ember.RSVP.all(i),this.content=t}catch(r){console.error(r)}let n=this.contentExpiry
this.contentExpiresAt=new Date(e.getTime()+n)}_loadSearchable(e,t){let n=`${this.store.adapterFor(e.model).urlForQuery({},e.model)}/`,r={fields:e.fields,limit:"10000"}
return this.ajax.request(n,{data:r}).then((n=>{const r=n[(0,i.pluralize)(e.model)].map((t=>({id:`${e.model}.${t[e.idField]}`,title:t[e.titleField],searchable:e.name})))
t.push(...r)})).catch((t=>{this.notifications.showAPIError(t,{key:`search.load${e.name}.error`})}))}},m=y(p.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(p.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(p.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(p.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(p.prototype,"openSelected",[l],Object.getOwnPropertyDescriptor(p.prototype,"openSelected"),p.prototype),y(p.prototype,"onClose",[u],Object.getOwnPropertyDescriptor(p.prototype,"onClose"),p.prototype),y(p.prototype,"searchTask",[c],Object.getOwnPropertyDescriptor(p.prototype,"searchTask"),p.prototype),y(p.prototype,"refreshContentTask",[d],Object.getOwnPropertyDescriptor(p.prototype,"refreshContentTask"),p.prototype),p)
e.default=k,Ember._setComponentTemplate(w,k)})),define("ghost-admin/components/gh-simplemde",["exports","ghost-admin/config/environment","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"BhMQLDvB",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-simplemde.hbs"})
let m=(n=Ember.inject.service,r=Ember.computed,a=(0,i.task)((function*(){yield this.lazyLoader.loadScript("simplemde","assets/simplemde/simplemde-8f638be9b49c6c5fc95902d6e470c1a3.js")
let e=Ember.assign({element:document.getElementById(this.elementId)},this.defaultOptions,this.options)
"test"===t.default.environment&&(e.spellChecker=!1),this._editor=new SimpleMDE(e),this._editor.value(this.value||""),this._editor.codemirror.on("change",((e,t)=>{"setValue"!==t.origin&&this.onChange(this._editor.value())})),this._editor.codemirror.on("focus",(()=>{this.onFocus()})),this._editor.codemirror.on("blur",(()=>{this.onBlur()})),this.autofocus&&this._editor.codemirror.execCommand("goDocEnd"),this.onEditorInit(this._editor)})),s=class extends Ember.TextArea{constructor(...e){super(...e),u(this,"lazyLoader",o,this),c(this,"autofocus",!1),c(this,"options",null),c(this,"value",null),c(this,"placeholder",""),c(this,"_editor",null),u(this,"initSimpleMDE",l,this)}onChange(){}onEditorInit(){}onEditorDestroy(){}get defaultOptions(){return{autofocus:this.autofocus,indentWithTabs:!1,placeholder:this.placeholder,tabSize:4}}init(){super.init(...arguments),Ember.isEmpty(this.options)&&this.set("options",{})}didReceiveAttrs(){if(super.didReceiveAttrs(...arguments),!Ember.isEmpty(this._editor)&&this.value!==this._editor.value()){let e=this._editor.codemirror.getDoc().getCursor()
this._editor.value(this.value),this._editor.codemirror.getDoc().setCursor(e)}}didInsertElement(){super.didInsertElement(...arguments),this.initSimpleMDE.perform()}willDestroyElement(){this._editor?.codemirror&&this._editor.toTextArea(),delete this._editor,super.willDestroyElement(...arguments)}},o=d(s.prototype,"lazyLoader",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"defaultOptions",[r],Object.getOwnPropertyDescriptor(s.prototype,"defaultOptions"),s.prototype),l=d(s.prototype,"initSimpleMDE",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=m,Ember._setComponentTemplate(p,m)}))
define("ghost-admin/components/gh-site-iframe",["exports","@glimmer/component","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"McfjA10F",block:'{"symbols":["&attrs","@onInserted","@guid"],"statements":[[11,"iframe"],[16,0,[31,["site-frame ",[30,[36,0],[[32,0,["isInvisible"]],"invisible"],null]]]],[16,"src",[32,0,["srcUrl"]]],[24,"frameborder","0"],[24,"allowtransparency","true"],[17,1],[4,[38,2],[[30,[36,1],[[32,2]],null]],null],[4,[38,2],[[32,0,["attachMessageListener"]]],null],[4,[38,3],[[32,0,["resetSrcAttribute"]],[32,3]],null],[4,[38,4],["load",[32,0,["onLoad"]]],null],[12],[13]],"hasEval":false,"upvars":["if","optional","did-insert","did-update","on"]}',moduleName:"ghost-admin/components/gh-site-iframe.hbs"})
let h=(r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),d(this,"config",u,this),d(this,"isInvisible",c,this)}willDestroy(){super.willDestroy?.(...arguments),this.messageListener&&window.removeEventListener("message",this.messageListener),this.args.onDestroyed?.()}get srcUrl(){const e=new URL(this.args.src||`${this.config.blogUrl}/`)
return this.args.guid&&e.searchParams.set("v",this.args.guid),e.href}resetSrcAttribute(e){if(this.args.guid!==this._lastGuid&&e){this.args.invisibleUntilLoaded&&(this.isInvisible=!0)
try{e.contentWindow.location.href!==this.srcUrl?e.contentWindow.location=this.srcUrl:e.contentWindow.location.reload()}catch(t){"SecurityError"===t.name&&(e.src=this.srcUrl)}}this._lastGuid=this.args.guid}onLoad(e){this.iframe=e.target,this.args.invisibleUntilLoaded&&"boolean"==typeof this.args.invisibleUntilLoaded?this.makeVisible.perform():this.args.onLoad?.(this.iframe)}attachMessageListener(){"string"==typeof this.args.invisibleUntilLoaded&&(this.messageListener=e=>{if(this.isDestroying||this.isDestroyed)return
const t=new URL(this.srcUrl)
new URL(e.origin).origin===t.origin&&(e.data!==this.args.invisibleUntilLoaded&&e.data.type!==this.args.invisibleUntilLoaded||this.makeVisible.perform())},window.addEventListener("message",this.messageListener,!0))}*makeVisible(){yield(0,n.timeout)(100),this.isInvisible=!1,this.args.onLoad?.(this.iframe)}},u=p(l.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(l.prototype,"isInvisible",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.invisibleUntilLoaded}}),p(l.prototype,"resetSrcAttribute",[a],Object.getOwnPropertyDescriptor(l.prototype,"resetSrcAttribute"),l.prototype),p(l.prototype,"onLoad",[s],Object.getOwnPropertyDescriptor(l.prototype,"onLoad"),l.prototype),p(l.prototype,"attachMessageListener",[o],Object.getOwnPropertyDescriptor(l.prototype,"attachMessageListener"),l.prototype),p(l.prototype,"makeVisible",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"makeVisible"),l.prototype),l)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-skip-link",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"a",anchor:"",classNames:["sr-only","sr-only-focusable"],attributeBindings:["href"],href:Ember.String.htmlSafe("javascript:;"),click(){let e=document.querySelector(this.anchor)
if(e){document.body.scrollTop=e.getBoundingClientRect().top
let t=function(){e.removeAttribute("tabindex")}
e.setAttribute("tabindex",-1),e.focus(),e.addEventListener("blur",t),e.addEventListener("focusout",t)}}})
e.default=t})),define("ghost-admin/components/gh-task-button",["exports","ghost-admin/config/environment","ember-concurrency"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"9Mwovmvm",block:'{"symbols":["&default"],"statements":[[6,[37,1],[[27,[32,1]]],null,[["default","else"],[{"statements":[[2,"    "],[18,1,[[30,[36,3],null,[["isIdle","isRunning","isSuccess","isFailure"],[[32,0,["isIdle"]],[32,0,["isRunning"]],[32,0,["isSuccess"]],[32,0,["isFailure"]]]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[6,[37,1],[[32,0,["isRunning"]]],null,[["default"],[{"statements":[[10,"span"],[14,"data-test-task-button-state","running"],[12],[6,[37,1],[[32,0,["showIcon"]]],null,[["default"],[{"statements":[[1,[30,[36,0],["spinner"],[["class"],["gh-icon-spinner"]]]],[2," "]],"parameters":[]}]]],[1,[32,0,["runningText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,1],[[32,0,["isIdle"]]],null,[["default"],[{"statements":[[10,"span"],[14,"data-test-task-button-state","idle"],[12],[1,[32,0,["buttonText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,1],[[32,0,["isSuccess"]]],null,[["default"],[{"statements":[[11,"span"],[24,"data-test-task-button-state","success"],[4,[38,2],[[32,0,["handleReset"]]],null],[12],[6,[37,1],[[32,0,["showIcon"]]],null,[["default"],[{"statements":[[1,[30,[36,0],["check-circle"],null]],[2," "]],"parameters":[]}]]],[1,[32,0,["successText"]]],[13]],"parameters":[]}]]],[2,"\\n    "],[6,[37,1],[[32,0,["isFailure"]]],null,[["default"],[{"statements":[[10,"span"],[14,"data-test-task-button-state","failure"],[12],[6,[37,1],[[32,0,["showIcon"]]],null,[["default"],[{"statements":[[1,[30,[36,0],["retry"],null]],[2," "]],"parameters":[]}]]],[1,[32,0,["failureText"]]],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","if","did-insert","hash"]}',moduleName:"ghost-admin/components/gh-task-button.hbs"}),r=Ember.Component.extend({tagName:"button",classNameBindings:["isRunning:appear-disabled","isIdleClass","isRunningClass","isSuccessClass","isFailureClass"],attributeBindings:["disabled","form","type","tabindex","data-test-button"],task:null,taskArgs:void 0,disabled:!1,defaultClick:!1,buttonText:"Save",idleClass:"",runningClass:"",showIcon:!0,showSuccess:!0,autoReset:!0,successText:"Saved",successClass:"gh-btn-green",failureText:"Retry",failureClass:"gh-btn-red",unlinkedTask:!1,isTesting:void 0,action:()=>{},runningText:Ember.computed.reads("buttonText"),hasRun:Ember.computed("task.performCount",(function(){return this.get("task.performCount")>this._initialPerformCount})),isIdleClass:Ember.computed("isIdle",(function(){return this.isIdle?this.idleClass:""})),isRunning:Ember.computed("task.last.isRunning","hasRun","showSuccess",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name"),i=e===t&&this.get("task.last.isRunning")
return this.hasRun&&e===t&&this.get("task.last.value")&&!this.showSuccess&&(i=!0),i})),isRunningClass:Ember.computed("isRunning",(function(){return this.isRunning?this.runningClass||this.idleClass:""})),isSuccess:Ember.computed("hasRun","isRunning","task.last.value",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name")
if(!this.hasRun||this.isRunning||!this.showSuccess)return!1
let i=this.get("task.last.value")
return e===t&&!Ember.isBlank(i)&&!1!==i&&"canceled"!==i})),isSuccessClass:Ember.computed("isSuccess",(function(){return this.isSuccess?this.successClass:""})),isFailure:Ember.computed("hasRun","isRunning","isSuccess","task.last.{value,error}",(function(){let e=this.get("task.name"),t=this.get("task.last.task.name")
const i=this.task?.last?.value
return!(!this.hasRun||this.isRunning||this.isSuccess)&&(e===t&&void 0!==this.get("task.last.error")&&"canceled"!==i)})),isFailureClass:Ember.computed("isFailure",(function(){return this.isFailure?this.failureClass:""})),isIdle:Ember.computed("isRunning","isSuccess","isFailure",(function(){return!this.isRunning&&!this.isSuccess&&!this.isFailure})),init(){this._super(...arguments),this._initialPerformCount=this.get("task.performCount"),void 0===this.isTesting&&(this.isTesting="test"===t.default.environment)},click(){if(this.defaultClick)return void(this.isRunning||this._restartAnimation.perform())
if(this.disabled)return!1
let e=this.get("task.name"),t=this.get("task.last.task.name")
return this.isRunning&&e===t?void 0:(this.action(),this._handleMainTask.perform(),this._restartAnimation.perform(),!1)},mouseDown(e){this.disableMouseDown&&e.preventDefault()},handleReset:Ember._action((function(){const e=this.get("task.last.isSuccessful")&&this.get("task.last.value")
this.autoReset&&this.showSuccess&&e&&this._resetButtonState.perform()})),_restartAnimation:(0,i.task)((function*(){let e=this.element.querySelector(".retry-animated")
e&&(e.classList.remove("retry-animated"),yield(0,i.timeout)(10),e.classList.add("retry-animated"))})),_handleMainTask:(0,i.task)((function*(){this._resetButtonState.cancelAll(),this.unlinkedTask?yield this.task.unlinked().perform(this.taskArgs):yield this.task.perform(this.taskArgs)
const e=this.get("task.last.isSuccessful")&&this.get("task.last.value")
this.autoReset&&this.showSuccess&&e&&this._resetButtonState.perform()})),_resetButtonState:(0,i.task)((function*(){yield(0,i.timeout)(this.isTesting?50:2500),this.get("task.last.isRunning")||(yield this.set("task.last",null))})).restartable()})
var a=Ember._setComponentTemplate(n,r)
e.default=a})),define("ghost-admin/components/gh-text-input",["exports","ghost-admin/mixins/text-input","@ember-decorators/component"],(function(e,t,i){var n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"k2qc+kUV",block:'{"symbols":["&default"],"statements":[[18,1,null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-text-input.hbs"})
let a=(0,i.classNames)("gh-input")(n=class extends(Ember.TextField.extend(t.default)){})||n
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/gh-textarea",["exports","ghost-admin/mixins/text-input","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=(0,i.classNames)("gh-input"),r=Ember.inject.service,n((s=class extends(Ember.TextArea.extend(t.default)){constructor(...e){var t,i,n,r
super(...e),t=this,i="resizeDetector",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),l(this,"autoExpand",!1)}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this.autoExpand&&Ember.run.scheduleOnce("afterRender",this,this._autoExpand)}willInsertElement(){super.willInsertElement(...arguments),this.autoExpand&&(this.element.style.resize="none")}didInsertElement(){super.didInsertElement(...arguments),this.autoExpand&&Ember.run.scheduleOnce("afterRender",this,this._setupAutoExpand),this.didCreateTextarea&&this.didCreateTextarea(this.element)}willDestroyElement(){this._teardownAutoExpand(),super.willDestroyElement(...arguments)}_autoExpand(){let e=this.element
e&&(e.style.height=0,e.style.height=`${e.scrollHeight}px`)}_setupAutoExpand(){this._resizeCallback=Ember.run.bind(this,this._onResize),this.resizeDetector.setup(this.autoExpand,this._resizeCallback),this._autoExpand()}_onResize(){this._autoExpand()}_teardownAutoExpand(){this.resizeDetector.teardown(this.autoExpand,this._resizeCallback)}},c=s.prototype,d="resizeDetector",p=[r],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=p.slice().reverse().reduce((function(e,t){return t(c,d,e)||e}),b),h&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(h):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,d,b),b=null),o=b,a=s))||a)
var c,d,p,m,h,b
e.default=u})),define("ghost-admin/components/gh-theme-error-li",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"qA4TcBbQ",block:'{"symbols":["failure"],"statements":[[11,"a"],[24,6,""],[24,0,"theme-validation-toggle-details"],[24,"data-test-toggle-details",""],[4,[38,4],[[32,0],"toggleDetails"],null],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-type-label"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"flex items-center flex-auto"],[12],[2,"\\n        "],[10,"h4"],[14,0,"theme-validation-rule-text"],[12],[2,"\\n            "],[2,[32,0,["error","rule"]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"theme-validation-rule-icon"],[12],[2,"\\n"],[6,[37,0],[[32,0,["showDetails"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,3],["arrow-down"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,3],["arrow-right"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["showDetails"]]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[14,0,"theme-validation-details"],[12],[2,"\\n        "],[2,[32,0,["error","details"]]],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[32,0,["error","failures"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"theme-validation-list"],[12],[2,"\\n            "],[10,"h6"],[12],[2,"Affected files:"],[13],[2,"\\n            "],[10,"ul"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["error","failures"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"code"],[12],[1,[32,1,["ref"]]],[13],[6,[37,0],[[32,1,["message"]]],null,[["default"],[{"statements":[[2,": "],[1,[32,1,["message"]]]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","-track-array","each","svg-jar","action"]}',moduleName:"ghost-admin/components/gh-theme-error-li.hbs"})
let l=(i=(0,t.tagName)(""),n=Ember._action,i((a=class extends Ember.Component{constructor(...e){super(...e),s(this,"error",null),s(this,"showDetails",!1)}toggleDetails(){this.toggleProperty("showDetails")}},u=a.prototype,c="toggleDetails",d=[n],p=Object.getOwnPropertyDescriptor(a.prototype,"toggleDetails"),m=a.prototype,h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,c,h),h=null),r=a))||r)
var u,c,d,p,m,h
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-theme-table",["exports","@glimmer/component","ghost-admin/components/modals/design/confirm-delete-theme"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"n0iPeNbK",block:'{"symbols":["theme","index","dd"],"statements":[[10,"div"],[14,0,"apps-grid"],[14,"data-test-themes-list",""],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["sortedThemes"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"apps-grid-cell"],[15,"data-test-theme-id",[31,[[32,1,["name"]]]]],[15,"data-test-theme-active",[31,[[32,1,["active"]]]]],[12],[2,"\\n            "],[10,"div"],[15,0,[31,["apps-card-app ",[30,[36,2],[[32,1,["active"]],"theme-list-item--active"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"apps-card-meta flex-grow-1"],[12],[2,"\\n                    "],[10,"h3"],[14,0,"apps-card-app-title"],[14,"data-test-theme-title",""],[12],[2,"\\n                        "],[1,[32,1,["label"]]],[2,"\\n                        "],[6,[37,2],[[32,1,["active"]]],null,[["default"],[{"statements":[[10,"span"],[14,0,"gh-badge gh-badge-green"],[12],[2,"Active"],[13]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"p"],[14,0,"apps-card-app-desc"],[14,"data-test-theme-description",""],[12],[10,"span"],[14,0,"description"],[12],[2,"Version "],[1,[32,1,["version"]]],[13],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,3],[[32,1,["active"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"apps-configured-action darkgrey apps-configured-action-activate green-hover green-bg-hover"],[24,"data-test-button","activate"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["activateTheme"]],[32,1,["model"]],[32,0,["dd"]]],null]],null],[12],[2,"Activate"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@buttonPosition"],["below","right","right"]],[["default"],[{"statements":[[2,"\\n                    "],[8,[32,3,["Trigger"]],[[24,0,"gh-btn gh-btn-icon fill"],[24,"data-test-button","actions"]],[[],[]],[["default"],[{"statements":[[10,"span"],[12],[1,[30,[36,4],["dotdotdot"],null]],[13]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,[32,3,["Content"]],[[24,0,"relative-dropdown-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"ul"],[14,0,"dropdown-menu"],[15,"data-test-actions-for",[32,1,["name"]]],[12],[2,"\\n\\n                            "],[10,"li"],[12],[11,"button"],[24,0,"darkgrey darkgrey-hover lightgrey-bg-hover"],[24,"data-test-button","download"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["downloadTheme"]],[32,1,["name"]],[32,3]],null]],null],[12],[2,"Download"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,1,["isDeletable"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[11,"button"],[16,"disabled",[32,1,["active"]]],[24,0,"gh-list-delete"],[24,"data-test-button","delete"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["deleteTheme"]],[32,1,["model"]],[32,3]],null]],null],[12],[2,"Delete"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "]],"parameters":[3]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","if","unless","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/gh-theme-table.hbs"})
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),b(this,"ghostPaths",d,this),b(this,"modals",p,this),b(this,"themeManagement",m,this),b(this,"utils",h,this),g(this,"activateTaskInstance",null),g(this,"confirmDeleteModal",null)}willDestroy(){super.willDestroy(...arguments),this.confirmDeleteModal?.close?.(),this.activateTaskInstance?.cancel()}get sortedThemes(){let e=this.args.themes.map((e=>{let t={},i=Ember.get(e,"package")
return t.model=e,t.name=Ember.get(e,"name"),t.label=i?`${i.name}`:t.name,t.version=i?`${i.version}`:"1.0",t.package=i,t.active=Ember.get(e,"active"),t.isDeletable=!t.active,t})),t=[]
e.forEach((i=>{e.filterBy("label",i.label).length>1&&t.pushObject(i)})),t.forEach((e=>{"casper"!==e.name&&(e.label=`${e.label} (${e.name})`)}))
let i=e.findBy("name","casper")
return i&&(i.label=`${i.label} (default)`,i.isDefault=!0,i.isDeletable=!1),e.sort(((e,t)=>{let i=e.label.toLowerCase(),n=t.label.toLowerCase()
return i<n?-1:i>n?1:0}))}downloadTheme(e,t){t?.actions.close(),this.utils.downloadFile(`${this.ghostPaths.apiRoot}/themes/${e}/download/`)}activateTheme(e,t){t?.actions.close(),this.activateTaskInstance=this.themeManagement.activateTask.perform(e)}deleteTheme(e,t){t?.actions.close(),this.confirmDeleteModal=this.modals.open(i.default,{theme:e}).finally((()=>{this.confirmDeleteModal=null}))}},d=f(c.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(c.prototype,"themeManagement",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(c.prototype,"utils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(c.prototype,"downloadTheme",[o],Object.getOwnPropertyDescriptor(c.prototype,"downloadTheme"),c.prototype),f(c.prototype,"activateTheme",[l],Object.getOwnPropertyDescriptor(c.prototype,"activateTheme"),c.prototype),f(c.prototype,"deleteTheme",[u],Object.getOwnPropertyDescriptor(c.prototype,"deleteTheme"),c.prototype),c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-tier-card",["exports","@glimmer/component","ghost-admin/utils/currency","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"b3/IiK1K",block:'{"symbols":["benefit","@tier","@onUnarchive","@onArchive"],"statements":[[10,"div"],[14,0,"gh-main-content-card gh-tier-card"],[15,"data-test-tier-card",[32,2,["slug"]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-tier-card-block title-block"],[12],[2,"\\n        "],[10,"h3"],[14,0,"gh-tier-card-name"],[14,"data-test-name",""],[12],[2,"\\n            "],[1,[32,2,["name"]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-tier-card-description"],[14,"data-test-description",""],[12],[2,"\\n"],[6,[37,3],[[32,2,["description","length"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,2,["description"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            No description added for this tier.\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-tier-card-block benefits-block"],[14,"data-test-benefits",""],[12],[2,"\\n        "],[10,"h4"],[12],[2,"Benefits "],[10,"span"],[14,0,"counter"],[12],[2,"("],[1,[30,[36,8],[[32,2,["benefits","length"]],"0"],null]],[2,")"],[13],[13],[2,"\\n"],[6,[37,3],[[32,2,["benefits","length"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"ul"],[14,0,"benefits"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,2,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[1,[30,[36,2],["check"],null]],[2," "],[1,[32,1,["name"]]],[2," "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"p"],[14,0,"gh-tier-card-description"],[12],[2,"No benefits added for this tier."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"free"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-tier-card-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-tier-price-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-tier-card-price"],[14,"data-test-free-price",""],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                        "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["tierCurrency"]]],null]],[13],[2,"\\n                        "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"paid"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-tier-card-block price-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-tier-price-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-tier-price-cards"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-tier-card-price"],[14,"data-test-monthly-price",""],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                            "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["tierCurrency"]]],null]],[13],[2,"\\n                            "],[10,"span"],[14,0,"amount"],[14,"data-test-amount-monthly-price",""],[12],[1,[30,[36,5],[[32,2,["monthlyPrice"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"period"],[12],[2,"Monthly"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-tier-card-price"],[14,"data-test-yearly-price",""],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                            "],[10,"span"],[14,0,"currency"],[12],[1,[30,[36,4],[[32,0,["tierCurrency"]]],null]],[13],[2,"\\n                            "],[10,"span"],[14,0,"amount"],[14,"data-test-amount-yearly-price",""],[12],[1,[30,[36,5],[[32,2,["yearlyPrice"]]],null]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"period"],[12],[2,"Yearly"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,3],[[32,0,["isFreeTrialEnabled"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-tier-free-trial-label"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-tier-free-trial-days"],[12],[1,[32,0,["tierTrialDays"]]],[2," day"],[13],[2," free trial\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,9],[[32,2,["type"]],"paid"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-tier-card-button-container"],[12],[2,"\\n        "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n            "],[8,"gh-dropdown-button",[[24,"data-test-button","tiers-actions"]],[["@dropdownName","@classNames","@title"],[[31,["tiers-actions-menu-",[32,2,["name"]]]],"gh-btn gh-btn-action-icon gh-btn-icon fill gh-btn-outline gh-tier-card-actions-button icon-only","Tiers Actions"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[2,"\\n                    "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],[[31,["tiers-actions-menu-",[32,2,["name"]]]],"ul","gh-tier-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"li"],[12],[2,"\\n                        "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","edit-tier"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["openEditTier"]],[32,2]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Edit"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,3],[[32,0,["showArchiveOption"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[12],[2,"\\n                            "],[8,"settings/members/archive-tier",[],[["@tier","@onUnarchive","@onArchive"],[[32,2],[32,3],[32,4]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"gh-tier-card-button-container"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline gh-tier-card-edit-button icon-only"],[24,"data-test-button","edit-tier"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["openEditTier"]],[32,2]],null]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"\\n                "],[1,[30,[36,2],["pen"],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","if","currency-symbol","gh-price-amount","-track-array","each","or","eq"]}',moduleName:"ghost-admin/components/gh-tier-card.hbs"})
var w=Ember._setComponentTemplate(y,(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),f(this,"membersUtils",d,this),f(this,"ghostPaths",p,this),f(this,"ajax",m,this),f(this,"store",h,this),f(this,"config",b,this),f(this,"showTierModal",g,this)}get tier(){return this.args.tier}get showArchiveOption(){return"paid"===this.tier.type&&!!this.tier.monthlyPrice}get tierCurrency(){if(this.isFreeTier){const e=this.args.tiers.find((e=>"paid"===e.type))
return e?.currency||"usd"}return this.tier?.currency}get isPaidTier(){return"paid"===this.tier.type}get hasCurrencySymbol(){const e=(0,i.getSymbol)(this.tier?.monthlyPrice?.currency)
return 3!==e?.length}get isFreeTier(){return"free"===this.tier.type}get isFreeTrialEnabled(){return this.tier.trialDays>0}get tierTrialDays(){return this.tier.trialDays}async openEditTier(e){this.args.openEditTier(e)}},d=v(c.prototype,"membersUtils",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(c.prototype,"showTierModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(c.prototype,"openEditTier",[u],Object.getOwnPropertyDescriptor(c.prototype,"openEditTier"),c.prototype),c))
e.default=w})),define("ghost-admin/components/gh-tiers-price-billingperiod",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"PTt/jv4B",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@value","@disabled","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@includeBlank","@promptIsSelectable","@prompt","@update"],[[32,0,["value"]],[32,0,["disabled"]],[32,0,["availablePeriods"]],"period","label","period",false,false,"Select a billing period",[30,[36,0],[[32,0],"updatePeriod"],null]]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-tiers-price-billingperiod.hbs"}),m=[{label:"Monthly",period:"month"},{label:"Yearly",period:"year"}]
let h=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),c(this,"feature",o,this),c(this,"session",l,this),c(this,"settings",u,this),this.availablePeriods=m}get value(){const{value:e}=this.args
return e}get disabled(){const{disabled:e}=this.args
return e||!1}updatePeriod(e){this.args.updatePeriod&&this.args.updatePeriod(this.args.value,e)}},o=d(s.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"updatePeriod",[a],Object.getOwnPropertyDescriptor(s.prototype,"updatePeriod"),s.prototype),s)
e.default=h,Ember._setComponentTemplate(p,h)})),define("ghost-admin/components/gh-timezone-select",["exports","moment-timezone","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"aoQ098/g",block:'{"symbols":[],"statements":[[10,"span"],[14,0,"gh-select"],[15,"data-select-text",[31,[[32,0,["selectedTimezone","label"]]]]],[14,"tabindex","0"],[12],[2,"\\n    "],[8,"one-way-select",[],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["timezone","general[timezone]",[32,0,["selectableTimezones"]],"name","label",[32,0,["selectedTimezone"]],[30,[36,0],[[32,0],"setTimezone"],null]]],null],[2,"\\n    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n"],[13],[2,"\\n"],[6,[37,2],[[32,0,["hasTimezoneOverride"]]],null,[["default"],[{"statements":[[2,"    "],[10,"p"],[12],[2,"Your timezone has been automatically set to "],[1,[32,0,["timezone"]]],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[10,"p"],[12],[2,"The local time here is currently "],[1,[32,0,["localTime"]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/gh-timezone-select.hbs"})
let y=(n=(0,i.classNames)("form-group","for-select"),r=Ember.inject.service,a=Ember.computed.mapBy("availableTimezones","name"),s=Ember.computed("timezone","availableTimezoneNames"),o=Ember.computed("timezone","availableTimezones","hasTimezoneOverride"),l=Ember.computed("availableTimezones","hasTimezoneOverride"),u=Ember.computed("hasTimezoneOverride","timezone","selectedTimezone","clock.second"),c=Ember._action,n((p=class extends Ember.Component{constructor(...e){super(...e),b(this,"clock",m,this),g(this,"timezone",null),g(this,"availableTimezones",null),g(this,"update",(()=>{})),b(this,"availableTimezoneNames",h,this)}get hasTimezoneOverride(){let e=this.timezone
return!this.availableTimezoneNames.includes(e)}get selectedTimezone(){let e=this.hasTimezoneOverride,t=this.timezone,i=this.availableTimezones
return e?{name:"",label:""}:i.filterBy("name",t).get("firstObject")}get selectableTimezones(){let e=this.hasTimezoneOverride,t=this.availableTimezones
return e?[{name:"",label:""},...t]:t}get localTime(){let e=this.hasTimezoneOverride?this.timezone:this.get("selectedTimezone.name")
return this.get("clock.second"),e?(0,t.default)().tz(e).format("HH:mm:ss"):(0,t.default)().utc().format("HH:mm:ss")}setTimezone(e){this.update(e)}},m=f(p.prototype,"clock",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(p.prototype,"availableTimezoneNames",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(p.prototype,"hasTimezoneOverride",[s],Object.getOwnPropertyDescriptor(p.prototype,"hasTimezoneOverride"),p.prototype),f(p.prototype,"selectedTimezone",[o],Object.getOwnPropertyDescriptor(p.prototype,"selectedTimezone"),p.prototype),f(p.prototype,"selectableTimezones",[l],Object.getOwnPropertyDescriptor(p.prototype,"selectableTimezones"),p.prototype),f(p.prototype,"localTime",[u],Object.getOwnPropertyDescriptor(p.prototype,"localTime"),p.prototype),f(p.prototype,"setTimezone",[c],Object.getOwnPropertyDescriptor(p.prototype,"setTimezone"),p.prototype),d=p))||d)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/gh-token-input",["exports","ghost-admin/utils/shortcuts","@glimmer/component","ember-power-select/utils/group-utils","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d
function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"bC3+Wnu2",block:'{"symbols":["option","@labelField","&default","@class","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matchTriggerWidth","@noMatchesMessage","@onClose","@onInput","@onOpen","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],"statements":[[8,"gh-token-input/select-multiple",[[16,0,[30,[36,3],["gh-token-input ",[32,4]],null]],[24,"data-test-token-input","true"]],[["@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],[[32,5],[32,6],[32,7],[32,8],[32,9],[32,10],[32,11],[32,12],[32,13],[32,14],[30,[36,0],[[32,15],false],null],[32,0,["defaultHighlighted"]],[32,16],[32,17],[32,18],[32,19],[30,[36,0],[[32,20],"power-select/power-select-group"],null],[32,21],[32,22],[32,23],[32,0,["matcher"]],[32,24],[32,25],[32,0,["handleBlur"]],[32,0,["selectOrCreate"]],[32,26],[32,0,["handleFocus"]],[32,27],[32,0,["handleKeydown"]],[32,28],[32,0,["optionsWithoutSelected"]],[30,[36,0],[[32,29],[30,[36,4],["power-select-vertical-collection-options"],null]],null],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,36],[32,0,["searchAndSuggest"]],true,[32,0,["searchField"]],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[30,[36,0],[[32,44],"gh-token-input/trigger"],null],[32,45],[32,46],[32,47]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,1,["__isSuggestion__"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"gh-token-input/suggested-option",[],[["@option"],[[32,1]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[27,[32,3]]],null,[["default","else"],[{"statements":[[2,"            "],[18,3,[[32,1]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[1,[30,[36,1],[[32,1],[30,[36,0],[[32,2],"name"],null]],null]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]]],"hasEval":false,"upvars":["or","get","if","concat","component"]}',moduleName:"ghost-admin/components/gh-token-input.hbs"}),{Handlebars:h}=Ember
let b=(a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=class extends i.default{get matcher(){return this.args.matcher||n.defaultMatcher}get searchField(){return void 0===this.args.searchField?"name":this.args.searchField}get optionsWithoutSelected(){let e=this.args.options,t=this.args.selected,i=[]
return function e(i,n){i.forEach((i=>{if(i.options){const t=[]
return e(i.options,t),void(t.length>0&&n.push({groupName:i.groupName,options:t}))}t.includes(i)||n.push(i)}))}(e,i),i}handleKeydown(e,i){if(8===i.keyCode&&Ember.isBlank(i.target.value)){return e.selected[e.selected.length-1]&&(this.args.onChange(e.selected.slice(0,-1),e),e.actions.search(""),e.actions.open(i)),!1}if(9===i.keyCode&&!Ember.isBlank(i.target.value)&&e.highlighted&&(!e.selected||-1===e.selected.indexOf(e.highlighted)))return e.actions.choose(e.highlighted,i),i.preventDefault(),!1
if((i.ctrlKey||i.metaKey)&&t.includes(i)){const e=new KeyboardEvent(i.type,i)
return document.getElementsByClassName("gh-app")[0].dispatchEvent(e),i.preventDefault(),!1}return!0}handleFocus(){key.setScope("gh-token-input"),this.args.onFocus?.(...arguments)}handleBlur(){key.setScope("default"),this.args.onBlur?.(...arguments)}searchAndSuggest(e,t){return this.searchAndSuggestTask.perform(e,t)}selectOrCreate(e,t,i){if(i&&"Space"===i.code)return void t.actions.search(`${t.searchText} `)
if(!Ember.isArray(e))return
let n=e.find((e=>e.__isSuggestion__))
n?this.args.onCreate(n.__value__,t):this.args.onChange(e,t),t.actions.search("")}*searchAndSuggestTask(e,t){let i=this.optionsWithoutSelected.toArray()
if(0===e.length)return i
let n=this.args.search
if(n){let i=yield n(e,t)
return i.toArray&&(i=i.toArray()),this._addCreateOption(e,i),i}return i=this._filter(Ember.A(i),e),this._addCreateOption(e,i),i}defaultHighlighted(e){let{results:t}=e,i=(0,n.advanceSelectableOption)(t,void 0,1)
return t.length>1&&i.__isSuggestion__&&(i=(0,n.advanceSelectableOption)(t,i,1)),i}_addCreateOption(e,t){this._shouldShowCreateOption(e,t)&&t.unshift(this._buildSuggestionForTerm(e))}_shouldShowCreateOption(e,t){return!1!==this.args.allowCreation&&(this.args.showCreateWhen?this.args.showCreateWhen(e,t):this._hideCreateOptionOnSameTerm(e,t))}_buildSuggestionForTerm(e){return{__isSuggestion__:!0,__value__:e,text:this._buildSuggestionLabel(e)}}_hideCreateOptionOnSameTerm(e,t){return!t.findBy(this.searchField,e)}_filter(e,t){let i
return i=this.searchField?(e,t)=>this.matcher(Ember.get(e,this.searchField),t):(e,t)=>this.matcher(e,t),(0,n.filterOptions)(e||[],t,i)}_buildSuggestionLabel(e){return this.args.buildSuggestion?this.args.buildSuggestion(e):Ember.String.htmlSafe(`Add <strong>"${h.Utils.escapeExpression(e)}"...</strong>`)}},p(d.prototype,"handleKeydown",[a],Object.getOwnPropertyDescriptor(d.prototype,"handleKeydown"),d.prototype),p(d.prototype,"handleFocus",[s],Object.getOwnPropertyDescriptor(d.prototype,"handleFocus"),d.prototype),p(d.prototype,"handleBlur",[o],Object.getOwnPropertyDescriptor(d.prototype,"handleBlur"),d.prototype),p(d.prototype,"searchAndSuggest",[l],Object.getOwnPropertyDescriptor(d.prototype,"searchAndSuggest"),d.prototype),p(d.prototype,"selectOrCreate",[u],Object.getOwnPropertyDescriptor(d.prototype,"selectOrCreate"),d.prototype),p(d.prototype,"searchAndSuggestTask",[r.task],Object.getOwnPropertyDescriptor(d.prototype,"searchAndSuggestTask"),d.prototype),p(d.prototype,"defaultHighlighted",[c],Object.getOwnPropertyDescriptor(d.prototype,"defaultHighlighted"),d.prototype),d)
e.default=b,Ember._setComponentTemplate(m,b)})),define("ghost-admin/components/gh-token-input/label-selected-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"SeJHf5Yg",block:'{"symbols":["@option"],"statements":[[1,[32,1,["name"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/label-selected-item.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-token-input/label-token",["exports","ember-drag-drop/components/draggable-object","@ember-decorators/component"],(function(e,t,i){var n
function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"EBbGHkmI",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/label-token.hbs"})
let s=(0,i.attributeBindings)("title")(n=(0,i.classNames)("label-token")(n=class extends t.default{constructor(...e){super(...e),r(this,"title","Label")}})||n)||n
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/gh-token-input/select-multiple",["exports","jquery","ember-power-select/components/power-select-multiple","@ember-decorators/component"],(function(e,t,i,n){var r,a,s,o,l,u
function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"SXwSrmf3",block:'{"symbols":["option","select","@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onInput","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@tabindex","@triggerComponent","@triggerId","@verticalPosition","&attrs","&default"],"statements":[[8,"power-select",[[17,53]],[["@triggerRole","@ariaDescribedBy","@ariaInvalid","@ariaLabel","@ariaLabelledBy","@afterOptionsComponent","@allowClear","@beforeOptionsComponent","@buildSelection","@calculatePosition","@closeOnSelect","@defaultHighlighted","@destination","@disabled","@dropdownClass","@extra","@groupComponent","@horizontalPosition","@initiallyOpened","@loadingMessage","@matcher","@matchTriggerWidth","@noMatchesMessage","@onBlur","@onChange","@onClose","@onFocus","@onInput","@onKeydown","@onOpen","@options","@optionsComponent","@placeholder","@placeholderComponent","@preventScroll","@registerAPI","@renderInPlace","@required","@scrollTo","@search","@searchEnabled","@searchField","@searchMessage","@searchPlaceholder","@selected","@selectedItemComponent","@eventType","@title","@triggerClass","@triggerComponent","@triggerId","@verticalPosition","@tabindex"],[[32,3],[32,4],[32,5],[32,6],[32,7],[32,8],[32,9],[30,[36,0],[[32,10],null],null],[30,[36,0],[[32,11],[32,0,["defaultBuildSelection"]]],null],[32,12],[32,13],[32,14],[32,15],[32,16],[32,17],[30,[36,2],[[32,18],[30,[36,1],null,[["optionMouseDown","optionTouchStart"],[[32,0,["optionMouseDown"]],[32,0,["optionTouchStart"]]]]]],null],[32,19],[32,20],[32,21],[32,22],[32,23],[32,24],[32,25],[32,26],[32,27],[32,28],[32,0,["handleFocus"]],[32,29],[32,0,["handleKeydown"]],[32,0,["handleOpen"]],[32,30],[32,31],[32,32],[32,33],[32,34],[32,35],[32,36],[32,37],[32,38],[32,39],[32,40],[32,41],[32,42],[32,43],[32,44],[32,45],[32,46],[32,47],[31,["ember-power-select-multiple-trigger ",[32,48]]],[30,[36,3],[[30,[36,0],[[32,50],"power-select-multiple/trigger"],null]],[["tabindex"],[[32,49]]]],[32,51],[32,52],[32,0,["computedTabIndex"]]]],[["default"],[{"statements":[[2,"\\n    "],[18,54,[[32,1],[32,2]]],[2,"\\n"]],"parameters":[1,2]}]]]],"hasEval":false,"upvars":["or","hash","assign","component"]}',moduleName:"ghost-admin/components/gh-token-input/select-multiple.hbs"}),m="click.ghToken mouseup.ghToken touchend.ghToken"
let h=(r=(0,n.tagName)("div"),a=Ember._action,s=Ember._action,o=Ember._action,r((u=class extends i.default{constructor(...e){super(...e),c(this,"_canFocus",!0)}willDestroyElement(){super.willDestroyElement(...arguments),this._allowFocusListener&&(0,t.default)(window).off(m,this._allowFocusListener)}optionMouseDown(e){1!==e.which||e.ctrlKey||this._denyFocus(e)}optionTouchStart(e){this._denyFocus(e)}handleFocus(){this._canFocus&&super.handleFocus(...arguments)}_denyFocus(){this._canFocus&&(this._canFocus=!1,this._allowFocusListener=Ember.run.bind(this,this._allowFocus),(0,t.default)(window).on(m,this._allowFocusListener))}_allowFocus(){this._canFocus=!0,(0,t.default)(window).off(m,this._allowFocusListener),this._allowFocusListener=null}},d(u.prototype,"optionMouseDown",[a],Object.getOwnPropertyDescriptor(u.prototype,"optionMouseDown"),u.prototype),d(u.prototype,"optionTouchStart",[s],Object.getOwnPropertyDescriptor(u.prototype,"optionTouchStart"),u.prototype),d(u.prototype,"handleFocus",[o],Object.getOwnPropertyDescriptor(u.prototype,"handleFocus"),u.prototype),l=u))||l)
var b=Ember._setComponentTemplate(p,h)
e.default=b})),define("ghost-admin/components/gh-token-input/suggested-option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"CbOdsNhW",block:'{"symbols":["@option"],"statements":[[1,[32,1,["text"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/suggested-option.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/gh-token-input/tag-token",["exports","ember-drag-drop/components/draggable-object","@ember-decorators/component"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"7t6Vxwo6",block:'{"symbols":["&default"],"statements":[[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-token-input/tag-token.hbs"})
let h=(n=(0,i.attributeBindings)("title"),r=(0,i.classNames)("tag-token"),a=(0,i.classNameBindings)("internal:tag-token--internal"),s=Ember.computed.readOnly("content.isInternal"),o=Ember.computed("idx","internal"),l=Ember.computed("internal"),n(u=r(u=a((c=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="internal",r=this,(n=d)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get primary(){return!this.internal&&0===this.idx}get title(){return this.internal?"Internal tag":""}},d=p(c.prototype,"internal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(c.prototype,"primary",[o],Object.getOwnPropertyDescriptor(c.prototype,"primary"),c.prototype),p(c.prototype,"title",[l],Object.getOwnPropertyDescriptor(c.prototype,"title"),c.prototype),u=c))||u)||u)||u)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/gh-token-input/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"alOK7aci",block:'{"symbols":["opt","idx","@select","@listboxId","@tabindex","@onFocus","@onBlur","@placeholder","@searchEnabled","&default","@selectedItemComponent","@extra"],"statements":[[8,"sortable-objects",[],[["@tagName","@id","@class","@sortableObjectList","@enableSort","@useSwap","@sortEndAction"],["ul",[30,[36,9],["ember-power-select-multiple-options-",[32,3,["uniqueId"]]],null],"ember-power-select-multiple-options",[32,3,["selected"]],true,false,[30,[36,11],[[32,0],"reorderItems"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,3,["selected"]]],null]],null]],null,[["default","else"],[{"statements":[[6,[37,7],[[30,[36,10],[[32,12,["tokenComponent"]],"draggable-object"],null]],[["tagName","class","select","content","idx","isSortable","mouseDown","touchStart"],["li",[30,[36,9],["ember-power-select-multiple-option",[30,[36,4],[[32,1,["class"]],[30,[36,9],[" token-",[32,1,["class"]]],null]],null]],null],[32,3],[30,[36,6],[[32,1]],null],[32,2],true,[32,0,["handleOptionMouseDown"]],[32,0,["handleOptionTouchStart"]]]],[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"ember-power-select-multiple-inner-text"],[14,"data-test-selected-token",""],[12],[2,"\\n"],[6,[37,4],[[32,11]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,7],[[32,11]],[["option","select"],[[30,[36,6],[[32,1]],null],[30,[36,6],[[32,3]],null]]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[18,10,[[32,1],[32,3]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"],[6,[37,8],[[32,3,["disabled"]]],null,[["default"],[{"statements":[[2,"                "],[11,"span"],[24,"role","button"],[24,"aria-label","remove element"],[24,0,"ember-power-select-multiple-remove-btn"],[16,"data-selected-index",[32,2]],[4,[38,0],["mousedown",[32,0,["handleOptionMouseDown"]]],null],[12],[2,"\\n                    "],[1,[30,[36,5],["close"],[["data-selected-index"],[[32,2]]]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1,2]},{"statements":[[6,[37,4],[[30,[36,3],[[32,8],[30,[36,2],[[32,9]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"ember-power-select-placeholder"],[12],[1,[32,8]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,9]],null,[["default"],[{"statements":[[2,"        "],[11,"input"],[24,0,"ember-power-select-trigger-multiple-input"],[24,"autocomplete","off"],[24,"autocorrect","off"],[24,"autocapitalize","off"],[24,"spellcheck","false"],[16,1,[31,["ember-power-select-trigger-multiple-input-",[32,3,["uniqueId"]]]]],[16,2,[32,3,["searchText"]]],[16,"aria-controls",[32,4]],[16,5,[32,0,["triggerMultipleInputStyle"]]],[16,"placeholder",[32,0,["maybePlaceholder"]]],[16,"disabled",[32,3,["disabled"]]],[16,"tabindex",[32,5]],[24,4,"search"],[4,[38,0],["focus",[32,6]],null],[4,[38,0],["blur",[32,7]],null],[4,[38,0],["input",[32,0,["handleInput"]]],null],[4,[38,0],["keydown",[32,0,["handleKeydown"]]],null],[4,[38,1],[[32,0,["storeInputStyles"]]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[10,"span"],[14,0,"ember-power-select-status-icon"],[12],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","did-insert","not","and","if","svg-jar","readonly","component","unless","concat","or","action","-track-array","each"]}',moduleName:"ghost-admin/components/gh-token-input/trigger.hbs"})
let u=(i=Ember._action,n=Ember._action,r=Ember._action,a=Ember._action,o((s=class extends t.default{handleOptionMouseDown(e){if(e.stopPropagation(),this.args.select.actions.close(),!e.target.closest("[data-selected-index]")){let t=this.args.extra.optionMouseDown
if(t)return t(e)}return this.chooseOption(e)}handleOptionTouchStart(e){let t=this.args.extra.optionTouchStart
if(t)return t(e)}reorderItems(){let e=this.args.select.selected.slice()
this.args.select.actions.select(e)}handleKeydown(e){if(this.args.onKeydown&&!1===this.args.onKeydown(e))return e.stopPropagation(),!1
if(8===e.keyCode&&(e.stopPropagation(),Ember.isBlank(e.target.value))){let t=this.args.select.selected[this.args.select.selected.length-1]
if(t){if(this.args.select.actions.select(this.args.buildSelection(t,this.args.select),e),"string"==typeof t)this.args.select.actions.search(t)
else{let e=this.searchField
this.args.select.actions.search(Ember.get(t,e))}this.args.select.actions.open(e)}}}}).prototype,"handleOptionMouseDown",[i],Object.getOwnPropertyDescriptor(s.prototype,"handleOptionMouseDown"),s.prototype),o(s.prototype,"handleOptionTouchStart",[n],Object.getOwnPropertyDescriptor(s.prototype,"handleOptionTouchStart"),s.prototype),o(s.prototype,"reorderItems",[r],Object.getOwnPropertyDescriptor(s.prototype,"reorderItems"),s.prototype),o(s.prototype,"handleKeydown",[a],Object.getOwnPropertyDescriptor(s.prototype,"handleKeydown"),s.prototype),s)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-trim-focus-input",["exports","ghost-admin/components/gh-text-input"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"shouldFocus",!0)}focusOut(e){this._trimInput(e.target.value,e),super.focusOut(...arguments)}_trimInput(e,t){e&&"function"==typeof e.trim&&(e=e.trim()),this.element.value=e,this._elementValueDidChange(t)
let i=this.input
i&&i(t)}}var r=n
e.default=r})),define("ghost-admin/components/gh-twitter-url-input",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"tKFmrWhk",block:'{"symbols":["&attrs"],"statements":[[11,"input"],[24,0,"gh-input"],[24,"placeholder","https://twitter.com/username"],[16,2,[32,0,["value"]]],[24,"data-test-twitter-input",""],[17,1],[24,4,"url"],[4,[38,0],["input",[32,0,["setScratchValue"]]],null],[4,[38,0],["blur",[32,0,["setTwitterUrl"]]],null],[12],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/gh-twitter-url-input.hbs"})
let o=(i=Ember._action,n=Ember._action,a((r=class extends t.default{get value(){const{model:e,modelProperty:t,scratchValue:i}=this.args
return i||e[t]}setScratchValue(e){this.args.setScratchValue?.(e.target.value)}setTwitterUrl(e){const{model:t,modelProperty:i}=this.args,n=e.target.value
if(t.errors.remove(i),t.hasValidated.removeObject(i),!n)return t[i]="",void this.args.setScratchValue?.(null)
if(!n.match(/(?:twitter\.com\/)(\S+)/)&&!n.match(/([a-z\d.]+)/i)){const e="The URL must be in a format like https://twitter.com/yourUsername"
return t.errors.add(i,e),void t.hasValidated.pushObject(i)}{let e=[]
if(n.match(/(?:twitter\.com\/)(\S+)/)?[,e]=n.match(/(?:twitter\.com\/)(\S+)/):[e]=n.match(/([^/]+)\/?$/im),e.match(/^(http|www)|(\/)/)||!e.match(/^[a-z\d._]{1,15}$/im)){const n=e.match(/^[a-z\d._]{1,15}$/im)?"The URL must be in a format like https://twitter.com/yourUsername":"Your Username is not a valid Twitter Username"
return t.errors.add(i,n),void t.hasValidated.pushObject(i)}t[i]=`https://twitter.com/${e}`,this.args.setScratchValue?.(null),t.hasValidated.pushObject(i)}}}).prototype,"setScratchValue",[i],Object.getOwnPropertyDescriptor(r.prototype,"setScratchValue"),r.prototype),a(r.prototype,"setTwitterUrl",[n],Object.getOwnPropertyDescriptor(r.prototype,"setTwitterUrl"),r.prototype),r)
e.default=o,Ember._setComponentTemplate(s,o)})),define("ghost-admin/components/gh-unsplash-photo",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"hufz/dlN",block:'{"symbols":["@photo","@zoomed"],"statements":[[11,"a"],[24,0,"gh-unsplash-photo"],[24,6,"#"],[16,5,[32,0,["style"]]],[16,"data-test-unsplash-photo",[32,1,["id"]]],[4,[38,0],["click",[32,0,["zoom"]]],null],[4,[38,1],null,[["zoomed","ratio"],[[32,2],[32,1,["ratio"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-unsplash-photo-container"],[15,5,[32,0,["containerStyle"]]],[14,"data-test-unsplash-photo-container",""],[12],[2,"\\n        "],[10,"img"],[15,"src",[32,0,["imageUrl"]]],[15,"alt",[32,1,["description"]]],[15,"width",[32,0,["width"]]],[15,"height",[32,0,["height"]]],[14,"data-test-unsplash-photo-image",""],[12],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-unsplash-photo-overlay"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-unsplash-photo-header"],[12],[2,"\\n                "],[10,"a"],[14,0,"gh-unsplash-button-likes gh-unsplash-button"],[15,6,[31,[[32,1,["links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,2],["unsplash-heart"],null]],[1,[32,1,["likes"]]],[13],[2,"\\n                "],[10,"a"],[14,0,"gh-unsplash-button-download gh-unsplash-button"],[15,6,[31,[[32,1,["links","download"]],"/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit&force=true"]]],[12],[1,[30,[36,2],["download"],null]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-unsplash-photo-footer"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-unsplash-photo-author"],[12],[2,"\\n                    "],[10,"a"],[14,0,"gh-unsplash-photo-author-img"],[15,6,[31,[[32,1,["user","links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[10,"img"],[15,"src",[31,[[32,1,["user","profile_image","medium"]]]]],[15,"alt",[32,1,["alt_description"]]],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"a"],[14,0,"gh-unsplash-photo-author-name"],[15,6,[31,[[32,1,["user","links","html"]],"?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[1,[32,1,["user","name"]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"a"],[24,0,"gh-unsplash-button"],[24,6,"#"],[4,[38,0],["click",[32,0,["select"]]],null],[12],[2,"Insert image"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","ratio-zoom","svg-jar"]}',moduleName:"ghost-admin/components/gh-unsplash-photo.hbs"})
let p=(i=Ember._tracked,n=Ember._tracked,r=Ember._action,a=Ember._action,s=class extends t.default{get style(){return Ember.String.htmlSafe(this.args.zoomed?"width: auto; margin: 0;":"")}get containerStyle(){const e=[],t=this.args.photo.ratio,i=this.args.zoomed
return e.push(`background-color: ${this.args.photo.color}`),i?e.push("cursor: zoom-out"):e.push(`padding-bottom: ${100*t}%`),Ember.String.htmlSafe(e.join("; "))}get imageUrl(){let e=this.args.photo.urls.regular
return e=e.replace("&w=1080","&w=1200"),e}constructor(){super(...arguments),u(this,"height",o,this),u(this,"width",l,this),this.height=this.width*this.args.photo.ratio}select(e){e.preventDefault(),e.stopPropagation(),this.args.select(this.args.photo)}zoom(e){const{target:t}=e
!t.matches("a")&&t.closest("a").classList.contains("gh-unsplash-photo")&&(e.preventDefault(),this.args.zoom(this.args.photo)),e.stopPropagation()}},o=c(s.prototype,"height",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),l=c(s.prototype,"width",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1200}}),c(s.prototype,"select",[r],Object.getOwnPropertyDescriptor(s.prototype,"select"),s.prototype),c(s.prototype,"zoom",[a],Object.getOwnPropertyDescriptor(s.prototype,"zoom"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/gh-unsplash",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y
function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"R5fzkSAC",block:'{"symbols":["photos","photo","@close"],"statements":[[6,[37,12],[[30,[36,11],["#unsplash-selector-wormhole"],null]],[["guid","insertBefore"],["%cursor:0%",[29]]],[["default"],[{"statements":[[2,"    "],[11,"div"],[24,0,"fullscreen-modal-background"],[24,"role","button"],[24,5,"z-index: 999"],[4,[38,0],["click",[32,3]],null],[12],[13],[2,"\\n    "],[11,"div"],[24,0,"absolute top-8 right-8 bottom-8 left-8 br4 overflow-hidden bg-white z-9999"],[4,[38,6],[[32,0,["handleResize"]]],null],[4,[38,7],["Escape",[32,0,["handleEscape"]]],null],[12],[2,"\\n"],[2,"        "],[11,"button"],[24,0,"absolute top-6 right-6"],[24,4,"button"],[4,[38,0],["click",[32,3]],null],[12],[2,"\\n            "],[1,[30,[36,8],["close"],[["class"],["w4 stroke-midlightgrey-l2"]]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n"],[2,"            "],[10,"header"],[14,0,"flex-shrink-0 flex flex-row-l flex-column justify-between pt6 pr8 pb6 pl8 pt10-l pr20-l pb10-l pl20-l items-center"],[12],[2,"\\n                "],[10,"h1"],[14,0,"flex items-center darkgrey-d2 w-100 nudge-top--4"],[12],[2,"\\n                    "],[10,"a"],[14,0,"dib w8 mr2"],[14,6,"https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,8],["unsplash"],[["class"],["fill-darkgrey-d2"]]]],[13],[2,"\\n                    Unsplash\\n                "],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon mw88-l flex-auto w-100 mt3 mt0-l"],[12],[2,"\\n                    "],[1,[30,[36,8],["search"],null]],[2,"\\n                    "],[11,"input"],[24,0,"gh-unsplash-search"],[24,3,"searchKeyword"],[24,"placeholder","Search free high-resolution photos"],[24,"tabindex","0"],[24,"autocorrect","off"],[16,2,[30,[36,9],[[32,0,["unsplash","searchTerm"]]],null]],[24,"aria-label","Search Unsplash photos"],[24,4,"text"],[4,[38,0],["input",[32,0,["search"]]],null],[4,[38,7],["Escape",[32,0,["clearSearch"]]],null],[4,[38,10],null,null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[2,"            "],[10,"div"],[14,0,"relative h-100 overflow-hidden"],[12],[2,"\\n"],[2,"                "],[10,"div"],[14,0,"overflow-auto h-100 w-100 pr8 pl8 pr20-l pl20-l"],[12],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","photos"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-grid"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["unsplash","columns"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-unsplash-grid-column"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[8,"gh-unsplash-photo",[],[["@photo","@zoom","@select"],[[32,2],[32,0,["zoomPhoto"]],[32,0,["select"]]]],null],[2,"\\n"]],"parameters":[2]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["unsplash","searchTerm"]],[30,[36,1],[[32,0,["unsplash","error"]],[32,0,["unsplash","isLoading"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-error h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"img"],[14,0,"gh-unsplash-error-404"],[14,"src","assets/img/unsplash-404-71ab3705c9920a9706bb822c3d7e34d1.png"],[14,"alt","No photos found"],[12],[13],[2,"\\n                                "],[10,"h4"],[12],[2,"No photos found for \'"],[1,[32,0,["unsplash","searchTerm"]]],[2,"\'"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","error"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"section"],[14,0,"gh-unsplash-error h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[10,"img"],[14,0,"gh-unsplash-error-404"],[14,"src","assets/img/unsplash-404-71ab3705c9920a9706bb822c3d7e34d1.png"],[14,"alt","Network error"],[12],[13],[2,"\\n                                "],[10,"h4"],[12],[1,[32,0,["unsplash","error"]]],[2," ("],[11,"a"],[24,6,"#"],[4,[38,0],["click",[32,0,["retry"]]],null],[12],[2,"retry"],[13],[2,")"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["unsplash","isLoading"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-unsplash-loading h-100 flex items-center justify-center pb30"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-scroll-trigger",[],[["@enter","@triggerOffset"],[[32,0,["loadNextPage"]],1000]],null],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["zoomedPhoto"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"a"],[24,6,"#"],[24,0,"absolute flex justify-center top-0 right-0 bottom-0 left-0 pr20 pb10 pl20 bg-white overflow-hidden"],[4,[38,0],["click",[32,0,["closeZoom"]]],null],[12],[2,"\\n                        "],[8,"gh-unsplash-photo",[],[["@photo","@zoomed","@zoom","@select"],[[32,0,["zoomedPhoto"]],true,[32,0,["closeZoom"]],[32,0,["select"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","not","and","if","-track-array","each","on-resize","on-key","svg-jar","readonly","autofocus","query-selector","in-element"]}',moduleName:"ghost-admin/components/gh-unsplash.hbs"})
let P=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=class extends t.default{get sideNavHidden(){return this.ui.isFullScreen||this.ui.showMobileMenu}constructor(){super(...arguments),w(this,"unsplash",g,this),w(this,"ui",f,this),w(this,"zoomedPhoto",v,this),w(this,"searchTerm",y,this),key.setScope("unsplash")}willDestroy(){super.willDestroy(...arguments),key.setScope("default")}loadNextPage(){this.unsplash.loadNextPage()}search(e){e.preventDefault()
const t=e.target.value
this.unsplash.updateSearch(t),this.closeZoom()}clearSearch(e,t){e.target.value&&(t.stopPropagation(),this.unsplash.updateSearch(""))}zoomPhoto(e){this.zoomedPhoto=e}closeZoom(e){e?.preventDefault?.(),this.zoomedPhoto=null}select(e){this.unsplash.triggerDownload(e)
let t={src:e.urls.regular.replace(/&w=1080/,"&w=2000"),width:e.width,height:e.height,alt:e.description||"",caption:`Photo by <a href="${e.user.links.html}?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">${e.user.name}</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a>`}
this.args.select(t),this.args.close()}retry(e){e?.preventDefault(),this.unsplash.retryLastRequest()}handleEscape(e){if(e?.preventDefault(),this.zoomedPhoto)return this.closeZoom()
this.args.close()}handleResize(e){let t=e.clientWidth,i=3
t<=540?i=1:t<=940&&(i=2),this.unsplash.changeColumnCount(i)}},g=k(b.prototype,"unsplash",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(b.prototype,"ui",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=k(b.prototype,"zoomedPhoto",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=k(b.prototype,"searchTerm",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k(b.prototype,"loadNextPage",[s],Object.getOwnPropertyDescriptor(b.prototype,"loadNextPage"),b.prototype),k(b.prototype,"search",[o],Object.getOwnPropertyDescriptor(b.prototype,"search"),b.prototype),k(b.prototype,"clearSearch",[l],Object.getOwnPropertyDescriptor(b.prototype,"clearSearch"),b.prototype),k(b.prototype,"zoomPhoto",[u],Object.getOwnPropertyDescriptor(b.prototype,"zoomPhoto"),b.prototype),k(b.prototype,"closeZoom",[c],Object.getOwnPropertyDescriptor(b.prototype,"closeZoom"),b.prototype),k(b.prototype,"select",[d],Object.getOwnPropertyDescriptor(b.prototype,"select"),b.prototype),k(b.prototype,"retry",[p],Object.getOwnPropertyDescriptor(b.prototype,"retry"),b.prototype),k(b.prototype,"handleEscape",[m],Object.getOwnPropertyDescriptor(b.prototype,"handleEscape"),b.prototype),k(b.prototype,"handleResize",[h],Object.getOwnPropertyDescriptor(b.prototype,"handleResize"),b.prototype),b)
e.default=P,Ember._setComponentTemplate(E,P)})),define("ghost-admin/components/gh-uploader",["exports","ghost-admin/utils/ghost-paths","ghost-admin/components/gh-image-uploader","ember-concurrency"],(function(e,t,i,n){function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"hB0rEz8l",block:'{"symbols":["&default"],"statements":[[18,1,[[30,[36,2],null,[["cancel","errors","files","isUploading","progressBar","setFiles","registerFileInput","triggerFileDialog","imageExtensions","imageMimeTypes","iconExtensions","iconMimeTypes"],[[30,[36,0],[[32,0],"cancel"],null],[32,0,["errors"]],[32,0,["files"]],[32,0,["_uploadFiles","isRunning"]],[30,[36,1],["gh-progress-bar"],[["percentage"],[[32,0,["uploadPercentage"]]]]],[30,[36,0],[[32,0],"setFiles"],null],[30,[36,0],[[32,0],"registerFileInput"],null],[30,[36,0],[[32,0],"triggerFileDialog"],null],[32,0,["imageExtensions"]],[32,0,["imageMimeTypes"]],[32,0,["iconExtensions"]],[32,0,["iconMimeTypes"]]]]]]],[2,"\\n"]],"hasEval":false,"upvars":["action","component","hash"]}',moduleName:"ghost-admin/components/gh-uploader.hbs"})
class s extends Ember.Object{constructor(...e){super(...e),r(this,"file",null),r(this,"total",0),r(this,"loaded",0)}init(){super.init(...arguments),this.total=this.file&&this.file.size||0}update({loaded:e,total:t}){this.total=t,this.loaded=e}}var o=Ember._setComponentTemplate(a,Ember.Component.extend({ajax:Ember.inject.service(),tagName:"",accept:"",extensions:"",files:null,paramName:"file",paramsHash:null,resourceName:"images",uploadUrl:null,requestMethod:"post",errors:null,totalSize:0,uploadedSize:0,uploadPercentage:0,uploadUrls:null,_defaultUploadUrl:"/images/upload/",_files:null,_uploadTrackers:null,onCancel(){},onComplete(){},onFailed(){},onStart(){},onUploadStart(){},onUploadFailure(){},onUploadSuccess(){},init(){this._super(...arguments),this.set("errors",[]),this.set("uploadUrls",[]),this._uploadTrackers=[],this.paramsHash||this.set("paramsHash",{purpose:"image"}),this.set("imageExtensions",i.IMAGE_EXTENSIONS),this.set("imageMimeTypes",i.IMAGE_MIME_TYPES),this.set("iconExtensions",i.ICON_EXTENSIONS),this.set("iconMimeTypes",i.ICON_MIME_TYPES)},didReceiveAttrs(){this._super(...arguments),this.uploadUrl||this.set("uploadUrl",this._defaultUploadUrl),this.files?.length&&this._setFiles(this.files)},actions:{registerFileInput(e){this.fileInput=e},triggerFileDialog(){this.fileInput?this.fileInput.click():console.error("When using uploader.triggerFileDialog you must call uploader.registerFileInput first")},setFiles(e,t){this._setFiles(e),t&&(this.fileInput=t())},cancel(){this._reset(),this.onCancel()}},_setFiles(e){this.set("files",e),e&&e!==this._files&&(this.get("_uploadFiles.isRunning")&&console.error("Adding new files whilst an upload is in progress is not supported."),this._files=e,this._validate()&&this._uploadFiles.perform(e))},_validate(){let e=this.files,t=this.validate||this._defaultValidator.bind(this),i=[],n=[]
for(let r=0;r<e.length;r+=1){let a=e[r],s=t(a)
!0===s?i.push(a):n.push({fileName:a.name,message:s})}return!!Ember.isEmpty(n)||(this.set("errors",n),this.onFailed(n),!1)},_defaultValidator(e){let t=this.extensions,[,i]=/(?:\.([^.]+))?$/.exec(e.name)
if(!t)return!0
if(Ember.isArray(t)||(t=t.split(",")),!i||-1===t.indexOf(i.toLowerCase())){return`The file type you uploaded is not supported. Please use ${`.${t.join(", .").toUpperCase()}`}`}return!0},_uploadFiles:(0,n.task)((function*(e){let t=[]
this._reset(),this.onStart(e)
for(let i=0;i<e.length;i+=1){let n=e[i],r=s.create({file:n})
this._uploadTrackers.pushObject(r),t.push(this._uploadFile.perform(r,n,i))}yield(0,n.all)(t),Ember.isEmpty(this.errors)||this.onFailed(this.errors),this.onComplete(this.uploadUrls)})).drop(),_uploadFile:(0,n.task)((function*(e,i,n){let r=this.ajax,a=this._getFormData(i),s=`${(0,t.default)().apiRoot}${this.uploadUrl}`,o=null
try{o=yield Promise.resolve(this.onUploadStart(i))
let t,u,c=yield r[this.requestMethod](s,{data:a,processData:!1,contentType:!1,dataType:"text",xhr:()=>{let t=new window.XMLHttpRequest
return t.upload.addEventListener("progress",(t=>{Ember.run((()=>{e.update(t),this._updateProgress()}))}),!1),t}})
e.update({loaded:i.size,total:i.size}),this._updateProgress()
try{t=JSON.parse(c)}catch(l){if(!(l instanceof SyntaxError))throw l}if(t){let e=Ember.get(t,this.resourceName)
e&&Ember.isArray(e)&&e[0]&&(u=Ember.get(e[0],"url"))}let d={url:u,fileName:i.name}
return this.uploadUrls[n]=d,this.onUploadSuccess(d,o),!0}catch(u){let e=u.payload&&u.payload.errors&&u.payload.errors[0].message||"",t=u.payload&&u.payload.errors&&u.payload.errors[0].context||""
e||(e=u.message)
let n={message:e,context:t,fileName:i.name}
this.errors.pushObject(n),this.onUploadFailure(n,o)}})).maxConcurrency(2).enqueue(),_getFormData(e){let t=new FormData
return t.append(this.paramName,e,e.name),Object.keys(this.paramsHash||{}).forEach((e=>{t.append(e,this.paramsHash[e])})),t},_updateProgress(){if(this.isDestroyed||this.isDestroying)return
let e=this._uploadTrackers,t=e.reduce(((e,t)=>e+t.get("total")),0),i=e.reduce(((e,t)=>e+t.get("loaded")),0)
if(this.set("totalSize",t),this.set("uploadedSize",i),0===t||0===i)return
let n=Math.round(i/t*100)
this.set("uploadPercentage",n)},_reset(){this.set("errors",[]),this.set("totalSize",0),this.set("uploadedSize",0),this.set("uploadPercentage",0),this.set("uploadUrls",[]),this._uploadTrackers=[]}}))
e.default=o})),define("ghost-admin/components/gh-url-input",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"tQMnm42I",block:'{"symbols":["&attrs"],"statements":[[8,"gh-text-input",[[17,1]],[["@value","@type","@input","@focus-out","@placeholder"],[[32,0,["value"]],"text",[32,0,["setValue"]],[32,0,["validateUrlInput"]],[32,0,["placeholder"]]]],null],[2,"\\n\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-url-input.hbs"})
function o(e){return e.replace(/^\//,"")}let l=(i=Ember._action,n=Ember._action,a((r=class extends t.default{constructor(e,t){var i,n
super(e,t),this.baseUrl=(i=t.baseUrl,n="/",i.endsWith(n)?i:i+n),this.value=t.value&&"/"!==t.value?new URL(o(t.value),this.baseUrl).href:"",this.setResult=t.setResult,this.validateUrl=t.validateUrl,this.placeholder=t.placeholder}setValue(e){this.value=e.target.value,this.setResult(this.result)}validateUrlInput(){this.validateUrl(this.result)}get result(){try{return new URL(o(this.value),this.baseUrl)}catch(e){return null}}}).prototype,"setValue",[i],Object.getOwnPropertyDescriptor(r.prototype,"setValue"),r.prototype),a(r.prototype,"validateUrlInput",[n],Object.getOwnPropertyDescriptor(r.prototype,"validateUrlInput"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(s,l)})),define("ghost-admin/components/gh-url-preview",["exports","@ember-decorators/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"B7Cdxahk",block:'{"symbols":[],"statements":[[1,[32,0,["url"]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-url-preview.hbs"})
let d=(n=(0,t.classNames)("ghost-url-preview"),r=Ember.computed("slug"),n((s=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="config",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),l(this,"prefix",null),l(this,"slug",null)}get url(){let e=this.config.blogUrl
return`${e.substr(e.indexOf("://")+3)}/${this.prefix?`${this.prefix}/`:""}${this.slug?`${this.slug}/`:""}`}},o=u(s.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(s.prototype,"url",[r],Object.getOwnPropertyDescriptor(s.prototype,"url"),s.prototype),a=s))||a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/gh-user-active",["exports","moment-timezone","@ember-decorators/component"],(function(e,t,i){var n,r,a,s
function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"c5qWiOnQ",block:'{"symbols":["&default"],"statements":[[18,1,[[32,0]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-user-active.hbs"})
let u=(n=(0,i.tagName)(""),r=Ember.computed("user.lastLoginUTC"),n((s=class extends Ember.Component{constructor(...e){super(...e),o(this,"user",null)}get lastLoginUTC(){let e=this.get("user.lastLoginUTC")
return e?(0,t.default)(e).fromNow():"(Never)"}},c=s.prototype,d="lastLoginUTC",p=[r],m=Object.getOwnPropertyDescriptor(s.prototype,"lastLoginUTC"),h=s.prototype,b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=p.slice().reverse().reduce((function(e,t){return t(c,d,e)||e}),b),h&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(h):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,d,b),b=null),a=s))||a)
var c,d,p,m,h,b
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/gh-user-invited",["exports","@glimmer/component","moment-timezone","ember-ajax/errors"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"VVlI1rDE",block:'{"symbols":["&default"],"statements":[[18,1,[[32,0]]],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/gh-user-invited.hbs"})
let g=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),m(this,"notifications",c,this),m(this,"store",d,this),m(this,"isSending",p,this)}get createdAt(){const e=this.args.invite.createdAtUTC
return e?(0,i.default)(e).fromNow():""}get expiresAt(){const e=this.args.invite.expires
return e?(0,i.default)(e).fromNow():""}get isExpired(){return this.args.invite.expires<(new Date).valueOf()}resend(e){e?.preventDefault()
const t=this.args.invite,i=this.notifications
this.isSending=!0,t.resend().then((e=>{const n=`Invitation resent! (${t.email})`
t.unloadRecord(),this.store.pushPayload("invite",e),"invited-pending"===e.invites[0].status?i.showAlert("Invitation email was not sent.  Please try resending.",{type:"error",key:"invite.resend.not-sent"}):i.showNotification(n,{icon:"send-email",key:"invite.resend.success"})})).catch((e=>{i.showAPIError(e,{key:"invite.resend"})})).finally((()=>{this.isSending=!1}))}revoke(e){e?.preventDefault()
const t=this.args.invite,i=t.email,r=this.notifications
t.reload().then((()=>{t.destroyRecord().then((()=>{r.showNotification("Invitation revoked",{key:"invite.revoke.success",description:`${i}`})})).catch((e=>{r.showAPIError(e,{key:"invite.revoke"})}))})).catch((e=>{if(!(0,n.isNotFoundError)(e))throw e
this.args.reload?.(),r.showAlert("This invite has been revoked or a user has already accepted the invitation.",{type:"error",delayed:!0,key:"invite.revoke.already-accepted"})}))}},c=h(u.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"isSending",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h(u.prototype,"resend",[o],Object.getOwnPropertyDescriptor(u.prototype,"resend"),u.prototype),h(u.prototype,"revoke",[l],Object.getOwnPropertyDescriptor(u.prototype,"revoke"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/gh-user-list-item",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"XO3WOjnO",block:'{"symbols":["role"],"statements":[[10,"div"],[15,0,[31,["apps-grid-cell tooltip-centered ",[30,[36,5],[[30,[36,4],[[32,0,["user","isAdmin"]],[32,0,["session","user","isEditor"]]],null],"user-list-item-no-interaction"],null]]]],[15,"data-tooltip",[31,[[30,[36,5],[[32,0,["user","isLocked"]],"Requires password reset to log in"],null]]]],[12],[2,"\\n    "],[8,"link-to",[[16,"data-test-user-id",[32,0,["user","id"]]]],[["@route","@model","@disabled"],["settings.staff.user",[32,0,["user","slug"]],[30,[36,4],[[32,0,["user","isAdmin"]],[32,0,["session","user","isEditor"]]],null]]],[["default"],[{"statements":[[2,"\\n    "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n        "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n            "],[10,"span"],[14,0,"user-list-item-figure"],[15,5,[30,[36,6],[[32,0,["user","profileImageUrl"]]],null]],[12],[2,"\\n                "],[10,"span"],[14,0,"hidden"],[12],[2,"Photo of "],[1,[32,0,["user","name"]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[1,[32,0,["user","name"]]],[13],[2,"\\n                "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Last seen: "],[1,[32,0,["component","lastLoginUTC"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-card-right"],[12],[2,"\\n"],[6,[37,5],[[32,0,["user","isLocked"]]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"gh-badge locked"],[12],[1,[30,[36,3],["lock"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,5],[[32,0,["user","isSuspended"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-badge suspended"],[12],[2,"Suspended"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["session","user","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["user","roles"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[15,0,[31,["gh-badge ",[32,1,["lowerCaseName"]]]]],[14,"data-test-role-name",""],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[1,[30,[36,3],["arrow-right"],[["class"],["gh-user-arrow-icon"]]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["-track-array","each","unless","svg-jar","and","if","background-image-style"]}',moduleName:"ghost-admin/components/gh-user-list-item.hbs"})
let l=(i=(0,t.tagName)(""),n=Ember.inject.service,i((a=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="session",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},u=a.prototype,c="session",d=[n],p={configurable:!0,enumerable:!0,writable:!0,initializer:null},h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,c,h),h=null),s=h,r=a))||r)
var u,c,d,p,m,h
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/gh-view-title",["exports","@ember-decorators/component"],(function(e,t){var i,n,r,a,s,o
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"hs2WDwMZ",block:'{"symbols":["&default"],"statements":[[11,"button"],[24,0,"gh-mobilemenu-button"],[24,"role","presentation"],[24,4,"button"],[4,[38,0],[[32,0],"openMobileMenu"],[["target"],[[32,0,["ui"]]]]],[12],[1,[30,[36,1],["icon"],[["class"],["icon-gh"]]]],[10,"span"],[14,0,"sr-only"],[12],[2,"Menu"],[13],[13],[2,"\\n"],[18,1,null],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/gh-view-title.hbs"})
let u=(i=(0,t.tagName)("h2"),n=(0,t.classNames)("view-title"),r=Ember.inject.service,i(a=n((s=class extends Ember.Component{constructor(...e){var t,i,n,r
super(...e),t=this,i="ui",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}},c=s.prototype,d="ui",p=[r],m={configurable:!0,enumerable:!0,writable:!0,initializer:null},b={},Object.keys(m).forEach((function(e){b[e]=m[e]})),b.enumerable=!!b.enumerable,b.configurable=!!b.configurable,("value"in b||b.initializer)&&(b.writable=!0),b=p.slice().reverse().reduce((function(e,t){return t(c,d,e)||e}),b),h&&void 0!==b.initializer&&(b.value=b.initializer?b.initializer.call(h):void 0,b.initializer=void 0),void 0===b.initializer&&(Object.defineProperty(c,d,b),b=null),o=b,a=s))||a)||a)
var c,d,p,m,h,b
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/icons/eye-open-close",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"TrR+evZd",block:'{"symbols":["@closed","&attrs"],"statements":[[11,"svg"],[24,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[24,"width","24"],[24,"height","24"],[24,"viewBox","0 0 24 24"],[16,0,[30,[36,0],[[32,1],"eye-closed"],null]],[17,2],[12],[2,"\\n    "],[10,"title"],[12],[2,"eye open close"],[13],[2,"\\n    "],[10,"g"],[14,"stroke-linecap","round"],[14,"fill","none"],[14,"stroke","currentColor"],[14,"stroke-linejoin","round"],[14,0,"nc-icon-wrapper"],[12],[2,"\\n        "],[10,"g"],[14,0,"js-nc-int-icon nc-int-eye-open-close"],[12],[2,"\\n            "],[10,"path"],[14,"d","M15.1786 12C15.1786 13.6244 13.7887 15 12 15C10.2112 15 8.82141 13.6244 8.82141 12C8.82141 10.3756 10.2112 9 12 9C13.7887 9 15.1786 10.3756 15.1786 12Z"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M1 12C1 12 5.71429 20 12 20C18.2857 20 23 12 23 12"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","none"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M1 12C1 12 5.71429 4 12 4C18.2857 4 23 12 23 12"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","none"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M9.46058 3.82026L8.51379 0.937256"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","butt"],[14,"opacity","0"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M14.5394 3.82026L15.4862 0.937256"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","butt"],[14,"opacity","0"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M4.58522 6.17225L2.68222 3.8615"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","butt"],[14,"opacity","0"],[12],[13],[2,"\\n            "],[10,"path"],[14,"d","M19.4148 6.17225L21.3178 3.8615"],[14,"stroke","currentColor"],[14,"stroke-width","1.5"],[14,"stroke-linecap","round"],[14,"stroke-linejoin","round"],[14,"data-cap","butt"],[14,"opacity","0"],[12],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"style"],[14,"data-cap","butt"],[12],[2,"\\n            .nc-int-eye-open-close {\\n                --transition-duration: .2s;\\n                perspective: 100px\\n            }\\n\\n            .nc-int-eye-open-close :nth-child(1) {\\n                transform-origin: 16px 22px;\\n                transition: transform var(--transition-duration) cubic-bezier(.65, .05, .36, 1)\\n            }\\n\\n            .nc-int-eye-open-close :nth-child(3) {\\n                transform-origin: 50% 50%;\\n                transition: transform var(--transition-duration) cubic-bezier(.65, .05, .36, 1)\\n            }\\n\\n            .nc-int-eye-open-close :nth-child(4),\\n            .nc-int-eye-open-close :nth-child(5),\\n            .nc-int-eye-open-close :nth-child(6),\\n            .nc-int-eye-open-close :nth-child(7) {\\n                transform-origin: 50% 50%;\\n                transition: transform var(--transition-duration) cubic-bezier(.65, .05, .36, 1), opacity 0s calc(var(--transition-duration)/2)\\n            }\\n\\n            .eye-closed .nc-int-eye-open-close :nth-child(1) {\\n                transform: scale(0)\\n            }\\n\\n            .eye-closed .nc-int-eye-open-close :nth-child(3),\\n            .eye-closed .nc-int-eye-open-close :nth-child(4),\\n            .eye-closed .nc-int-eye-open-close :nth-child(5),\\n            .eye-closed .nc-int-eye-open-close :nth-child(6),\\n            .eye-closed .nc-int-eye-open-close :nth-child(7) {\\n                transform: rotateX(180deg);\\n                opacity: 1\\n            }\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/icons/eye-open-close.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/illiquid-model",["exports","liquid-fire/components/illiquid-model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/infinity-loader",["exports","ember-infinity/components/infinity-loader"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/components/inputs/select",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Ur2Wv5tw",block:'{"symbols":["&attrs","@onChange","@value","&default"],"statements":[[11,"select"],[17,1],[4,[38,1],["change",[30,[36,0],["target.value",[32,2]],null]],null],[12],[2,"\\n  "],[18,4,[[30,[36,3],null,[["option"],[[30,[36,2],["inputs/select/option"],[["currentValue"],[[32,3]]]]]]]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["pick","on","component","hash"]}',moduleName:"ghost-admin/components/inputs/select.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/inputs/select/option",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"XHJyi8Hh",block:'{"symbols":["@label","&default","@value","@currentValue"],"statements":[[10,"option"],[15,2,[32,3]],[15,"selected",[30,[36,1],[[30,[36,0],[[32,4],[32,3]],null],true,false],null]],[12],[2,"\\n"],[6,[37,1],[[27,[32,2]]],null,[["default","else"],[{"statements":[[2,"        "],[18,2,null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[1,[32,1]],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["eq","if"]}',moduleName:"ghost-admin/components/inputs/select/option.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/kg-action-bar",["exports","koenig-editor/components/kg-action-bar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-alt-input",["exports","koenig-editor/components/koenig-alt-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-basic-html-input",["exports","koenig-editor/components/koenig-basic-html-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-basic-html-textarea",["exports","koenig-editor/components/koenig-basic-html-textarea"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-caption-input",["exports","koenig-editor/components/koenig-caption-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-audio",["exports","koenig-editor/components/koenig-card-audio"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-bookmark",["exports","koenig-editor/components/koenig-card-bookmark"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-button",["exports","koenig-editor/components/koenig-card-button"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-callout",["exports","koenig-editor/components/koenig-card-callout"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-code",["exports","koenig-editor/components/koenig-card-code"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-email-cta",["exports","koenig-editor/components/koenig-card-email-cta"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-email",["exports","koenig-editor/components/koenig-card-email"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-embed",["exports","koenig-editor/components/koenig-card-embed"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-embed/nft",["exports","koenig-editor/components/koenig-card-embed/nft"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-file",["exports","koenig-editor/components/koenig-card-file"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-gallery",["exports","koenig-editor/components/koenig-card-gallery"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-header",["exports","koenig-editor/components/koenig-card-header"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-hr",["exports","koenig-editor/components/koenig-card-hr"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-html",["exports","koenig-editor/components/koenig-card-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image",["exports","koenig-editor/components/koenig-card-image"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image/selector-tenor",["exports","koenig-editor/components/koenig-card-image/selector-tenor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-image/selector-tenor/gif",["exports","koenig-editor/components/koenig-card-image/selector-tenor/gif"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-markdown",["exports","koenig-editor/components/koenig-card-markdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-paywall",["exports","koenig-editor/components/koenig-card-paywall"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-product",["exports","koenig-editor/components/koenig-card-product"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-toggle",["exports","koenig-editor/components/koenig-card-toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-card-video",["exports","koenig-editor/components/koenig-card-video"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/koenig-card",["exports","koenig-editor/components/koenig-card"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-editor",["exports","koenig-editor/components/koenig-editor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-image-editor",["exports","@glimmer/component","ghost-admin/utils/analytics","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y
function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"xaMALYei",block:'{"symbols":["uploader","@className"],"statements":[[6,[37,0],[[32,0,["isEditorEnabled"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-uploader",[],[["@onComplete"],[[32,0,["onUploadComplete"]]]],[["default"],[{"statements":[[2,"\\n        "],[11,"button"],[16,0,[31,[[30,[36,0],[[32,2],[32,2],"image-action image-edit"],null]]]],[24,"title","Edit image"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,0,["handleClick"]],[32,1]],null]],null],[12],[2,"\\n            "],[1,[30,[36,3],["koenig/kg-edit"],null]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/koenig-image-editor.hbs"})
let P=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=class extends t.default{get isEditorEnabled(){return this.scriptLoaded&&this.cssLoaded}get pinturaJsUrl(){return this.settings.pintura?this.config.pintura?.js||this.settings.pinturaJsUrl:null}get pinturaCSSUrl(){return this.settings.pintura?this.config.pintura?.css||this.settings.pinturaCssUrl:null}getImageEditorJSUrl(){let e=this.pinturaJsUrl
return e?(e.startsWith("/")&&(e=window.location.origin+this.ghostPaths.adminRoot.replace(/\/$/,"")+e),e):null}getImageEditorCSSUrl(){let e=this.pinturaCSSUrl
return e?(e.startsWith("/")&&(e=window.location.origin+this.ghostPaths.adminRoot.replace(/\/$/,"")+e),e):null}loadImageEditorJavascript(){const e=this.getImageEditorJSUrl()
if(e)if(window.pintura)this.scriptLoaded=!0
else try{const t=new URL(e)
let i
i="http:"===t.protocol?import(`http://${t.host}${t.pathname}`):import(`https://${t.host}${t.pathname}`),i.then((()=>{this.scriptLoaded=!0})).catch((()=>{}))}catch(t){}}loadImageEditorCSS(){let e=this.getImageEditorCSSUrl()
if(e)try{if(document.querySelector(`link[href="${e}"]`))this.cssLoaded=!0
else{let t=document.createElement("link")
t.rel="stylesheet",t.type="text/css",t.href=e,t.onload=()=>{this.cssLoaded=!0},document.head.appendChild(t)}}catch(t){}}constructor(){super(...arguments),w(this,"ajax",m,this),w(this,"feature",h,this),w(this,"settings",b,this),w(this,"ghostPaths",g,this),w(this,"scriptLoaded",f,this),w(this,"cssLoaded",v,this),w(this,"config",y,this),this.loadImageEditorJavascript(),this.loadImageEditorCSS()}async onUploadComplete(e){if(this.args.saveUrl){const t=e[0].url
this.args.saveUrl(t)}}async handleClick(e){if(this.isEditorEnabled&&this.args.imageSrc){const t=new URL(this.args.imageSrc)
t.searchParams.has("v")||t.searchParams.set("v",Date.now()),(0,i.default)("Image Edit Button Clicked",{location:"admin"})
const n=t.href,r=window.pintura.openDefaultEditor({src:n,enableTransparencyGrid:!0,util:"crop",utils:["crop","filter","finetune","redact","annotate","trim","frame","sticker"],stickerStickToImage:!0,frameOptions:[[void 0,e=>e.labelNone],["solidSharp",e=>e.frameLabelMatSharp],["solidRound",e=>e.frameLabelMatRound],["lineSingle",e=>e.frameLabelLineSingle],["hook",e=>e.frameLabelCornerHooks],["polaroid",e=>e.frameLabelPolaroid]],cropSelectPresetFilter:"landscape",cropSelectPresetOptions:[[void 0,"Custom"],[1,"Square"],[2,"2:1"],[1.5,"3:2"],[4/3,"4:3"],[1.6,"16:10"],[16/9,"16:9"],[.5,"1:2"],[2/3,"2:3"],[3/4,"3:4"],[.625,"10:16"],[9/16,"9:16"]],locale:{labelButtonExport:"Save and close"}})
r.on("loaderror",(()=>{})),r.on("process",(t=>{try{this.args.saveImage&&this.args.saveImage(t.dest),this.args.saveUrl&&e.setFiles([t.dest]),(0,i.default)("Image Edit Saved",{location:"admin"})}catch(n){}}))}}},m=k(p.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(p.prototype,"scriptLoaded",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=k(p.prototype,"cssLoaded",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),y=k(p.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k(p.prototype,"onUploadComplete",[c],Object.getOwnPropertyDescriptor(p.prototype,"onUploadComplete"),p.prototype),k(p.prototype,"handleClick",[d],Object.getOwnPropertyDescriptor(p.prototype,"handleClick"),p.prototype),p)
e.default=P,Ember._setComponentTemplate(E,P)})),define("ghost-admin/components/koenig-lexical-editor-input",["exports","@sentry/ember","@glimmer/component","react","ghost-admin/decorators/inject"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]
for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},g.apply(this,arguments)}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"qr8nwoz5",block:'{"symbols":["@onBlur","@onChangeHtml","@html","@placeholderText"],"statements":[[11,"div"],[4,[38,1],[[32,0,["ReactComponent"]]],[["props"],[[30,[36,0],null,[["placeholderText","html","onChangeHtml","onBlur"],[[32,4],[32,3],[32,2],[32,1]]]]]]],[12],[13]],"hasEval":false,"upvars":["hash","react-render"]}',moduleName:"ghost-admin/components/koenig-lexical-editor-input.hbs"})
class y extends n.default.Component{constructor(...e){super(...e),f(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?n.default.createElement("p",{className:"koenig-react-editor-error"},"Loading has failed. Try refreshing the browser!"):this.props.children}}const w=function(){let e,t="pending"
const i=(async()=>{if(window["@tryghost/koenig-lexical"])return window["@tryghost/koenig-lexical"]
const e=window.GhostAdmin||window.Ember.Namespace.NAMESPACES.find((e=>"ghost-admin"===e.name)),t=e.__container__.lookup("config:main").editor?.url,i=e.__container__.lookup("config:main").editor?.version,n=new URL(t.replace("{version}",i))
return"http:"===n.protocol?await import(`http://${n.host}${n.pathname}`):await import(`https://${n.host}${n.pathname}`),window["@tryghost/koenig-lexical"]})().then((i=>{t="success",e=i}),(i=>{t="error",e=i}))
return{read:()=>{switch(t){case"pending":throw i
case"error":throw e
default:return e}}}}(),k=e=>{const{KoenigComposer:t,MINIMAL_NODES:i}=w.read()
return n.default.createElement(t,g({nodes:i},e))},E=e=>{const{KoenigComposableEditor:t,MINIMAL_TRANSFORMERS:i}=w.read()
return n.default.createElement(t,g({markdownTransformers:i},e))},P=e=>{const{HtmlOutputPlugin:t}=w.read()
return n.default.createElement(t,e)}
let O=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._action,u=class extends i.default{constructor(...e){super(...e),h(this,"ajax",c,this),h(this,"feature",d,this),h(this,"session",p,this),h(this,"config",m,this),f(this,"ReactComponent",(e=>n.default.createElement("div",{className:["koenig-react-editor",this.args.className].filter(Boolean).join(" ")},n.default.createElement(y,null,n.default.createElement(n.Suspense,{fallback:n.default.createElement("p",{className:"koenig-react-editor-loading"},"Loading editor...")},n.default.createElement(k,{initialEditorState:this.args.lexical,onError:this.onError},n.default.createElement(E,{darkMode:this.feature.nightShift,onChange:e.onChange,onBlur:e.onBlur,isSnippetsEnabled:!1,singleParagraph:!0,className:"koenig-lexical-editor-input",placeholderText:e.placeholderText,placeholderClassName:"koenig-lexical-editor-input-placeholder"},n.default.createElement(P,{html:e.html,setHtml:e.onChangeHtml}))))))))}onError(e){console.error(e),this.config.sentry_dsn&&t.captureException(e,{tags:{lexical:!0}})}},c=b(u.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"onError",[l],Object.getOwnPropertyDescriptor(u.prototype,"onError"),u.prototype),u)
e.default=O,Ember._setComponentTemplate(v,O)})),define("ghost-admin/components/koenig-lexical-editor",["exports","@sentry/ember","@glimmer/component","react","ghost-admin/utils/ghost-paths","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s){var o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T
function z(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.fileTypes=e.default=void 0
const C=Ember.HTMLBars.template({id:"75QfH75A",block:'{"symbols":["@cardConfig"],"statements":[[11,"div"],[4,[38,1],[[32,0,["ReactComponent"]]],[["props"],[[30,[36,0],null,[["cardConfig"],[[32,1]]]]]]],[12],[13]],"hasEval":false,"upvars":["hash","react-render"]}',moduleName:"ghost-admin/components/koenig-lexical-editor.hbs"}),M={image:{mimeTypes:["image/gif","image/jpg","image/jpeg","image/png","image/svg+xml","image/webp"],extensions:["gif","jpg","jpeg","png","svg","svgz","webp"],endpoint:"/images/upload/",resourceName:"images"},video:{mimeTypes:["video/mp4","video/webm","video/ogg"],extensions:["mp4","webm","ogv"],endpoint:"/media/upload/",resourceName:"media"},audio:{mimeTypes:["audio/mp3","audio/mpeg","audio/ogg","audio/wav","audio/vnd.wav","audio/wave","audio/x-wav","audio/mp4","audio/x-m4a"],extensions:["mp3","wav","ogg","m4a"],endpoint:"/media/upload/",resourceName:"media"},mediaThumbnail:{mimeTypes:["image/gif","image/jpg","image/jpeg","image/png","image/webp"],extensions:["gif","jpg","jpeg","png","webp"],endpoint:"/media/thumbnail/upload/",requestMethod:"put",resourceName:"media"},file:{endpoint:"/files/upload/",resourceName:"files"}}
e.fileTypes=M
class D extends n.default.Component{constructor(...e){super(...e),S(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?n.default.createElement("p",{className:"koenig-react-editor-error"},"Loading has failed. Try refreshing the browser!"):this.props.children}}const A=function(){let e,t="pending"
const i=(async()=>{if(window["@tryghost/koenig-lexical"])return window["@tryghost/koenig-lexical"]
const e=window.GhostAdmin||window.Ember.Namespace.NAMESPACES.find((e=>"ghost-admin"===e.name)),t=e.__container__.lookup("config:main").editor?.url,i=e.__container__.lookup("config:main").editor?.version,n=new URL(t.replace("{version}",i))
return"http:"===n.protocol?await import(`http://${n.host}${n.pathname}`):await import(`https://${n.host}${n.pathname}`),window["@tryghost/koenig-lexical"]})().then((i=>{t="success",e=i}),(i=>{t="error",e=i}))
return{read:()=>{switch(t){case"pending":throw i
case"error":throw e
default:return e}}}}(),I=e=>{const{KoenigComposer:t}=A.read()
return n.default.createElement(t,e)},N=e=>{const{KoenigEditor:t}=A.read()
return n.default.createElement(t,e)},L=e=>{const{WordCountPlugin:t}=A.read()
return n.default.createElement(t,e)}
let R=(o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember._action,g=(0,s.task)({restartable:!0}),f=(0,s.task)({restartable:!0}),v=class extends i.default{constructor(...e){super(...e),z(this,"ajax",y,this),z(this,"feature",w,this),z(this,"frontend",k,this),z(this,"ghostPaths",E,this),z(this,"session",P,this),z(this,"store",O,this),z(this,"settings",j,this),z(this,"membersUtils",_,this),z(this,"config",T,this),S(this,"offers",null),S(this,"contentKey",null),S(this,"ReactComponent",(e=>{const t={defaultHeaders:{Authorization:"Client-ID 8672af113b0a8573edae3aa3713886265d9bb741d707f6c01a486cde8c278980","Accept-Version":"v1","Content-Type":"application/json","App-Pragma":"no-cache","X-Unsplash-Cache":!0}},i={unsplash:this.settings.unsplash?t:null,tenor:this.config.tenor?.googleApiKey?this.config.tenor:null,fetchEmbed:async(e,{type:t})=>{let i=this.ghostPaths.url.api("oembed")
return await this.ajax.request(i,{data:{url:e,type:t}})},fetchCollectionPosts:async e=>{if(!this.contentKey){const e=(await this.store.findAll("integration")).findBy("slug","ghost-core-content")
this.contentKey=e?.contentKey.secret}const t=new URL(this.frontend.getUrl("/ghost/api/content/posts/"))
t.searchParams.append("key",this.contentKey),t.searchParams.append("collection",e),t.searchParams.append("limit",12)
const i=await this.frontend.fetch(t.toString()),{posts:n}=await i.json()
return n},fetchAutocompleteLinks:async()=>{const e=await this.fetchOffersTask.perform(),t=[{label:"Homepage",value:window.location.origin+"/"},{label:"Free signup",value:"#/portal/signup/free"}],i=e.toArray().map((e=>({label:`Offer - ${e.name}`,value:this.config.getSiteUrl(e.code)})))
return[...t,...(()=>{let e=[]
return this.membersUtils.paidMembersEnabled&&(e=[{label:"Paid signup",value:"#/portal/signup"},{label:"Upgrade or change plan",value:"#/portal/account/plans"}]),e})(),...(()=>this.feature.tipsAndDonations&&this.settings.donationsEnabled?[{label:"Tip or donation",value:"#/portal/support"}]:[])(),...i]},fetchLabels:async()=>(await this.fetchLabelsTask.perform()).map((e=>e.name)),feature:{collectionsCard:this.feature.get("collectionsCard"),collections:this.feature.get("collections")},depreciated:{headerV1:!0},membersEnabled:"all"===this.settings.get("membersSignupAccess"),siteTitle:this.settings.title,siteDescription:this.settings.description},a=Object.assign({},i,e.cardConfig,{pinturaConfig:this.pinturaConfig}),s=this.feature.lexicalMultiplayer&&!a.post.isNew,o=("https:"===window.location.protocol?"wss:":"ws:")+window.location.host+this.ghostPaths.url.api("posts","multiplayer"),l=a.post.id,u=this.session.user.name
return n.default.createElement("div",{className:["koenig-react-editor","koenig-lexical",this.args.className].filter(Boolean).join(" ")},n.default.createElement(D,null,n.default.createElement(n.Suspense,{fallback:n.default.createElement("p",{className:"koenig-react-editor-loading"},"Loading editor...")},n.default.createElement(I,{cardConfig:a,enableMultiplayer:s,fileUploader:{useFileUpload:(e="image")=>{const[t,i]=n.default.useState(0),[a,s]=n.default.useState(!1),[o,l]=n.default.useState([]),[u,c]=n.default.useState(0),d=n.default.useRef(new Map)
function p(){if(0===d.current.size)return void i(0)
let e=0
d.current.forEach((t=>e+=t)),i(Math.round(e/d.current.size))}function m(t){if("file"===e)return!0
let i=M[e].extensions,[,n]=/(?:\.([^.]+))?$/.exec(t.name)
if(!i)return!0
if(Array.isArray(i)||(i=i.split(",")),!n||-1===i.indexOf(n.toLowerCase())){return`The file type you uploaded is not supported. Please use ${`.${i.join(", .").toUpperCase()}`}`}return!0}const h=async(t,{formData:i={}}={})=>{d.current[t]=0
const n=new FormData
n.append("file",t,t.name),Object.keys(i||{}).forEach((e=>{n.append(e,i[e])}))
const a=`${(0,r.default)().apiRoot}${M[e].endpoint}`
try{const i=M[e].requestMethod||"post",r=await this.ajax[i](a,{data:n,processData:!1,contentType:!1,dataType:"text",xhr:()=>{const e=new window.XMLHttpRequest
return e.upload.addEventListener("progress",(e=>{e.lengthComputable&&(d.current.set(t,e.loaded/e.total*100),p())}),!1),e}})
let o,l
d.current.set(t,100),p()
try{o=JSON.parse(r)}catch(s){if(!(s instanceof SyntaxError))throw s}if(o){const t=o[M[e].resourceName]
t&&Array.isArray(t)&&t[0]&&(l=t[0].url)}return{url:l,fileName:t.name}}catch(s){console.error(s)
let e=s.payload?.errors?.[0]?.message||"",i=s.payload?.errors?.[0]?.context||""
e||(e=s.message)
throw{message:e,context:i,fileName:t.name}}}
return{progress:t,isLoading:a,upload:async(e=[],t={})=>{c(e.length),s(!0)
const n=((e=[])=>{const t=[]
for(let i=0;i<e.length;i+=1){let n=e[i],r=m(n)
!0!==r&&t.push({fileName:n.name,message:r})}return t})(e)
if(n.length)return l(n),s(!1),i(100),null
const r=[]
for(let i=0;i<e.length;i+=1){const n=e[i]
r.push(h(n,t))}try{const e=await Promise.all(r)
return i(100),d.current.clear(),s(!1),l([]),e}catch(a){return console.error(a),l([...o,a]),s(!1),i(100),d.current.clear(),null}},errors:o,filesNumber:u}},fileTypes:M},initialEditorState:this.args.lexical,multiplayerUsername:u,multiplayerDocId:l,multiplayerEndpoint:o,onError:this.onError,darkMode:this.feature.nightShift},n.default.createElement(N,{cursorDidExitAtTop:this.args.cursorDidExitAtTop,darkMode:this.feature.nightShift,onChange:this.args.onChange,registerAPI:this.args.registerAPI}),n.default.createElement(L,{onChange:this.args.updateWordCount})))))}))}get pinturaJsUrl(){return this.settings.pintura?this.config.pintura?.js||this.settings.pinturaJsUrl:null}get pinturaCSSUrl(){return this.settings.pintura?this.config.pintura?.css||this.settings.pinturaCssUrl:null}get pinturaConfig(){const e=this.getImageEditorJSUrl(),t=this.getImageEditorCSSUrl()
return this.feature.lexicalEditor&&e&&t?{jsUrl:e,cssUrl:t}:null}getImageEditorJSUrl(){let e=this.pinturaJsUrl
return e?(e.startsWith("/")&&(e=window.location.origin+this.ghostPaths.adminRoot.replace(/\/$/,"")+e),e):null}getImageEditorCSSUrl(){let e=this.pinturaCSSUrl
return e?(e.startsWith("/")&&(e=window.location.origin+this.ghostPaths.adminRoot.replace(/\/$/,"")+e),e):null}onError(e){console.error(e),this.config.sentry_dsn&&t.captureException(e,{tags:{lexical:!0},contexts:{koenig:{version:window["@tryghost/koenig-lexical"]?.version}}})}*fetchOffersTask(){return this.offers||(this.offers=yield this.store.query("offer",{limit:"all",filter:"status:active"})),this.offers}*fetchLabelsTask(){return this.labels||(this.labels=yield this.store.query("label",{limit:"all",fields:"id, name"})),this.labels}},y=x(v.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x(v.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x(v.prototype,"frontend",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=x(v.prototype,"ghostPaths",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=x(v.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=x(v.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=x(v.prototype,"settings",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=x(v.prototype,"membersUtils",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=x(v.prototype,"config",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x(v.prototype,"onError",[b],Object.getOwnPropertyDescriptor(v.prototype,"onError"),v.prototype),x(v.prototype,"fetchOffersTask",[g],Object.getOwnPropertyDescriptor(v.prototype,"fetchOffersTask"),v.prototype),x(v.prototype,"fetchLabelsTask",[f],Object.getOwnPropertyDescriptor(v.prototype,"fetchLabelsTask"),v.prototype),v)
e.default=R,Ember._setComponentTemplate(C,R)})),define("ghost-admin/components/koenig-lexical-sandbox",["exports","@glimmer/component","react"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"YDbbj5g/",block:'{"symbols":[],"statements":[[11,"div"],[4,[38,0],[[32,0,["ReactComponent"]]],null],[12],[13]],"hasEval":false,"upvars":["react-render"]}',moduleName:"ghost-admin/components/koenig-lexical-sandbox.hbs"})
class a extends i.default.Component{constructor(...e){super(...e),n(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}render(){return this.state.hasError?i.default.createElement("p",null,"Loading has failed. Try refreshing the browser!"):this.props.children}}const s=function(){let e,t="pending"
const i=(async()=>{if(window["@tryghost/koenig-lexical"])return window["@tryghost/koenig-lexical"]
const e=window.GhostAdmin||window.Ember.Namespace.NAMESPACES.find((e=>"ghost-admin"===e.name)),t=e.__container__.lookup("config:main").editor?.url,i=e.__container__.lookup("config:main").editor?.version,n=new URL(t.replace("{version}",i))
return"http:"===n.protocol?await import(`http://${n.host}${n.pathname}`):await import(`https://${n.host}${n.pathname}`),window["@tryghost/koenig-lexical"]})().then((i=>{t="success",e=i}),(i=>{t="error",e=i}))
return{read:()=>{switch(t){case"pending":throw i
case"error":throw e
default:return e}}}}(),o=e=>{const{DesignSandbox:t}=s.read()
return i.default.createElement(t,e)}
class l extends t.default{constructor(...e){super(...e),n(this,"ReactComponent",(()=>i.default.createElement("div",{className:[this.args.className].filter(Boolean).join(" ")},i.default.createElement(a,null,i.default.createElement(i.Suspense,{fallback:i.default.createElement("p",{className:"koenig-react-editor-loading"},"Loading editor...")},i.default.createElement(o,null))))))}}e.default=l,Ember._setComponentTemplate(r,l)})),define("ghost-admin/components/koenig-link-input",["exports","koenig-editor/components/koenig-link-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-link-toolbar",["exports","koenig-editor/components/koenig-link-toolbar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-media-selector",["exports","koenig-editor/components/koenig-media-selector"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-menu-content",["exports","koenig-editor/components/koenig-menu-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-plus-menu",["exports","koenig-editor/components/koenig-plus-menu"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-settings-panel",["exports","koenig-editor/components/koenig-settings-panel"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-slash-menu",["exports","koenig-editor/components/koenig-slash-menu"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-snippet-input",["exports","koenig-editor/components/koenig-snippet-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-text-replacement-html-input",["exports","koenig-editor/components/koenig-text-replacement-html-input"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/koenig-toolbar",["exports","koenig-editor/components/koenig-toolbar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/labs/lexical",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"rb6HERlX",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-expandable-block gh-feedback-lexical-labs"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Ghost editor (beta)"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                "],[10,"span"],[12],[2,"Try out "],[10,"a"],[14,6,"https://ghost.org/changelog/editor-beta/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Ghostâ€™s brand new editor"],[13],[2,", and get early access to the latest features and improvements"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n            "],[8,"gh-feature-flag",[],[["@flag","@onChange"],["lexicalEditor",[32,0,["toggleFeedbackForm"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,0],[[32,0,["isFeedbackFormVisible"]]],null,[["default"],[{"statements":[[2,"        "],[8,"feedback-lexical/labs-form",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if"]}',moduleName:"ghost-admin/components/labs/lexical.hbs"})
let l=(i=Ember._tracked,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="isFeedbackFormVisible",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}toggleFeedbackForm(e){this.isFeedbackFormVisible=!e.target.checked}},a=s(r.prototype,"isFeedbackFormVisible",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"toggleFeedbackForm",[n],Object.getOwnPropertyDescriptor(r.prototype,"toggleFeedbackForm"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/lf-get-outlet-state",["exports","liquid-fire/components/lf-get-outlet-state"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-append",["exports","liquid-wormhole/components/liquid-append"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-bind",["exports","liquid-fire/components/liquid-bind"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-child",["exports","liquid-fire/components/liquid-child"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-container",["exports","liquid-fire/components/liquid-container","ghost-admin/config/environment"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend({init(){this._super(...arguments),"test"===i.default.environment&&(this.growDuration=5)}})
e.default=n})),define("ghost-admin/components/liquid-destination",["exports","liquid-wormhole/components/liquid-destination"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-if",["exports","liquid-fire/components/liquid-if"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-measured",["exports","liquid-fire/components/liquid-measured"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"measure",{enumerable:!0,get:function(){return t.measure}})})),define("ghost-admin/components/liquid-outlet",["exports","liquid-fire/components/liquid-outlet"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-spacer",["exports","liquid-fire/components/liquid-spacer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-sync",["exports","liquid-fire/components/liquid-sync"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-unless",["exports","liquid-fire/components/liquid-unless"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/liquid-versions",["exports","liquid-fire/components/liquid-versions"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/liquid-wormhole",["exports","liquid-wormhole/components/liquid-wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/maybe-in-element",["exports","ember-maybe-in-element/components/maybe-in-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/member-attribution/modals/all-sources",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"s9KGagRu",block:'{"symbols":["sourceData","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content gh-all-sources"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","all-source-attributions"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"All sources"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body pa"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-list-header"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Sources"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[2,"Free signups"],[13],[2,"\\n"],[6,[37,1],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-title"],[12],[10,"span"],[14,0,"hide-when-small"],[12],[2,"Paid "],[13],[2,"Conversions"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-attribution-list-scrollable"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,3,["sources"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[15,0,[31,["gh-dashboard-list-item ",[30,[36,1],[[30,[36,2],[[32,1,["source"]],"Unavailable"],null],"gh-dashboard-list-item-deemphasized"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub gh-dashboard-list-item-sub-source"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-dashboard-list-text"],[12],[1,[32,1,["source"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n"],[6,[37,1],[[32,1,["signups"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,0],[[32,1,["signups"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        â€”\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,1],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n"],[6,[37,1],[[32,1,["paidConversions"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[1,[30,[36,0],[[32,1,["paidConversions"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                â€”\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-empty"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"No sources."],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["format-number","if","eq","on","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/member-attribution/modals/all-sources.hbs"})
let o=(i=Ember.inject.service,a=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="membersUtils",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}},function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(a,"modalOptions",{className:"epm-modal fullscreen-modal-action fullscreen-modal-wide"}),l=(n=a).prototype,u="membersUtils",c=[i],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),r=m,n)
var l,u,c,d,p,m
e.default=o,Ember._setComponentTemplate(s,o)})),define("ghost-admin/components/member-attribution/source-attribution-chart",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"qbsDdDuN",block:'{"symbols":[],"statements":[[8,"ember-chart",[],[["@type","@data","@options","@height","@width"],["doughnut",[32,0,["chartData"]],[32,0,["chartOptions"]],500,500]],null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/member-attribution/source-attribution-chart.hbs"}),s=["#8e42ff","#BB4AE5","#DD97C9","#E19A98","#F5C9C2","#E6E9EB"]
let o=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="feature",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get sources(){return this.args.sources}get chartOptions(){let e="Free signups"
return e="signups"===this.args.sortColumn?"Free signups":"Paid conversions",{cutoutPercentage:70,title:{display:!1,text:e,position:"bottom",padding:12,fontFamily:"Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Droid Sans,Helvetica Neue,sans-serif",color:"#7c8b9a",fontSize:12,fontStyle:"600"},legend:{display:!1},hover:{onHover:function(e){e.target.style.cursor="pointer"}},tooltips:{enabled:!1,intersect:!1,mode:"single",custom:function(e){const t=document.getElementById("gh-dashboard-attribution-tooltip")
if(0===e.opacity)return void(t.style.opacity=0)
t.style.opacity=1,t.style.position="absolute",t.style.left=e.x+10+"px",t.style.top=e.y+15+"px"},callbacks:{label:(e,t)=>{const i=document.querySelector("#gh-dashboard-attribution-tooltip .gh-dashboard-tooltip-value"),n=t.labels[e.index]||""
var r=t.datasets[e.datasetIndex].data[e.index]||0
r<0&&(r=-r),i.innerHTML=`<span class="indicator solid" style="background-color: ${t.datasets[e.datasetIndex].backgroundColor[e.index]}"></span><span class="value">${r}%</span><span class="metric">${n}</span>`},title:()=>null}},aspectRatio:1}}get chartData(){let e=this.feature.nightShift?"#15171A":"#fff"
return{labels:this.allSources.map((e=>e.source)),datasets:[{label:"signups"===this.args.sortColumn?"Signups":"Paid conversions",data:this.allSources.map((e=>e.percentage)),backgroundColor:s.slice(0,6),borderWidth:2,borderColor:e,hoverBorderWidth:2,hoverBorderColor:e}]}}get allSources(){const e=[...this.sortedSources.slice(0,5)]
this.others&&e.push(this.others)
const t=e.reduce(((e,t)=>"signups"===this.args.sortColumn?e+t.signups:e+t.paidConversions),0)
return e.map((e=>{let i=0
return i="signups"===this.args.sortColumn?e.signups:e.paidConversions,{...e,percentage:Math.round(i/t*100)}}))}get others(){return this.sortedSources.length<=5?null:this.sortedSources.slice(5).reduce(((e,t)=>({...e,signups:e.signups+t.signups,paidConversions:e.paidConversions+t.paidConversions})),{source:"Others",signups:0,paidConversions:0})}get sortedSources(){return this.args.sources?.filter((e=>e.source)).sort(((e,t)=>"signups"===this.args.sortColumn?t.signups-e.signups:t.paidConversions-e.paidConversions))||[]}},l=n.prototype,u="feature",c=[i],d={configurable:!0,enumerable:!0,writable:!0,initializer:null},m={},Object.keys(d).forEach((function(e){m[e]=d[e]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=c.slice().reverse().reduce((function(e,t){return t(l,u,e)||e}),m),p&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(p):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(l,u,m),m=null),r=m,n)
var l,u,c,d,p,m
e.default=o,Ember._setComponentTemplate(a,o)})),define("ghost-admin/components/member-attribution/source-attribution-table",["exports","ghost-admin/components/member-attribution/modals/all-sources","@glimmer/component"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"P5ervTz7",block:'{"symbols":["sourceData","@sortColumn","@setSortColumn","&attrs"],"statements":[[11,"div"],[17,4],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-list-header"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-dashboard-list-title gh-dashboard-list-title-sources"],[12],[2,"Sources"],[13],[2,"\\n        "],[11,"div"],[24,"role","button"],[24,"aria-label","Sort by free signups"],[16,0,[31,["gh-dashboard-list-title ",[30,[36,2],[[30,[36,1],[[32,2],"signups"],null],"sorted-by"],null]]]],[4,[38,3],["click",[30,[36,4],[[32,3],"signups"],null]],null],[12],[2,"\\n            "],[10,"span"],[14,0,"hide-when-small"],[12],[2,"Free "],[13],[2,"signups"],[1,[30,[36,5],["arrow-down-fill"],null]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,2],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"            "],[11,"div"],[24,"role","button"],[24,"aria-label","Sort by paid conversions"],[16,0,[31,["gh-dashboard-list-title ",[30,[36,2],[[30,[36,1],[[32,2],"paid"],null],"sorted-by"],null]]]],[4,[38,3],["click",[30,[36,4],[[32,3],"paid"],null]],null],[12],[2,"\\n                "],[10,"span"],[14,0,"hide-when-small"],[12],[2,"Paid "],[13],[2,"Conversions"],[1,[30,[36,5],["arrow-down-fill"],null]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["sources"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-list-item"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-dashboard-list-item-sub gh-dashboard-list-item-sub-source ",[30,[36,2],[[30,[36,1],[[32,1,["source"]],"Unavailable"],null],"gh-dashboard-list-item-unavailable-source"],null]]]],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-dashboard-list-text"],[12],[1,[32,1,["source"]]],[2,"\\n"],[2,"                            "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-dashboard-list-item-sub gh-dashboard-list-item-sub-signup ",[30,[36,2],[[30,[36,1],[[32,2],"signups"],null],"sorted-by"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,1,["signups"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n                                "],[1,[30,[36,0],[[32,1,["signups"]]],null]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue na"],[12],[2,"\\n                                â€”\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[15,0,[31,["gh-dashboard-list-item-sub gh-dashboard-list-item-sub-paid ",[30,[36,2],[[30,[36,1],[[32,2],"paid"],null],"sorted-by"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,1,["paidConversions"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n                                        "],[1,[30,[36,0],[[32,1,["paidConversions"]]],null]],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue na"],[12],[2,"\\n                                        â€”\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[1]}]]],[6,[37,2],[[32,0,["others"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-list-item"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-dashboard-list-item-sub gh-dashboard-list-item-sub-source gh-dashboard-list-item-other-source"],[12],[2,"\\n                        "],[11,"span"],[24,0,"gh-dashboard-list-text"],[24,"role","button"],[24,"aria-label","Show sources"],[4,[38,3],["click",[32,0,["openAllSources"]]],null],[12],[2,"Other sources "],[10,"span"],[14,0,"gh-dashboard-list-item-other-source-arrow"],[12],[2,"â†’"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-dashboard-list-item-sub gh-dashboard-list-item-sub-other ",[30,[36,2],[[30,[36,1],[[32,2],"signups"],null],"sorted-by"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["others","signups"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n                                    "],[1,[30,[36,0],[[32,0,["others","signups"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue na"],[12],[2,"\\n                                    â€”\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"],[6,[37,2],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[15,0,[31,["gh-dashboard-list-item-sub gh-dashboard-list-item-sub-other ",[30,[36,2],[[30,[36,1],[[32,2],"paid"],null],"sorted-by"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["others","paidConversions"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue"],[12],[2,"\\n                                        "],[1,[30,[36,0],[[32,0,["others","paidConversions"]]],null]],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-dashboard-metric-minivalue na"],[12],[2,"\\n                                        â€”\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["format-number","eq","if","on","fn","svg-jar","-track-array","each"]}',moduleName:"ghost-admin/components/member-attribution/source-attribution-table.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends i.default{constructor(...e){super(...e),u(this,"membersUtils",o,this),u(this,"modals",l,this)}openAllSources(){const e=this.unavailableSource?[...this.sortedSources,this.unavailableSource]:this.sortedSources
this.modals.open(t.default,{sources:e,unavailableSource:this.unavailableSource,sortColumn:this.args.sortColumn})}get unavailableSource(){const e=this.args.sources.find((e=>!e.source))
return e?{...e,source:"Unavailable"}:null}get others(){return this.sortedSources.length<5?null:5!==this.sortedSources.length||this.unavailableSource?.length?this.sortedSources.slice(5).reduce(((e,t)=>({signups:e.signups+t.signups,paidConversions:e.paidConversions+t.paidConversions})),{signups:0,paidConversions:0}):null}get sortedSources(){return this.args.sources?.filter((e=>e.source)).sort(((e,t)=>"signups"===this.args.sortColumn?t.signups-e.signups:t.paidConversions-e.paidConversions))||[]}get sources(){return this.sortedSources.length>=5?this.sortedSources.slice(0,5):this.unavailableSource?[...this.sortedSources,this.unavailableSource]:this.sortedSources}},o=c(s.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"openAllSources",[a],Object.getOwnPropertyDescriptor(s.prototype,"openAllSources"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/member/activity-feed-empty",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"mNWUZ/AT",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-members-no-data gh-members-no-list"],[12],[2,"\\n    "],[10,"div"],[14,0,"lightgrey"],[12],[1,[30,[36,0],["no-data-list"],null]],[13],[2,"\\n    "],[10,"h4"],[12],[2,"Activity"],[13],[2,"\\n    "],[10,"p"],[12],[2,"\\n        All events related to this member will be shown here.\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/member/activity-feed-empty.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/member/activity-feed",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"YHTiRBQ+",block:'{"symbols":["eventsFetcher","rawEvent","event","@member","&attrs"],"statements":[[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Activity"],[13],[2,"\\n"],[6,[37,1],[[32,4,["isNew"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-member-feed gh-member-feed-no-data"],[12],[2,"\\n            "],[8,"member/activity-feed-empty",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,6],[[30,[36,11],null,[["filter","pageSize","memberId"],[[30,[36,10],null,[["member","excludedEvents"],[[32,4,["id"]],[32,0,["excludedEventTypes"]]]]],5,[32,4,["id"]]]]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-main-section-content grey ",[30,[36,1],[[32,1,["data"]],"","mt8"],null]]]],[12],[2,"\\n            "],[11,"div"],[16,0,[31,["gh-member-feed ",[30,[36,1],[[32,1,["data"]],"","gh-member-feed-no-data"],null]]]],[17,5],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["flex-auto flex flex-column items-stretch ",[30,[36,1],[[32,1,["data"]],"justify-between","h-100 justify-center"],null]]]],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"relative h17"],[12],[8,"gh-loading-spinner",[[24,0,"h30"]],[[],[]],null],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,1,["data"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,5],[[32,2],[32,1,["hasMultipleNewsletters"]]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-member-feed-row"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-member-feed-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-member-feed-icon"],[12],[2,"\\n                                                "],[1,[30,[36,2],[[32,3,["icon"]]],[["class"],[[32,3,["iconClass"]]]]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-member-feed-detail"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-member-feed-event"],[12],[2,"\\n                                                    "],[10,"span"],[14,0,"gh-member-feed-event-inner"],[12],[2,"\\n                                                        "],[10,"span"],[14,0,"gh-members-activity-description feature-memberAttribution"],[12],[2,"\\n                                                            "],[10,"span"],[14,0,"gh-members-activity-event-text"],[12],[1,[30,[36,3],[[32,3,["action"]]],null]],[13],[2,"\\n"],[6,[37,1],[[32,3,["info"]]],null,[["default"],[{"statements":[[2,"                                                                "],[10,"span"],[14,0,"highlight"],[12],[2,"("],[1,[32,3,["info"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,3,["route"]]],null,[["default","else"],[{"statements":[[2,"                                                                "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                                "],[8,"link-to",[[24,0,"gh-members-activity-object-link"]],[["@route","@model"],[[32,3,["route","name"]],[32,3,["route","model"]]]],[["default"],[{"statements":[[1,[32,3,["object"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,3,["url"]]],null,[["default","else"],[{"statements":[[2,"                                                                "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                                "],[10,"a"],[14,0,"ghost-members-activity-object-link"],[15,6,[31,[[32,3,["url"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,3,["object"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,3,["email"]]],null,[["default"],[{"statements":[[2,"                                                                "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,3,["join"]]],[13],[2,"\\n                                                                "],[8,"gh-email-preview-link",[],[["@data"],[[32,3,["email"]]]],null],[2,"\\n                                                            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                        "],[13],[2,"\\n"],[6,[37,1],[[32,3,["description"]]],null,[["default"],[{"statements":[[2,"                                                            "],[10,"div"],[14,0,"ghost-members-activity-event-description feature-memberAttribution"],[12],[2,"\\n                                                                "],[11,"div"],[24,0,"ghost-members-activity-event-url"],[4,[38,0],["mouseenter",[32,0,["enterLinkURL"]]],null],[4,[38,0],["mouseleave",[32,0,["leaveLinkURL"]]],null],[12],[2,"\\n                                                                    "],[10,"span"],[12],[1,[32,3,["description"]]],[13],[2,"\\n                                                                "],[13],[2,"\\n                                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-member-feed-time"],[12],[2,"\\n                                                    "],[1,[30,[36,4],[[32,3,["timestamp"]]],null]],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[2]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-member-feed-footer"],[12],[2,"\\n                                "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,9],null,[["excludedEvents","member"],[null,[32,4,["id"]]]]]]],[["default"],[{"statements":[[2,"View all member activity â†’"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"member/activity-feed-empty",[],[[],[]],null],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","if","svg-jar","capitalize-first-letter","moment-from-now","parse-member-event","let","-track-array","each","hash","members-event-filter","members-event-fetcher"]}',moduleName:"ghost-admin/components/member/activity-feed.hbs"})
let c=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feature",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),o(this,"linkScrollerTimeout",null),o(this,"excludedEventTypes",["aggregated_click_event"])}enterLinkURL(e){e.stopPropagation()
const t=e.target,i=e.target.querySelector("span")
clearTimeout(this.linkScrollerTimeout),i.offsetWidth>t.offsetWidth&&(this.linkScrollerTimeout=setTimeout((()=>{t.classList.add("scroller"),i.style.transform=`translateX(-${i.offsetWidth-t.offsetWidth+8}px)`}),100))}leaveLinkURL(e){e.stopPropagation(),clearTimeout(this.linkScrollerTimeout)
const t=e.target
e.target.querySelector("span").style.transform="translateX(0)",t.classList.remove("scroller")}},s=l(a.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(a.prototype,"enterLinkURL",[n],Object.getOwnPropertyDescriptor(a.prototype,"enterLinkURL"),a.prototype),l(a.prototype,"leaveLinkURL",[r],Object.getOwnPropertyDescriptor(a.prototype,"leaveLinkURL"),a.prototype),a)
e.default=c,Ember._setComponentTemplate(u,c)})),define("ghost-admin/components/member/newsletter-preference",["exports","@glimmer/component","moment-timezone"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"qfNSLeOG",block:'{"symbols":["newsletter"],"statements":[[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Newsletters"],[13],[2,"\\n"],[10,"div"],[15,0,[31,["gh-main-section-content grey ",[30,[36,7],[[32,0,["suppressionData","suppressed"]],"gh-member-newsletter-section"],null]]]],[12],[2,"\\n"],[6,[37,7],[[32,0,["suppressionData","suppressed"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-member-newsletters"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["newsletters"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-newsletter-row"],[14,"data-test-member-settings-switch",""],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-member-newsletter-title"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[15,0,[31,["for-switch ",[30,[36,2],[[32,0,["suppressionData","suppressed"]],"disabled"],null]]]],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[15,"for",[32,1,["forId"]]],[12],[2,"\\n                            "],[8,"input",[[16,1,[32,1,["forId"]]],[24,3,"subscribed"],[24,"data-test-checkbox","member-subscribed"],[4,[38,4],["click",[30,[36,3],[[32,0,["updateNewsletterPreference"]],[32,1]],null]],null]],[["@checked","@type"],[[32,1,["subscribed"]],"checkbox"]],null],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["suppressionData","suppressed"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-members-no-data gh-member-newsletter-no-data"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["suppressionData","reason"]],"fail"],null]],null,[["default"],[{"statements":[[2,"                "],[1,[30,[36,0],["suppression-notice-bounced"],[["class"],["gh-member-newsletter-icon"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["suppressionData","reason"]],"spam"],null]],null,[["default"],[{"statements":[[2,"                "],[1,[30,[36,0],["suppression-notice-flagged"],[["class"],["gh-member-newsletter-icon"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"h4"],[12],[2,"Email disabled"],[13],[2,"\\n\\n            "],[10,"p"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["suppressionData","reason"]],"fail"],null]],null,[["default"],[{"statements":[[2,"                    Bounced on "],[1,[32,0,["suppressionData","date"]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["suppressionData","reason"]],"spam"],null]],null,[["default"],[{"statements":[[2,"                    Flagged as spam on "],[1,[32,0,["suppressionData","date"]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"a"],[14,0,"midgrey"],[14,6,"https://ghost.org/help/disabled-emails"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-member-newsletter-footer midgrey"],[12],[2,"\\n            If disabled, member will "],[10,"em"],[12],[2,"not"],[13],[2," receive newsletter emails\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","eq","if","fn","on","-track-array","each","unless"]}',moduleName:"ghost-admin/components/member/newsletter-preference.hbs"})
let u=(n=Ember._tracked,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="filterValue",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get newsletters(){return this.args.newsletters?.length>0?this.args.newsletters.map((e=>({name:e.name,description:e.description,subscribed:!!this.args.member?.newsletters?.find((t=>t.id===e.id)),id:e.id,forId:`${e.id}-checkbox`}))):[]}get suppressionData(){const{emailSuppression:e}=this.args.member,t=e?.info?.timestamp,n=t?(0,i.default)(new Date(t)).format("D MMM YYYY"):null
return{suppressed:e?.suppressed,reason:e?.info?.reason,date:n}}updateNewsletterPreference(e,t){let i=[]
const n=this.args.newsletters.find((t=>t.id===e.id))
i=t.target.checked?this.args.member.newsletters.filter((t=>t.id!==e.id)).concat(n):this.args.member.newsletters.filter((t=>t.id!==e.id)),this.args.setMemberNewsletters(i)}},s=o(a.prototype,"filterValue",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"updateNewsletterPreference",[r],Object.getOwnPropertyDescriptor(a.prototype,"updateNewsletterPreference"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/member/subscription-detail-box",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"CqVowznf",block:'{"symbols":["@sub","@index"],"statements":[[11,"button"],[16,0,[31,["flex pointer flex-row items-center gh-cp-membertier-details ",[30,[36,3],[[32,0,["showDetails"]],"\\n    rotate"],null]]]],[24,"aria-label","Show details"],[24,4,"button"],[4,[38,4],["click",[32,0,["toggleSubscriptionExpanded"]]],null],[12],[2,"\\n    Subscription details "],[1,[30,[36,5],["arrow-right-stroke"],null]],[2,"\\n"],[13],[2,"\\n"],[10,"div"],[15,0,[31,["gh-membertier-advanced ",[30,[36,6],[[32,0,["showDetails"]]," hide"],null]]]],[15,"data-test-subscription",[32,2]],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-membertier-details-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-membertier-details"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                CreatedÂ â€”Â "],[10,"span"],[12],[1,[32,1,["startDate"]]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["attribution","referrerSource"]],"Unknown"],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                SourceÂ â€”Â "],[10,"span"],[12],[1,[32,1,["attribution","referrerSource"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,7],[[32,1,["attribution"]],[32,1,["attribution","url"]],[32,1,["attribution","title"]]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                PageÂ â€”Â "],[10,"a"],[15,6,[31,[[32,1,["attribution","url"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,1,["attribution","title"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"],[6,[37,3],[[30,[36,8],[[32,1,["cancellationReason"]],[32,1,["offer"]]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-membertier-offer-cancellation"],[12],[2,"\\n"],[6,[37,3],[[32,1,["cancellationReason"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[12],[2,"Cancellation reason"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-membertier-cancelreason"],[12],[1,[32,1,["cancellationReason"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[32,1,["offer"]]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["offer","type"]],"trial"],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Offer"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-cp-membertier-pricelabel"],[12],[2," "],[1,[32,1,["offer","name"]]],[2," "],[13],[2,"\\n                    â€“ "],[1,[32,1,["offer","amount"]]],[2," days free\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Offer"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-cp-membertier-pricelabel"],[12],[2," "],[1,[32,1,["offer","name"]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["offer","type"]],"fixed"],null]],null,[["default","else"],[{"statements":[[2,"                    â€“ "],[1,[30,[36,0],[[32,1,["offer","currency"]]],null]],[1,[30,[36,1],[[32,1,["offer","amount"]]],null]],[2," off\\n"]],"parameters":[]},{"statements":[[2,"                    â€“ "],[1,[32,1,["offer","amount"]]],[2,"% off\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["currency-symbol","gh-price-amount","eq","if","on","svg-jar","unless","and","or"]}',moduleName:"ghost-admin/components/member/subscription-detail-box.hbs"})
let l=(i=Ember._tracked,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="showDetails",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}toggleSubscriptionExpanded(){this.showDetails=!this.showDetails}},a=s(r.prototype,"showDetails",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"toggleSubscriptionExpanded",[n],Object.getOwnPropertyDescriptor(r.prototype,"toggleSubscriptionExpanded"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/members-activity/event-type-filter",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"rzegwRgQ",block:'{"symbols":["dd","type","idx","@excludedEvents"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition"],["below"]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-btn gh-btn-icon gh-btn-action-icon"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,0,[30,[36,0],[[32,4],"gh-btn-label-green"],null]],[12],[2,"\\n            "],[1,[30,[36,1],["filter"],null]],[2,"\\n            Filter events\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-member-activity-actions-menu dropdown-menu dropdown-triangle-top-right gh-member-activity-actions-menu--suppression"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[2,"        "],[10,"ul"],[14,0,"ember-power-select-options"],[14,"role","listbox"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["eventTypes"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,0],[[32,2,["divider"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"gh-member-activity-actions-menu-divider"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"li"],[14,0,"ember-power-select-option mb0 gh-member-activity-actions-menu-item"],[12],[2,"\\n                    "],[10,"label"],[15,"for",[31,["type-",[32,3]]]],[12],[2,"\\n                        "],[1,[30,[36,1],[[32,2,["icon"]]],[["class"],["gh-member-activity-actions-menu-icon"]]]],[2,"\\n                        "],[10,"span"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[15,"for",[31,["type-",[32,3]]]],[12],[2,"\\n                            "],[11,"input"],[16,"checked",[32,2,["isSelected"]]],[16,1,[31,["type-",[32,3]]]],[24,3,"eventTypes"],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,3],["input",[30,[36,2],[[32,0,["toggleEventType"]],[32,2,["event"]]],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["if","svg-jar","fn","on","-track-array","each"]}',moduleName:"ghost-admin/components/members-activity/event-type-filter.hbs"}),d=[{event:"signup_event",icon:"filter-dropdown-signups",name:"Signups",group:"auth"},{event:"login_event",icon:"filter-dropdown-logins",name:"Logins",group:"auth"},{event:"subscription_event",icon:"filter-dropdown-paid-subscriptions",name:"Paid subscriptions",group:"payments"},{event:"payment_event",icon:"filter-dropdown-payments",name:"Payments",group:"payments"},{event:"newsletter_event",icon:"filter-dropdown-email-subscriptions",name:"Email subscriptions",group:"emails"},{event:"email_opened_event",icon:"filter-dropdown-email-opened",name:"Email opened",group:"emails"},{event:"email_delivered_event",icon:"filter-dropdown-email-received",name:"Email received",group:"emails"},{event:"email_complaint_event",icon:"filter-dropdown-email-flagged-as-spam",name:"Email flagged as spam",group:"emails"},{event:"email_failed_event",icon:"filter-dropdown-email-bounced",name:"Email bounced",group:"emails"}]
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){super(...e),l(this,"settings",s,this),l(this,"feature",o,this)}getAvailableEventTypes(){const e=[...d]
return"off"!==this.settings.commentsEnabled&&e.push({event:"comment_event",icon:"filter-dropdown-comments",name:"Comments",group:"others"}),this.feature.audienceFeedback&&e.push({event:"feedback_event",icon:"filter-dropdown-feedback",name:"Feedback",group:"others"}),this.settings.emailTrackClicks&&e.push({event:"click_event",icon:"filter-dropdown-clicked-in-email",name:"Clicked link in email",group:"others"}),this.args.hiddenEvents?.length?e.filter((e=>!this.args.hiddenEvents.includes(e.event))):e}get eventTypes(){const e=(this.args.excludedEvents||"").split(","),t=this.getAvailableEventTypes()
return t.map(((i,n)=>({event:i.event,icon:i.icon,name:i.name,divider:this.needDivider(i,t[n-1]),isSelected:!e.includes(i.event)})))}needDivider(e,t){return!(!e?.group||!t?.group)&&e.group!==t.group}toggleEventType(e){const t=new Set(this.eventTypes.reject((e=>e.isSelected)).map((e=>e.event)))
t.has(e)?t.delete(e):t.add(e)
const i=Array.from(t).join(",")
this.args.onChange(i||null)}},s=u(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"toggleEventType",[r],Object.getOwnPropertyDescriptor(a.prototype,"toggleEventType"),a.prototype),a)
e.default=p,Ember._setComponentTemplate(c,p)})),define("ghost-admin/components/members-activity/member-filter-trigger",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"lWb3OU/5",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Filter member "],[1,[30,[36,0],["arrow-down-small"],null]],[13],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/members-activity/member-filter-trigger.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/members-activity/member-filter",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"0Jag35vX",block:'{"symbols":["member","@selected","@onChange"],"statements":[[6,[37,3],[[32,2]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,3],null],null]],null],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-btn-label-green"],[12],[2,"\\n            Clear member Ã—\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"power-select",[],[["@searchEnabled","@search","@selected","@onChange","@triggerClass","@dropdownClass","@triggerComponent","@placeholder","@extra"],[false,[30,[36,0],[[32,0,["searchMembersTask"]]],null],[32,2],[32,3],"gh-member-filter-search-trigger","gh-member-filter-search-dropdown",[30,[36,1],["gh-input-with-select/trigger"],null],"Search members",[30,[36,2],null,[["showSearchMessage"],[false]]]]],[["default"],[{"statements":[[2,"\\n        "],[6,[37,3],[[32,1,["name"]]],null,[["default"],[{"statements":[[10,"strong"],[12],[1,[32,1,["name"]]],[13]],"parameters":[]}]]],[2,"\\n        "],[10,"span"],[12],[1,[32,1,["email"]]],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["perform","component","hash","if","fn","on"]}',moduleName:"ghost-admin/components/members-activity/member-filter.hbs"})
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="store",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}clear(){this.args.onChange(null)}*searchMembersTask(e){return yield(0,i.timeout)(300),yield this.store.query("member",{search:e,limit:20})}},s=o(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"clear",[r],Object.getOwnPropertyDescriptor(a.prototype,"clear"),a.prototype),o(a.prototype,"searchMembersTask",[i.task],Object.getOwnPropertyDescriptor(a.prototype,"searchMembersTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/members-activity/no-events",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Y8HdtTHL",block:'{"symbols":["@filter"],"statements":[[10,"div"],[14,0,"no-posts-box"],[12],[2,"\\n    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n        "],[1,[30,[36,1],["activity-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n"],[6,[37,2],[[32,1]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h4"],[12],[2,"No activities match the current filter"],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-lg"]],[["@route","@query"],["members-activity",[30,[36,0],["members-activity"],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[2,"Show all activity"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h4"],[12],[2,"No member activity yet"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["reset-query-params","svg-jar","if"]}',moduleName:"ghost-admin/components/members-activity/no-events.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/members-activity/table-row",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"GOg423PI",block:'{"symbols":["event","@hideMemberColumn","@hasMultipleNewsletters","@event"],"statements":[[6,[37,8],[[30,[36,7],[[32,4],[32,3]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"tr"],[12],[2,"\\n"],[6,[37,3],[[32,2]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                "],[8,"link-to",[],[["@route","@query"],["members-activity",[30,[36,2],null,[["member"],[[32,1,["member","id"]]]]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                        "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,1,["member"]],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n                        "],[10,"div"],[14,0,"w-80"],[12],[2,"\\n                            "],[10,"h3"],[15,0,[31,["ma0 pa0 gh-members-list-name ",[30,[36,3],[[32,1,["member","name"]],"gh-members-name-noname"],null]]]],[12],[1,[32,1,["subject"]]],[13],[2,"\\n"],[6,[37,1],[[32,1,["member","name"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,1,["member","email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-activity-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-members-activity-icon"],[12],[1,[30,[36,4],[[32,1,["icon"]]],null]],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-members-activity-event"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-members-activity-description feature-memberAttribution"],[12],[2,"\\n                        "],[10,"span"],[14,0,"gh-members-activity-event-text"],[12],[1,[30,[36,5],[[32,1,["action"]]],null]],[13],[2,"\\n"],[6,[37,1],[[32,1,["info"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"highlight"],[12],[2,"("],[1,[32,1,["info"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,1,["route"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,1,["join"]]],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-members-activity-object-link"]],[["@route","@model"],[[32,1,["route","name"]],[32,1,["route","model"]]]],[["default"],[{"statements":[[1,[32,1,["object"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["url"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-members-activity-event-join"],[12],[1,[32,1,["join"]]],[13],[2,"\\n                            "],[10,"a"],[14,0,"ghost-members-activity-object-link"],[15,6,[31,[[32,1,["url"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,1,["object"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["email"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"gh-members-activity-event-dash"],[12],[2,"â€“"],[13],[2,"\\n                            "],[8,"gh-email-preview-link",[],[["@data"],[[32,1,["email"]]]],null],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,1],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"ghost-members-activity-event-description feature-memberAttribution"],[12],[2,"\\n                            "],[11,"div"],[24,0,"ghost-members-activity-event-url"],[4,[38,0],["mouseenter",[32,0,["enterLinkURL"]]],null],[4,[38,0],["mouseleave",[32,0,["leaveLinkURL"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[1,[32,1,["description"]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-data gh-list-data-date"],[12],[1,[30,[36,6],[[32,1,["timestamp"]],"DD MMM YYYY HH:mm"],null]],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["on","if","hash","unless","svg-jar","capitalize-first-letter","moment-format","parse-member-event","let"]}',moduleName:"ghost-admin/components/members-activity/table-row.hbs"})
let l=(i=Ember._action,n=Ember._action,s((r=class extends t.default{constructor(...e){super(...e),a(this,"linkScrollerTimeout",null)}enterLinkURL(e){e.stopPropagation()
const t=e.target,i=e.target.querySelector("span")
clearTimeout(this.linkScrollerTimeout),i.offsetWidth>t.offsetWidth&&(this.linkScrollerTimeout=setTimeout((()=>{t.classList.add("scroller"),i.style.transform=`translateX(-${i.offsetWidth-t.offsetWidth+8}px)`}),100))}leaveLinkURL(e){e.stopPropagation(),clearTimeout(this.linkScrollerTimeout)
const t=e.target
e.target.querySelector("span").style.transform="translateX(0)",t.classList.remove("scroller")}}).prototype,"enterLinkURL",[i],Object.getOwnPropertyDescriptor(r.prototype,"enterLinkURL"),r.prototype),s(r.prototype,"leaveLinkURL",[n],Object.getOwnPropertyDescriptor(r.prototype,"leaveLinkURL"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/members-activity/table",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"ChB1tkJQ",block:'{"symbols":["event","@hideMemberColumn","@hasMultipleNewsletters","@events"],"statements":[[10,"table"],[14,0,"gh-list"],[12],[2,"\\n    "],[10,"thead"],[12],[2,"\\n        "],[10,"tr"],[12],[2,"\\n"],[6,[37,0],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"th"],[12],[2,"Member"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"th"],[12],[2,"Event"],[13],[2,"\\n            "],[10,"th"],[12],[2,"Time"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"tbody"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,4]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"members-activity/table-row",[],[["@hideMemberColumn","@event","@hasMultipleNewsletters"],[[32,2],[32,1],[32,3]]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","-track-array","each"]}',moduleName:"ghost-admin/components/members-activity/table.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/members/filter-value",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"b4X+uEmQ",block:'{"symbols":["@filter","@index","@setFilterValue","@onLabelEdit"],"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"name"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Name filter"],[24,"data-test-input","members-filter-value"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email filter"],[24,"data-test-input","members-filter-value"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"label"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-member-label-input",[],[["@onChange","@onLabelEdit","@triggerId","@labels","@allowCreation","@allowEdit","@renderInPlace"],[[30,[36,0],[[32,0,["setLabelsFilterValue"]],[32,1]],null],[32,4],"label-input",[32,1,["value"]],false,true,true]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"tier_id"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative"],[12],[2,"\\n        "],[8,"tiers/segment-select",[],[["@onChange","@tiers","@renderInPlace","@hideOptionsWhenAllSelected"],[[30,[36,0],[[32,0,["setTiersFilterValue"]],[32,1]],null],[32,0,["tierFilterValue"]],true,true]],null],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"offer_redemptions"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative"],[12],[2,"\\n        "],[8,"offers/segment-select",[],[["@onChange","@offers","@renderInPlace","@hideOptionsWhenAllSelected"],[[30,[36,0],[[32,0,["setOffersFilterValue"]],[32,1]],null],[32,0,["offersFilterValue"]],true,true]],null],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["isResourceFilter"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative gh-members-resource-filter"],[12],[2,"\\n         "],[8,"gh-resource-select",[],[["@onChange","@type","@resource"],[[30,[36,0],[[32,0,["setResourceFilterValue"]],[32,1]],null],[32,0,["resourceFilterType"]],[32,0,["resourceFilterValue"]]]],null],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["valueType"]],"options"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n        "],[8,"one-way-select",[[24,"data-test-select","members-filter-value"]],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,1,["value"]],[32,1,["options"]],"name","label","name",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n        "],[1,[30,[36,6],["arrow-down-small"],null]],[2,"\\n    "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email count filter value"],[24,"data-test-input","members-filter-value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_opened_count"],null]],null,[["default","else"],[{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email opened count filter value"],[24,"data-test-input","members-filter-value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["type"]],"email_open_rate"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"relative"],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-input-percentage-label"],[12],[2,"%"],[13],[2,"\\n        "],[11,"input"],[16,2,[32,1,["value"]]],[24,0,"gh-input"],[24,"aria-label","Email open rate filter value"],[24,"data-test-input","members-filter-value"],[24,4,"number"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,5],[[30,[36,2],[[32,1,["type"]],"last_seen_at"],null],[30,[36,2],[[32,1,["type"]],"created_at"],null]],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[[24,"data-test-input","members-filter-value"]],[["@value","@maxDate","@maxDateError","@onChange"],[[32,1,["value"]],[34,4],"Must be in the past",[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,1,["valueType"]],"date"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-date-picker",[[24,"data-test-input","members-filter-value"]],[["@value","@onChange"],[[32,1,["value"]],[30,[36,0],[[32,3],[32,1]],null]]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"input"],[16,2,[32,1,["value"]]],[16,3,[32,2]],[24,0,"gh-input"],[24,"aria-label","filter value"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["updateInputFilterValue"]],[32,1]],null]],null],[4,[38,1],["keypress",[30,[36,0],[[32,0,["updateInputFilterValueOnEnter"]],[32,1]],null]],null],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["fn","on","eq","if","now","or","svg-jar"]}',moduleName:"ghost-admin/components/members/filter-value.hbs"})
let h=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="filterValue",r=this,(n=d)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),this.filterValue=this.args.filter.value}get tierFilterValue(){if("tier_id"===this.args.filter?.type){return(Array.isArray(this.args.filter?.value)?this.args.filter?.value:[]).map((e=>({id:e})))}return[]}get offersFilterValue(){if("offer_redemptions"===this.args.filter?.type){return(Array.isArray(this.args.filter?.value)?this.args.filter?.value:[]).map((e=>({id:e})))}return[]}setInputFilterValue(e,t){this.filterValue=t.target.value}updateInputFilterValue(e,t){"blur"===t.type&&(this.filterValue=t.target.value),this.args.setFilterValue(e,this.filterValue)}updateInputFilterValueOnEnter(e,t){"Enter"===t.key&&(t.preventDefault(),this.args.setFilterValue(e,this.filterValue))}setLabelsFilterValue(e,t){this.args.setFilterValue(e,t.map((e=>e.slug)))}setTiersFilterValue(e,t){this.args.setFilterValue(e,t.map((e=>e.id)))}setOffersFilterValue(e,t){this.args.setFilterValue(e,t.map((e=>e.id)))}get isResourceFilter(){return!!this.args.filter?.isResourceFilter}get resourceFilterType(){return this.isResourceFilter?this.args.filter?.properties?.resource??"":""}get resourceFilterValue(){if(!this.isResourceFilter)return{}
const e=this.args.filter?.resource||void 0,t=this.args.filter?.value||void 0
return e??{id:t}}setResourceFilterValue(e,t){this.args.setResourceValue(e,t)}},d=p(c.prototype,"filterValue",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(c.prototype,"setInputFilterValue",[n],Object.getOwnPropertyDescriptor(c.prototype,"setInputFilterValue"),c.prototype),p(c.prototype,"updateInputFilterValue",[r],Object.getOwnPropertyDescriptor(c.prototype,"updateInputFilterValue"),c.prototype),p(c.prototype,"updateInputFilterValueOnEnter",[a],Object.getOwnPropertyDescriptor(c.prototype,"updateInputFilterValueOnEnter"),c.prototype),p(c.prototype,"setLabelsFilterValue",[s],Object.getOwnPropertyDescriptor(c.prototype,"setLabelsFilterValue"),c.prototype),p(c.prototype,"setTiersFilterValue",[o],Object.getOwnPropertyDescriptor(c.prototype,"setTiersFilterValue"),c.prototype),p(c.prototype,"setOffersFilterValue",[l],Object.getOwnPropertyDescriptor(c.prototype,"setOffersFilterValue"),c.prototype),p(c.prototype,"setResourceFilterValue",[u],Object.getOwnPropertyDescriptor(c.prototype,"setResourceFilterValue"),c.prototype),c)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/members/filter",["exports","@glimmer/component","moment-timezone","@tryghost/nql-lang","ghost-admin/components/members/filters","tracked-built-ins","ember-concurrency"],(function(e,t,i,n,r,a,s){var o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y
function W(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function G(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function K(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const J=Ember.HTMLBars.template({id:"Uyyewx3s",block:'{"symbols":["dd","filter","index","@onLabelEdit","@isFiltered","@parseFilterParamCounter"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@onClose"],["below","right",[32,0,["onDropdownClose"]]]],[["default"],[{"statements":[[2,"\\n\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-btn gh-btn-icon gh-btn-action-icon"],[24,"data-test-button","members-filter-actions"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[11,"span"],[16,0,[31,[[30,[36,3],[[32,5],"gh-btn-label-green"],null]]]],[4,[38,4],[[32,0,["parseDefaultFilters"]],[32,6]],null],[12],[2,"\\n            "],[1,[30,[36,1],["filter"],null]],[2,"\\n            Filter\\n"],[6,[37,3],[[32,5]],null,[["default"],[{"statements":[[2,"            ("],[1,[32,0,["totalFilters"]]],[2,")\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[11,"div"],[24,0,"gh-member-actions-menu gh-filter-builder gh-members-filter-builder dropdown-menu dropdown-triangle-top-right"],[4,[38,5],["anim-fade-in-scale"],null],[12],[2,"\\n            "],[10,"h3"],[12],[2,"Filter list"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-filters"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["filters"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-filter-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"form-group max-width"],[15,"data-test-members-filter",[32,3]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-filter-inputgroup"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                    "],[8,"one-way-select",[[24,"data-test-select","members-filter"]],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@groupLabelPath","@update"],[[32,2,["type"]],[32,0,["availableFilterProperties"]],"name","label","name","group",[30,[36,0],[[32,0,["setFilterType"]],[32,2]],null]]],null],[2,"\\n                                    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                    "],[8,"one-way-select",[[24,"data-test-select","members-filter-operator"]],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,2,["relation"]],[32,2,["relationOptions"]],"name","label","name",[30,[36,0],[[32,0,["setFilterRelation"]],[32,2]],null]]],null],[2,"\\n                                    "],[1,[30,[36,1],["arrow-down-small"],null]],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"members/filter-value",[],[["@index","@filter","@setFilterValue","@setResourceValue","@onLabelEdit"],[[32,3],[32,2],[32,0,["setFilterValue"]],[32,0,["setResourceValue"]],[32,4]]],null],[2,"\\n                                "],[11,"button"],[24,0,"gh-btn gh-btn-text gh-btn-link gh-btn-icon gh-delete-filter"],[24,"title","Delete filter"],[16,"data-test-delete-members-filter",[32,3]],[24,4,"button"],[4,[38,2],["click",[30,[36,0],[[32,0,["deleteFilter"]],[32,2]],null]],null],[12],[2,"\\n                                    "],[1,[30,[36,1],["close"],null]],[2," "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete filter"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"                "],[10,"div"],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-text gh-btn-link green gh-btn-icon gh-add-filter"],[24,"data-test-button","add-members-filter"],[24,4,"button"],[4,[38,2],["click",[32,0,["addFilter"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,1],["plus"],null]],[2," Add filter"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-filter-builder-footer"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","reset-members-filter"],[24,4,"button"],[4,[38,2],["click",[32,0,["resetFilter"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Reset all"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,"data-test-button","members-apply-filter"],[24,4,"button"],[4,[38,2],["click",[30,[36,0],[[32,0,["applyFiltersPressed"]],[32,1]],null]],null],[4,[38,2],["keyup",[32,0,["handleSubmitKeyup"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Apply filters"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["fn","svg-jar","on","if","did-update","css-transition","-track-array","each"]}',moduleName:"ghost-admin/components/members/filter.hbs"})
const X=[{name:"Basic",filters:[r.NAME_FILTER,r.EMAIL_FILTER,r.LABEL_FILTER,r.SUBSCRIBED_FILTER,r.LAST_SEEN_FILTER,r.CREATED_AT_FILTER,r.SIGNUP_ATTRIBUTION_FILTER]},{name:"Subscription",filters:[r.TIER_FILTER,r.STATUS_FILTER,r.PLAN_INTERVAL_FILTER,r.SUBSCRIPTION_STATUS_FILTER,r.SUBSCRIPTION_START_DATE_FILTER,r.NEXT_BILLING_DATE_FILTER,r.SUBSCRIPTION_ATTRIBUTION_FILTER]},{name:"Email",filters:[r.EMAIL_COUNT_FILTER,r.EMAIL_OPENED_COUNT_FILTER,r.EMAIL_OPEN_RATE_FILTER,r.EMAIL_SENT_FILTER,r.EMAIL_OPENED_FILTER,r.EMAIL_CLICKED_FILTER,r.AUDIENCE_FEEDBACK_FILTER]}].flatMap((e=>e.filters.map((t=>(t.group=e.name,t)))))
let Z=(o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,p=K((d=class{constructor(e){W(this,"value",p,this),W(this,"relation",m,this),W(this,"properties",h,this),W(this,"resource",b,this),this.properties=e.properties,this.timezone=e.timezone??"Etc/UTC"
let t=e.properties.relationOptions[0].name
"date"===e.properties.valueType&&(t="is-or-less")
let n=""
"options"===e.properties.valueType&&e.properties.options.length>0?n=e.properties.options[0].name:"array"===e.properties.valueType?n=[]:"date"===e.properties.valueType&&(n=(0,i.default)(i.default.tz(this.timezone).format("YYYY-MM-DD")).toDate()),this.relation=e.relation??t,this.value=e.value??n,"date"===this.properties.valueType&&"string"==typeof this.value&&(this.value=(0,i.default)(i.default.tz(i.default.utc(e.value),this.timezone).format("YYYY-MM-DD")).toDate()),"options"===e.properties.valueType&&(e.properties.options.find((e=>e.name===this.value))||(this.value=n)),this.resource=null}get valueType(){return this.properties.valueType}get type(){return this.properties.name}get isResourceFilter(){return"string"==typeof this.properties.resource&&"string"===this.properties.valueType}get relationOptions(){return this.properties.relationOptions}get options(){return this.properties.options??[]}get isValid(){return Array.isArray(this.value)?!!this.value.length:!!this.value}}).prototype,"value",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=K(d.prototype,"relation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=K(d.prototype,"properties",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=K(d.prototype,"resource",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d),Q=(g=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,k=Ember._tracked,E=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,T=Ember._action,z=Ember._action,x=Ember._action,S=Ember._action,C=Ember._action,M=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,N=(0,s.task)({drop:!0}),L=(0,s.task)({drop:!0}),R=(0,s.task)({drop:!0}),U=(0,s.task)({restartable:!0}),F=class extends t.default{get filterProperties(){let e=X
if(this.newsletters?.length>1){e=e.filter((e=>"subscribed"!==e.name))
const t=e.map(((e,t)=>"Basic"===e.group?t:null)).filter((e=>null!==e)).pop()
e.splice(t+1,0,...(0,r.NEWSLETTERS_FILTER)(this.newsletters))}return this.offers.length>0&&(e=e.concat(r.OFFERS_FILTER)),e=e.filter((e=>!e.feature||this.feature[e.feature])),e=e.filter((e=>!e.setting||this.settings[e.setting])),e}get availableFilterProperties(){let e=this.filterProperties
const t=this.membersUtils.hasMultipleTiers
return e=e.filter((e=>"tier_id"!==e.name||t)),this.settings.paidMembersEnabled||(e=e.reject((e=>"Subscription"===e.group))),"disabled"===this.settings.editorDefaultEmailRecipients&&(e=e.reject((e=>"Email"===e.group))),e}get totalFilters(){return this.filters?.length}constructor(...e){super(...e),W(this,"feature",B,this),W(this,"session",V,this),W(this,"settings",H,this),W(this,"store",q,this),W(this,"membersUtils",$,this),W(this,"filters",Y,this),G(this,"newsletters",void 0),this.parseDefaultFilters()}async parseDefaultFilters(){if(await this.fetchTiers.perform(),await this.fetchNewsletters.perform(),await this.fetchOffers.perform(),this.args.defaultFilterParam){const e=this.validFilters
this.generateNqlFilter(e)!==this.args.defaultFilterParam&&(this.parseNqlFilterString(this.args.defaultFilterParam),this.applyParsedFilter())}}addFilter(){this.filters.push(new Z({properties:r.NAME_FILTER})),this.applySoftFilter()}onDropdownClose(){this.applyFilter()}generateNqlFilter(e){let t=""
return e.forEach((e=>{const n=this.filterProperties.find((t=>t.name===e.type))
if(n.buildNqlFilter)return void(t+=`${n.buildNqlFilter(e)}+`)
const r=this.getFilterRelationOperator(e.relation)
if("array"===n.valueType&&e.value?.length){const i="["+e.value.join(",")+"]"
t+=`${e.type}:${r}${i}+`}else if("string"===n.valueType){let i="'"+e.value.replace(/'/g,"\\'")+"'"
t+=`${e.type}:${r}${i}+`}else if("date"===n.valueType){let n,a=i.default.tz((0,i.default)(e.value).format("YYYY-MM-DD"),this.settings.timezone)
">"===r&&(a=a.set({hour:23,minute:59,second:59})),">="===r&&(a=a.set({hour:0,minute:0,second:0})),"<"===r&&(a=a.set({hour:0,minute:0,second:0})),"<="===r&&(a=a.set({hour:23,minute:59,second:59})),n=`'${a.utc().format("YYYY-MM-DD HH:mm:ss")}'`,t+=`${e.type}:${r}${n}+`}else{const i="string"==typeof e.value&&e.value.includes(" ")?`'${e.value}'`:e.value
t+=`${e.type}:${r}${i}+`}})),t.slice(0,-1)}parseNqlFilterString(e){let t
try{t=n.default.parse(e)}catch(i){return void(this.filters=new a.TrackedArray([]))}this.filters=new a.TrackedArray(this.parseNqlFilter(t))}parseNqlFilter(e){const t=[]
for(const i of this.filterProperties)if(i.parseNqlFilter){const n=i.parseNqlFilter(e)
if(n)return t.push(new Z({properties:i,timezone:this.settings.timezone,...n})),t}if(e.$and)t.push(...this.parseNqlFilters(e.$and))
else if(e.yg)t.push(...this.parseNqlFilter(e.yg))
else{const i=Object.keys(e),n=this.filterProperties.map((e=>e.name))
for(const r of i)if(n.includes(r)){const i=this.parseNqlFilterKey({[r]:e[r]})
i&&t.push(i)}}return t}parseNqlFilters(e){const t=[]
for(const i of e)t.push(...this.parseNqlFilter(i))
return t}parseNqlFilterKey(e){const t=Object.keys(e)[0],i=e[t],n=this.filterProperties.find((e=>e.name===t))
let r,a
if("object"==typeof i){if(void 0!==i.$in&&"array"===n.valueType&&(r="is",a=i.$in),void 0!==i.$nin&&"array"===n.valueType&&(r="is-not",a=i.$nin),void 0!==i.$ne&&(r="is-not",a=i.$ne),void 0!==i.$gt&&(r="is-greater",a=i.$gt),void 0!==i.$gte&&(r="is-or-greater",a=i.$gte),void 0!==i.$lt&&(r="is-less",a=i.$lt),void 0!==i.$lte&&(r="is-or-less",a=i.$lte),void 0!==i.$regex){const e=i.$regex.source
0===e.indexOf("^")?(r="starts-with",a=e.substring(1)):e.indexOf("$")===e.length-1?(r="ends-with",a=e.slice(0,-1)):(r="contains",a=e),a=a.replace(/\\/g,"")}void 0!==i.$not&&(r="does-not-contain",a=i.$not.source,a=a.replace(/\\/g,""))}else r="is",a=i
if("boolean"!=typeof a&&"number"!=typeof a||(a=a.toString()),r&&a){const e=this.filterProperties.find((e=>t===e.name))
if(this.filterProperties.find((e=>t===e.name)))return new Z({properties:e,relation:r,value:a,timezone:this.settings.timezone})}}getFilterRelationOperator(e){return{"is-less":"<","is-or-less":"<=",is:"","is-not":"-","is-greater":">","is-or-greater":">=",contains:"~","does-not-contain":"-~","starts-with":"~^","ends-with":"~$"}[e]||""}handleSubmitKeyup(e){e.preventDefault(),"Enter"===e.key&&this.applyFilter()}deleteFilter(e,t){t.stopPropagation(),t.preventDefault(),1===this.filters.length?this.resetFilter():(this.filters=new a.TrackedArray(this.filters.reject((t=>t===e))),this.applySoftFilter())}setFilterType(e,t){t instanceof Event&&(t=t.target.value)
const i=this.filterProperties.find((e=>e.name===t))
if(!i)return void console.warn("Invalid Filter Type Selected",t)
const n=new Z({properties:i,timezone:this.settings.timezone}),r=this.filters.find((t=>t===e))
this.filters[this.filters.indexOf(r)]=n,n.isValid&&this.applySoftFilter()}setFilterRelation(e,t){e.relation=t,this.applySoftFilter()}setFilterValue(e,t){e.value=t,e.resource=null,this.applySoftFilter()}setResourceValue(e,t){e.value=t.id,e.resource=t,this.applySoftFilter()}get validFilters(){return this.filters.filter((e=>e.isValid))}applySoftFilter(){const e=this.validFilters,t=this.generateNqlFilter(e)
this.args.onApplySoftFilter(t,e),this.fetchFilterResourcesTask.perform()}applyFilter(){const e=this.validFilters,t=this.generateNqlFilter(e)
this.args.onApplyFilter(t,e),this.fetchFilterResourcesTask.perform()}applyFiltersPressed(e){e?.actions.close(),this.applyFilter()}applyParsedFilter(){const e=this.validFilters
this.args.onApplyParsedFilter(e),this.fetchFilterResourcesTask.perform()}resetFilter(){const e=[]
e.push(new Z({properties:r.NAME_FILTER})),this.filters=new a.TrackedArray(e),this.args.onResetFilter()}*fetchTiers(){const e=yield this.store.query("tier",{filter:"type:paid"})
this.tiersList=e}*fetchNewsletters(){const e=yield this.store.query("newsletter",{filter:"status:active"})
return this.newsletters=e,e}*fetchOffers(){const e=yield this.store.query("offer",{filter:"status:active"})
return this.offers=e,e}*fetchFilterResourcesTask(){const e=[]
for(const t of this.filters)t.isResourceFilter&&t.value&&!e.includes(t.value)&&e.push(t.value)
if(e.length>0){const t=yield this.store.query("post",{limit:"all",filter:`id:[${e.join(",")}]`})
for(const e of this.filters)if(e.isResourceFilter&&e.value){const i=t.find((t=>t.id===e.value))
i&&(e.resource=i)}}}},B=K(F.prototype,"feature",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=K(F.prototype,"session",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=K(F.prototype,"settings",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=K(F.prototype,"store",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=K(F.prototype,"membersUtils",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=K(F.prototype,"filters",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a.TrackedArray([new Z({properties:r.NAME_FILTER})])}}),K(F.prototype,"parseDefaultFilters",[E],Object.getOwnPropertyDescriptor(F.prototype,"parseDefaultFilters"),F.prototype),K(F.prototype,"addFilter",[P],Object.getOwnPropertyDescriptor(F.prototype,"addFilter"),F.prototype),K(F.prototype,"onDropdownClose",[O],Object.getOwnPropertyDescriptor(F.prototype,"onDropdownClose"),F.prototype),K(F.prototype,"handleSubmitKeyup",[j],Object.getOwnPropertyDescriptor(F.prototype,"handleSubmitKeyup"),F.prototype),K(F.prototype,"deleteFilter",[_],Object.getOwnPropertyDescriptor(F.prototype,"deleteFilter"),F.prototype),K(F.prototype,"setFilterType",[T],Object.getOwnPropertyDescriptor(F.prototype,"setFilterType"),F.prototype),K(F.prototype,"setFilterRelation",[z],Object.getOwnPropertyDescriptor(F.prototype,"setFilterRelation"),F.prototype),K(F.prototype,"setFilterValue",[x],Object.getOwnPropertyDescriptor(F.prototype,"setFilterValue"),F.prototype),K(F.prototype,"setResourceValue",[S],Object.getOwnPropertyDescriptor(F.prototype,"setResourceValue"),F.prototype),K(F.prototype,"applySoftFilter",[C],Object.getOwnPropertyDescriptor(F.prototype,"applySoftFilter"),F.prototype),K(F.prototype,"applyFilter",[M],Object.getOwnPropertyDescriptor(F.prototype,"applyFilter"),F.prototype),K(F.prototype,"applyFiltersPressed",[D],Object.getOwnPropertyDescriptor(F.prototype,"applyFiltersPressed"),F.prototype),K(F.prototype,"applyParsedFilter",[A],Object.getOwnPropertyDescriptor(F.prototype,"applyParsedFilter"),F.prototype),K(F.prototype,"resetFilter",[I],Object.getOwnPropertyDescriptor(F.prototype,"resetFilter"),F.prototype),K(F.prototype,"fetchTiers",[N],Object.getOwnPropertyDescriptor(F.prototype,"fetchTiers"),F.prototype),K(F.prototype,"fetchNewsletters",[L],Object.getOwnPropertyDescriptor(F.prototype,"fetchNewsletters"),F.prototype),K(F.prototype,"fetchOffers",[R],Object.getOwnPropertyDescriptor(F.prototype,"fetchOffers"),F.prototype),K(F.prototype,"fetchFilterResourcesTask",[U],Object.getOwnPropertyDescriptor(F.prototype,"fetchFilterResourcesTask"),F.prototype),F)
e.default=Q,Ember._setComponentTemplate(J,Q)})),define("ghost-admin/components/members/filters/audience-feedback",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.AUDIENCE_FEEDBACK_FILTER=void 0
const t={label:"Responded with feedback",name:"newsletter_feedback",valueType:"string",resource:"email",relationOptions:[{label:"More like this",name:1},{label:"Less like this",name:0}],feature:"audienceFeedback",buildNqlFilter:e=>`(feedback.post_id:${e.value}+feedback.score:${e.relation})`,parseNqlFilter:e=>{if(e.$and)return 2===e.$and.length&&e.$and[0]["feedback.post_id"]&&void 0!==e.$and[1]["feedback.score"]?{relation:parseInt(e.$and[1]["feedback.score"]),value:e.$and[0]["feedback.post_id"]}:void 0},getColumns:e=>[{label:"Email",getValue:()=>({class:"",text:e.resource?.title??""})},{label:"Feedback",getValue:()=>({class:"gh-members-list-feedback",text:1===e.relation?"More like this":"Less like this",icon:1===e.relation?"event-more-like-this":"event-less-like-this"})}]}
e.AUDIENCE_FEEDBACK_FILTER=t})),define("ghost-admin/components/members/filters/columns/date-column",["exports","moment-timezone"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.getDateColumnValue=function(e,i){if(!e)return null
return{class:"",text:e?t.default.tz(e,i.timezone).format("DD MMM YYYY"):"",subtext:(0,t.default)(e).from((0,t.default)()),subtextClass:"gh-members-list-subscribed-moment"}}})),define("ghost-admin/components/members/filters/created-at",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.CREATED_AT_FILTER=void 0
const i={label:"Created",name:"created_at",valueType:"date",relationOptions:t.DATE_RELATION_OPTIONS}
e.CREATED_AT_FILTER=i})),define("ghost-admin/components/members/filters/email-clicked",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_CLICKED_FILTER=void 0
const i={label:"Clicked email",name:"clicked_links.post_id",valueType:"string",resource:"email",relationOptions:t.MATCH_RELATION_OPTIONS,columnLabel:"Clicked email",setting:"emailTrackClicks",getColumnValue:(e,t)=>({text:t.resource?.title??""})}
e.EMAIL_CLICKED_FILTER=i})),define("ghost-admin/components/members/filters/email-count",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/helpers/format-number"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_COUNT_FILTER=void 0
const n={label:"Emails sent (all time)",name:"email_count",columnLabel:"Email count",valueType:"number",relationOptions:t.NUMBER_RELATION_OPTIONS,getColumnValue:e=>({text:(0,i.formatNumber)(e.emailCount)})}
e.EMAIL_COUNT_FILTER=n})),define("ghost-admin/components/members/filters/email-open-rate",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_OPEN_RATE_FILTER=void 0
const i={label:"Open rate (all time)",name:"email_open_rate",valueType:"number",setting:"emailTrackOpens",relationOptions:t.NUMBER_RELATION_OPTIONS}
e.EMAIL_OPEN_RATE_FILTER=i})),define("ghost-admin/components/members/filters/email-opened-count",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/helpers/format-number"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_OPENED_COUNT_FILTER=void 0
const n={label:"Emails opened (all time)",name:"email_opened_count",columnLabel:"Email opened count",valueType:"number",relationOptions:t.NUMBER_RELATION_OPTIONS,getColumnValue:e=>({text:(0,i.formatNumber)(e.emailOpenedCount)})}
e.EMAIL_OPENED_COUNT_FILTER=n})),define("ghost-admin/components/members/filters/email-opened",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_OPENED_FILTER=void 0
const i={label:"Opened email",name:"opened_emails.post_id",valueType:"string",resource:"email",relationOptions:t.MATCH_RELATION_OPTIONS,columnLabel:"Opened email",setting:"emailTrackOpens",getColumnValue:(e,t)=>({text:t.resource?.title??""})}
e.EMAIL_OPENED_FILTER=i})),define("ghost-admin/components/members/filters/email-sent",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_SENT_FILTER=void 0
const i={label:"Sent email",name:"emails.post_id",valueType:"string",resource:"email",relationOptions:t.MATCH_RELATION_OPTIONS,columnLabel:"Sent email",getColumnValue:(e,t)=>({text:t.resource?.title??""})}
e.EMAIL_SENT_FILTER=i})),define("ghost-admin/components/members/filters/email",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.EMAIL_FILTER=void 0
const i={label:"Email",name:"email",valueType:"string",relationOptions:t.CONTAINS_RELATION_OPTIONS}
e.EMAIL_FILTER=i})),define("ghost-admin/components/members/filters/index",["exports","ghost-admin/components/members/filters/name","ghost-admin/components/members/filters/email","ghost-admin/components/members/filters/label","ghost-admin/components/members/filters/subscribed","ghost-admin/components/members/filters/last-seen","ghost-admin/components/members/filters/created-at","ghost-admin/components/members/filters/signup-attribution","ghost-admin/components/members/filters/tier","ghost-admin/components/members/filters/status","ghost-admin/components/members/filters/plan-interval","ghost-admin/components/members/filters/subscription-status","ghost-admin/components/members/filters/subscription-start-date","ghost-admin/components/members/filters/next-billing-date","ghost-admin/components/members/filters/subscription-attribution","ghost-admin/components/members/filters/email-count","ghost-admin/components/members/filters/email-opened","ghost-admin/components/members/filters/email-clicked","ghost-admin/components/members/filters/email-opened-count","ghost-admin/components/members/filters/email-open-rate","ghost-admin/components/members/filters/email-sent","ghost-admin/components/members/filters/audience-feedback","ghost-admin/components/members/filters/offers"],(function(e,t,i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(i){"default"!==i&&"__esModule"!==i&&(i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}}))})),Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))})),Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})),Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}}))})),Object.keys(a).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===a[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))})),Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===s[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}}))})),Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===o[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))})),Object.keys(l).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===l[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))})),Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===u[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))})),Object.keys(c).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===c[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))})),Object.keys(d).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===d[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))})),Object.keys(p).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===p[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return p[t]}}))})),Object.keys(m).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===m[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return m[t]}}))})),Object.keys(h).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===h[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return h[t]}}))})),Object.keys(b).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===b[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return b[t]}}))})),Object.keys(g).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===g[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return g[t]}}))})),Object.keys(f).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===f[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))})),Object.keys(v).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===v[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return v[t]}}))})),Object.keys(y).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===y[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return y[t]}}))})),Object.keys(w).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===w[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return w[t]}}))})),Object.keys(k).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===k[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return k[t]}}))})),Object.keys(E).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===E[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return E[t]}}))}))})),define("ghost-admin/components/members/filters/label",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.LABEL_FILTER=void 0
const i={label:"Label",name:"label",valueType:"array",columnLabel:"Label",relationOptions:t.MATCH_RELATION_OPTIONS,getColumnValue:e=>({class:"gh-members-list-labels",text:(e.labels??[]).map((e=>e.name)).join(", ")})}
e.LABEL_FILTER=i})),define("ghost-admin/components/members/filters/last-seen",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/components/members/filters/columns/date-column"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.LAST_SEEN_FILTER=void 0
const n={label:"Last seen",name:"last_seen_at",valueType:"date",columnLabel:"Last seen at",relationOptions:t.DATE_RELATION_OPTIONS,getColumnValue:(e,t)=>(0,i.getDateColumnValue)(e.lastSeenAtUTC,t)}
e.LAST_SEEN_FILTER=n}))
define("ghost-admin/components/members/filters/name",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.NAME_FILTER=void 0
const i={label:"Name",name:"name",valueType:"string",relationOptions:t.CONTAINS_RELATION_OPTIONS}
e.NAME_FILTER=i})),define("ghost-admin/components/members/filters/next-billing-date",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/components/members/filters/columns/date-column","ghost-admin/helpers/most-recently-updated"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.NEXT_BILLING_DATE_FILTER=void 0
const r={label:"Next billing date",name:"subscriptions.current_period_end",valueType:"date",columnLabel:"Next billing date",relationOptions:t.DATE_RELATION_OPTIONS,getColumnValue:(e,t)=>{const r=(0,n.mostRecentlyUpdated)(e.subscriptions)
return(0,i.getDateColumnValue)(r?.current_period_end,t)}}
e.NEXT_BILLING_DATE_FILTER=r})),define("ghost-admin/components/members/filters/offers",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.OFFERS_FILTER=void 0
const i={label:"Offers",name:"offer_redemptions",group:"Subscription",relationOptions:t.MATCH_RELATION_OPTIONS,valueType:"array",columnLabel:"Offers redeemed",getColumnValue:e=>({class:"gh-members-list-labels",text:(e.subscriptions??[]).map((e=>e.offer?.name)).join(", ")})}
e.OFFERS_FILTER=i})),define("ghost-admin/components/members/filters/plan-interval",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/helpers/capitalize-first-letter","ghost-admin/helpers/most-recently-updated"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.PLAN_INTERVAL_FILTER=void 0
const r={label:"Billing period",name:"subscriptions.plan_interval",columnLabel:"Billing period",relationOptions:t.MATCH_RELATION_OPTIONS,valueType:"options",options:[{label:"Monthly",name:"month"},{label:"Yearly",name:"year"}],getColumnValue:e=>{const t=(0,n.mostRecentlyUpdated)(e.subscriptions)
return t?{text:(0,i.capitalizeFirstLetter)(t.price?.interval)}:null}}
e.PLAN_INTERVAL_FILTER=r})),define("ghost-admin/components/members/filters/relation-options/contains",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CONTAINS_RELATION_OPTIONS=void 0
e.CONTAINS_RELATION_OPTIONS=[{label:"is",name:"is"},{label:"contains",name:"contains"},{label:"does not contain",name:"does-not-contain"},{label:"starts with",name:"starts-with"},{label:"ends with",name:"ends-with"}]})),define("ghost-admin/components/members/filters/relation-options/date",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DATE_RELATION_OPTIONS=void 0
e.DATE_RELATION_OPTIONS=[{label:"before",name:"is-less"},{label:"on or before",name:"is-or-less"},{label:"after",name:"is-greater"},{label:"on or after",name:"is-or-greater"}]})),define("ghost-admin/components/members/filters/relation-options/index",["exports","ghost-admin/components/members/filters/relation-options/contains","ghost-admin/components/members/filters/relation-options/match","ghost-admin/components/members/filters/relation-options/date","ghost-admin/components/members/filters/relation-options/number"],(function(e,t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(i){"default"!==i&&"__esModule"!==i&&(i in e&&e[i]===t[i]||Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[i]}}))})),Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===i[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}}))})),Object.keys(n).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===n[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}}))})),Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&(t in e&&e[t]===r[t]||Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}}))}))})),define("ghost-admin/components/members/filters/relation-options/match",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MATCH_RELATION_OPTIONS=void 0
e.MATCH_RELATION_OPTIONS=[{label:"is",name:"is"},{label:"is not",name:"is-not"}]})),define("ghost-admin/components/members/filters/relation-options/number",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.NUMBER_RELATION_OPTIONS=void 0
e.NUMBER_RELATION_OPTIONS=[{label:"is",name:"is"},{label:"is greater than",name:"is-greater"},{label:"is less than",name:"is-less"}]})),define("ghost-admin/components/members/filters/signup-attribution",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.SIGNUP_ATTRIBUTION_FILTER=void 0
const i={label:"Signed up on post/page",name:"signup",valueType:"string",resource:"post",relationOptions:t.MATCH_RELATION_OPTIONS,columnLabel:"Signed up on",setting:"membersTrackSources",getColumnValue:(e,t)=>({text:t.resource?.title??""})}
e.SIGNUP_ATTRIBUTION_FILTER=i})),define("ghost-admin/components/members/filters/status",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.STATUS_FILTER=void 0
const i={label:"Member status",name:"status",relationOptions:t.MATCH_RELATION_OPTIONS,valueType:"options",options:[{label:"Paid",name:"paid"},{label:"Free",name:"free"},{label:"Complimentary",name:"comped"}]}
e.STATUS_FILTER=i})),define("ghost-admin/components/members/filters/subscribed",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBSCRIBED_FILTER=e.NEWSLETTERS_FILTER=void 0
const i={label:"Newsletter subscription",name:"subscribed",columnLabel:"Subscribed",relationOptions:t.MATCH_RELATION_OPTIONS,valueType:"options",buildNqlFilter:e=>{const t=e.relation,i=e.value
return"is"===t&&"true"===i||"is-not"===t&&"false"===i?"(subscribed:true+email_disabled:0)":"(subscribed:false,email_disabled:1)"},parseNqlFilter:e=>{const t=e.$and||e.$or
if(!t||2!==t.length)return
if(void 0===t[0].subscribed||void 0===t[1].email_disabled)return
return{value:t[0].subscribed?"true":"false",relation:"is"}},options:[{label:"Subscribed",name:"true"},{label:"Unsubscribed",name:"false"}],getColumnValue:(e,t)=>{const i=t.relation,n=t.value
return{text:"is"===i&&"true"===n||"is-not"===i&&"false"===n?"Subscribed":"Unsubscribed"}}}
e.SUBSCRIBED_FILTER=i
e.NEWSLETTERS_FILTER=e=>{let i=[]
return e.forEach((e=>{const n={label:e.name,name:`newsletters.slug:${e.slug}`,relationOptions:t.MATCH_RELATION_OPTIONS,group:"Newsletters",valueType:"options",buildNqlFilter:t=>{const i=t.relation,n=t.value
return"is"===i&&"true"===n||"is-not"===i&&"false"===n?`(newsletters.slug:${e.slug}+email_disabled:0)`:`(newsletters.slug:-${e.slug},email_disabled:1)`},parseNqlFilter:t=>{const i=t.$and||t.$or
if(!i||2!==i.length)return
if(!i[0]["newsletters.slug"]||void 0===i[1].email_disabled)return
let n=i[0]["newsletters.slug"],r=!1
if("object"==typeof n){if(!n.$ne)return
r=!0,n=n.$ne}return n===e.slug?{value:r?"false":"true",relation:"is"}:void 0},options:[{label:"Subscribed",name:"true"},{label:"Unsubscribed",name:"false"}]}
i.push(n)})),i}})),define("ghost-admin/components/members/filters/subscription-attribution",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBSCRIPTION_ATTRIBUTION_FILTER=void 0
const i={label:"Subscription started on post/page",name:"conversion",valueType:"string",resource:"post",relationOptions:t.MATCH_RELATION_OPTIONS,columnLabel:"Subscription started on",setting:"membersTrackSources",getColumnValue:(e,t)=>({text:t.resource?.title??""})}
e.SUBSCRIPTION_ATTRIBUTION_FILTER=i})),define("ghost-admin/components/members/filters/subscription-start-date",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/components/members/filters/columns/date-column","ghost-admin/helpers/most-recently-updated"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBSCRIPTION_START_DATE_FILTER=void 0
const r={label:"Paid start date",name:"subscriptions.start_date",valueType:"date",columnLabel:"Paid start date",relationOptions:t.DATE_RELATION_OPTIONS,getColumnValue:(e,t)=>{const r=(0,n.mostRecentlyUpdated)(e.subscriptions)
return(0,i.getDateColumnValue)(r?.start_date,t)}}
e.SUBSCRIPTION_START_DATE_FILTER=r})),define("ghost-admin/components/members/filters/subscription-status",["exports","ghost-admin/components/members/filters/relation-options","ghost-admin/helpers/capitalize-first-letter","ghost-admin/helpers/most-recently-updated"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.SUBSCRIPTION_STATUS_FILTER=void 0
const r={label:"Stripe subscription status",name:"subscriptions.status",columnLabel:"Subscription Status",relationOptions:t.MATCH_RELATION_OPTIONS,valueType:"options",options:[{label:"Active",name:"active"},{label:"Trialing",name:"trialing"},{label:"Canceled",name:"canceled"},{label:"Unpaid",name:"unpaid"},{label:"Past Due",name:"past_due"},{label:"Incomplete",name:"incomplete"},{label:"Incomplete - Expired",name:"incomplete_expired"}],getColumnValue:e=>{const t=(0,n.mostRecentlyUpdated)(e.subscriptions)
return t?{text:(0,i.capitalizeFirstLetter)(t.status)}:null}}
e.SUBSCRIPTION_STATUS_FILTER=r})),define("ghost-admin/components/members/filters/tier",["exports","ghost-admin/components/members/filters/relation-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.TIER_FILTER=void 0
const i={label:"Membership tier",name:"tier_id",valueType:"array",columnLabel:"Membership tier",relationOptions:t.MATCH_RELATION_OPTIONS,getColumnValue:e=>({class:"gh-members-list-labels",text:(e.tiers??[]).map((e=>e.name)).join(", ")})}
e.TIER_FILTER=i})),define("ghost-admin/components/members/list-item-column",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"jyVylTzd",block:'{"symbols":["@member","@query"],"statements":[[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"],[16,"data-test-table-data",[32,0,["columnName"]]]],[["@route","@model","@query"],["member",[32,1],[32,2]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,1],[[32,0,["columnValue"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[15,0,[32,0,["columnValue","class"]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["columnValue","icon"]]],null,[["default"],[{"statements":[[2,"                "],[1,[30,[36,0],[[32,0,["columnValue","icon"]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"span"],[12],[1,[32,0,["columnValue","text"]]],[13],[2,"\\n"],[6,[37,1],[[32,0,["columnValue","subtext"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["midlightgrey ",[32,0,["columnValue","subtextClass"]]]]],[12],[1,[32,0,["columnValue","subtext"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if"]}',moduleName:"ghost-admin/components/members/list-item-column.hbs"})
class n extends t.default{constructor(...e){super(...e)}get columnName(){return this.args.filterColumn.name}get columnValue(){return this.args.filterColumn?.getValue?this.args.filterColumn?.getValue(this.args.member):null}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/members/list-item-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"rExk1WC1",block:'{"symbols":["@filterColumns"],"statements":[[10,"tr"],[14,"data-test-list","members-list-item"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-list-data gh-members-list-basic gh-list-loadingcell"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-list-loading-title"],[12],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-list-loading-detail"],[12],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,1]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-list-data"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["-track-array","each"]}',moduleName:"ghost-admin/components/members/list-item-loading.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/members/list-item",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"cF5n1yrv",block:'{"symbols":["filterColumn","@member","@query","@newsletterEnabled","@filterColumns"],"statements":[[10,"tr"],[14,"data-test-list","members-list-item"],[15,"data-test-member",[32,2,["id"]]],[12],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data"],[24,"data-test-table-data","details"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n            "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,2],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n            "],[10,"div"],[14,0,"w-80"],[12],[2,"\\n                "],[10,"h3"],[15,0,[31,["ma0 pa0 gh-members-list-name ",[30,[36,6],[[32,2,["name"]],"gh-members-name-noname"],null]]]],[12],[1,[30,[36,10],[[32,2,["name"]],[32,2,["email"]]],null]],[13],[2,"\\n"],[6,[37,3],[[32,2,["name"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,2,["email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["hasMultipleTiers"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data"],[24,"data-test-table-data","status"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[12],[1,[30,[36,9],[[32,2,["status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"midgrey"],[12],[1,[32,0,["tiers"]]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data"],[24,"data-test-table-data","status"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["status"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[12],[1,[30,[36,9],[[32,2,["status"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"-"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[32,4]],null,[["default"],[{"statements":[[2,"        "],[8,"link-to",[[16,0,[31,["gh-list-data middarkgrey f8 ",[30,[36,6],[[32,2,["name"]],"gh-members-list-open-rate-noname"],null]]]],[24,"data-test-table-data","open-rate"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,8],[[30,[36,7],[[32,2,["emailOpenRate"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"span"],[12],[1,[32,2,["emailOpenRate"]]],[2,"%"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"N/A"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"link-to",[[16,0,[31,["gh-list-data middarkgrey f8 ",[30,[36,6],[[32,2,["name"]],"gh-members-geolocation-noname"],null]]]],[24,"data-test-table-data","location"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,2,["geolocation"]],[32,2,["geolocation","country"]]],null]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,5],[[30,[36,4],[[32,2,["geolocation","country_code"]],"US"],null],[32,2,["geolocation","region"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[1,[32,2,["geolocation","region"]]],[2,", US\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,2,["geolocation","country"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,2,["geolocation","country"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"Unknown"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"Unknown"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8"],[24,"data-test-table-data","created-at"]],[["@route","@model","@query"],["member",[32,2],[32,3]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[32,2,["createdAtUTC"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[12],[1,[30,[36,1],[[30,[36,0],[[32,2,["createdAtUTC"]]],null],"DD MMM YYYY"],null]],[13],[2,"\\n            "],[10,"div"],[14,0,"midlightgrey gh-members-list-subscribed-moment"],[12],[1,[30,[36,2],[[32,2,["createdAtUTC"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,5]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[8,"members/list-item-column",[],[["@member","@filterColumn","@query"],[[32,2],[32,1],[32,3]]],null],[2,"\\n"]],"parameters":[1]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["moment-site-tz","moment-format","moment-from-now","if","eq","and","unless","is-empty","not","capitalize","or","-track-array","each"]}',moduleName:"ghost-admin/components/members/list-item.hbs"})
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="store",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}get hasMultipleTiers(){return this.store.peekAll("tier")?.length>1}get tiers(){return(this.args.member?.tiers||[]).map((e=>e.name)).join(", ")}},o=n.prototype,l="store",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/members/modals/bulk-add-label",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"wKRvxVb/",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","add-label-members"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Add Label"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[14,"data-test-state","add-complete"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","add-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        Label added to\\n                        "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","add-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[14,"data-test-bulk-label-add-errors",""],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                Failed to add label to "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","invalid-count"],[12],[2," "],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[14,"data-test-state","add-label-unconfirmed"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-member-single-label-input",[],[["@onChange","@triggerId"],[[32,0,["setLabel"]],"label-input"]],null],[2,"\\n                        "],[10,"p"],[14,0,"mt2 ml1"],[12],[2,"\\n                            Will be added to the currently selected "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","member-count"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-modal"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@disabled","@task","@class"],["Add Label","Added",[32,0,["isDisabled"]],[32,0,["addLabelTask"]],"gh-btn gh-btn-green gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/members/modals/bulk-add-label.hbs"})
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=(0,i.task)({drop:!0}),c=class extends t.default{constructor(...e){super(...e),g(this,"ajax",d,this),g(this,"ghostPaths",p,this),g(this,"error",m,this),g(this,"response",h,this),g(this,"selectedLabel",b,this)}get isDisabled(){return!this.args.data.query||!this.selectedLabel}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*addLabelTask(){try{const e=new URLSearchParams(this.args.data.query),t=`${this.ghostPaths.url.api("members/bulk")}?${e}`,i=yield this.ajax.put(t,{data:{bulk:{action:"addLabel",meta:{label:{id:this.selectedLabel}}}}})
return this.args.data.onComplete?.(),this.response=i?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},d=f(c.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(c.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(c.prototype,"response",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f(c.prototype,"selectedLabel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(c.prototype,"setLabel",[l],Object.getOwnPropertyDescriptor(c.prototype,"setLabel"),c.prototype),f(c.prototype,"addLabelTask",[u],Object.getOwnPropertyDescriptor(c.prototype,"addLabelTask"),c.prototype),c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/members/modals/bulk-delete",["exports","@glimmer/component","ghost-admin/config/environment","fetch","moment-timezone","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"D97KxEda",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","delete-members"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Delete selected members?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[14,"data-test-state","delete-complete"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","delete-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","deleted-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully deleted\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[14,"data-test-bulk-delete-errors",""],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","invalid-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                                failed to delete\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[14,"data-test-state","delete-unconfirmed"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            You\'re about to delete\\n                            "],[10,"strong"],[14,"data-test-text","delete-count"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,".\\n                            This is permanent! All Ghost data will be deleted, this will have no effect on subscriptions in Stripe.\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            A backup of your selection will be automatically downloaded to your device before deletion.\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-modal"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Download backup & delete members","Deleted",[32,0,["bulkDeleteTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/members/modals/bulk-delete.hbs"})
let w=(s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=(0,a.task)({drop:!0}),p=class extends t.default{constructor(...e){super(...e),f(this,"ajax",m,this),f(this,"ghostPaths",h,this),f(this,"error",b,this),f(this,"response",g,this)}get isDisabled(){return!this.args.data.query}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*bulkDeleteTask(){try{const e=new URLSearchParams(this.args.data.query),t=new URLSearchParams(this.args.data.query)
t.set("limit","all")
const a=`${this.ghostPaths.url.api("members/upload")}?${t.toString()}`
yield(0,n.default)(a,{method:"GET"}).then((e=>e.blob())).then((e=>{const t=window.URL.createObjectURL(e),n=document.createElement("a")
n.href=t,n.download=`members.${(0,r.default)().format("YYYY-MM-DD")}.csv`,document.body.appendChild(n),"test"!==i.default.environment&&n.click(),n.remove(),URL.revokeObjectURL(t)}))
const s=`${this.ghostPaths.url.api("members")}?${e}`,o=yield this.ajax.del(s)
return this.response=o.meta,this.args.data.onComplete?.(),!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},m=v(p.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"error",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(p.prototype,"response",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v(p.prototype,"setLabel",[c],Object.getOwnPropertyDescriptor(p.prototype,"setLabel"),p.prototype),v(p.prototype,"bulkDeleteTask",[d],Object.getOwnPropertyDescriptor(p.prototype,"bulkDeleteTask"),p.prototype),p)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/members/modals/bulk-remove-label",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"4gx4hxXm",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","remove-label-members"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Remove Label"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[14,"data-test-state","remove-complete"],[12],[2,"\\n"],[6,[37,2],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","remove-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        Label removed from\\n                        "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","remove-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,2],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[14,"data-test-bulk-label-add-errors",""],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                Failed to remove label from  "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","invalid-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[14,"data-test-state","remove-label-unconfirmed"],[12],[2,"\\n"],[6,[37,2],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-member-single-label-input",[],[["@onChange","@triggerId"],[[32,0,["setLabel"]],"label-input"]],null],[2,"\\n                        "],[10,"p"],[14,0,"mt2 ml1"],[12],[2,"\\n                            Will be removed from the currently selected "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","member-count"],[12],[1,[30,[36,1],[[32,1,["count"]],"member"],null]],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,2],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-modal"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@disabled","@buttonText","@successText","@task","@class"],[[32,0,["isDisabled"]],"Remove Label","Removed",[32,0,["removeLabelTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","gh-pluralize","if","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/members/modals/bulk-remove-label.hbs"})
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=(0,i.task)({drop:!0}),c=class extends t.default{constructor(...e){super(...e),g(this,"ajax",d,this),g(this,"ghostPaths",p,this),g(this,"error",m,this),g(this,"response",h,this),g(this,"selectedLabel",b,this)}get isDisabled(){return!this.args.data.query||!this.selectedLabel}get hasRun(){return!(!this.error&&!this.response)}setLabel(e){this.selectedLabel=e}*removeLabelTask(){try{const e=new URLSearchParams(this.args.data.query),t=`${this.ghostPaths.url.api("members/bulk")}?${e}`,i=yield this.ajax.put(t,{data:{bulk:{action:"removeLabel",meta:{label:{id:this.selectedLabel}}}}})
return this.args.data.onComplete?.(),this.response=i?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},d=f(c.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(c.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(c.prototype,"error",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(c.prototype,"response",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f(c.prototype,"selectedLabel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f(c.prototype,"setLabel",[l],Object.getOwnPropertyDescriptor(c.prototype,"setLabel"),c.prototype),f(c.prototype,"removeLabelTask",[u],Object.getOwnPropertyDescriptor(c.prototype,"removeLabelTask"),c.prototype),c)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/members/modals/bulk-unsubscribe",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"oEKa87xE",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","unsubscribe-members"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Unsubscribe members from email?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-box pa"],[14,"data-test-state","unsubscribe-complete"],[12],[2,"\\n"],[6,[37,1],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","unsubscribe-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[1,[30,[36,5],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","unsubscribe-count"],[12],[1,[30,[36,2],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                        successfully unsubscribed\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"flex items-start mt2"],[14,"data-test-bulk-delete-errors",""],[12],[2,"\\n                        "],[1,[30,[36,5],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                                "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","invalid-count"],[12],[1,[30,[36,2],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                                failed to unsubscribe\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body"],[14,"data-test-state","unsubscribe-unconfirmed"],[12],[2,"\\n"],[6,[37,1],[[32,3,["query"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[32,3,["query"]]]]]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["hasMultipleNewsletters"]]],null,[["default","else"],[{"statements":[[2,"                         "],[10,"p"],[12],[2,"\\n                            Which newsletter should these\\n                            "],[10,"strong"],[14,"data-test-text","unsubscribe-count"],[12],[1,[30,[36,2],[[32,1,["count"]],"member"],null]],[13],[2," be unsubscribed from?\\n                        "],[13],[2,"\\n                        "],[8,"one-way-select",[[24,"data-test-select","members-single-newsletter-unsubscribe"]],[["@value","@options","@optionLabelPath","@optionValuePath","@optionTargetPath","@update"],[[32,0,["selectedNewsletterId"]],[32,0,["newsletterList"]],"name","value","value",[32,0,["setSelectedNewsletter"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"p"],[12],[2,"\\n                            You\'re about to unsubscribe\\n                            "],[10,"strong"],[14,"data-test-text","unsubscribe-count"],[12],[1,[30,[36,2],[[32,1,["count"]],"member"],null]],[13],[2," from email newsletters.\\n                            Are you sure?\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[12],[2,"No members are selected."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,1],[[32,0,["hasRun"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-modal"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["hasMultipleNewsletters"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@disabled","@buttonText","@successText","@task","@class"],[[32,0,["isDisabled"]],"Unsubscribe members","Unsubscribed",[32,0,["bulkUnsubscribeTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,2]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@disabled","@buttonText","@successText","@task","@class"],[[32,0,["isDisabled"]],"Unsubscribe members","Unsubscribed",[32,0,["bulkUnsubscribeTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","if","gh-pluralize","members-count-fetcher","let","svg-jar"]}',moduleName:"ghost-admin/components/members/modals/bulk-unsubscribe.hbs"})
let E=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=Ember._action,d=(0,i.task)({drop:!0}),p=class extends t.default{constructor(...e){super(...e),y(this,"ajax",m,this),y(this,"ghostPaths",h,this),y(this,"store",b,this),y(this,"error",g,this),y(this,"response",f,this),y(this,"selectedNewsletterId",v,this)}get isDisabled(){return!this.args.data.query}get hasRun(){return!(!this.error&&!this.response)}get hasMultipleNewsletters(){return!(this.store.peekAll("newsletter").filter((e=>"archived"!==e.status)).length<=1)}get newsletterList(){const e=this.store.peekAll("newsletter").filter((e=>"archived"!==e.status))
let t=[{name:"All newsletters",value:"all"}]
return e.forEach((e=>{t.push({name:e.name,value:e.id})})),t}setLabel(e){this.selectedLabel=e}setSelectedNewsletter(e){this.selectedNewsletterId="all"===e?null:e}*bulkUnsubscribeTask(){try{let e=this.args.data.query
const t=new URLSearchParams(e),i=`${this.ghostPaths.url.api("members/bulk")}?${t}`,n=yield this.ajax.put(i,{data:{bulk:{action:"unsubscribe",newsletter:this.selectedNewsletterId?this.selectedNewsletterId:null,meta:{}}}})
return this.args.data.onComplete?.(),this.response=n?.bulk?.meta,!0}catch(e){throw e.payload?.errors?this.error=e.payload.errors[0].message:this.error="An unknown error occurred. Please try again.",e}}},m=w(p.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(p.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(p.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(p.prototype,"error",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(p.prototype,"response",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(p.prototype,"selectedNewsletterId",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w(p.prototype,"setLabel",[u],Object.getOwnPropertyDescriptor(p.prototype,"setLabel"),p.prototype),w(p.prototype,"setSelectedNewsletter",[c],Object.getOwnPropertyDescriptor(p.prototype,"setSelectedNewsletter"),p.prototype),w(p.prototype,"bulkUnsubscribeTask",[d],Object.getOwnPropertyDescriptor(p.prototype,"bulkUnsubscribeTask"),p.prototype),p)
e.default=E,Ember._setComponentTemplate(k,E)})),define("ghost-admin/components/members/modals/delete-member",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"qp5BOc5P",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-member"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Delete member account"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[30,[36,2],[[32,1],false],null]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[14,0,"mb6"],[12],[2,"\\n            Permanently delete "],[10,"strong"],[12],[1,[32,2,["member","email"]]],[13],[2," from Ghost.\\n        "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex justify-between"],[12],[2,"\\n                "],[10,"div"],[14,0,"form-group for-checkbox gh-member-cancelstripe-checkbox"],[12],[2,"\\n                    "],[10,"label"],[14,0,"checkbox"],[12],[2,"\\n                        "],[11,"input"],[24,0,"gh-input"],[16,"checked",[32,0,["shouldCancelSubscriptions"]]],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],["shouldCancelSubscriptions",[32,0]],null]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[12],[2,"Also cancel subscription in Stripe"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"If disabled, the memberâ€™s premium subscription will continue"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,1],["click",[30,[36,2],[[32,1],false],null]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],[[30,[36,4],[[32,0,["shouldCancelSubscriptions"]],"Delete member + Cancel subscription","Delete member"],null],"Deleted",[32,0,["deleteMemberTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["toggle","on","fn","svg-jar","if"]}',moduleName:"ghost-admin/components/members/modals/delete-member.hbs"})
let p=(n=Ember.inject.service,r=Ember._tracked,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"shouldCancelSubscriptions",l,this)}get member(){return this.args.data.member}get hasActiveStripeSubscriptions(){const e=this.member.get("subscriptions")
if(!e||0===e.length)return!1
return void 0!==e.find((e=>["active","trialing","unpaid","past_due"].includes(e.status)))}*deleteMemberTask(){const e={adapterOptions:{cancel:this.shouldCancelSubscriptions}}
try{yield this.member.destroyRecord(e),this.args.data.afterDelete?.(),this.args.close(!0)}catch(t){throw this.notifications.showAPIError(t,{key:"member.delete"}),this.args.close(!1),t}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"shouldCancelSubscriptions",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c(s.prototype,"deleteMemberTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deleteMemberTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modal-base",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({tagName:"section",classNames:"modal-content",_previousKeymasterScope:null,closeOnEnter:!0,closeModal:()=>{},didInsertElement(){this._super(...arguments),this._setupShortcuts()},willDestroyElement(){this._super(...arguments),this._removeShortcuts()},actions:{confirm(){throw new Error('You must override the "confirm" action in your modal component')},closeModal(){this.closeModal()}},_setupShortcuts(){Ember.run((function(){document.activeElement.blur()})),this._previousKeymasterScope=key.getScope(),this.closeOnEnter&&key("enter","modal",(()=>{this.send("confirm")})),key("escape","modal",(e=>{e.target.dataset.preventEscapeCloseModal||this.send("closeModal")})),key.setScope("modal")},_removeShortcuts(){key.unbind("enter","modal"),key.unbind("escape","modal"),key.setScope(this._previousKeymasterScope)}})
e.default=t})),define("ghost-admin/components/modal-disconnect-stripe",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"iyKv7rJr",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Are you sure you want to disconnect?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    You\'re about to disconnect your Stripe account \\n"],[6,[37,2],[[32,0,["stripeConnectAccountName"]]],null,[["default"],[{"statements":[[2,"        ("],[1,[32,0,["stripeConnectAccountName"]]],[2,") \\n"]],"parameters":[]}]]],[2,"    from this site. This will automatically turn off paid memberships on this site.\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Disconnect","Disconnected",[32,0,["disconnectStripe"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-disconnect-stripe.hbs"})
var r=Ember._setComponentTemplate(n,t.default.extend({confirm:()=>{},stripeConnectAccountName:Ember.computed.alias("model.stripeConnectAccountName"),actions:{confirm(){this.disconnectStripe.perform()}},disconnectStripe:(0,i.task)((function*(){try{yield this.confirm()}finally{this.send("closeModal")}})).drop()}))
e.default=r})),define("ghost-admin/components/modal-free-membership-settings",["exports","ghost-admin/components/modal-base","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"euODV0YK",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","webhook-form"],[12],[2,"\\n    "],[10,"h1"],[14,"data-test-text","title"],[12],[2,"Free membership settings"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey gh-tier-priceform-block"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Portal display name"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["settings","membersFreePriceName"]]],null],[30,[36,0],[[32,0],"updateName"],[["value"],["target.value"]]],"name","name","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Description"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@value","@input","@name","@id","@class"],[[30,[36,3],[[32,0,["settings","membersFreePriceDescription"]]],null],[30,[36,0],[[32,0],"updateDescription"],[["value"],["target.value"]]],"description","description","gh-input"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["price","errors"]],[32,0,["price","hasValidated"]],"welcome-page"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","welcome-page"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                "],[8,"gh-url-input",[],[["@value","@baseUrl","@setResult","@validateUrl","@placeholder"],[[30,[36,3],[[32,0,["settings","membersFreeSignupRedirect"]]],null],[30,[36,3],[[32,0,["siteUrl"]]],null],[30,[36,0],[[32,0],"setFreeSignupRedirect"],null],[30,[36,0],[[32,0],"validateFreeSignupRedirect"],null],[30,[36,3],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"membersFreeSignupRedirect"]],null],[2,"\\n                "],[10,"p"],[12],[2,"Redirect to this URL after signing up for a free membership"],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["price","errors"]],"welcome-page"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[[24,"data-test-button","save-price"]],[["@buttonText","@task","@class"],["Save",[32,0,["save"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","optional","svg-jar","readonly"]}',moduleName:"ghost-admin/components/modal-free-membership-settings.hbs"})
let g=(r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=(0,n.task)({drop:!0}),l=class extends t.default{constructor(...e){super(...e),p(this,"settings",u,this),p(this,"config",c,this),p(this,"freeSignupRedirect",d,this),m(this,"actions",{closeModal(){this.close()},updateName(e){this.settings.membersFreePriceName=e},updateDescription(e){this.settings.membersFreePriceDescription=e},setFreeSignupRedirect(e){this.freeSignupRedirect=e},validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")}})}get siteUrl(){return this.config.blogUrl}close(e){e?.preventDefault?.(),this.closeModal()}*save(){try{if(this.send("validateFreeSignupRedirect"),0!==this.settings.errors.length)return
yield this.settings.save(),this.send("closeModal")}catch(e){this.notifications.showAPIError(e,{key:"settings.save"})}finally{this.send("closeModal")}}_validateSignupRedirect(e,t){if(this.settings.errors.remove(t),this.settings.hasValidated.removeObject(t),null===e)return this.settings.errors.add(t,"Please enter a valid URL"),this.settings.hasValidated.pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const t=e.href.replace(this.siteUrl,"")
this.settings.type=t}else this.settings.type=e.href}},u=h(l.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"freeSignupRedirect",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"close",[s],Object.getOwnPropertyDescriptor(l.prototype,"close"),l.prototype),h(l.prototype,"save",[o],Object.getOwnPropertyDescriptor(l.prototype,"save"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modal-impersonate-member",["exports","ghost-admin/components/modal-base","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"28ZaXou5",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header flex justify-center"],[12],[2,"\\n    "],[10,"h1"],[14,5,"margin: 0;"],[12],[2,"Impersonate"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex items-center justify-center mt4 mb4"],[12],[2,"\\n        "],[8,"gh-member-avatar",[],[["@member","@sizeClass","@containerClass"],[[32,0,["member"]],[30,[36,3],[[32,0,["member","name"]],"f-headline fw4 lh-zero tracked-1","f-headline fw4 lh-zero tracked-1"],null],"w25 h25 gh-member-detail-avatar"]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"p"],[14,0,"tc pl4 pr4"],[12],[2,"\\n        This is an authentication link to sign into "],[10,"strong"],[12],[1,[32,0,["config","blogTitle"]]],[13],[2," as "],[10,"strong"],[12],[1,[32,0,["member","email"]]],[13],[2,", you can send it to them if they need it, or use it to sign into their account for customer support.\\n    "],[13],[2,"\\n\\n    "],[10,"fieldset"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n            "],[8,"gh-text-input",[[24,"data-test-input","member-signin-url"]],[["@id","@name","@disabled","@value","@placeholder"],["member-signin-url","member-signin-url",true,[30,[36,4],[[32,0,["signinUrl"]]],null],[31,[[32,0,["config","blogUrl"]],"/members/?token=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"]]]],null],[2,"\\n"],[6,[37,3],[[32,0,["signinUrl"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-task-button",[[24,"data-test-button","copy-impersonate-link"]],[["@buttonText","@task","@successText","@class"],["Copy link",[32,0,["copySigninUrl"]],"Link copied","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[8,"gh-task-button",[[24,"data-test-button","impersonate-link-copied"]],[["@buttonText","@task","@successText","@disabled","@class"],["Copy link",[32,0,["copySigninUrl"]],"Link copied","true","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[12],[2,"\\n    "],[10,"p"],[14,0,"tc pt4 mb2"],[12],[2,"This link is only valid for the next "],[10,"strong"],[12],[2,"24 hours"],[13],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","optional","svg-jar","if","readonly"]}',moduleName:"ghost-admin/components/modal-impersonate-member.hbs"})
var s=Ember._setComponentTemplate(a,t.default.extend({store:Ember.inject.service(),classNames:"modal-impersonate-member",signinUrl:null,config:(0,n.inject)(),member:Ember.computed.alias("model"),didInsertElement(){this._super(...arguments),this._signinUrlUpdateTask.perform()},actions:{confirm(){}},copySigninUrl:(0,r.task)((function*(){return(0,i.default)(this.signinUrl),yield(0,r.timeout)(1e3),!0})),_signinUrlUpdateTask:(0,r.task)((function*(){const e=yield this.member.fetchSigninUrl.perform()
this.set("signinUrl",e.url)})).drop()}))
e.default=s})),define("ghost-admin/components/modal-import-content",["exports","ghost-admin/components/modal-base","ghost-admin/utils/ghost-paths","ghost-admin/services/notifications","ghost-admin/services/ajax","ghost-admin/decorators/inject"],(function(e,t,i,n,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"B6vkLpfK",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"gh-content-import-wrapper"],[12],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-content"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Import content"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"UPLOADING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-content"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Uploading"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header icon-center"],[14,"data-test-modal","import-content"],[12],[2,"\\n            "],[1,[30,[36,3],["import-in-progress"],[["class"],["gh-import-content-icon"]]]],[2,"\\n            "],[10,"h1"],[12],[2,"Import in progress"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-content"],[12],[2,"\\n            "],[10,"h1"],[12],[1,[32,0,["errorHeader"]]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"data-test-button","close-import-content"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n        "],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"modal-import-content/content-file-select",[],[["@setFile"],[[30,[36,0],[[32,0],"setFile"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"UPLOADING"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-import-content-spinner"],[12],[2,"\\n                "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content-import-resultcontainer"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-content-import-result-summary"],[12],[2,"\\n                "],[10,"p"],[12],[2,"Your import is being processed, and you\'ll receive a confirmation email as soon as it\'s complete. Usually this only takes a few minutes, but larger imports may take longer."],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"failed flex items-start gh-content-upload-errorcontainer error"],[12],[2,"\\n                "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,3],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["errorMessage"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","close-import-content"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"UPLOADING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","close-import-content"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-content"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Got it"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,4],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["showTryAgainButton"]]],null,[["default"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","restart-import-content"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-content"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"OK"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","if","on","svg-jar","eq"]}',moduleName:"ghost-admin/components/modal-import-content.hbs"})
var o=Ember._setComponentTemplate(s,t.default.extend({ajax:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),state:"INIT",file:null,paramName:"importfile",importResponse:null,errorMessage:null,errorHeader:null,showTryAgainButton:!0,confirm:()=>{},config:(0,a.inject)(),uploadUrl:Ember.computed((function(){return`${(0,i.default)().apiRoot}/db`})),formData:Ember.computed("file",(function(){let e=new FormData
return e.append(this.paramName,this.file),e})),actions:{setFile(e){this.set("file",e),this.generateRequest()},reset(){this.set("errorMessage",null),this.set("errorHeader",null),this.set("file",null),this.set("state","INIT"),this.set("showTryAgainButton",!0)},closeModal(){"UPLOADING"!==this.state&&this._super(...arguments)},confirm(){}},generateRequest(){let e=this.ajax,t=this.formData,i=this.uploadUrl
this.set("state","UPLOADING"),e.post(i,{data:t,processData:!1,contentType:!1,dataType:"text"}).then((()=>{this.set("state","PROCESSING")})).catch((e=>{this._uploadError(e),this.set("state","ERROR")}))},_uploadError(e){let t;(0,r.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),"INVALID_ZIP_FILE_NAME_ENCODING"===(0,r.getErrorCode)(e)?t="The uploaded zip could not be read due to a long or invalid file name. Please remove any special characters from the file name, or alternatively try another archiving tool if using MacOS Archive Utility.":(0,r.isUnsupportedMediaTypeError)(e)?t="The file type you uploaded is not supported.":(0,r.isRequestEntityTooLargeError)(e)?t="The file you uploaded was larger than the maximum file size your server allows.":(console.error(e),t=n.GENERIC_ERROR_MESSAGE),this.set("errorMessage",t),this.set("errorHeader","Import error")}}))
e.default=o})),define("ghost-admin/components/modal-import-content/content-file-select",["exports","@glimmer/component","ghost-admin/services/ajax"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"dsx4QZmA",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"failed flex items-start gh-content-upload-errorcontainer error"],[12],[2,"\\n        "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,0],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n        "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["error","message"]]],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[10,"div"],[14,0,"upload-form br3"],[12],[2,"\\n    "],[11,"section"],[16,0,[31,["gh-image-uploader gh-content-import-uploader ",[32,0,["dragClass"]]]]],[4,[38,2],["drop",[32,0,["drop"]]],null],[4,[38,2],["dragover",[32,0,["dragOver"]]],null],[4,[38,2],["dragleave",[32,0,["dragLeave"]]],null],[12],[2,"\\n        "],[8,"gh-file-input",[[24,"data-test-fileinput","content-import"]],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[32,0,["fileSelected"]],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n            "],[1,[30,[36,0],["upload"],null]],[2,"\\n            "],[10,"div"],[14,0,"description"],[12],[1,[32,0,["labelText"]]],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","on"]}',moduleName:"ghost-admin/components/modal-import-content/content-file-select.hbs"})
let g=(n=Ember._tracked,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),m(this,"labelText","Select or drop a JSON or zip file"),p(this,"error",c,this),p(this,"dragClass",d,this)}fileSelected(e){let[t]=Array.from(e)
try{this._validateFileType(t),this.error=null}catch(i){return void(this.error=i)}this.args.setFile(t)}dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.dragClass="-drag-over"}}dragLeave(e){e.preventDefault(),this.dragClass=null}drop(e){e.preventDefault(),this.dragClass=null,e.dataTransfer.files&&this.fileSelected(e.dataTransfer.files)}_validateFileType(e){let[,t]=/(?:\.([^.]+))?$/.exec(e.name)
if("json"!==t.toLowerCase()&&"zip"!==t.toLowerCase())throw new i.UnsupportedMediaTypeError({message:"The file type you uploaded is not supported"})
return!0}},c=h(u.prototype,"error",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h(u.prototype,"dragClass",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h(u.prototype,"fileSelected",[a],Object.getOwnPropertyDescriptor(u.prototype,"fileSelected"),u.prototype),h(u.prototype,"dragOver",[s],Object.getOwnPropertyDescriptor(u.prototype,"dragOver"),u.prototype),h(u.prototype,"dragLeave",[o],Object.getOwnPropertyDescriptor(u.prototype,"dragLeave"),u.prototype),h(u.prototype,"drop",[l],Object.getOwnPropertyDescriptor(u.prototype,"drop"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(b,g)}))
define("ghost-admin/components/modal-import-members",["exports","ghost-admin/components/modal-base","ghost-admin/utils/ghost-paths","moment-timezone","@tryghost/members-csv/lib/unparse","ghost-admin/services/ajax","ghost-admin/decorators/inject"],(function(e,t,i,n,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"iduFfSrh",block:'{"symbols":["error"],"statements":[[10,"div"],[15,0,[31,["gh-member-import-wrapper ",[30,[36,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null],"wide"],null]]]],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-members"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Import members"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-green"],[12],[2,"Need some help? "],[10,"a"],[14,6,"https://ghost.org/help/import-members/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more"],[13],[2," about importing members or "],[10,"a"],[14,6,"https://static.ghost.org/v4.0.0/files/member-import-template.csv"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"download a sample CSV file"],[13],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-members"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Import members"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header icon-center"],[14,"data-test-modal","import-members"],[12],[2,"\\n            "],[1,[30,[36,3],["import-in-progress"],[["class"],["gh-import-member-icon"]]]],[2,"\\n            "],[10,"h1"],[12],[2,"Import in progress"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header icon-center"],[14,"data-test-modal","import-members"],[12],[2,"\\n"],[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,3],["members-outline"],[["class"],["gh-member-import-icon-members midgrey"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,3],["members-outline"],[["class"],["gh-member-import-icon-members green"]]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                "],[1,[30,[36,3],["confetti"],[["class"],["gh-member-import-icon-confetti"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h1"],[12],[2,"Import complete"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","import-members"],[12],[2,"\\n            "],[10,"h1"],[12],[1,[32,0,["errorHeader"]]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n        "],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"modal-import-members/csv-file-select",[],[["@setFile"],[[30,[36,0],[[32,0],"setFile"],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null],[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"modal-import-members/csv-file-mapping",[],[["@file","@setMappingResult","@setFileData","@showErrors","@disabled"],[[32,0,["file"]],[30,[36,0],[[32,0],"setMappingResult"],null],[30,[36,0],[[32,0],"setMappingFileData"],null],[32,0,["showMappingErrors"]],[30,[36,1],[[30,[36,9],[[30,[36,2],[[32,0,["state"]],"UPLOADING"],null],[30,[36,2],[[32,0,["mappingResult","membersCount"]],0],null]],null],true,false],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-member-import-resultcontainer"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                "],[10,"p"],[12],[2,"Your import is being processed, and youâ€™ll receive a confirmation email as soon as itâ€™s complete. Usually this only takes a few minutes, but larger imports may take longer."],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-member-import-resultcontainer"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"No members were added"],[1,[30,[36,1],[[32,0,["importResponse","errorCount"]]," due to the following errors:","."],null]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"A total of "],[10,"strong"],[12],[1,[30,[36,4],[[32,0,["importResponse","importedCount"]]],null]],[13],[2," "],[1,[30,[36,5],[[32,0,["importResponse","importedCount"]],"person"],[["without-count"],[true]]]],[2," were successfully added or updated in your list of members, and now have access to your site."],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"hr"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-member-import-result-summary"],[12],[2,"\\n                            "],[10,"p"],[12],[10,"strong"],[12],[1,[30,[36,4],[[32,0,["importResponse","errorCount"]]],null]],[13],[2," "],[1,[30,[36,5],[[32,0,["importResponse","errorCount"]],"member"],[["without-count"],[true]]]],[2," "],[1,[30,[36,1],[[30,[36,2],[[32,0,["importResponse","errorCount"]],1],null],"was","were"],null]],[2," skipped due to the following errors:"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-member-import-errorlist"],[12],[2,"\\n                        "],[10,"ul"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["importResponse","errorList"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[1,[32,1,["message"]]],[2," ("],[1,[32,1,["count"]]],[2,") "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"failed flex items-start gh-members-upload-errorcontainer error"],[12],[2,"\\n                "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,3],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["errorMessage"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"INIT"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"MAPPING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Start over"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[16,0,[31,["gh-btn gh-btn-green ",[30,[36,6],[[32,0,["mappingResult","membersCount"]],"disabled"],null]]]],[24,"data-test-button","perform-import"],[24,4,"button"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n"],[6,[37,1],[[32,0,["mappingResult","membersCount"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[12],[2,"Import "],[1,[30,[36,4],[[32,0,["mappingResult","membersCount"]]],null]],[2," "],[1,[30,[36,5],[[32,0,["mappingResult","membersCount"]],"member"],[["without-count"],[true]]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[12],[2,"Import members"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"UPLOADING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn disabled"],[24,"disabled","disabled"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Start over"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-green gh-btn-icon disabled"],[24,"disabled","disabled"],[24,4,"button"],[4,[38,0],[[32,0],"upload"],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,3],["spinner"],[["class"],["gh-icon-spinner"]]]],[2," "],[1,[32,0,["runningText"]]],[2,"Uploading"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"COMPLETE"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["importResponse","errorCount"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"a"],[15,6,[31,[[32,0,["importResponse","errorCsvUrl"]]]]],[15,"download",[31,[[32,0,["importResponse","errorCsvName"]]]]],[14,0,"gh-btn"],[14,"data-test-button","download-import-errors"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Download error file"],[13],[2,"\\n                "],[13],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"View members"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,2],[[32,0,["importResponse","importedCount"]],0],null]],null,[["default","else"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload another file"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"View members"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"PROCESSING"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Upload another file"],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Got it"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,2],[[32,0,["state"]],"ERROR"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["showTryAgainButton"]]],null,[["default"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","restart-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"reset"],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Try again"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-import-members"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"OK"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["action","if","eq","svg-jar","format-number","gh-pluralize","unless","-track-array","each","or"]}',moduleName:"ghost-admin/components/modal-import-members.hbs"})
var l=Ember._setComponentTemplate(o,t.default.extend({ajax:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),state:"INIT",file:null,mappingResult:null,mappingFileData:null,paramName:"membersfile",importResponse:null,errorMessage:null,errorHeader:null,showMappingErrors:!1,showTryAgainButton:!0,confirm:()=>{},config:(0,s.inject)(),uploadUrl:Ember.computed((function(){return`${(0,i.default)().apiRoot}/members/upload/`})),formData:Ember.computed("file",(function(){let e=new FormData
if(e.append(this.paramName,this.file),this.mappingResult.labels&&this.mappingResult.labels.forEach((t=>{e.append("labels",t.name)})),this.mappingResult.mapping){let t=this.mappingResult.mapping.toJSON()
for(let[i,n]of Object.entries(t))e.append(`mapping[${i}]`,n)}return e})),actions:{setFile(e){this.set("file",e),this.set("state","MAPPING")},setMappingResult(e){this.set("mappingResult",e)},setMappingFileData(e){this.set("mappingFileData",e)},upload(){this.file&&!this.mappingResult.error?(this.generateRequest(),this.set("showMappingErrors",!1)):this.set("showMappingErrors",!0)},reset(){this.set("showMappingErrors",!1),this.set("errorMessage",null),this.set("errorHeader",null),this.set("file",null),this.set("mapping",null),this.set("state","INIT"),this.set("showTryAgainButton",!0)},closeModal(){"UPLOADING"!==this.state&&this._super(...arguments)},confirm(){}},generateRequest(){let e=this.ajax,t=this.formData,i=this.uploadUrl
this.set("state","UPLOADING"),e.post(i,{data:t,processData:!1,contentType:!1,dataType:"text"}).then((e=>{e instanceof a.AcceptedResponse?this.set("state","PROCESSING"):(this._uploadSuccess(JSON.parse(e)),this.set("state","COMPLETE"))})).catch((e=>{this._uploadError(e),this.set("state","ERROR")}))},_uploadSuccess(e){let t=e.meta.stats.imported
const i=e.meta.stats.invalid
let a=i.length
const s={},o=i.map((e=>{const t=e.error.replace("Value in [members.email] cannot be blank.","Missing email address").replace("Value in [members.note] exceeds maximum length of 2000 characters.","Note is too long").replace("Value in [members.subscribed] must be one of true, false, 0 or 1.",'Value of "Subscribed to emails" must be "true" or "false"').replace("Validation (isEmail) failed for email","Invalid email address").replace(/No such customer:[^,]*/,"Could not find Stripe customer")
return t.split(",").forEach((e=>{s[e]?s[e].count=s[e].count+1:s[e]={message:e,count:1}})),{...e,error:t}}))
let l=(0,r.default)(o),u=new Blob([l],{type:"text/csv"}),c=URL.createObjectURL(u),d=e.meta.import_label?`${e.meta.import_label.name} - Errors.csv`:`Import ${(0,n.default)().format("YYYY-MM-DD HH:mm")} - Errors.csv`
this.set("importResponse",{importedCount:t,errorCount:a,errorCsvUrl:c,errorCsvName:d,errorList:Object.values(s)}),e.meta.import_label&&this.store.pushPayload({labels:[e.meta.import_label]}),this.confirm({label:e.meta.import_label})},_uploadError(e){let t,i="Import error";(0,a.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),(0,a.isUnsupportedMediaTypeError)(e)?t="The file type you uploaded is not supported.":(0,a.isRequestEntityTooLargeError)(e)?t="The file you uploaded was larger than the maximum file size your server allows.":(0,a.isDataImportError)(e,e.payload)?t=Ember.String.htmlSafe(e.payload.errors[0].message):(0,a.isHostLimitError)(e)&&"EMAIL_VERIFICATION_NEEDED"===e?.payload?.errors?.[0]?.code?(t=Ember.String.htmlSafe(e.payload.errors[0].message),i="Woah there cowboy, that's a big list",this.set("showTryAgainButton",!1),this.confirm()):(t="An unexpected error occurred, please try again",console.error(e),e?.payload?.errors?.[0]?.id&&console.error(`Error ID: ${e.payload.errors[0].id}`)),this.set("errorMessage",t),this.set("errorHeader",i)}}))
e.default=l})),define("ghost-admin/components/modal-import-members/csv-file-mapping",["exports","@glimmer/component","ghost-admin/errors/member-import-error","papaparse"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"bhZ/ruYJ",block:'{"symbols":["@showErrors","@disabled"],"statements":[[6,[37,1],[[32,0,["hasFileData"]]],null,[["default","else"],[{"statements":[[2,"    "],[8,"gh-form-group",[[24,0,"gh-members-import-mapping"],[24,"data-test-csv-file-mapping",""]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[15,0,[31,["gh-members-import-mappingwrapper ",[30,[36,1],[[30,[36,0],[[32,0,["error"]],[32,1]],null],"error"],null]]]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-import-scrollarea"],[12],[2,"\\n                "],[8,"gh-members-import-table",[],[["@data","@setMapping","@disabled"],[[32,0,["fileData"]],[32,0,["setMapping"]],[32,2]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,0,["error"]],[32,1]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"pt2 error"],[12],[1,[32,0,["error","message"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["membersStats","memberCount"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"pt2"],[12],[2,"If an email address in your CSV matches an existing member, they will be updated with the mapped values."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"mt6"],[12],[2,"\\n            "],[10,"label"],[14,"for","label-input"],[12],[10,"span"],[14,0,"fw6 f8 dib mb1"],[12],[2,"Label these members"],[13],[13],[2,"\\n            "],[8,"gh-member-label-input",[],[["@labels","@onChange","@disabled","@triggerId","@renderInPlace"],[[32,0,["labels"]],[32,0,["updateLabels"]],[32,2],"label-input",true]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"bg-whitegrey-l2 ba b--whitegrey br3 gh-image-uploader gh-members-import-spinner"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["and","if"]}',moduleName:"ghost-admin/components/modal-import-members/csv-file-mapping.hbs"})
let v=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember.inject.service,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),b(this,"error",d,this),b(this,"fileData",p,this),b(this,"labels",m,this),b(this,"membersStats",h,this),this.parseFileAndGenerateMapping(this.args.file)}parseFileAndGenerateMapping(e){n.default.parse(e,{header:!0,skipEmptyLines:!0,complete:e=>{e.data&&e.data.length?this.fileData=e.data:this.fileData=[],this.args.setFileData(this.fileData)}})}get hasFileData(){return!Ember.isNone(this.fileData)}setMapping(e){0===this.fileData.length?this.error=new i.default({message:"File is empty, nothing to import. Please select a different file."}):e.getKeyByValue("email")?this.error=null:this.error=new i.default({message:'Please map "Email" to one of the fields in the CSV.'}),this.mapping=e,this.setMappingResult()}updateLabels(e){this.labels=e,this.setMappingResult()}setMappingResult(){this.args.setMappingResult({mapping:this.mapping,labels:this.labels,membersCount:this.fileData?.length,error:this.error})}},d=g(c.prototype,"error",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=g(c.prototype,"fileData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"labels",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=g(c.prototype,"membersStats",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"setMapping",[l],Object.getOwnPropertyDescriptor(c.prototype,"setMapping"),c.prototype),g(c.prototype,"updateLabels",[u],Object.getOwnPropertyDescriptor(c.prototype,"updateLabels"),c.prototype),c)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/modal-import-members/csv-file-select",["exports","@glimmer/component","ghost-admin/services/ajax"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"ruYHWYu+",block:'{"symbols":[],"statements":[[6,[37,1],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"failed flex items-start gh-members-upload-errorcontainer error"],[12],[2,"\\n        "],[10,"div"],[14,0,"mr2"],[12],[1,[30,[36,0],["warning"],[["class"],["nudge-top--2 w4 h4 fill-red"]]]],[13],[2,"\\n        "],[10,"p"],[14,0,"ma0 pa0"],[12],[1,[32,0,["error","message"]]],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[10,"div"],[14,0,"upload-form br3"],[12],[2,"\\n    "],[11,"section"],[16,0,[31,["gh-image-uploader gh-members-import-uploader ",[32,0,["dragClass"]]]]],[4,[38,2],["drop",[32,0,["drop"]]],null],[4,[38,2],["dragover",[32,0,["dragOver"]]],null],[4,[38,2],["dragleave",[32,0,["dragLeave"]]],null],[12],[2,"\\n        "],[8,"gh-file-input",[[24,"data-test-fileinput","members-csv"]],[["@multiple","@alt","@action","@accept"],[false,[32,0,["labelText"]],[32,0,["fileSelected"]],[32,0,["accept"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n            "],[1,[30,[36,0],["upload"],null]],[2,"\\n            "],[10,"div"],[14,0,"description"],[12],[1,[32,0,["labelText"]]],[13],[2,"\\n        "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","on"]}',moduleName:"ghost-admin/components/modal-import-members/csv-file-select.hbs"})
let g=(n=Ember._tracked,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),m(this,"labelText","Select or drop a CSV file"),p(this,"error",c,this),p(this,"dragClass",d,this)}fileSelected(e){let[t]=Array.from(e)
try{this._validateFileType(t),this.error=null}catch(i){return void(this.error=i)}this.args.setFile(t)}dragOver(e){if(e.dataTransfer){if(navigator.userAgent.indexOf("Chrome")>-1){let t=e.dataTransfer.effectAllowed
e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy"}e.stopPropagation(),e.preventDefault(),this.dragClass="-drag-over"}}dragLeave(e){e.preventDefault(),this.dragClass=null}drop(e){e.preventDefault(),this.dragClass=null,e.dataTransfer.files&&this.fileSelected(e.dataTransfer.files)}_validateFileType(e){let[,t]=/(?:\.([^.]+))?$/.exec(e.name)
if("csv"!==t.toLowerCase())throw new i.UnsupportedMediaTypeError({message:"The file type you uploaded is not supported"})
return!0}},c=h(u.prototype,"error",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=h(u.prototype,"dragClass",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h(u.prototype,"fileSelected",[a],Object.getOwnPropertyDescriptor(u.prototype,"fileSelected"),u.prototype),h(u.prototype,"dragOver",[s],Object.getOwnPropertyDescriptor(u.prototype,"dragOver"),u.prototype),h(u.prototype,"dragLeave",[o],Object.getOwnPropertyDescriptor(u.prototype,"dragLeave"),u.prototype),h(u.prototype,"drop",[l],Object.getOwnPropertyDescriptor(u.prototype,"drop"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modal-invite-new-user",["exports","ghost-admin/components/modal-base","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"25cw0V01",block:'{"symbols":[],"statements":[[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,1],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n    "],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-modal-invite-user"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","invite-staff-user"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Invite a new staff user"],[13],[2,"\\n        "],[10,"p"],[12],[2,"Send an invitation for a new person to create a staff account on your site, and select a role that matches what youâ€™d like them to be able to do."],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","new-user-email"],[12],[2,"Email address"],[13],[2,"\\n                "],[8,"gh-text-input",[],[["@class","@id","@type","@placeholder","@name","@shouldFocus","@autocapitalize","@autocorrect","@value","@input","@keyEvents"],["email","new-user-email","email","youremail@example.com","email",true,"off","off",[30,[36,3],[[32,0,["email"]]],null],[30,[36,0],[[32,0],[30,[36,4],[[32,0,["email"]]],null]],[["value"],["target.value"]]],[30,[36,5],null,[["Enter"],[[30,[36,0],[[32,0],"confirm"],null]]]]]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"email"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-role-selection",[],[["@selected","@setRole","@onValidationSuccess","@onValidationFailure"],[[32,0,["role"]],[32,0,["setRole"]],[30,[36,0],[[32,0],"roleValidationSucceeded"],null],[30,[36,0],[[32,0],"roleValidationFailed"],null]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,6],[[32,0,["limitErrorMessage"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-task-button",[[24,"data-test-button","upgrade-my-plan"]],[["@buttonText","@task","@class","@disableMouseDown"],["Upgrade my plan â†’",[32,0,["transitionToBilling"]],"gh-btn gh-btn-green gh-btn-icon","true"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-task-button",[[24,"data-test-button","send-user-invite"]],[["@buttonText","@successText","@task","@class","@disabled","@disableMouseDown"],["Send invitation now â†’","Sent",[32,0,["sendInvitation"]],"gh-btn gh-btn-black gh-btn-icon",[32,0,["fetchRoles","isRunning"]],"true"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","optional","svg-jar","readonly","mut","hash","if"]}',moduleName:"ghost-admin/components/modal-invite-new-user.hbs"}),{Promise:a}=Ember.RSVP
var s=Ember._setComponentTemplate(r,t.default.extend(i.default,{router:Ember.inject.service(),notifications:Ember.inject.service(),store:Ember.inject.service(),classNames:"modal-content invite-new-user",role:null,limitErrorMessage:null,validationType:"inviteUser",willDestroyElement(){this._super(...arguments),this.errors.clear(),this.set("hasValidated",Ember.A())},actions:{confirm(){this.sendInvitation.perform()},roleValidationFailed(e){this.set("limitErrorMessage",e)},roleValidationSucceeded(){this.set("limitErrorMessage",null)}},setRole:Ember._action((function(e){this.set("role",e),this.errors.remove("role")})),validate(){let e=this.email
return new a(((t,i)=>this._super().then((()=>Ember.RSVP.hash({users:this.store.findAll("user",{reload:!0}),invites:this.store.findAll("invite",{reload:!0})}).then((n=>{let r=n.users.findBy("email",e),a=n.invites.findBy("email",e)
r||a?(this.errors.clear("email"),r?this.errors.add("email","A user with that email address already exists."):this.errors.add("email","A user with that email address was already invited."),this.hasValidated.addObject("email"),i()):t()}))),(()=>{this.hasValidated.addObject("email"),i()}))))},sendInvitation:(0,n.task)((function*(){let e,t=this.email,i=this.role,n=this.notifications
try{yield this.validate(),e=this.store.createRecord("invite",{email:t,role:i}),yield e.save(),"pending"===e.get("status")?n.showAlert("Invitation email was not sent",{type:"error",key:"invite.send.failed",description:"Please try resending."}):n.showNotification("Invitation sent",{icon:"send-email",key:"invite.send.success",description:`${t}`}),this.send("closeModal")}catch(r){r&&(e.deleteRecord(),n.showAPIError(r,{key:"invite.send"}),this.send("closeModal"))}})).drop(),transitionToBilling:(0,n.task)((function(){this.router.transitionTo("pro"),this.send("closeModal")}))}))
e.default=s})),define("ghost-admin/components/modal-markdown-help",["exports","ghost-admin/components/modal-base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"Cy86N3DF",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Markdown Help"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n    "],[10,"section"],[14,0,"markdown-help-container"],[12],[2,"\\n        "],[10,"table"],[14,0,"modal-markdown-help-table"],[12],[2,"\\n            "],[10,"thead"],[12],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"th"],[12],[2,"Markdown"],[13],[2,"\\n                "],[10,"th"],[12],[2,"Result"],[13],[2,"\\n                "],[10,"th"],[12],[2,"Shortcut"],[13],[2,"\\n            "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tbody"],[12],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"**text**"],[13],[2,"\\n                "],[10,"td"],[12],[10,"strong"],[12],[2,"Bold"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + B"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"*text*"],[13],[2,"\\n                "],[10,"td"],[12],[10,"em"],[12],[2,"Emphasize"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + I"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"~~text~~"],[13],[2,"\\n                "],[10,"td"],[12],[10,"del"],[12],[2,"Strike-through"],[13],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"[title](http://)"],[13],[2,"\\n                "],[10,"td"],[12],[10,"a"],[14,6,"#"],[12],[2,"Link"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + K"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"`code`"],[13],[2,"\\n                "],[10,"td"],[12],[10,"code"],[12],[2,"Inline Code"],[13],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + Alt + C"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"![alt](http://)"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Image"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + Shift + I"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"* item"],[13],[2,"\\n                "],[10,"td"],[12],[2,"List"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + L"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"1. item"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ordered List"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + Alt + L"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"> quote"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Blockquote"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + \'"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"==Highlight=="],[13],[2,"\\n                "],[10,"td"],[12],[10,"mark"],[12],[2,"Highlight"],[13],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"# Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H1"],[13],[2,"\\n                "],[10,"td"],[12],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"## Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H2"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + H"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"tr"],[12],[2,"\\n                "],[10,"td"],[12],[2,"### Heading"],[13],[2,"\\n                "],[10,"td"],[12],[2,"H3"],[13],[2,"\\n                "],[10,"td"],[12],[2,"Ctrl/âŒ˜ + H (x2)"],[13],[2,"\\n            "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        For further Markdown syntax reference: "],[10,"a"],[14,6,"https://ghost.org/help/using-the-editor/#using-markdown"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Markdown Documentation"],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar"]}',moduleName:"ghost-admin/components/modal-markdown-help.hbs"})
var n=Ember._setComponentTemplate(i,t.default.extend({actions:{confirm(){}}}))
e.default=n})),define("ghost-admin/components/modal-member-tier",["exports","ghost-admin/components/modal-base","moment-timezone","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I
function N(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function L(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function R(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const U=Ember.HTMLBars.template({id:"/SBj4GyJ",block:'{"symbols":["tier"],"statements":[[11,"header"],[24,0,"modal-header"],[24,"data-test-modal","member-tier"],[4,[38,7],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Add subscription"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,0,["close"]]],null],[12],[2,"\\n    "],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-member-addcomp-subhed"],[14,"data-test-text","select-tier-desc"],[12],[2,"\\n            Select a tier for "],[10,"strong"],[12],[1,[30,[36,8],[[32,0,["member","name"]],[32,0,["member","email"]]],null]],[13],[2,"\'s\\n            complimentary subscription.\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["activeSubscriptions","length"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"gh-member-addcomp-warning"],[14,"data-test-text","sub-cancel-warning"],[12],[2,"\\n                Adding a complimentary subscription cancels all existing subscriptions of this member.\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["loadingTiers"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex justify-center flex-auto"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[2," "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"form-rich-radio"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["tiers"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"div"],[16,0,[31,["gh-radio ",[30,[36,1],[[30,[36,0],[[32,0,["selectedTier"]],[32,1,["id"]]],null],"active"],null]]]],[16,"data-test-tier-option",[32,1,["id"]]],[4,[38,3],["click",[30,[36,2],[[32,0,["setTier"]],[32,1,["id"]]],null]],null],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                                "],[10,"div"],[14,0,"description"],[14,"data-test-text","tier-desc"],[12],[2,"\\n                                    "],[10,"h4"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                                    "],[10,"p"],[12],[1,[32,1,["description"]]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[1,[30,[36,4],["check"],[["class"],["check"]]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n                "],[8,"gh-form-group",[[16,0,[31,[[30,[36,1],[[30,[36,0],[[32,0,["expiryAt"]],"custom"],null],"gh-cp-membertier-duration"],null]]]]],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6 mt5"],[12],[2,"Duration"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@disabled","@update"],[[32,0,["expiryAt"]],[32,0,["expiryOptions"]],"duration","label","duration",false,[32,0,["updateExpiry"]]]],null],[2,"\\n                        "],[1,[30,[36,4],["arrow-down-small"],null]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,1],[[30,[36,0],[[32,0,["expiryAt"]],"custom"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-date-picker",[],[["@minDate","@value","@onChange"],[[32,0,["minCustomDate"]],[32,0,["customExpiryDate"]],[32,0,["updateCustomExpiryDate"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,3],["click",[32,0,["close"]]],null],[4,[38,3],["mousedown",[30,[36,9],[[32,0,["noop"]]],null]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n\\n\\n    "],[8,"gh-task-button",[[24,"data-test-button","save-comp-tier"]],[["@buttonText","@successText","@task","@class"],["Add subscription","Added",[32,0,["addTier"]],"gh-btn gh-btn-green gh-btn-icon gh-btn-add-membertier"]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","fn","on","svg-jar","-track-array","each","did-insert","or","optional"]}',moduleName:"ghost-admin/components/modal-member-tier.hbs"})
let F=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=(0,n.task)({drop:!0}),g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=(0,n.task)({drop:!0}),O=class extends t.default{constructor(...e){super(...e),N(this,"store",j,this),N(this,"ghostPaths",_,this),N(this,"ajax",T,this),N(this,"price",z,this),N(this,"tier",x,this),N(this,"tiers",S,this),N(this,"selectedTier",C,this),N(this,"loadingTiers",M,this),N(this,"expiryAt",D,this),N(this,"customExpiryDate",A,this),N(this,"expiryOptions",I,this),L(this,"actions",{confirm(){this.confirmAction(...arguments)},closeModal(){this.close()}})}*fetchTiers(){this.tiers=yield this.store.query("tier",{filter:"type:paid+active:true",include:"monthly_price,yearly_price,benefits"}),this.loadingTiers=!1,this.tiers.length>0&&(this.selectedTier=this.tiers.firstObject.id)}get activeSubscriptions(){return(this.member.get("subscriptions")||[]).filter((e=>["active","trialing","unpaid","past_due"].includes(e.status)))}get member(){return this.model}get cannotAddPrice(){return!this.price||0!==this.price.amount}get minCustomDate(){return(0,i.default)().startOf("day")}setup(){this.loadingTiers=!0,this.fetchTiers.perform()}setTier(e){this.selectedTier=e}setPrice(e){this.price=e}confirmAction(){return this.addTier.perform()}close(e){e?.preventDefault?.(),this.closeModal()}updateExpiry(e){this.expiryAt=e}updateCustomExpiryDate(e){this.customExpiryDate=(0,i.default)(e).startOf("day")}*addTier(){const e=`${this.ghostPaths.url.api(`members/${this.member.get("id")}`)}?include=tiers`
for(let i=0;i<this.activeSubscriptions.length;i++){const e=this.activeSubscriptions[i],t=this.ghostPaths.url.api(`members/${this.member.get("id")}/subscriptions/${e.id}`)
yield this.ajax.put(t,{data:{status:"canceled"}})}let t=null
"week"===this.expiryAt?t=i.default.utc().add(7,"days").startOf("day").toISOString():"month"===this.expiryAt?t=i.default.utc().add(1,"month").startOf("day").toISOString():"half-year"===this.expiryAt?t=i.default.utc().add(6,"months").startOf("day").toISOString():"year"===this.expiryAt?t=i.default.utc().add(1,"year").startOf("day").toISOString():"custom"===this.expiryAt&&(t=this.customExpiryDate.endOf("day").set("milliseconds",0).add((0,i.default)().utcOffset(),"minutes").toISOString())
const n={id:this.selectedTier}
t&&(n.expiry_at=t)
const r=yield this.ajax.put(e,{data:{members:[{id:this.member.get("id"),email:this.member.get("email"),tiers:[n]}]}})
return this.store.pushPayload("member",r),this.closeModal(),r}},j=R(O.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=R(O.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=R(O.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=R(O.prototype,"price",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=R(O.prototype,"tier",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=R(O.prototype,"tiers",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=R(O.prototype,"selectedTier",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=R(O.prototype,"loadingTiers",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=R(O.prototype,"expiryAt",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"forever"}}),A=R(O.prototype,"customExpiryDate",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,i.default)().startOf("day")}}),I=R(O.prototype,"expiryOptions",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"Forever",duration:"forever"},{label:"1 Week",duration:"week"},{label:"1 Month",duration:"month"},{label:"6 Months",duration:"half-year"},{label:"1 Year",duration:"year"},{label:"Custom",duration:"custom"}]}}),R(O.prototype,"fetchTiers",[b],Object.getOwnPropertyDescriptor(O.prototype,"fetchTiers"),O.prototype),R(O.prototype,"setup",[g],Object.getOwnPropertyDescriptor(O.prototype,"setup"),O.prototype),R(O.prototype,"setTier",[f],Object.getOwnPropertyDescriptor(O.prototype,"setTier"),O.prototype),R(O.prototype,"setPrice",[v],Object.getOwnPropertyDescriptor(O.prototype,"setPrice"),O.prototype),R(O.prototype,"confirmAction",[y],Object.getOwnPropertyDescriptor(O.prototype,"confirmAction"),O.prototype),R(O.prototype,"close",[w],Object.getOwnPropertyDescriptor(O.prototype,"close"),O.prototype),R(O.prototype,"updateExpiry",[k],Object.getOwnPropertyDescriptor(O.prototype,"updateExpiry"),O.prototype),R(O.prototype,"updateCustomExpiryDate",[E],Object.getOwnPropertyDescriptor(O.prototype,"updateCustomExpiryDate"),O.prototype),R(O.prototype,"addTier",[P],Object.getOwnPropertyDescriptor(O.prototype,"addTier"),O.prototype),O)
e.default=F,Ember._setComponentTemplate(U,F)})),define("ghost-admin/components/modal-members-label-form",["exports","ghost-admin/components/modal-base","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"KePeIrt4",block:'{"symbols":[],"statements":[[6,[37,3],[[32,0,["showDeleteLabelModal"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this label?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete label \\""],[10,"strong"],[12],[1,[32,0,["label","name"]]],[13],[2,"\\". This is permanent! We warned you, k?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteLabel"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","label-form"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[30,[36,3],[[32,0,["label","isNew"]],"New label","Edit label"],null]],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[1,[30,[36,4],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["label","errors"]],[32,0,["label","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","label-name"],[14,0,"fw6 dib"],[12],[2,"Label name"],[13],[2,"\\n                "],[8,"gh-text-input",[[24,"data-test-input","label-name"]],[["@id","@value","@focus-out"],["label-name",[32,0,["label","name"]],[30,[36,0],[[32,0],"validate","name"],[["target"],[[32,0,["label"]]]]]]],null],[2,"\\n"],[6,[37,3],[[32,0,["label","errors"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-error-message",[[24,"data-test-error","label-name"]],[["@errors","@property"],[[32,0,["label","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,3],[[32,0,["label","isNew"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-label-form"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[4,[38,0],[[32,0],[30,[36,2],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,"data-test-button","delete-label"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0],"toggleDeleteLabelModal"],null]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Delete"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","save-label"]],[["@buttonText","@runningText","@successText","@task","@taskArgs","@class"],["Save","Saving...","Saved",[32,0,["saveTask"]],[32,0,["label"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","on","optional","if","svg-jar"]}',moduleName:"ghost-admin/components/modal-members-label-form.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({router:Ember.inject.service(),notifications:Ember.inject.service(),model:null,showDeleteLabelModal:!1,confirm(){},label:Ember.computed.and("model","model.label"),willDestroyElement(){this._super(...arguments),this.label.errors.clear(),this.label.rollbackAttributes()},actions:{toggleDeleteLabelModal(){this.label.rollbackAttributes(),this.set("showDeleteLabelModal",!0)},validate(e){return this.label.validate({property:e})},confirm(){return this.saveTask.perform()}},saveTask:(0,n.task)((function*(){let e=this.model&&this.model.label,t=this.model&&this.model.labels||[]
if(!e)return!1
try{if(yield e.validate(),t.find((t=>t.name.trim().toLowerCase()===e.name.trim().toLowerCase()&&t.slug!==e.slug)))return e.errors.add("name","A label with the same name already exists"),e.hasValidated.pushObject("name"),!1
let i=yield e.save()
return this.notifications.showNotification("Label saved"),this.send("closeModal"),i}catch(i){i&&this.notifications.showAPIError(i,{key:"label.save"})}})),deleteLabel:(0,n.task)((function*(){let e=this.model&&this.model.label
if(!e)return!1
try{yield e.destroyRecord()
let t=this.router.currentRouteName
this.notifications.showNotification("Label deleted"),this.send("closeModal"),this.router.transitionTo(t,{queryParams:(0,i.resetQueryParams)(t)})}catch(t){if(t)return this.notifications.showAPIError(t,{key:"label.delete"})}}))}))
e.default=a})),define("ghost-admin/components/modal-portal-settings",["exports","ghost-admin/components/modals/settings/confirm-email","ghost-admin/components/modal-base","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"Yef2AZOh",block:'{"symbols":["isOpen","isOpen","uploader","imgIcon","isOpen","tier"],"statements":[[10,"div"],[14,0,"modal-body gh-ps-modal-body modal-fullsettings modal-fullsettings-body "],[12],[2,"\\n    "],[11,"div"],[24,0,"flex pa0 flex-grow-1 gh-portal-settings gh-newsletters-labs"],[4,[38,14],[[32,0,["finishPreloading"]]],null],[12],[2,"\\n"],[6,[37,4],[[32,0,["isPreloading"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-portal-settings-sidebar modal-fullsettings-sidebar-labs"],[12],[2,"\\n            "],[10,"h2"],[14,0,"modal-fullsettings-heading-labs gh-portal-settings-title"],[12],[2,"Portal settings"],[13],[2,"\\n            "],[10,"div"],[14,0,"modal-fullsettings-body-labs"],[12],[2,"\\n                "],[10,"fieldset"],[14,0,"modal-fullsettings-form-labs"],[12],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-section-labs"],[12],[2,"\\n"],[6,[37,16],[[30,[36,7],[[32,0,["openSection"]],"signup-options"],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"button"],[15,0,[31,["modal-fullsettings-tab ",[30,[36,4],[[32,5],"active"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"toggleSection","signup-options"],null]],[14,4,"button"],[12],[2,"\\n                                "],[1,[30,[36,5],["credit-card"],null]],[2," Signup options\\n                                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,5],[[30,[36,4],[[32,5],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,6],[[32,5]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[15,0,[31,["modal-fullsettings-tab-expanded ",[30,[36,4],[[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null],"disabled-overlay"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","signup"],null]],[12],[2,"\\n                                    "],[8,"gh-form-group",[[16,0,[31,["gh-members-subscribed-checkbox gh-portal-setting-first ",[30,[36,0],[[32,0,["membersUtils","isStripeEnabled"]],"gh-portal-setting-last"],null]," mb0"]]]],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"mr3"],[12],[2,"\\n                                                "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Display name in signup form"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","signup-name-checkbox"],[12],[2,"\\n                                                    "],[11,"input"],[16,"checked",[32,0,["settings","portalName"]]],[24,1,"signup-name-checkbox"],[24,3,"signup-name-checkbox"],[16,"disabled",[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null]],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,1],[[32,0],"togglePortalName"],[["value"],["target.checked"]]]],null],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[11,"div"],[24,"data-test-tiers-at-signup",""],[4,[38,14],[[32,0,["refreshAfterStripeConnected"]]],null],[12],[2,"\\n                                        "],[10,"div"],[14,0,"mb3 mt5"],[12],[2,"\\n                                            "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Tiers available at signup"],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[14,"data-test-free-tier-at-signup",""],[12],[2,"\\n                                            "],[10,"label"],[14,0,"checkbox"],[14,"for","free-plan"],[12],[2,"\\n                                                "],[11,"input"],[16,"checked",[32,0,["membersUtils","isFreeChecked"]]],[24,1,"free-plan"],[24,3,"free-plan"],[24,"data-test-settings-tier-input","Free"],[16,"disabled",[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,1],[[32,0],"togglePlan","free"],null]],null],[12],[13],[2,"\\n                                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[10,"p"],[14,"data-test-settings-tier-label","Free"],[12],[2,"Free"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"],[6,[37,4],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default"],[{"statements":[[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["tiers"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[14,"data-test-tier-at-signup",""],[12],[2,"\\n                                                    "],[10,"label"],[14,0,"checkbox"],[15,"for",[32,6,["id"]]],[12],[2,"\\n                                                        "],[11,"input"],[16,1,[32,6,["id"]]],[16,3,[32,6,["id"]]],[16,"checked",[32,6,["checked"]]],[16,"disabled",[30,[36,13],[[30,[36,12],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[16,"data-test-settings-tier-input",[32,6,["name"]]],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,1],[[32,0],"toggleTier",[32,6,["id"]]],null]],null],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                        "],[10,"p"],[15,"data-test-settings-tier-label",[32,6,["name"]]],[12],[1,[32,6,["name"]]],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[6]}]]],[6,[37,4],[[32,0,["showPortalPrices"]]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"mb3 mt5"],[12],[2,"\\n                                                    "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Prices available at signup"],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,4],[[32,0,["showPortalPrices"]]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                                    "],[10,"label"],[14,0,"checkbox"],[14,"for","monthly-plan"],[12],[2,"\\n                                                        "],[11,"input"],[24,1,"monthly-plan"],[24,3,"monthly-plan"],[16,"checked",[32,0,["isMonthlyChecked"]]],[16,"disabled",[30,[36,13],[[30,[36,12],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,1],[[32,0],"togglePlan","monthly"],null]],null],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                        "],[10,"p"],[12],[2,"Monthly"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"form-group mb0 for-checkbox"],[12],[2,"\\n                                                    "],[10,"label"],[14,0,"checkbox"],[14,"for","yearly-plan"],[12],[2,"\\n                                                        "],[11,"input"],[24,1,"yearly-plan"],[24,3,"yearly-plan"],[16,"checked",[32,0,["isYearlyChecked"]]],[16,"disabled",[30,[36,13],[[30,[36,12],[[32,0,["membersUtils","isStripeEnabled"]]],null],[30,[36,11],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,0,"gh-input post-settings-featured"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,1],[[32,0],"togglePlan","yearly"],null]],null],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                        "],[10,"p"],[12],[2,"Yearly"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n\\n                                    "],[8,"gh-form-group",[[24,0,"gh-stack-item mt5 mb5"]],[["@errors","@hasValidated"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Display notice at signup"],[13],[2,"\\n                                        "],[8,"koenig-basic-html-input",[],[["@name","@html","@class","@placeholder","@onChange"],["footer",[32,0,["settings","portalSignupTermsHtml"]],"miw-100 form-text gh-members-emailsettings-footer-input",[31,["By signing up, I agree to receive emails from ",[32,0,["config","blogTitle"]],"."]],[30,[36,1],[[32,0],"setTermsHtml"],null]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"portalSignupTermsHtml"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"\\n                                            Recommended: "],[10,"strong"],[12],[1,[32,0,["maxTermsLength"]]],[13],[2," characters.\\n                                            You\'ve used "],[1,[30,[36,15],[[32,0,["settings","portalSignupTermsHtml"]],[32,0,["maxTermsLength"]]],null]],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n\\n                                    "],[8,"gh-form-group",[[24,0,"gh-members-subscribed-checkbox gh-portal-setting-first mb0 b--whitegrey space-l"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                            "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Require agreement"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","portal-signup-checkbox-required-checkbox"],[12],[2,"\\n                                                    "],[10,"input"],[15,"checked",[32,0,["settings","portalSignupCheckboxRequired"]]],[14,1,"portal-signup-checkbox-required-checkbox"],[14,3,"portal-signup-checkbox-required-checkbox"],[15,"onclick",[30,[36,1],[[32,0],"toggleSignupCheckboxRequired"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[5]}]]],[2,"\\n"],[6,[37,16],[[30,[36,7],[[32,0,["openSection"]],"look-and-feel"],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"button"],[15,0,[31,["modal-fullsettings-tab ",[30,[36,4],[[32,2],"active"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"toggleSection","look-and-feel"],null]],[14,4,"button"],[12],[2,"\\n                                "],[1,[30,[36,5],["paintbrush"],null]],[2," Look & feel\\n                                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,5],[[30,[36,4],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,6],[[32,2]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","signup"],null]],[12],[2,"\\n                                    "],[8,"gh-form-group",[[24,0,"gh-members-subscribed-checkbox gh-portal-setting-first mb0 b--whitegrey"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n                                            "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Show Portal button"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","portal-button-checkbox"],[12],[2,"\\n                                                    "],[10,"input"],[15,"checked",[32,0,["settings","portalButton"]]],[14,1,"portal-button-checkbox"],[14,3,"portal-button-checkbox"],[15,"onclick",[30,[36,1],[[32,0],"togglePortalButton"],[["value"],["target.checked"]]]],[14,4,"checkbox"],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["settings","portalButton"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"mt5"],[12],[2,"\\n                                            "],[8,"gh-form-group",[[24,0,"space-l"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"h4"],[14,0,"gh-portal-setting-title mb1"],[12],[2,"Portal button style"],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-select mt2"],[14,"data-select-text","test"],[14,"tabindex","0"],[12],[2,"\\n                                                    "],[8,"one-way-select",[],[["@id","@name","@options","@optionValuePath","@optionLabelPath","@value","@update"],["portal-button-style","portal[button-style]",[32,0,["buttonStyleOptions"]],"name","label",[32,0,["selectedButtonStyle"]],[30,[36,1],[[32,0],"setButtonStyle"],null]]],null],[2,"\\n                                                    "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showIconSetting"]]],null,[["default"],[{"statements":[[2,"                                                "],[8,"gh-form-group",[[24,0,"space-l"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Icon"],[13],[2,"\\n                                                    "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["iconExtensions"]],[30,[36,8],null,[["purpose"],["image"]]],[30,[36,1],[[32,0],"imageUploaded","buttonIcon"],null]]],[["default"],[{"statements":[[2,"\\n                                                        "],[10,"div"],[14,0,"flex items-center justify-between mt2 br3 ba b--whitegrey bg-white"],[12],[2,"\\n                                                            "],[10,"div"],[14,0,"gh-portal-settings-icons"],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["membersUtils","defaultButtonIcons"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                                                    "],[10,"span"],[15,0,[31,["gh-portal-button-icon ",[30,[36,4],[[30,[36,7],[[32,0,["membersUtils","buttonIcon"]],[32,4,["value"]]],null],"selected-icon"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"selectDefaultIcon",[32,4,["value"]]],null]],[12],[2,"\\n                                                                        "],[1,[30,[36,5],[[32,4,["icon"]]],null]],[2,"\\n                                                                    "],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"                                                            "],[13],[2,"\\n                                                            "],[10,"div"],[14,0,"flex gh-setting-action gh-portal-custom-icon"],[12],[2,"\\n"],[6,[37,4],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                                                    "],[10,"div"],[14,0,"gh-portal-button-icon"],[12],[2,"\\n                                                                        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                                                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,0,["customIcon"]]],null,[["default","else"],[{"statements":[[2,"                                                                    "],[10,"img"],[15,0,[31,["gh-portal-button-icon gh-portal-button-custom ",[30,[36,4],[[30,[36,7],[[32,0,["membersUtils","buttonIcon"]],[32,0,["customIcon"]]],null],"selected-icon"],null]]]],[15,"src",[31,[[32,0,["customIcon"]]]]],[15,"onclick",[30,[36,1],[[32,0],"selectDefaultIcon",[32,0,["customIcon"]]],null]],[14,"alt","icon"],[14,"data-test-icon-img",""],[12],[13],[2,"\\n"],[6,[37,4],[[30,[36,7],[[32,0,["membersUtils","buttonIcon"]],[32,0,["customIcon"]]],null]],null,[["default"],[{"statements":[[2,"                                                                    "],[11,"button"],[24,0,"gh-btn gh-portal-button-deleteicon"],[24,4,"button"],[4,[38,1],[[32,0],"deleteCustomIcon"],null],[12],[2,"\\n                                                                        "],[10,"span"],[12],[2," "],[1,[30,[36,5],["trash"],[["class"],["w5 h5"]]]],[2," "],[13],[2,"\\n                                                                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                                                    "],[10,"button"],[14,0,"gh-btn gh-portal-button-uploadicon"],[15,"onclick",[30,[36,1],[[32,0],"triggerFileDialog"],null]],[14,"data-test-image-upload-btn","icon"],[14,"data-tooltip","Upload icon"],[14,4,"button"],[12],[2,"\\n                                                                        "],[10,"span"],[12],[1,[30,[36,5],["upload-fill"],[["class"],["w5 h5"]]]],[13],[2,"\\n                                                                    "],[13],[2,"\\n                                                                    "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                                                        "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["iconMimeTypes"]]]],null],[2,"\\n                                                                    "],[13],[2,"\\n                                                                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                            "],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "]],"parameters":[3]}]]],[2,"\\n\\n                                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n"],[6,[37,4],[[32,0,["showButtonTextSetting"]]],null,[["default"],[{"statements":[[2,"                                        "],[8,"gh-form-group",[[24,0,"space-l"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Signup button text"],[13],[2,"\\n\\n                                            "],[10,"div"],[14,0,"flex items-center mt2"],[12],[2,"\\n                                                "],[8,"gh-text-input",[],[["@value","@type","@input"],[[30,[36,3],[[32,0,["settings","portalButtonSignupText"]]],null],"text",[30,[36,1],[[32,0],"setSignupButtonText"],null]]],null],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"\\n"],[6,[37,16],[[30,[36,7],[[32,0,["openSection"]],"account-page"],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"button"],[15,0,[31,["modal-fullsettings-tab ",[30,[36,4],[[32,1],"active"],null]]]],[15,"onclick",[30,[36,1],[[32,0],"toggleSection","account-page"],null]],[14,4,"button"],[12],[2,"\\n                                "],[1,[30,[36,5],["members"],null]],[2," Account page settings\\n                                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,5],[[30,[36,4],[[32,1],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,6],[[32,1]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[15,"onclick",[30,[36,1],[[32,0],"switchPreviewPage","accountHome"],null]],[12],[2,"\\n                                    "],[8,"gh-form-group",[[24,0,"space-l mt5"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"members_support_address"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"h4"],[14,0,"gh-portal-setting-title"],[12],[2,"Support email address"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"mt2"],[12],[2,"\\n                                            "],[8,"gh-text-input",[],[["@value","@input","@name"],[[30,[36,3],[[32,0,["supportAddress"]]],null],[30,[36,1],[[32,0],"setSupportAddress"],[["value"],["target.value"]]],"members_support_address"]],null],[2,"\\n                                        "],[13],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"members_support_address"]],null],[2,"\\n                                        "],[10,"p"],[12],[2,"How members can reach you for help with their account (public)"],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,4],[[30,[36,17],[[30,[36,12],[[32,0,["membersUtils","isStripeEnabled"]]],null],[32,0,["session","user","isAdmin"]]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-portal-settings-stripefooter"],[12],[2,"\\n                "],[10,"h4"],[12],[2,"Collect payments on signup?"],[13],[2,"\\n                "],[10,"p"],[12],[2,"Generate revenue to support your work, by offering premium membership tiers."],[13],[2,"\\n                "],[10,"p"],[12],[2,"Ghost takes 0% payment fees, everything you earn is yours to keep."],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["stripe-connect ",[30,[36,0],[[32,0,["session","user","isAdmin"]],"disabled"],null]]]],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,0],"openStripeConnect"],null]],null],[12],[10,"span"],[12],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-portal-settings-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-portal-settings-previewheader"],[12],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-select gh-preview-page-selector"],[14,"data-test-select","preview-page-selector"],[12],[2,"\\n                    "],[8,"one-way-select",[],[["@data-test-select","@value","@options","@optionValuePath","@optionLabelPath","@update"],["page-selector",[32,0,["page"]],[32,0,["availablePages"]],"name","label",[30,[36,1],[[32,0],"switchPreviewPage"],null]]],null],[2,"\\n                    "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-portal-settings-actions"],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn mr3"],[24,4,"button"],[4,[38,1],[[32,0],"closeModal"],null],[4,[38,2],["mousedown",[30,[36,18],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-task-button",[[24,"data-test-button","save-members-modal-setting"]],[["@buttonText","@successText","@task","@idleClass","@class"],["Save and close","Saved",[32,0,["saveTask"]],"gh-btn-primary","gh-btn gh-btn-icon"]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showLinksPage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-portal-preview-wrapper"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-portal-preview-container"],[12],[2,"\\n                    "],[8,"gh-portal-links",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[15,0,[31,["gh-portal-preview-container ",[30,[36,4],[[32,0,["showLinksPage"]],"hide"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-portal-site-frame-cover"],[12],[2," "],[13],[2,"\\n                "],[8,"gh-site-iframe",[[24,0,"gh-portal-siteiframe gh-portal-siteiframe-enabled"]],[["@src","@guid","@invisibleUntilLoaded"],[[32,0,["portalPreviewUrl"]],[32,0,["portalPreviewGuid"]],"portal-ready"]],null],[2,"\\n            "],[13],[2,"\\n\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["unless","action","on","readonly","if","svg-jar","liquid-if","eq","hash","-track-array","each","not-eq","not","or","did-insert","gh-count-down-html-characters","let","and","optional"]}',moduleName:"ghost-admin/components/modal-portal-settings.hbs"}),o=["gif","jpg","jpeg","png","svg"]
var l=Ember._setComponentTemplate(s,i.default.extend({modals:Ember.inject.service(),membersUtils:Ember.inject.service(),settings:Ember.inject.service(),store:Ember.inject.service(),session:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),page:"signup",iconExtensions:null,isShowModalLink:!0,customIcon:null,showLinksPage:!1,showLeaveSettingsModal:!1,isPreloading:!0,changedTiers:null,openSection:null,portalPreviewGuid:"modal-portal-settings",closeOnEnter:!1,maxTermsLength:115,confirm(){},config:(0,r.inject)(),backgroundStyle:Ember.computed("settings.accentColor",(function(){let e=this.settings.accentColor||"#ffffff"
return Ember.String.htmlSafe(`background-color: ${e}`)})),showModalLinkOrAttribute:Ember.computed("isShowModalLink",(function(){return this.isShowModalLink?"#/portal":"data-portal"})),portalPreviewUrl:Ember.computed("page","model.tiers.[]","changedTiers.[]","membersUtils.{isFreeChecked,isMonthlyChecked,isYearlyChecked}","settings.{portalName,portalButton,portalButtonIcon,portalButtonSignupText,portalSignupTermsHtml,portalSignupCheckboxRequired,portalButtonStyle,accentColor,portalPlans.[]}",(function(){const e=this.getProperties(["page"])
e.portalTiers=this.model.tiers?.filter((e=>"public"===e.get("visibility")&&!0===e.get("active")&&"paid"===e.get("type"))).map((e=>e.id))
const t=this.model.tiers?.find((e=>"free"===e.type))
return e.isFreeChecked="public"===t?.visibility,this.membersUtils.getPortalPreviewUrl(e)})),showIconSetting:Ember.computed("selectedButtonStyle",(function(){return(this.get("selectedButtonStyle.name")||"").includes("icon")})),showButtonTextSetting:Ember.computed("selectedButtonStyle",(function(){return(this.get("selectedButtonStyle.name")||"").includes("text")})),selectedButtonStyle:Ember.computed("settings.portalButtonStyle",(function(){return this.buttonStyleOptions.find((e=>e.name===this.settings.portalButtonStyle))})),isFreeChecked:Ember.computed("settings.{portalPlans.[],membersSignupAccess}",(function(){const e=this.settings.portalPlans||[]
return"all"===this.settings.membersSignupAccess&&e.includes("free")})),isMonthlyChecked:Ember.computed("settings.portalPlans.[]","membersUtils.paidMembersEnabled",(function(){const e=this.settings.portalPlans||[]
return this.membersUtils.paidMembersEnabled&&e.includes("monthly")})),isYearlyChecked:Ember.computed("settings.portalPlans.[]","membersUtils.paidMembersEnabled",(function(){const e=this.settings.portalPlans||[]
return this.membersUtils.paidMembersEnabled&&e.includes("yearly")})),tiers:Ember.computed("model.tiers.[]","changedTiers.[]","isPreloading",(function(){const e=this.model.tiers?.filter((e=>"paid"===e.type&&!0===e.active))
if(this.isPreloading||!e?.length)return[]
return e.map((e=>({id:e.id,name:e.name,checked:"public"===e.visibility})))})),showPortalPrices:Ember.computed("tiers",(function(){const e=this.model.tiers?.filter((e=>"public"===e.visibility&&"paid"===e.type))
return!!e?.length})),init(){this._super(...arguments),this.buttonStyleOptions=[{name:"icon-and-text",label:"Icon and text"},{name:"icon-only",label:"Icon only"},{name:"text-only",label:"Text only"}],this.availablePages=[{name:"signup",label:"Signup"},{name:"accountHome",label:"Account"},{name:"links",label:"Links"}],this.iconExtensions=o,this.changedTiers=[],this.set("supportAddress",this.parseEmailAddress(this.settings.membersSupportAddress)),this.set("openSection","signup-options")},didInsertElement(){this._super(...arguments),this.settings.errors.clear()},actions:{toggleFreePlan(e){this.updateAllowedPlan("free",e)},togglePlan(e,t){this.updateAllowedPlan(e,t.target.checked)},toggleTier(e,t){this.updateAllowedTier(e,t.target.checked)},togglePortalButton(e){this.settings.portalButton=e},togglePortalName(e){this.settings.portalName=e},toggleSection(e){this.get("openSection")===e?this.set("openSection",null):this.set("openSection",e)},confirm(){return this.saveTask.perform()},isPlanSelected(e){return this.settings.portalPlans.includes(e)},switchPreviewPage(e){"links"===e.name?(this.set("showLinksPage",!0),this.set("page","")):(this.set("showLinksPage",!1),this.set("page",e.name))},switchToSignupPage(){this.showLinksPage&&(this.set("showLinksPage",!1),this.set("page","signup"))},setButtonStyle(e){this.settings.portalButtonStyle=e.name},setSignupButtonText(e){this.settings.portalButtonSignupText=e.target.value},imageUploaded(e,t){t[0]&&(this.set("customIcon",t[0].url),this.settings.portalButtonIcon=t[0].url)},triggerFileDialog(e){e?.target.closest(".gh-setting-action")?.querySelector('input[type="file"]')?.click()},deleteCustomIcon(){this.set("customIcon",null),this.settings.portalButtonIcon=this.membersUtils.defaultIconKeys[0]},selectDefaultIcon(e){this.settings.portalButtonIcon=e},closeLeaveSettingsModal(){this.set("showLeaveSettingsModal",!1)},openStripeConnect(){this.isWaitingForStripeConnection=!0,this.model.openStripeConnect()},leaveSettings(){this.closeModal()},validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")},validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")},setSupportAddress(e){this.set("supportAddress",e),this.config.emailDomain&&e===`noreply@${this.config.emailDomain}`?this.settings.membersSupportAddress="noreply":this.settings.membersSupportAddress=e},setTermsHtml(e){this.settings.portalSignupTermsHtml=e},toggleSignupCheckboxRequired(e){this.settings.portalSignupCheckboxRequired=e},validateTermsHtml(){let e=this.settings.portalSignupTermsHtml??""
e=e.replace(/<[^>]*>?/gm,""),e=e.replace(/&nbsp;/g," "),e=e.replace(/&amp;/g,"&"),e=e.replace(/&quot;/g,'"'),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),this.settings.errors.remove("portalSignupTermsHtml"),this.settings.hasValidated.removeObject("portalSignupTermsHtml"),e.length>this.maxTermsLength&&(this.settings.errors.add("portalSignupTermsHtml","Signup notice is too long"),this.settings.hasValidated.pushObject("portalSignupTermsHtml"))}},parseEmailAddress(e){const t=e||"noreply"
return t.indexOf("@")<0&&this.config.emailDomain?`${t}@${this.config.emailDomain}`:t},updateAllowedPlan(e,t){const i=[...this.settings.portalPlans||[]],n=this.model.tiers.find((e=>"free"===e.type))
t?(i.push(e),this.settings.portalPlans=i,"free"===e&&n.set("visibility","public")):(this.settings.portalPlans=i.filter((t=>t!==e)),"free"===e&&n.set("visibility","none"))},updateAllowedTier(e,t){const i=this.model.tiers.find((t=>t.id===e))
t?i.set("visibility","public"):i.set("visibility","none")
let n=this.model.tiers.filter((e=>"public"===e.visibility)).map((e=>e.id))
this.set("changedTiers",n)},_validateSignupRedirect(e,t){if(this.settings.errors.remove(t),this.settings.hasValidated.removeObject(t),null===e)return this.settings.errors.add(t,"Please enter a valid URL"),this.settings.hasValidated.pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const i=e.href.replace(this.siteUrl,"")
this.settings[t]=i}else this.settings[t]=e.href},finishPreloading:Ember._action((async function(){this.model.preloadTask?.isRunning&&await this.model.preloadTask
const e=this.settings.portalButtonIcon||""
e&&!this.membersUtils.defaultIconKeys.includes(e)&&this.set("customIcon",this.settings.portalButtonIcon),this.siteUrl=this.config.blogUrl,this.set("isPreloading",!1)})),refreshAfterStripeConnected:Ember._action((async function(){this.isWaitingForStripeConnection&&(await this.finishPreloading(),this.notifyPropertyChange("page"),this.set("portalPreviewGuid",Date.now().valueOf()),this.isWaitingForStripeConnection=!1)})),copyLinkOrAttribute:(0,a.task)((function*(){(0,n.default)(this.showModalLinkOrAttribute),yield(0,a.timeout)(this.isTesting?50:3e3)})),saveTask:(0,a.task)((function*(){if(this.send("validateFreeSignupRedirect"),this.send("validatePaidSignupRedirect"),this.send("validateTermsHtml"),this.settings.errors.remove("members_support_address"),this.settings.hasValidated.removeObject("members_support_address"),0!==this.settings.errors.length)return
yield Promise.all(this.model.tiers.filter((e=>!!e.changedAttributes().visibility)).map((e=>e.save())))
const e=this.settings.membersSupportAddress
try{const i=yield this.settings.save()
i._meta?.sent_email_verification&&(yield this.modals.open(t.default,{newEmail:e,currentEmail:this.settings.membersSupportAddress})),this.closeModal()}catch(i){if(i.payload&&i.payload.errors)for(const e of i.payload.errors)"ValidationError"===e.type&&e.property&&(e.context||e.message)&&(this.settings.errors.add(e.property,e.context||e.message),this.settings.hasValidated.pushObject(e.property))
throw i}})).drop()}))
e.default=l})),define("ghost-admin/components/modal-post-history",["exports","@glimmer/component","ghost-admin/components/modals/restore-revision"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k
function E(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function P(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const O=Ember.HTMLBars.template({id:"IzAv2mxi",block:'{"symbols":["revision","index"],"statements":[[11,"div"],[24,0,"gh-post-history"],[4,[38,9],[[32,0,["onInsert"]]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-post-history-main"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-koenig-editor-pane flex flex-column mih-100"],[12],[2,"\\n"],[6,[37,2],[[32,0,["selectedHTML"]]],null,[["default"],[{"statements":[[2,"                "],[2,[32,0,["selectedHTML"]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"gh-post-history-hidden-lexical current"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-feature-image-container"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-editor-feature-image"],[12],[2,"\\n"],[6,[37,2],[[32,0,["selectedRevision","feature_image"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"img"],[15,"src",[31,[[32,0,["selectedRevision","feature_image"]]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["selectedRevision","feature_image_caption"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"p"],[12],[2,[32,0,["selectedRevision","feature_image_caption"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-title"],[12],[1,[32,0,["currentTitle"]]],[13],[2,"\\n                "],[8,"koenig-lexical-editor",[],[["@lexical","@cardConfig","@registerAPI"],[[32,0,["selectedRevision","lexical"]],[32,0,["cardConfig"]],[30,[36,3],[[32,0],"registerSelectedEditorApi"],null]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"settings-menu-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"settings-menu settings-menu-pane settings-menu-pane-main"],[12],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-header subview"],[12],[2,"\\n                "],[11,"button"],[24,"aria-label","Close meta data panel"],[24,0,"back settings-menu-header-action"],[24,"data-test-button","close-psm-subview"],[24,4,"button"],[4,[38,3],[[32,0],"closeModal"],null],[4,[38,1],["mousedown",[30,[36,10],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                    "],[1,[30,[36,11],["arrow-left"],null]],[2,"\\n                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Back"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"h4"],[12],[1,[30,[36,12],[[32,0,["post","displayName"]]],null]],[2," history"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"settings-menu-content"],[12],[2,"\\n                "],[10,"ul"],[14,0,"nav-list"],[12],[2,"\\n"],[6,[37,14],[[30,[36,13],[[30,[36,13],[[32,0,["revisionList"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[15,0,[31,["nav-list-item ",[30,[36,2],[[32,1,["selected"]],"selected",""],null]]]],[12],[2,"\\n                        "],[11,"button"],[24,4,"button"],[4,[38,3],[[32,0],"handleClick",[32,2]],null],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-post-history-version"],[12],[1,[30,[36,4],[[32,1,["createdAt"]]],[["format"],["D MMM YYYY, HH:mm"]]]],[1,[32,0,["timezone"]]],[13],[2,"\\n"],[6,[37,2],[[32,1,["latest"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-post-history-version-tag current"],[12],[2,"Latest"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["new_publish"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-post-history-version-tag published"],[12],[2,"Published"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[30,[36,5],[[32,1,["reason"]],"unpublished"],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-post-history-version-tag unpublished"],[12],[2,"Unpublished"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center mt2"],[12],[2,"\\n                                "],[10,"span"],[14,0,"user-list-item-figure"],[15,5,[30,[36,6],[[32,1,["author","profile_image_url"]]],null]],[12],[2,"\\n                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Photo of "],[1,[32,1,["author","name"]]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"span"],[15,0,[31,["gh-post-history-version-meta ",[30,[36,2],[[30,[36,5],[[32,1,["author","name"]],"Deleted staff user"],null],"deleted-user"],null]]]],[12],[1,[32,1,["author","name"]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,2],[[30,[36,8],[[32,1,["selected"]],[30,[36,7],[[32,1,["latest"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-post-history-version-restore"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["restoreRevision"]],[32,2]],null]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"Restore"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[1,[32,0,["didInsert"]]],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","if","action","gh-format-post-time","eq","background-image-style","not","and","did-insert","optional","svg-jar","capitalize","-track-array","each"]}',moduleName:"ghost-admin/components/modal-post-history.hbs"})
let j=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=class extends t.default{constructor(){super(...arguments),E(this,"notifications",f,this),E(this,"modals",v,this),E(this,"ghostPaths",y,this),E(this,"selectedHTML",w,this),E(this,"selectedRevisionIndex",k,this),this.post=this.args.model.post,this.editorAPI=this.args.model.editorAPI,this.toggleSettingsMenu=this.args.model.toggleSettingsMenu}get selectedRevision(){return this.revisionList[this.selectedRevisionIndex]}get currentTitle(){return this.selectedRevision.title||this.post.get("title")}get revisionList(){const e=this.post.get("postRevisions").toArray().sort(((e,t)=>t.get("createdAt")-e.get("createdAt")))
return e.map(((t,i)=>({lexical:t.get("lexical"),selected:i===this.selectedRevisionIndex,latest:0===i,createdAt:t.get("createdAt"),title:t.get("title"),feature_image:t.get("featureImage"),feature_image_alt:t.get("featureImageAlt"),feature_image_caption:t.get("featureImageCaption"),author:{name:t.get("author.name")||"Deleted staff user",profile_image_url:t.get("author.profileImageUrl")},postStatus:t.get("postStatus"),reason:t.get("reason"),new_publish:"published"===t.get("postStatus")&&"draft"===e[i+1]?.get("postStatus")})))}onInsert(){this.updateSelectedHTML(),window.addEventListener("keydown",this.handleKeyDown)}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("keydown",this.handleKeyDown)}handleKeyDown(e){"Escape"===e.key&&this.args.closeModal()}handleClick(e){this.selectedRevisionIndex=e,this.updateSelectedHTML()}registerSelectedEditorApi(e){this.selectedEditor=e}registerComparisonEditorApi(e){this.comparisonEditor=e}closeModal(){this.args.closeModal()}stripInitialPlaceholder(e){return e.replace(/<div\b[^>]*>(\s*Begin writing your post\.\.\.\s*)<\/div>/i,"")}restoreRevision(e){const t=this.revisionList[e]
this.modals.open(i.default,{post:this.post,revision:t,updateTitle:()=>{Ember.set(this.post,"titleScratch",t.title)},updateEditor:()=>{const e=this.editorAPI.editorInstance.parseEditorState(t.lexical)
this.editorAPI.editorInstance.setEditorState(e)},closePostHistoryModal:()=>{this.closeModal(),this.toggleSettingsMenu()}})}get cardConfig(){return{post:this.args.model}}updateSelectedHTML(){if(this.selectedEditor){let e=this.selectedEditor.editorInstance.parseEditorState(this.selectedRevision.lexical)
this.selectedEditor.editorInstance.setEditorState(e)}let e=document.querySelector(".gh-post-history-hidden-lexical.current"),t=!1,i=()=>{t&&(this.selectedHTML=this.stripInitialPlaceholder(e.innerHTML))};(function(e,t){let i=e.innerHTML
setTimeout((function n(){let r=e.innerHTML
r===i?t():(i=r,setTimeout(n,50))}),50)})(e,(()=>{e.querySelectorAll("[contenteditable]").forEach((e=>{e.setAttribute("contenteditable",!1)})),t=!0,i()}))}},f=P(g.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(g.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(g.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(g.prototype,"selectedHTML",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=P(g.prototype,"selectedRevisionIndex",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P(g.prototype,"onInsert",[l],Object.getOwnPropertyDescriptor(g.prototype,"onInsert"),g.prototype),P(g.prototype,"willDestroy",[u],Object.getOwnPropertyDescriptor(g.prototype,"willDestroy"),g.prototype),P(g.prototype,"handleKeyDown",[c],Object.getOwnPropertyDescriptor(g.prototype,"handleKeyDown"),g.prototype),P(g.prototype,"handleClick",[d],Object.getOwnPropertyDescriptor(g.prototype,"handleClick"),g.prototype),P(g.prototype,"registerSelectedEditorApi",[p],Object.getOwnPropertyDescriptor(g.prototype,"registerSelectedEditorApi"),g.prototype),P(g.prototype,"registerComparisonEditorApi",[m],Object.getOwnPropertyDescriptor(g.prototype,"registerComparisonEditorApi"),g.prototype),P(g.prototype,"closeModal",[h],Object.getOwnPropertyDescriptor(g.prototype,"closeModal"),g.prototype),P(g.prototype,"restoreRevision",[b],Object.getOwnPropertyDescriptor(g.prototype,"restoreRevision"),g.prototype),g)
e.default=j,Ember._setComponentTemplate(O,j)})),define("ghost-admin/components/modal-reset-all-passwords",["exports","ghost-admin/components/modal-base","fetch","ember-concurrency"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"i39vWmnk",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Reset all passwords"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-body gh-modal-reset-passwords"],[12],[2,"\\n    "],[10,"p"],[12],[2,"You\'re about to end all active staff user sessions and trigger a password reset for everyone (including yourself). Are you sure?"],[13],[2,"\\n    "],[10,"div"],[14,0,"flex mt2 mb2"],[12],[2,"\\n        "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n            "],[10,"label"],[14,0,"checkbox"],[12],[2,"\\n                "],[11,"input"],[16,"checked",[32,0,["isChecked"]]],[24,0,"gh-input"],[24,3,"checkbox"],[24,"data-test-checkbox","reset-all-passwords"],[24,4,"checkbox"],[4,[38,2],["click",[30,[36,0],[[32,0],"toggleCheckbox"],null]],null],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[12],[2,"Yes, end sessions and reset passwords for all users."],[13],[2,"\\n            "],[10,"p"],[14,0,"description"],[12],[2,"Upon submission, you will be logged out. Please check your email to reset your password."],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n    "],[8,"gh-task-button",[[16,"disabled",[32,0,["isConfirmDisabled"]]]],[["@buttonText","@task","@class"],["Reset Passwords",[32,0,["resetPasswords"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","svg-jar","on"]}',moduleName:"ghost-admin/components/modal-reset-all-passwords.hbs"})
var a=Ember._setComponentTemplate(r,t.default.extend({notifications:Ember.inject.service(),isChecked:!1,isConfirmDisabled:Ember.computed.not("isChecked"),actions:{toggleCheckbox(){Ember.set(this,"isChecked",!this.isChecked)},confirm(){this.deletePost.perform()}},async _resetPasswords(){const e=await(0,i.fetch)("/ghost/api/admin/authentication/global_password_reset/",{method:"POST"})
if(e.status<200||e.status>=300)throw new Error("api failed "+e.status+" "+e.statusText)},_failure(e){this.notifications.showAPIError(e,{key:"user.resetAllPasswords.failed"})},resetPasswords:(0,n.task)((function*(){try{yield this._resetPasswords(),window.location=window.location.href.split("#")[0]}catch(e){this._failure(e)}finally{this.send("closeModal")}})).drop()}))
e.default=a})),define("ghost-admin/components/modal-stripe-connect",["exports","ghost-admin/components/modal-base"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"wJw6mBDm",block:'{"symbols":[],"statements":[[11,"header"],[24,0,"modal-header"],[24,"data-test-modal","webhook-form"],[4,[38,0],[[32,0,["reset"]]],null],[12],[2,"\\n    "],[10,"h1"],[14,"data-test-text","title"],[12],[2,"Connect with Stripe"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,"data-test-button","close-stripe-connect"],[24,4,"button"],[4,[38,1],["click",[32,0,["closeModal"]]],null],[4,[38,1],["mouseDown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n    "],[1,[30,[36,3],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"form"],[12],[2,"\\n"],[11,"div"],[24,0,"modal-body"],[4,[38,4],[[32,0,["updateSuccessModifier"]]],null],[12],[2,"\\n    "],[8,"settings/members/stripe-settings-form",[],[["@setStripeConnectIntegrationTokenSetting","@reset","@onConnected","@onDisconnected"],[[32,0,["setStripeConnectIntegrationTokenSetting"]],[32,0,["reset"]],[32,0,["updateSuccessModifier"]],[32,0,["updateSuccessModifier"]]]],null],[2,"\\n"],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["will-destroy","on","optional","svg-jar","did-insert"]}',moduleName:"ghost-admin/components/modal-stripe-connect.hbs"})
let g=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),p(this,"settings",c,this),p(this,"membersUtils",d,this),m(this,"actions",{confirm(){if(this.settings.stripeConnectAccountId)return this.confirmAction()},closeModal(){this.close()}})}setStripeConnectIntegrationTokenSetting(e){this.settings.stripeConnectIntegrationToken=e}reset(){this.settings.stripeConnectIntegrationToken=void 0}close(e){e?.preventDefault?.(),this.closeModal()}confirmAction(){this.confirm(),this.close()}updateSuccessModifier(){this.membersUtils.get("isStripeEnabled")&&this.settings.stripeConnectAccountId?-1===this.modifier?.indexOf("stripe-connected")&&this.updateModifier(`${this.modifier} stripe-connected`):-1!==this.modifier?.indexOf("stripe-connected")&&this.updateModifier(this.modifier.replace(/\s?stripe-connected/,""))}},c=h(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"setStripeConnectIntegrationTokenSetting",[r],Object.getOwnPropertyDescriptor(u.prototype,"setStripeConnectIntegrationTokenSetting"),u.prototype),h(u.prototype,"reset",[a],Object.getOwnPropertyDescriptor(u.prototype,"reset"),u.prototype),h(u.prototype,"close",[s],Object.getOwnPropertyDescriptor(u.prototype,"close"),u.prototype),h(u.prototype,"confirmAction",[o],Object.getOwnPropertyDescriptor(u.prototype,"confirmAction"),u.prototype),h(u.prototype,"updateSuccessModifier",[l],Object.getOwnPropertyDescriptor(u.prototype,"updateSuccessModifier"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modal-tier",["exports","ghost-admin/components/modal-base","ghost-admin/models/tier-benefit-item","ghost-admin/utils/currency","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z
function Q(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ee(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function te(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const ie=Ember.HTMLBars.template({id:"5WuPrzKv",block:'{"symbols":["benefitItem","benefitItem","index"],"statements":[[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,8],["click",[32,0,["closeModal"]]],null],[12],[2,"\\n    "],[1,[30,[36,0],["close"],null]],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-tier-modal-content"],[14,"data-test-modal","edit-tier"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[14,"data-test-text","title"],[12],[1,[32,0,["title"]]],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"form"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body gh-form-edit-tier gh-tier-settings"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section columns-3"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block span-2"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey gh-tier-priceform-block"],[12],[2,"\\n"],[6,[37,12],[[32,0,["isFreeTier"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-form-group",[[24,"data-test-formgroup","name"]],[["@errors","@hasValidated","@property"],[[32,0,["tier","errors"]],[32,0,["tier","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                            "],[8,"gh-text-input",[[24,"data-test-input","tier-name"]],[["@value","@input","@name","@autofocus","@placeholder","@id","@class"],[[30,[36,10],[[32,0,["tier","name"]]],null],[30,[36,9],[[32,0],[30,[36,11],[[32,0,["tier","name"]]],null]],[["value"],["target.value"]]],"name",true,"Bronze","name","gh-input"]],null],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tier","errors"]],"name"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-form-group",[[24,"data-test-formgroup","description"]],[["@errors","@property"],[[32,0,["tier","errors"]],"description"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Description"],[13],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"gh-text-input",[[24,"data-test-input","free-tier-description"]],[["@value","@input","@name","@placeholder","@id","@class"],[[30,[36,10],[[32,0,["tier","description"]]],null],[30,[36,9],[[32,0],[30,[36,11],[[32,0,["tier","description"]]],null]],[["value"],["target.value"]]],"description",[31,["Free preview of ",[32,0,["settings","title"]]]],"description","gh-input"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"gh-text-input",[[24,"data-test-input","tier-description"]],[["@value","@input","@name","@placeholder","@id","@class"],[[30,[36,10],[[32,0,["tier","description"]]],null],[30,[36,9],[[32,0],[30,[36,11],[[32,0,["tier","description"]]],null]],[["value"],["target.value"]]],"description","Full access to premium content","description","gh-input"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["tier","errors"]],"description"]],null],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,12],[[32,0,["isFreeTier"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-settings-members-pricetrialcont"],[12],[2,"\\n                            "],[8,"gh-form-group",[[24,"data-test-formgroup","prices"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"prices"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-settings-members-pricelabelcont free-trial-enabled"],[12],[2,"\\n                                    "],[10,"label"],[14,"for","monthlyPrice"],[14,0,"fw6"],[12],[2,"Prices"],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-setting-members-currency gh-select"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-setting-members-currencylabel"],[12],[2,"\\n                                                "],[10,"span"],[12],[1,[32,0,["currency"]]],[13],[2,"\\n                                                "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[8,"one-way-select",[[24,1,"currency"],[24,3,"currency"]],[["@value","@options","@optionValuePath","@optionLabelPath","@update"],[[32,0,["selectedCurrency"]],[30,[36,10],[[32,0,["allCurrencies"]]],null],"value","label",[30,[36,9],[[32,0],"setCurrency"],null]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-members-prices free-trial-enabled"],[12],[2,"\\n\\n                                    "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                        "],[8,"gh-text-input",[[24,"data-test-input","monthly-price"]],[["@id","@value","@type","@input","@focus-out"],["monthlyPrice",[30,[36,10],[[32,0,["stripeMonthlyAmount"]]],null],"number",[30,[36,9],[[32,0],[30,[36,11],[[32,0,["stripeMonthlyAmount"]]],null]],[["value"],["target.value"]]],[32,0,["validateStripePlans"]]]],null],[2,"\\n                                        "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/month"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                        "],[8,"gh-text-input",[[16,"data-test-title-input",true],[24,"data-test-input","yearly-price"]],[["@id","@value","@type","@input","@focus-out","@placeholder"],["yearlyPrice",[30,[36,10],[[32,0,["stripeYearlyAmount"]]],null],"number",[30,[36,9],[[32,0],[30,[36,11],[[32,0,["stripeYearlyAmount"]]],null]],[["value"],["target.value"]]],[32,0,["validateStripePlans"]],""]],null],[2,"\\n                                        "],[10,"span"],[14,0,"gh-input-append"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,0,["currency"]]],[13],[2,"/year"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,1],[[32,0,["stripePlanError"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"p"],[14,0,"response w-100"],[12],[10,"span"],[14,0,"red"],[12],[1,[32,0,["stripePlanError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-form-group",[[24,"data-test-formgroup","trialDays"]],[["@errors","@property"],[[32,0,["tier","errors"]],"trialDays"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"flex justify-between items-center mb2"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"gh-tier-setting-title"],[12],[2,"Add a free trial"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"switch"],[14,"for","free-trial"],[12],[2,"\\n                                            "],[8,"input",[[24,1,"free-trial"],[24,3,"free-trial"],[4,[38,8],["click",[32,0,["setFreeTrialEnabled"]]],null]],[["@checked","@type"],[[32,0,["freeTrialEnabled"]],"checkbox"]],null],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[14,"data-test-toggle","free-trial"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n\\n                                "],[10,"div"],[15,0,[31,["gh-input-group ",[30,[36,12],[[32,0,["freeTrialEnabled"]],"gh-input-group-tier-trial-disabled"],null]]]],[12],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-input","tier-trial"],[4,[38,8],["input",[32,0,["setTrialDays"]]],null]],[["@value","@type","@name","@id","@class","@disabled"],[[30,[36,10],[[32,0,["tier","trialDays"]]],null],"number","trial","trial","gh-input",[30,[36,12],[[32,0,["freeTrialEnabled"]],"true"],null]]],null],[2,"\\n                                            "],[10,"span"],[14,0,"gh-input-append"],[12],[2,"days"],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Members will be subscribed at full price once the trial ends. "],[10,"a"],[14,0,"trial-docs-link"],[14,6,"https://ghost.org/help/free-trials"],[12],[2,"Learn more"],[13],[13],[2,"\\n"],[6,[37,1],[[32,0,["hasTrialDaysError"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"p"],[14,0,"response w-100"],[12],[10,"span"],[14,0,"red"],[12],[2,"Free trial must be at least 1 day"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","welcomePage"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                            "],[8,"gh-url-input",[],[["@id","@value","@baseUrl","@setResult","@validateUrl","@placeholder"],["welcomePage",[30,[36,10],[[32,0,["model","tier","welcomePageURL"]]],null],[30,[36,10],[[32,0,["siteUrl"]]],null],[32,0,["setWelcomePageURL"]],[32,0,["validateWelcomePageURL"]],[30,[36,10],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"p"],[12],[2,"Redirect to this URL after signup for a free membership"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"p"],[12],[2,"Redirect to this URL after signup for premium membership"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Benefits"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey gh-tier-form-benefits"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-tier-benefits"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-blognav"],[12],[2,"\\n                            "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap","@sortEndAction"],[[32,0,["benefits"]],false,[30,[36,9],[[32,0],"reorderItems"],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,2],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-benefit-item",[[16,"data-test-benefit-item",[32,3]]],[["@benefitItem","@addItem","@focusItem","@deleteItem","@updateLabel"],[[32,2],[30,[36,9],[[32,0],"addBenefit"],null],[30,[36,9],[[32,0],"focusItem"],null],[30,[36,9],[[32,0],"deleteBenefit"],null],[30,[36,9],[[32,0],"updateLabel"],null]]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[2,3]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-benefit-item",[[24,"data-test-benefit-item","new"]],[["@isFreeTier","@benefitItem","@addItem","@deleteItem","@updateLabel"],[[32,0,["isFreeTier"]],[32,0,["newBenefit"]],[30,[36,9],[[32,0],"addBenefit"],null],[30,[36,9],[[32,0],"deleteBenefit"],null],[30,[36,9],[[32,0],"updateLabel"],null]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block gh-tier-form-tierpreview"],[14,"data-test-tierpreview",""],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-tier-form-tierpreview-content"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[14,"data-test-tierpreview-title",""],[12],[2,"Free Membership Preview"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-tier-form-tierpreivew-cadence"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[14,"data-test-tierpreview-title",""],[12],[2,"Tier Preview"],[13],[2,"\\n                            "],[10,"div"],[12],[2,"\\n                                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,6],[[32,0,["previewCadence"]],"monthly"],null],"selected"],null]]]],[24,4,"button"],[4,[38,8],["click",[30,[36,7],[[32,0,["changeCadence"]],"monthly"],null]],null],[12],[10,"span"],[12],[2,"Monthly"],[13],[13],[2,"\\n                                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,6],[[32,0,["previewCadence"]],"yearly"],null],"selected"],null]]]],[24,4,"button"],[4,[38,8],["click",[30,[36,7],[[32,0,["changeCadence"]],"yearly"],null]],null],[12],[10,"span"],[12],[2,"Yearly"],[13],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-main-section-content"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-portal-tier-card-header"],[12],[2,"\\n"],[6,[37,1],[[32,0,["tier","name"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"h4"],[14,0,"gh-portal-tier-name"],[14,"data-test-tierpreview-name",""],[15,5,[32,0,["accentColorStyle"]]],[12],[1,[32,0,["tier","name"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"h4"],[14,0,"placeholder gh-portal-tier-name"],[15,5,[32,0,["accentColorStyle"]]],[14,"data-test-tierpreview-name",""],[12],[2,"Bronze"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-tier-card-pricecontainer"],[14,"data-test-tierpreview-price",""],[12],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-portal-tier-price"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"currency-sign"],[12],[1,[30,[36,4],[[32,0,["currency"]]],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["stripeYearlyAmount"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-portal-tier-price"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"currency-sign"],[12],[1,[30,[36,4],[[32,0,["currency"]]],null]],[13],[2,"\\n"],[6,[37,1],[[30,[36,6],[[32,0,["previewCadence"]],"monthly"],null]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"span"],[14,0,"amount"],[12],[2,"\\n                                                    "],[1,[30,[36,5],[[32,0,["stripeMonthlyAmount"]]],null]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"span"],[14,0,"billing-period"],[12],[2,"/month"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[10,"span"],[14,0,"amount"],[12],[2,"\\n                                                    "],[1,[30,[36,5],[[32,0,["stripeYearlyAmount"]]],null]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"span"],[14,0,"billing-period"],[12],[2,"/year"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTrialEnabled"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-portal-discount-label"],[12],[2,"\\n                                                "],[10,"span"],[15,5,[31,["background-color: ",[32,0,["settings","accentColor"]]]]],[12],[13],[2,"\\n                                                "],[1,[32,0,["tier","trialDays"]]],[2," days free"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-portal-tier-price placeholder"],[12],[2,"\\n                                            "],[10,"span"],[14,0,"currency-sign"],[12],[1,[30,[36,4],[[32,0,["currency"]]],null]],[13],[2,"\\n                                            "],[10,"span"],[14,0,"amount"],[12],[2,"0"],[13],[2,"\\n                                            "],[10,"span"],[14,0,"billing-period"],[12],[2,"/year"],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"],[6,[37,1],[[30,[36,14],[[30,[36,6],[[32,0,["previewCadence"]],"yearly"],null],[30,[36,13],[[32,0,["discountValue"]],0],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-portal-discount-label-trial"],[15,5,[32,0,["accentColorStyle"]]],[12],[2,"\\n                                    "],[1,[32,0,["discountValue"]]],[2,"% discount\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"gh-portal-tier-card-details"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-portal-tier-card-detaildata"],[12],[2,"\\n"],[6,[37,1],[[32,0,["tier","description"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-portal-tier-description"],[14,"data-test-tierpreview-description",""],[12],[1,[32,0,["tier","description"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"placeholder gh-portal-tier-description"],[14,"data-test-tierpreview-description",""],[12],[2,"Free preview of "],[1,[32,0,["settings","title"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"div"],[14,0,"placeholder gh-portal-tier-description"],[14,"data-test-tierpreview-description",""],[12],[2,"Full access to premium content"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["benefits"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-portal-tier-benefits"],[14,"data-test-tierpreview-benefits",""],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["benefits"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-portal-tier-benefit"],[12],[1,[30,[36,0],["check-2"],null]],[2,"\\n                                            "],[10,"div"],[14,0,"gh-portal-benefit-title"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"div"],[14,0,"placeholder gh-portal-tier-benefits"],[14,"data-test-tierpreview-benefits",""],[12],[2,"\\n"],[6,[37,1],[[32,0,["isFreeTier"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-portal-tier-benefit"],[12],[1,[30,[36,0],["check-2"],null]],[2,"\\n                                                "],[10,"div"],[14,0,"gh-portal-benefit-title"],[12],[2,"\\n                                                    Access to all public posts\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-portal-tier-benefit"],[12],[2,"\\n                                                "],[1,[30,[36,0],["check-2"],null]],[2,"\\n                                                "],[10,"div"],[14,0,"gh-portal-benefit-title"],[12],[2,"Expert analysis"],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"modal-footer top-shadow items-center"],[12],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,9],[[32,0],"closeModal"],null],[4,[38,9],[[32,0],[30,[36,15],[[32,0,["noop"]]],null]],[["on"],["mouseDown"]]],[12],[2,"\\n        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"gh-task-button",[[24,"data-test-button","save-tier"]],[["@buttonText","@successText","@task","@idleClass","@class"],[[31,[[30,[36,1],[[32,0,["isExistingTier"]],"Save","Add tier"],null]]],[32,0,["successText"]],[32,0,["saveTier"]],"gh-btn-primary",[31,["gh-btn ",[30,[36,1],[[32,0,["isExistingTier"]],"gh-btn-black","gh-btn-green"],null]," gh-btn-icon"]]]],null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","-track-array","each","currency-symbol","format-number","eq","fn","on","action","readonly","mut","unless","gt","and","optional"]}',moduleName:"ghost-admin/components/modal-tier.hbs"}),ne=n.currencies.map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode}))),re=999999.99
let ae=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,k=Ember._tracked,E=Ember._tracked,P=Ember._tracked,O=Ember._action,j=Ember._action,_=Ember._action,T=Ember._action,z=(0,a.task)({drop:!0}),x=Ember._action,S=Ember._action,C=Ember._action,M=Ember._action,D=class extends t.default{constructor(...e){super(...e),Q(this,"feature",A,this),Q(this,"settings",I,this),Q(this,"membersUtils",N,this),Q(this,"config",L,this),Q(this,"model",R,this),Q(this,"tier",U,this),Q(this,"periodVal",F,this),Q(this,"stripeMonthlyAmount",B,this),Q(this,"stripeYearlyAmount",V,this),Q(this,"currency",H,this),Q(this,"stripePlanError",q,this),Q(this,"benefits",$,this),Q(this,"newBenefit",Y,this),Q(this,"welcomePageURL",W,this),Q(this,"previewCadence",G,this),Q(this,"discountValue",K,this),Q(this,"hasSaved",J,this),Q(this,"freeTrialEnabled",X,this),Q(this,"savedBenefits",Z,this),ee(this,"accentColorStyle",""),ee(this,"actions",{addBenefit(e){return e.validate().then((()=>{this.addNewBenefitItem(e)}))},focusItem(){},deleteBenefit(e){e&&this.benefits.removeObject(e)},reorderItems(){this.tier.set("benefits",this.benefits)},updateLabel(e,t){t&&t.get("name")!==e&&t.set("name",e)},confirm(){},setAmount(e){this.price.amount=isNaN(e)?0:parseInt(e)},setCurrency(e){const t=e.value
this.currency=t},closeModal(){this.close()}})}confirm(){}get isFreeTier(){return"free"===this.tier.type}get hasTrialDaysError(){const e=this.tier.get("trialDays")
return this.freeTrialEnabled&&(!e||e<1)}get allCurrencies(){return(0,n.getCurrencyOptions)()}get selectedCurrency(){return ne.findBy("value",this.currency)}get isFreeTrialEnabled(){return this.freeTrialEnabled&&this.tier.get("trialDays")>0}init(){super.init(...arguments),this.tier=this.model.tier,this.savedBenefits=this.model.tier?.get("benefits")
const e=this.tier.get("monthlyPrice"),t=this.tier.get("yearlyPrice")
e&&(this.stripeMonthlyAmount=e/100),t&&(this.stripeYearlyAmount=t/100),this.currency=this.tier.get("currency")||"usd",this.benefits=this.tier.get("benefits")||Ember.A([]),this.newBenefit=i.default.create({isNew:!0,name:""}),this.calculateDiscount(),this.tier.get("trialDays")&&(this.freeTrialEnabled=!0),this.accentColorStyle=Ember.String.htmlSafe(`color: ${this.settings.accentColor}`)}validateWelcomePageURL(){const e=this.siteUrl
if(void 0!==this.welcomePageURL)if(this.welcomePageURL.href.startsWith(e)){const t=this.welcomePageURL.href.replace(e,"")
this.model.tier.welcomePageURL=t}else this.model.tier.welcomePageURL=this.welcomePageURL.href}get siteUrl(){return this.config.blogUrl}get welcomePageURL(){return this.model.tier.welcomePageURL}get title(){return this.isExistingTier?this.isFreeTier?"Edit free membership":"Edit tier":"New tier"}get isExistingTier(){return!this.model.tier.isNew}close(e){this.hasSaved||this.reset(),e?.preventDefault?.(),this.closeModal()}setCurrency(e){const t=e.value
this.currency=t}setWelcomePageURL(e){this.welcomePageURL=e}reset(){this.newBenefit=i.default.create({isNew:!0,name:""})
const e=this.savedBenefits||Ember.A([])
this.tier.set("benefits",e),this.tier.rollbackAttributes()}*saveTier(){if(this.validatePrices(),!this.stripePlanError&&!this.hasTrialDaysError){if(this.newBenefit.get("isBlank")||(yield this.send("addBenefit",this.newBenefit)),!this.isFreeTier){const e=Math.round(100*this.stripeMonthlyAmount),t=Math.round(100*this.stripeYearlyAmount)
this.tier.set("monthlyPrice",e),this.tier.set("yearlyPrice",t),this.tier.set("currency",this.currency)}this.freeTrialEnabled||this.tier.set("trialDays",0),this.tier.set("benefits",this.benefits.filter((e=>!e.get("isBlank"))))
try{yield this.tier.save(),this.hasSaved=!0,yield this.confirm(),this.send("closeModal"),this.membersUtils.reload()}catch(e){if(void 0===e)return
throw e}}}validatePrices(){this.stripePlanError=void 0
try{const e=this.stripeYearlyAmount,t=this.stripeMonthlyAmount,i=(0,n.getSymbol)(this.currency),r=(0,n.minimumAmountForCurrency)(this.currency)
if(!e||e<r||!t||t<r)throw new TypeError(`Subscription amount cannot be less than ${i}${r}`)
if(e>re||t>re)throw new TypeError(`Subscription amount cannot be more than ${i}999999.99`)}catch(e){this.stripePlanError=e.message}}addNewBenefitItem(e){e.set("isNew",!1),this.benefits.pushObject(e),this.newBenefit=i.default.create({isNew:!0,name:""})}calculateDiscount(){const e=this.stripeMonthlyAmount?100-Math.floor(this.stripeYearlyAmount/12*100/this.stripeMonthlyAmount):0
this.discountValue=e>0?e:0}changeCadence(e){this.previewCadence=e}setTrialDays(e){const t=parseInt(e.target.value)
this.tier.set("trialDays",t)}setFreeTrialEnabled(e){this.freeTrialEnabled=e.target.checked,e.target.checked&&!this.tier.get("trialDays")&&this.tier.set("trialDays",7)}validateStripePlans(){this.calculateDiscount(),this.stripePlanError=void 0
try{const e=this.stripeYearlyAmount,t=this.stripeMonthlyAmount,i=(0,n.getSymbol)(this.currency),r=(0,n.minimumAmountForCurrency)(this.currency)
if(!e||e<r||!t||t<r)throw new TypeError(`Subscription amount cannot be less than ${i}${r}`)
if(e>re||t>re)throw new TypeError(`Subscription amount cannot be more than ${i}999999.99`)}catch(e){this.stripePlanError=e.message}}keyPress(e){13===e.keyCode&&(e.preventDefault(),Ember.run.scheduleOnce("actions",this,this.send,"addBenefit",this.newBenefit))}},A=te(D.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=te(D.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=te(D.prototype,"membersUtils",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=te(D.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=te(D.prototype,"model",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=te(D.prototype,"tier",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=te(D.prototype,"periodVal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=te(D.prototype,"stripeMonthlyAmount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),V=te(D.prototype,"stripeYearlyAmount",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),H=te(D.prototype,"currency",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"usd"}}),q=te(D.prototype,"stripePlanError",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$=te(D.prototype,"benefits",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),Y=te(D.prototype,"newBenefit",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=te(D.prototype,"welcomePageURL",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=te(D.prototype,"previewCadence",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"yearly"}}),K=te(D.prototype,"discountValue",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),J=te(D.prototype,"hasSaved",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=te(D.prototype,"freeTrialEnabled",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=te(D.prototype,"savedBenefits",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te(D.prototype,"validateWelcomePageURL",[O],Object.getOwnPropertyDescriptor(D.prototype,"validateWelcomePageURL"),D.prototype),te(D.prototype,"close",[j],Object.getOwnPropertyDescriptor(D.prototype,"close"),D.prototype),te(D.prototype,"setCurrency",[_],Object.getOwnPropertyDescriptor(D.prototype,"setCurrency"),D.prototype),te(D.prototype,"setWelcomePageURL",[T],Object.getOwnPropertyDescriptor(D.prototype,"setWelcomePageURL"),D.prototype),te(D.prototype,"saveTier",[z],Object.getOwnPropertyDescriptor(D.prototype,"saveTier"),D.prototype),te(D.prototype,"changeCadence",[x],Object.getOwnPropertyDescriptor(D.prototype,"changeCadence"),D.prototype),te(D.prototype,"setTrialDays",[S],Object.getOwnPropertyDescriptor(D.prototype,"setTrialDays"),D.prototype),te(D.prototype,"setFreeTrialEnabled",[C],Object.getOwnPropertyDescriptor(D.prototype,"setFreeTrialEnabled"),D.prototype),te(D.prototype,"validateStripePlans",[M],Object.getOwnPropertyDescriptor(D.prototype,"validateStripePlans"),D.prototype),D)
e.default=ae,Ember._setComponentTemplate(ie,ae)})),define("ghost-admin/components/modal-unsubscribe-members",["exports","ghost-admin/components/modal-base","ember-concurrency"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"3j56O3sd",block:'{"symbols":[],"statements":[[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","unsubscribe-members"],[12],[2,"\\n    "],[10,"h1"],[12],[2,"Unsubscribe members from email?"],[13],[2,"\\n"],[13],[2,"\\n"],[11,"a"],[24,0,"close"],[24,6,""],[24,"role","button"],[24,"title","Close"],[4,[38,0],[[32,0],"closeModal"],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["confirmed"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-content-box pa"],[14,"data-test-state","unsubscribe-complete"],[12],[2,"\\n"],[6,[37,3],[[32,0,["error"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                "],[1,[30,[36,2],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                        "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","unsubscribe-error"],[12],[1,[32,0,["error"]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                "],[1,[30,[36,2],["check-circle"],[["class"],["w4 h4 stroke-green mr2"]]]],[2,"\\n                "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                    "],[10,"span"],[14,0,"fw6"],[14,"data-test-text","unsubscribe-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","successful"]],"member"],null]],[13],[2,"\\n                    successfully unsubscribed\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,3],[[32,0,["response","stats","unsuccessful"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"flex items-start mt2"],[14,"data-test-bulk-delete-errors",""],[12],[2,"\\n                    "],[1,[30,[36,2],["warning"],[["class"],["w4 h4 fill-red mr2 nudge-top--3"]]]],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"p"],[14,0,"ma0 pa0"],[12],[2,"\\n                            "],[10,"span"],[14,0,"fw5"],[14,"data-test-text","invalid-count"],[12],[1,[30,[36,1],[[32,0,["response","stats","unsuccessful"]],"member"],null]],[13],[2,"\\n                            failed to unsubscribe\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"modal-body"],[14,"data-test-state","unsubscribe-unconfirmed"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to unsubscribe\\n            "],[10,"strong"],[14,"data-test-text","unsubscribe-count"],[12],[1,[30,[36,1],[[32,0,["model","memberCount"]],"member"],null]],[13],[2," from email newsletters.\\n            Are you sure?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,3],[[32,0,["confirmed"]]],null,[["default","else"],[{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,"data-test-button","close-modal"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Close"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],[[32,0],"closeModal"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Unsubscribe members","Unsubscribed",[32,0,["unsubscribeMemberTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","gh-pluralize","svg-jar","if"]}',moduleName:"ghost-admin/components/modal-unsubscribe-members.hbs"})
var r=Ember._setComponentTemplate(n,t.default.extend({membersStats:Ember.inject.service(),shouldCancelSubscriptions:!1,confirm:()=>{},member:Ember.computed.alias("model"),actions:{confirm(){this.unsubscribeMemberTask.perform()}},unsubscribeMemberTask:(0,i.task)((function*(){try{const e=yield this.confirm()
this.set("response",e),this.set("confirmed",!0)}catch(e){throw e.payload?.errors&&(this.set("confirmed",!0),this.set("error",e.payload.errors[0].message)),e}})).drop()}))
e.default=r})),define("ghost-admin/components/modals/confirm-unsaved-changes",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"7GHSRuvo",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","unsaved-settings"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to leave this page?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,"data-test-button","close"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Hey there! It looks like you didn\'t save the changes you made.\\n        "],[13],[2,"\\n\\n        "],[10,"p"],[12],[2,"Save before you go!"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-stay-button",""],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,"data-test-leave-button",""],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],true],null]],null],[12],[10,"span"],[12],[2,"Leave"],[13],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/confirm-unsaved-changes.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/custom-view-form",["exports","@glimmer/component","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"/IGEwpgl",block:'{"symbols":["color","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","custom-view-form"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[30,[36,4],[[32,3,["customView","isNew"]],"New view","Edit view"],null]],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n        "],[1,[30,[36,5],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,3,["customView","errors"]],[32,3,["customView","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","view-name"],[14,0,"dib fw6"],[12],[2,"View name"],[13],[2,"\\n                "],[8,"gh-text-input",[[24,"data-test-input","custom-view-name"]],[["@id","@value","@placeholder","@focus-out"],["view-name",[32,3,["customView","name"]],"Breaking news",[30,[36,6],[[32,0,["validate"]],"name"],null]]],null],[2,"\\n"],[6,[37,4],[[32,3,["customView","errors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-error-message",[[24,"data-test-error","custom-view-name"]],[["@errors","@property"],[[32,3,["customView","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,3,["customView","isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"p"],[12],[2,"Saved views appear in the app sidebar."],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"label"],[14,"for","view-name"],[14,0,"dib fw6"],[12],[2,"Icon color"],[13],[2,"\\n            "],[10,"div"],[14,0,"flex justify-between mt3 nl1"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["customViews","availableColors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-radio-color"],[12],[2,"\\n                        "],[11,"input"],[24,3,"view-color"],[16,1,[31,["view-",[32,1]]]],[16,"checked",[30,[36,3],[[32,1],[32,3,["customView","color"]]],null]],[16,2,[32,1]],[24,4,"radio"],[4,[38,1],["change",[32,0,["changeColor"]]],null],[12],[13],[2,"\\n                        "],[10,"label"],[15,"for",[31,["view-",[32,1]]]],[12],[10,"span"],[15,0,[31,["gh-radio-color-",[32,1]]]],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n"],[6,[37,4],[[32,3,["customView","isNew"]]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-custom-view-form"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,"data-test-button","delete-custom-view"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["deleteTask"]]],null]],null],[4,[38,1],["mousedown",[30,[36,2],[[32,0,["noop"]]],null]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Delete"],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","save-custom-view"]],[["@buttonText","@successText","@task","@taskArgs","@class"],["Save","Saved",[32,0,["saveTask"]],[32,0,["customView"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","optional","eq","if","svg-jar","fn","-track-array","each"]}',moduleName:"ghost-admin/components/modals/custom-view-form.hbs"})
let b=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(d=class extends t.default{constructor(...e){super(...e),p(this,"customViews",u,this),p(this,"router",c,this)}changeColor(e){const t=e.target.value
this.args.data.customView.set("color",t)}validate(e){return this.args.data.customView.validate({property:e})}*saveTask(){const e=yield this.customViews.saveViewTask.perform(this.args.data.customView)
return this.args.close(),e}*deleteTask(){const e=yield this.customViews.deleteViewTask.perform(this.args.data.customView),t=this.router.currentRouteName
return this.router.transitionTo(t,{queryParams:(0,i.resetQueryParams)(t)}),this.args.close(),e}},"modalOptions",{className:"fullscreen-modal-action fullscreen-modal-narrow"}),u=m((l=d).prototype,"customViews",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"changeColor",[s],Object.getOwnPropertyDescriptor(l.prototype,"changeColor"),l.prototype),m(l.prototype,"validate",[o],Object.getOwnPropertyDescriptor(l.prototype,"validate"),l.prototype),m(l.prototype,"saveTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"saveTask"),l.prototype),m(l.prototype,"deleteTask",[n.task],Object.getOwnPropertyDescriptor(l.prototype,"deleteTask"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/modals/delete-post",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"plQAYTbl",block:'{"symbols":["@data","@close"],"statements":[[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["deletePostTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this "],[1,[32,1,["post","displayName"]]],[2,"?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,2]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete \\""],[10,"strong"],[12],[1,[32,1,["post","title"]]],[13],[2,"\\".\\n            This is permanent! We warned you, k?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,2]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deletePostTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/delete-post.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}*deletePostTask(){try{const{post:e}=this.args.data
return e.isDeleted||(e.updateTags(),yield e.destroyRecord(),this.notifications.closeAlerts("post.delete"),this.router.transitionTo("page"===e.displayName?"pages":"posts")),!0}catch(e){this.notifications.showAPIError(e,{key:"post.delete.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"deletePostTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deletePostTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modals/design/confirm-delete-theme",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"jjJFz7Ea",block:'{"symbols":["@close","@data"],"statements":[[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","delete-theme"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["deleteThemeTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"You\'re about to delete \\""],[10,"strong"],[12],[1,[32,2,["theme","name"]]],[13],[2,"\\". This is permanent! We warned you, k? Maybe "],[11,"a"],[24,6,"#"],[4,[38,2],["click",[32,0,["downloadTheme"]]],null],[12],[2,"download your theme before continuing"],[13],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,2],["click",[30,[36,4],[[32,1],false],null]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteThemeTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar","fn"]}',moduleName:"ghost-admin/components/modals/design/confirm-delete-theme.hbs"})
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),d(this,"ghostPaths",l,this),d(this,"notifications",u,this),d(this,"utils",c,this)}downloadTheme(e){e.preventDefault(),this.utils.downloadFile(`${this.ghostPaths.apiRoot}/themes/${this.args.data.theme.name}/download/`)}*deleteThemeTask(){try{return yield this.args.data.theme.destroyRecord(),this.args.data.theme.unloadRecord(),this.args.close(),!0}catch(e){this.notifications.showAPIError(e)}}},l=p(o.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"utils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"downloadTheme",[s],Object.getOwnPropertyDescriptor(o.prototype,"downloadTheme"),o.prototype),p(o.prototype,"deleteThemeTask",[i.task],Object.getOwnPropertyDescriptor(o.prototype,"deleteThemeTask"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/modals/design/install-theme",["exports","@glimmer/component","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"gP/9fm1Q",block:'{"symbols":["error","error","error","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","install-theme"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[1,[30,[36,0],[[32,0,["installSuccess"]],"Success","Install theme"],null]],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,4]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,0],[[32,0,["isConfirming"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,"data-test-state","confirm"],[12],[2,"\\n                    By clicking below, "],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," will automatically be activated as the theme for your site.\\n                "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["willOverwriteExisting"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[14,"data-test-state","confirm-overwrite"],[12],[2,"\\n                        This will overwrite your existing version of "],[1,[32,0,["themeName"]]],[1,[30,[36,0],[[32,0,["willOverwriteExisting","active"]],", which is your active theme"],null]],[2,". All custom changes will be lost.\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installSuccess"]]],null,[["default"],[{"statements":[[6,[37,0],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,"data-test-state","installed-with-notes"],[12],[2,"\\n                        The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["themeName"]]],[2,"\\""],[13],[2," was installed successfully but we detected some "],[1,[30,[36,0],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2,".\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"p"],[14,"data-test-state","installed-no-notes"],[12],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," has been successfully installed and activated as your theme."],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,"data-test-state","failed-error"],[12],[1,[32,0,["themeName"]]],[2," failed to install."],[13],[2,"\\n                "],[10,"p"],[14,0,"error"],[14,"data-test-text","install-error"],[12],[10,"strong"],[14,0,"response"],[12],[1,[32,0,["installError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["installFailure"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,"data-test-state","failed-invalid"],[12],[2,"This theme is invalid and cannot be installed. Contact the theme developer."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["fatalValidationErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Fatal Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Must-fix to install theme"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["fatalValidationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["validationWarnings"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["validationWarnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                        "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex items-center justify-between"],[12],[2,"\\n                "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,3],["click",[30,[36,5],[[32,4],false],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,0],[[30,[36,6],[[32,0,["installSuccess"]],[32,0,["installFailure"]]],null],"Close","Cancel"],null]],[13],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["shouldShowInstall"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-task-button",[[24,"data-test-button","confirm-install"]],[["@disabled","@buttonText","@runningText","@successText","@task","@unlinkedTask","@class"],[[32,0,["refreshThemesTask","isRunning"]],[30,[36,0],[[32,0,["willOverwriteExisting"]],"Overwrite","Install"],null],"Installing","Installed",[32,0,["installThemeTask"]],true,"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","-track-array","each","on","svg-jar","fn","or"]}',moduleName:"ghost-admin/components/modals/design/install-theme.hbs"})
let T=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=class extends t.default{constructor(){super(...arguments),P(this,"ajax",h,this),P(this,"ghostPaths",b,this),P(this,"store",g,this),P(this,"themeManagement",f,this),P(this,"installedTheme",v,this),P(this,"installError",y,this),P(this,"validationWarnings",w,this),P(this,"validationErrors",k,this),P(this,"fatalValidationErrors",E,this),O(this,"themes",this.store.peekAll("theme")),this.refreshThemesTask.perform()}get themeName(){return this.args.data.theme?.name||this.args.data.ref.split("/")[1]}get themeRef(){return this.args.data.theme?.ref||this.args.data.ref}get isDefaultTheme(){return"casper"===this.themeName.toLowerCase()}get isConfirming(){return!this.installSuccess&&!this.installError&&!this.installFailure}get installSuccess(){return!!this.installedTheme}get installFailure(){return!this.installSuccess&&(this.validationErrors.length||this.fatalValidationErrors.length)}get willOverwriteExisting(){return!this.isDefaultTheme&&this.themes.findBy("name",this.themeName.toLowerCase())}get hasWarningsOrErrors(){return this.validationWarnings.length>0||this.validationErrors.length>0}get shouldShowInstall(){return!this.installSuccess&&!this.installFailure}*refreshThemesTask(){yield this.store.findAll("theme",{reload:!0})}*installThemeTask(){try{if(this.isDefaultTheme){const e=this.store.peekRecord("theme","casper")
return yield this.themeManagement.activateTask.perform(e,{skipErrors:!0}),this.installedTheme=e,this.args.data.onSuccess?.(),!0}const e=this.ghostPaths.url.api("themes/install")+`?source=github&ref=${this.themeRef}`,t=yield this.ajax.post(e)
if(this.installError="",t.themes)return this.store.pushPayload(t),this.installedTheme=this.store.peekRecord("theme",t.themes[0].name),this.validationWarnings=this.installedTheme.warnings||[],this.validationErrors=this.installedTheme.gscanErrors||[],this.fatalValidationErrors=[],yield this.themeManagement.activateTask.perform(this.installedTheme,{skipErrors:!0}),this.args.data.onSuccess?.(),!0}catch(e){if((0,i.isThemeValidationError)(e)){this.resetErrors()
let t=e.payload.errors[0].details.errors,i=[],n=[]
if(t&&t.length>0)for(let e=0;e<t.length;e+=1)t[e].fatal?i.push(t[e]):n.push(t[e])
return this.fatalValidationErrors=i,this.validationErrors=n,this.validationWarnings=e.payload.errors[0].details.warnings||[],!1}if(e.payload?.errors)return this.installError=e.payload.errors[0].message,!1
throw this.installError=e.message,e}}},h=j(m.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=j(m.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j(m.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=j(m.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(m.prototype,"installedTheme",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j(m.prototype,"installError",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),w=j(m.prototype,"validationWarnings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),k=j(m.prototype,"validationErrors",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=j(m.prototype,"fatalValidationErrors",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j(m.prototype,"refreshThemesTask",[n.task],Object.getOwnPropertyDescriptor(m.prototype,"refreshThemesTask"),m.prototype),j(m.prototype,"installThemeTask",[n.task],Object.getOwnPropertyDescriptor(m.prototype,"installThemeTask"),m.prototype),m)
e.default=T,Ember._setComponentTemplate(_,T)})),define("ghost-admin/components/modals/design/theme-errors",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"kDm29n0W",block:'{"symbols":["error","error","error","@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[14,"data-test-modal","theme-errors"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[14,"data-test-theme-warnings-title",""],[12],[2,"\\n"],[6,[37,2],[[32,4,["canActivate"]]],null,[["default","else"],[{"statements":[[2,"                    "],[2,[32,4,["title"]]],[2," with "],[6,[37,2],[[32,4,["errors"]]],null,[["default","else"],[{"statements":[[2,"errors"]],"parameters":[]},{"statements":[[2,"warnings"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,4,["title"]]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,5]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,2],[[32,4,["fatalErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6 red"],[12],[2,"Fatal Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2 red"],[12],[2,"Must-fix to activate theme"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"ul"],[14,0,"pa0"],[14,"data-test-theme-fatal-errors",""],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["fatalErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,4,["errors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                    "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"span"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"ul"],[14,0,"pa0"],[14,"data-test-theme-errors",""],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,6],[[32,4,["warnings"]],[30,[36,5],[[32,4,["fatalErrors"]],[32,4,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,4,["warnings"]]],null,[["default"],[{"statements":[[2,"                "],[10,"ul"],[14,0,"pa0"],[14,"data-test-theme-warnings",""],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,4,["warnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-modal-close-button",""],[24,4,"button"],[4,[38,3],["click",[32,5]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["-track-array","each","if","on","svg-jar","or","and"]}',moduleName:"ghost-admin/components/modals/design/theme-errors.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/design/upload-theme",["exports","@glimmer/component","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C
function M(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=Ember.HTMLBars.template({id:"Sfou9L83",block:'{"symbols":["error","error","error","error","error","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","upload-theme"],[12],[2,"\\n    "],[10,"div"],[14,0,"theme-validation-container"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"\\n"],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                        Upload successful with "],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default","else"],[{"statements":[[2,"errors"]],"parameters":[]},{"statements":[[2,"warnings"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        Upload successful!\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default","else"],[{"statements":[[2,"                    Invalid theme\\n"]],"parameters":[]},{"statements":[[2,"                    Upload a theme\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,6]],null],[12],[1,[30,[36,7],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["hasWarningsOrErrors"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"p"],[14,"data-test-state","installed-with-notes"],[12],[2,"\\n                        The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["themeName"]]],[2,"\\""],[13],[2," was installed successfully but we detected some "],[1,[30,[36,1],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2,".\\n"],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"                            You are still able to activate and use the theme but it is recommended to fix these "],[1,[30,[36,1],[[32,0,["validationErrors"]],"errors","warnings"],null]],[2," before you do so.\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                            "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                                "],[8,"gh-theme-error-li",[],[["@error"],[[32,5]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[5]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["validationWarnings"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationWarnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                                "],[8,"gh-theme-error-li",[],[["@error"],[[32,4]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[10,"p"],[14,"data-test-state","installed-no-notes"],[12],[2,"\\n                        "],[10,"strong"],[12],[1,[32,0,["themeName"]]],[13],[2," uploaded successfully.\\n                        "],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"Do you want to activate it now?"]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["displayOverwriteWarning"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"p"],[14,"data-test-state","overwrite"],[12],[2,"\\n                    The theme "],[10,"strong"],[12],[2,"\\""],[1,[32,0,["fileThemeName"]]],[2,"\\""],[13],[2," already exists. Do you want to overwrite it?\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default","else"],[{"statements":[[2,"\\n                "],[10,"p"],[14,"data-test-state","invalid"],[12],[2,"\\n                    This theme is invalid and cannot be activated. Fix the following errors and re-upload the theme.\\n                "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["fatalValidationErrors"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Fatal Errors"],[13],[2,"\\n                        "],[10,"p"],[14,0,"mb2"],[12],[2,"Must-fix to activate theme"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["fatalValidationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-fatal-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,3]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[3]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Errors"],[13],[2,"\\n                        "],[10,"p"],[14,0,"mb2"],[12],[2,"Highly recommended to fix, functionality "],[10,"strong"],[12],[2,"could"],[13],[2," be restricted"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationErrors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-error"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,2]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["validationWarnings"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h2"],[14,0,"mb0 mt4 f5 fw6"],[12],[2,"Warnings"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"ul"],[14,0,"pa0"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["validationWarnings"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"li"],[14,0,"theme-validation-item theme-warning"],[12],[2,"\\n                            "],[8,"gh-theme-error-li",[],[["@error"],[[32,1]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                "],[8,"gh-file-uploader",[],[["@url","@paramName","@accept","@labelText","@validate","@uploadStarted","@uploadFinished","@uploadSuccess","@uploadFailed","@listenTo"],[[32,0,["uploadUrl"]],"file",[32,0,["accept"]],"Select or drop your theme zip file",[32,0,["validateTheme"]],[30,[36,3],[[30,[36,2],[[32,0,["themeManagement","isUploading"]]],null],true],null],[30,[36,3],[[30,[36,2],[[32,0,["themeManagement","isUploading"]]],null],false],null],[32,0,["uploadSuccess"]],[32,0,["uploadFailed"]],"themeUploader"]],null],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["modal-footer ",[30,[36,1],[[30,[36,8],[[32,0,["theme"]],[32,0,["hasWarningsOrErrors"]]],null],"top-shadow"],null]]]],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["flex items-center justify-between ",[30,[36,1],[[30,[36,6],[[32,0,["displayOverwriteWarning"]],[32,0,["canActivateTheme"]],[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null],"flex-auto"],null]]]],[12],[2,"\\n            "],[11,"button"],[16,"disabled",[32,0,["closeDisabled"]]],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,0],["click",[32,6]],null],[12],[2,"\\n                "],[10,"span"],[12],[6,[37,1],[[32,0,["theme"]]],null,[["default","else"],[{"statements":[[2,"Close"]],"parameters":[]},{"statements":[[2,"Cancel"]],"parameters":[]}]]],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n"],[6,[37,1],[[32,0,["displayOverwriteWarning"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,"data-test-button","overwrite"],[24,4,"button"],[4,[38,0],["click",[32,0,["confirmOverwrite"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Overwrite"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["canActivateTheme"]]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,"data-test-button","activate"],[24,4,"button"],[4,[38,0],["click",[32,0,["activate"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Activate"],[6,[37,1],[[32,0,["validationErrors"]]],null,[["default"],[{"statements":[[2," with errors"]],"parameters":[]}]]],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,6],[[32,0,["validationErrors"]],[32,0,["fatalValidationErrors"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black ml2"],[24,"data-test-button","retry"],[24,4,"button"],[4,[38,0],["click",[32,0,["reset"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Retry"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","if","mut","fn","-track-array","each","or","svg-jar","and"]}',moduleName:"ghost-admin/components/modals/design/upload-theme.hbs"})
let N=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,C=class extends t.default{get themes(){return this.store.peekAll("theme")}get currentThemeNames(){return this.themes.map((e=>e.name))}get themeName(){let e=this.theme.package,t=this.theme.name
return e?`${e.name} - ${e.version}`:t}get fileThemeName(){return this.file?.name.replace(/\.zip$/,"")}get canActivateTheme(){return this.theme&&!this.theme.active}get uploadUrl(){return`${this.ghostPaths.apiRoot}/themes/upload/`}get hasWarningsOrErrors(){return this.validationWarnings?.length||this.validationErrors?.length}get closeDisabled(){return this.themeManagement.isUploading}constructor(){super(...arguments),M(this,"eventBus",k,this),M(this,"ghostPaths",E,this),M(this,"store",P,this),M(this,"themeManagement",O,this),M(this,"displayOverwriteWarning",j,this),M(this,"file",_,this),M(this,"theme",T,this),M(this,"validationErrors",z,this),M(this,"validationWarnings",x,this),M(this,"fatalValidationErrors",S,this),D(this,"accept",["application/zip","application/x-zip-compressed"]),D(this,"extensions",["zip"]),this.refreshThemesTask.perform()}*refreshThemesTask(){yield this.store.findAll("theme")}validateTheme(e){const t=e.name.replace(/\.zip$/,"").replace(/[^\w@.]/gi,"-").toLowerCase()
this.file=e
const[,n]=/(?:\.([^.]+))?$/.exec(e.name),r=this.extensions
return n&&-1!==r.indexOf(n.toLowerCase())?e.name.match(/^casper\.zip$/i)?{payload:{errors:[{message:"Sorry, the default Casper theme cannot be overwritten.<br>Please rename your zip file to continue."}]}}:!(!this._allowOverwrite&&this.currentThemeNames.includes(t))||(this.displayOverwriteWarning=!0,!1):new i.UnsupportedMediaTypeError}confirmOverwrite(){this._allowOverwrite=!0,this.displayOverwriteWarning=!1,Ember.run.schedule("afterRender",this,(function(){this.eventBus.publish("themeUploader:upload",this.file)}))}uploadSuccess(e){this.store.pushPayload(e)
const t=this.store.peekRecord("theme",e.themes[0].name)
this.theme=t,t.warnings?.length>0&&(this.validationWarnings=t.warnings),t.gscanErrors?.length>0&&(this.validationErrors=t.gscanErrors)}uploadFailed(e){if((0,i.isThemeValidationError)(e)){const t=e.payload.errors[0].details.errors,i=[],n=[]
t.forEach?.((e=>{e.fatal?i.push(e):n.push(e)})),this.fatalValidationErrors=i,this.validationErrors=n,this.validationWarnings=e.payload.errors[0].details.warnings||[]}}activate(){this.themeManagement.activateTask.perform(this.theme),this.args.data.onActivationSuccess?.(),this.args.close()}reset(){this.theme=null,this.validationWarnings=[],this.validationErrors=[],this.fatalValidationErrors=[]}},D(C,"modalOptions",{beforeClose:()=>{if(C.themeManagement.isUploading)return!1}}),k=A((w=C).prototype,"eventBus",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=A(w.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(w.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(w.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(w.prototype,"displayOverwriteWarning",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=A(w.prototype,"file",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=A(w.prototype,"theme",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A(w.prototype,"validationErrors",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=A(w.prototype,"validationWarnings",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A(w.prototype,"fatalValidationErrors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A(w.prototype,"refreshThemesTask",[n.task],Object.getOwnPropertyDescriptor(w.prototype,"refreshThemesTask"),w.prototype),A(w.prototype,"validateTheme",[h],Object.getOwnPropertyDescriptor(w.prototype,"validateTheme"),w.prototype),A(w.prototype,"confirmOverwrite",[b],Object.getOwnPropertyDescriptor(w.prototype,"confirmOverwrite"),w.prototype),A(w.prototype,"uploadSuccess",[g],Object.getOwnPropertyDescriptor(w.prototype,"uploadSuccess"),w.prototype),A(w.prototype,"uploadFailed",[f],Object.getOwnPropertyDescriptor(w.prototype,"uploadFailed"),w.prototype),A(w.prototype,"activate",[v],Object.getOwnPropertyDescriptor(w.prototype,"activate"),w.prototype),A(w.prototype,"reset",[y],Object.getOwnPropertyDescriptor(w.prototype,"reset"),w.prototype),w)
e.default=N,Ember._setComponentTemplate(I,N)})),define("ghost-admin/components/modals/design/view-theme",["exports","@glimmer/component","ghost-admin/components/modals/design/install-theme"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"j/en8eFz",block:'{"symbols":["@data"],"statements":[[10,"section"],[14,0,"gh-canvas gh-theme-preview flex flex-column h-100"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            "],[8,"link-to",[[24,"data-test-link","back"]],[["@route"],["settings.design.change-theme"]],[["default"],[{"statements":[[2,"Themes"]],"parameters":[]}]]],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,0],["arrow-right"],null]],[13],[2,"\\n            "],[1,[32,1,["theme","name"]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,1],[[32,0,["isDesktopPreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setPreviewSize"]],"desktop"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,1],[[32,0,["isMobilePreview"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setPreviewSize"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["mobile-phone"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,"data-test-button","install-theme"],[24,4,"button"],[4,[38,3],["click",[32,0,["installTheme"]]],null],[12],[10,"span"],[12],[2,"Use "],[1,[32,1,["theme","name"]]],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"gh-browser-preview",[],[["@isMobilePreview"],[[32,0,["isMobilePreview"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"iframe"],[15,0,[30,[36,1],[[32,0,["isMobilePreview"]],"gh-post-preview-iframe","site-frame"],null]],[15,"src",[32,1,["theme","previewUrl"]]],[15,"title",[31,[[32,1,["theme","name"]]," theme preview"]]],[12],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","if","fn","on"]}',moduleName:"ghost-admin/components/modals/design/view-theme.hbs"})
let g=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,p=class extends t.default{constructor(...e){super(...e),m(this,"modals",u,this),m(this,"router",c,this),m(this,"previewSize",d,this)}get isDesktopPreview(){return"desktop"===this.previewSize}get isMobilePreview(){return"mobile"===this.previewSize}willDestroy(){super.willDestroy(...arguments),this.installModal&&!this.showingSuccessModal&&this.installModal.close()}installTheme(){this.installModal=this.modals.open(i.default,{theme:this.args.data.theme,onSuccess:()=>{this.showingSuccessModal=!0,this.router.transitionTo("settings.design")}})}setPreviewSize(e){this.previewSize=e}},function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(p,"modalOptions",{className:"fullscreen-modal-total-overlay",omitBackdrop:!0}),u=h((l=p).prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"previewSize",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),h(l.prototype,"installTheme",[s],Object.getOwnPropertyDescriptor(l.prototype,"installTheme"),l.prototype),h(l.prototype,"setPreviewSize",[o],Object.getOwnPropertyDescriptor(l.prototype,"setPreviewSize"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modals/editor/confirm-leave",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"/WuRKo5y",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to leave this page?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Hey there! It looks like you\'re in the middle of writing something and\\n            you haven\'t saved all of your content.\\n        "],[13],[2,"\\n\\n        "],[10,"p"],[12],[2,"Save before you go!"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Stay"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,4,"button"],[4,[38,0],["click",[30,[36,2],[[32,1],true],null]],null],[12],[10,"span"],[12],[2,"Leave"],[13],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","fn"]}',moduleName:"ghost-admin/components/modals/editor/confirm-leave.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/email-preview",["exports","@glimmer/component","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=Ember.HTMLBars.template({id:"NQ6LDEF0",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header gh-pe-header gh-pe-header-border"],[14,"data-test-modal","preview-email"],[14,5,"display:flex"],[12],[2,"\\n        "],[10,"h2"],[14,0,"f6 fw6"],[12],[1,[32,0,["subject"]]],[13],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group gh-pe-btn-group"],[14,5,"display:flex;flex-grow:1;justify-content:center"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["tab"]],"desktop"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["changeTab"]],"desktop"],null]],null],[12],[10,"span"],[12],[2,"Desktop"],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,4],[[30,[36,3],[[32,0,["tab"]],"mobile"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["changeTab"]],"mobile"],null]],null],[12],[10,"span"],[12],[2,"Mobile"],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-pe-close"],[12],[2,"\\n            "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,6],["click",[32,1]],null],[12],[2,"\\n                "],[1,[30,[36,7],["close"],null]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,0,["tab"]],"mobile"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body modal-preview-email-content gh-pe-mobile-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-pe-mobile-bezel center mt4"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-pe-mobile-screen"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"span"],[14,0,"strong"],[12],[1,[30,[36,0],[[32,0,["newsletter","senderName"]],[32,0,["settings","title"]]],null]],[13],[2," <"],[1,[30,[36,1],[[30,[36,0],[[32,0,["newsletter","senderEmail"]],"noreply"],null]],null]],[2,">\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"iframe"],[24,0,"bn gh-pe-iframe"],[24,"sandbox","allow-same-origin"],[4,[38,2],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["tab"]],"desktop"],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"modal-body modal-preview-email-content gh-pe-desktop-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-pe-emailclient-mockup"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-pe-emailclient-sender"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        "],[10,"span"],[14,0,"strong"],[12],[1,[30,[36,0],[[32,0,["newsletter","senderName"]],[32,0,["settings","title"]]],null]],[13],[2," <"],[1,[30,[36,1],[[30,[36,0],[[32,0,["newsletter","senderEmail"]],"noreply"],null]],null]],[2,">\\n                    "],[13],[2,"\\n                    "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n                "],[13],[2,"\\n                "],[11,"iframe"],[24,0,"gh-pe-iframe"],[24,"sandbox","allow-same-origin"],[4,[38,2],[[32,0,["renderEmailPreview"]]],null],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["or","full-email-address","did-insert","eq","if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/email-preview.hbs"})
let T=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._action,p=Ember._action,E=class extends t.default{constructor(...e){super(...e),P(this,"ajax",h,this),P(this,"ghostPaths",b,this),P(this,"settings",g,this),P(this,"store",f,this),P(this,"config",v,this),P(this,"tab",y,this),P(this,"subject",w,this),P(this,"newsletter",k,this),O(this,"html",null)}changeTab(e){this.tab=e}async renderEmailPreview(e){await this._fetchEmailData(),await(0,n.timeout)(100),e&&(e.contentWindow.document.open(),e.contentWindow.document.write(this.html),e.contentWindow.document.close())}async _fetchEmailData(){let{html:e,subject:t}=this
if(!this.newsletter&&this.args.data.newsletter&&(this.newsletter=this.args.data.newsletter),!this.newsletter){const e=(await this.store.query("newsletter",{filter:"status:active",limit:1})).toArray()[0]
this.newsletter=e}if(e&&t)return
if(this.args.data.html&&this.args.data.subject)e=this.args.data.html,t=this.args.data.subject
else if(this.args.data.email)e=this.args.data.email.html,t=this.args.data.email.subject
else{const i=this.args.data.post_id||this.args.data.id
let n=this.ghostPaths.url.api("/email_previews/posts",i),r=await this.ajax.request(n),[a]=r.email_previews
e=a.html,t=a.subject}let i=(new DOMParser).parseFromString(e,"text/html"),n=i.querySelector("style"),r=n.innerHTML
n.innerHTML=`${r}\n\n\nhtml::-webkit-scrollbar {\n    display: none;\n    width: 0;\n    background: transparent\n}\nhtml {\n    scrollbar-width: none;\n}\n`
e=(new XMLSerializer).serializeToString(i.doctype)+i.documentElement.outerHTML,this.html=e,this.subject=t}},O(E,"modalOptions",{className:"fullscreen-modal-full-overlay fullscreen-modal-email-preview"}),h=j((m=E).prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=j(m.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j(m.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=j(m.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(m.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=j(m.prototype,"tab",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),w=j(m.prototype,"subject",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=j(m.prototype,"newsletter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j(m.prototype,"changeTab",[d],Object.getOwnPropertyDescriptor(m.prototype,"changeTab"),m.prototype),j(m.prototype,"renderEmailPreview",[p],Object.getOwnPropertyDescriptor(m.prototype,"renderEmailPreview"),m.prototype),m)
e.default=T,Ember._setComponentTemplate(_,T)})),define("ghost-admin/components/modals/limits/custom-integration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"XGBKvC+B",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","limits/custom-integration"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Upgrade to enable custom integrations"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            "],[1,[30,[36,2],[[32,2,["message"]]],null]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-upgrade"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","upgrade-plan"],[4,[38,0],["click",[32,1]],null]],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade my plan"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","html-safe"]}',moduleName:"ghost-admin/components/modals/limits/custom-integration.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/limits/custom-theme",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"z1AfggeX",block:'{"symbols":["@data","@close"],"statements":[[2,"\\n"],[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","limits/custom-theme"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Upgrade to enable custom themes"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n"],[6,[37,3],[[32,1,["message"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],[[32,1,["message"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                Your current plan only supports official themes. You can install them from the "],[10,"a"],[14,6,"https://ghost.org/marketplace/"],[12],[2,"Ghost theme marketplace"],[13],[2,".\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-upgrade"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","upgrade-plan"],[4,[38,1],["click",[32,2]],null]],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["html-safe","on","svg-jar","if"]}',moduleName:"ghost-admin/components/modals/limits/custom-theme.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/limits/multiple-newsletters",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"RkSbbcw3",block:'{"symbols":["@data","@close"],"statements":[[2,"\\n"],[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","limits/multiple-newsletters"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Upgrade your plan"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n"],[6,[37,3],[[32,1,["message"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[30,[36,0],[[32,1,["message"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                Your current plan doesn\'t support more newsletters.\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-upgrade"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","upgrade-plan"],[4,[38,1],["click",[32,2]],null]],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["html-safe","on","svg-jar","if"]}',moduleName:"ghost-admin/components/modals/limits/multiple-newsletters.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/limits/publish-limit",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"EC+SepgN",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","publish-limit"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[32,0,["headerMessage"]]],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            "],[1,[30,[36,2],[[32,2,["message"]]],null]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-upgrade"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","upgrade-plan"],[4,[38,0],["click",[32,1]],null]],[["@route","@query"],["pro",[30,[36,3],null,[["action"],["checkout"]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[12],[2,"Upgrade"],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","html-safe","hash"]}',moduleName:"ghost-admin/components/modals/limits/publish-limit.hbs"})
class n extends t.default{get headerMessage(){return this.args.data.message?.match(/account is currently in review/gi)?"Hold up, we're missing some details":"Upgrade to enable publishing"}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/modals/new-custom-integration",["exports","@glimmer/component","ghost-admin/services/ajax","ember-ajax/errors","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"+HTEknrW",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","new-integration"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"New custom integration"],[13],[2,"\\n    "],[13],[2,"\\n"],[2,"    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n        "],[1,[30,[36,1],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","new-integration-name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                "],[11,"input"],[16,2,[32,0,["integration","name"]]],[24,1,"new-integration-name"],[24,0,"gh-input mt1"],[24,3,"integration-name"],[24,"autofocus","autofocus"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"data-test-input","new-integration-name"],[24,4,"text"],[4,[38,0],["input",[32,0,["updateName"]]],null],[4,[38,3],["Enter",[30,[36,2],[[32,0,["createIntegrationTask"]]],null]],null],[4,[38,4],null,null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[[24,"data-test-error","new-integration-name"]],[["@errors","@property"],[[32,0,["integration","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"error"],[12],[10,"strong"],[14,0,"response"],[12],[1,[32,0,["errorMessage"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-new-integration"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","create-integration"]],[["@buttonText","@successText","@task","@class"],["Create","Created",[32,0,["createIntegrationTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","perform","on-key","autofocus","if"]}',moduleName:"ghost-admin/components/modals/new-custom-integration.hbs"})
let f=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=(0,r.task)({drop:!0}),c=class extends t.default{constructor(){super(...arguments),h(this,"router",d,this),h(this,"store",p,this),h(this,"errorMessage",m,this),this.integration=this.store.createRecord("integration")}willDestroy(){super.willDestroy(...arguments),this.integration.rollbackAttributes()}updateName(e){this.integration.set("name",e.target.value),this.integration.set("hasValidated",Ember.A()),this.integration.errors.clear()}*createIntegrationTask(){try{const e=yield this.integration.save()
return this.router.transitionTo("settings.integration",e),!0}catch(e){if(e&&(0,n.isInvalidError)(e)){let[t]=e.payload.errors,{message:i}=t
if(i&&i.match(/name/i))return this.integration.errors.add("name",i),void this.integration.hasValidated.pushObject("name")}if((0,i.isHostLimitError)(e))return void(this.errorMessage=e.payload.errors[0].context)
if(e)throw e}}},d=b(c.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(c.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(c.prototype,"errorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(c.prototype,"updateName",[l],Object.getOwnPropertyDescriptor(c.prototype,"updateName"),c.prototype),b(c.prototype,"createIntegrationTask",[u],Object.getOwnPropertyDescriptor(c.prototype,"createIntegrationTask"),c.prototype),c)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/modals/newsletters/components/color-picker",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"RDMfyKdx",block:'{"symbols":["color"],"statements":[[10,"div"],[14,0,"gh-email-design-color-picker"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-btn-group"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["presetColors"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["gh-btn gh-email-design-color ",[32,1,["class"]]," ",[30,[36,1],[[30,[36,0],[[32,0,["currentColorObject","value"]],[32,1,["value"]]],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setCurrentColor"]],[32,1,["value"]]],null]],null],[12],[2,"\\n                "],[10,"div"],[15,5,[30,[36,4],[[32,1,["style"]]],null]],[12],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[11,"label"],[16,0,[31,["gh-btn gh-email-design-color custom ",[30,[36,1],[[32,0,["customColorSelected"]],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[32,0,["onOpenColorPicker"]]],null],[12],[2,"\\n            "],[10,"div"],[15,5,[30,[36,4],[[32,0,["customColorStyle"]]],null]],[12],[13],[2,"\\n            "],[11,"input"],[16,2,[32,0,["colorInputValue"]]],[24,4,"color"],[4,[38,3],["input",[32,0,["updateColorInputValue"]]],null],[4,[38,3],["change",[32,0,["updateColorInputValue"]]],null],[12],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","if","fn","on","html-safe","-track-array","each"]}',moduleName:"ghost-admin/components/modals/newsletters/components/color-picker.hbs"})
let v=(i=Ember._tracked,n=Ember._tracked,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),h(this,"mouseOver",d,this),h(this,"lastSelectedCustomColor",p,this),h(this,"didSelectCustomColor",m,this),b(this,"timer",void 0)}get presetColors(){return this.args.presetColors??[]}get currentColor(){return this.args.color||null}set currentColor(e){this.args.onColorChange(e)}setCurrentColor(e){this.currentColor=e}onMouseEnter(){this.mouseOver=!0,this.timer&&(clearTimeout(this.timer),this.timer=null),this.customColorSelected&&(this.didSelectCustomColor=!0,this.lastSelectedCustomColor=this.currentColor)}onMouseLeave(){this.mouseOver=!1,this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.didSelectCustomColor=!1,this.timer=null}),350)}get customColorSelected(){return!this.presetColors.find((e=>e.value===this.currentColor))}get customColorStyle(){return this.customColorSelected?"background: "+this.currentColor+" !important;":""}get currentColorObject(){for(const e of this.presetColors)if(e.value===this.currentColor)return e
return{value:this.currentColor,name:this.currentColor,class:"custom-value",style:"background: "+this.currentColor+" !important;"}}get colorInputValue(){return this.currentColorObject.value&&this.currentColorObject.value.startsWith("#")?this.currentColorObject.value:"#999999"}onOpenColorPicker(){this.didSelectCustomColor=!0,this.lastSelectedCustomColor=this.colorInputValue,this.setCurrentColor(this.colorInputValue)}updateColorInputValue(e){let t=e.target.value
t&&("#"!==t[0]&&(t=`#${t}`),t.match(/#[0-9A-Fa-f]{6}$/)&&(this.lastSelectedCustomColor=t.toUpperCase(),this.setCurrentColor(t.toUpperCase())))}},d=g(c.prototype,"mouseOver",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=g(c.prototype,"lastSelectedCustomColor",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(c.prototype,"didSelectCustomColor",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g(c.prototype,"setCurrentColor",[a],Object.getOwnPropertyDescriptor(c.prototype,"setCurrentColor"),c.prototype),g(c.prototype,"onMouseEnter",[s],Object.getOwnPropertyDescriptor(c.prototype,"onMouseEnter"),c.prototype),g(c.prototype,"onMouseLeave",[o],Object.getOwnPropertyDescriptor(c.prototype,"onMouseLeave"),c.prototype),g(c.prototype,"onOpenColorPicker",[l],Object.getOwnPropertyDescriptor(c.prototype,"onOpenColorPicker"),c.prototype),g(c.prototype,"updateColorInputValue",[u],Object.getOwnPropertyDescriptor(c.prototype,"updateColorInputValue"),c.prototype),c)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/modals/newsletters/components/feedback-button",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"69m36DnN",block:'{"symbols":["@icon","@text","@textColor"],"statements":[[10,"button"],[14,0,"gh-members-emailpreview-feedback-button"],[14,4,"button"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],["emailCustomization"],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"span"],[14,0,"gh-members-emailpreview-feedback-button-body"],[15,5,[30,[36,2],[[30,[36,1],["color: ",[32,3]],null]],null]],[12],[2,"\\n            "],[1,[30,[36,0],[[32,1]],[["class"],["gh-members-emailpreview-feedback-button-icon"]]]],[2,"\\n            "],[10,"span"],[12],[1,[32,2]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"span"],[14,0,"gh-members-emailpreview-feedback-button-body"],[12],[2,"\\n            "],[1,[30,[36,0],[[32,1]],[["class"],["gh-members-emailpreview-feedback-button-icon"]]]],[2,"\\n            "],[10,"span"],[12],[1,[32,2]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","concat","html-safe","feature","if"]}',moduleName:"ghost-admin/components/modals/newsletters/components/feedback-button.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i}))
define("ghost-admin/components/modals/newsletters/components/latest-post",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"roTjpgWk",block:'{"symbols":["@postTitle","@postExcerpt","@textColor","@secondaryTextColor","@imgPath"],"statements":[[10,"div"],[14,0,"gh-members-emailpreview-latest-post"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],["emailCustomization"],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,3]],null]],null]],[12],[1,[32,1]],[13],[2,"\\n            "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,4]," !important"],null]],null]],[12],[1,[32,2]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[12],[1,[32,1]],[13],[2,"\\n            "],[10,"p"],[12],[1,[32,2]],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[10,"div"],[14,0,"gh-members-emailpreview-latest-post-image"],[15,5,[30,[36,1],[[30,[36,0],["background-image: url(",[32,5],")"],null]],null]],[12],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["concat","html-safe","feature","if"]}',moduleName:"ghost-admin/components/modals/newsletters/components/latest-post.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/newsletters/confirm-archive",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"vmhy7q+o",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","confirm-newsletter-archive"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Archive newsletter"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Your newsletter "],[10,"strong"],[12],[1,[32,2,["newsletter","name"]]],[13],[2," will no longer be visible to members or available as an option when publishing new posts.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Existing posts previously sent as this newsletter will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[11,"div"],[24,0,"modal-footer"],[4,[38,4],["Enter",[30,[36,3],[[32,2,["archiveNewsletterTask"]],[32,2,["newsletter"]]],null]],null],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-newsletter-archive"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm-newsletter-archive"]],[["@buttonText","@runningText","@showSuccess","@task","@taskArgs","@class"],["Archive","Archiving",false,[32,2,["archiveNewsletterTask"]],[32,2,["newsletter"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","perform","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/confirm-archive.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/newsletters/confirm-newsletter-email",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"9CdICERq",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","confirm-newsletter-email"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Confirm newsletter email address"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            We\'ve sent a confirmation email to "],[10,"strong"],[12],[1,[32,2,["newEmail"]]],[13],[2,".\\n            Until the address has been verified newsletters will be sent from the\\n            "],[1,[30,[36,2],[[32,2,["currentEmail"]],"previous","default"],null]],[2," email address\\n            ("],[1,[30,[36,4],[[30,[36,3],[[32,2,["currentEmail"]],"noreply"],null]],null]],[2,").\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","confirm-newsletter-email"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[4,[38,5],["Enter"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","if","or","full-email-address","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/confirm-newsletter-email.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/newsletters/confirm-unarchive",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"lngSjuxl",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","confirm-newsletter-reactivate"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Reactivate newsletter"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Reactivating "],[10,"strong"],[12],[1,[32,2,["newsletter","name"]]],[13],[2," will immediately make it visible to members and re-enable it as an option when publishing new posts.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[11,"div"],[24,0,"modal-footer"],[4,[38,4],["Enter",[30,[36,3],[[32,2,["unarchiveNewsletterTask"]],[32,2,["newsletter"]]],null]],null],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-newsletter-reactivate"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm-newsletter-reactivate"]],[["@buttonText","@runningText","@showSuccess","@task","@taskArgs","@class"],["Reactivate","Reactivating",false,[32,2,["unarchiveNewsletterTask"]],[32,2,["newsletter"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","perform","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/confirm-unarchive.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/newsletters/edit",["exports","@glimmer/component","ghost-admin/components/modals/newsletters/confirm-newsletter-email","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"hwa6JNy7",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","edit-newsletter"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body modal-fullsettings"],[12],[2,"\\n        "],[10,"div"],[14,0,"modal-fullsettings-body gh-newsletters-labs"],[12],[2,"\\n            "],[10,"div"],[14,0,"modal-fullsettings-sidebar-labs"],[12],[2,"\\n                "],[10,"h2"],[14,0,"modal-fullsettings-heading-labs"],[12],[2,"\\n                    "],[1,[30,[36,0],[[32,1,["newsletter","isNew"]],"Create","Edit"],null]],[2," newsletter\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"modal-fullsettings-body-labs"],[12],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-top"],[12],[2,"\\n                        "],[8,"modals/newsletters/edit/settings",[],[["@newsletter","@openSection","@toggleSection"],[[32,1,["newsletter"]],[32,0,["openSection"]],[32,0,["toggleSection"]]]],null],[2,"\\n"],[6,[37,0],[[30,[36,1],["emailCustomization"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"modals/newsletters/edit/design-labs",[],[["@newsletter","@openSection","@toggleSection"],[[32,1,["newsletter"]],[32,0,["openSection"]],[32,0,["toggleSection"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[8,"modals/newsletters/edit/design",[],[["@newsletter","@openSection","@toggleSection"],[[32,1,["newsletter"]],[32,0,["openSection"]],[32,0,["toggleSection"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"modal-fullsettings-bottom"],[12],[2,"\\n                        "],[10,"div"],[14,0,"modal-fullsettings-footer"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-members-emailsettings-promotelabel"],[12],[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,2],["heart"],null]],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"modal-fullsettings-title"],[12],[2,"Promote independent publishing"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Show youâ€™re a part of the indie publishing movement with a small badge in the footer"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","promote-ghost"],[12],[2,"\\n                                        "],[11,"input"],[16,"checked",[32,1,["newsletter","showBadge"]]],[24,1,"promote-ghost"],[24,3,"promote-ghost"],[24,4,"checkbox"],[4,[38,4],["click",[30,[36,3],[[32,0,["toggleSetting"]],"showBadge"],null]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"modal-fullsettings-main"],[12],[2,"\\n                "],[10,"div"],[14,0,"modal-fullsettings-main-topbar-labs"],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn mr3"],[24,"data-test-button","cancel-newsletter"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-task-button",[[24,"data-test-button","save-newsletter"],[4,[38,5],["cmd+s",[32,0,["saveViaKeyboard"]]],[["priority"],[1]]]],[["@buttonText","@successText","@task","@idleClass","@class"],["Save and close","Saved",[32,0,["saveTask"]],"gh-btn-primary","gh-btn gh-btn-icon"]],null],[2,"\\n                "],[13],[2,"\\n"],[6,[37,0],[[30,[36,1],["emailCustomization"],null]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"modals/newsletters/edit/preview-labs",[],[["@newsletter"],[[32,1,["newsletter"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[8,"modals/newsletters/edit/preview",[],[["@newsletter"],[[32,1,["newsletter"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","feature","svg-jar","fn","on","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/edit.hbs"})
let g=(r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,p=class extends t.default{constructor(...e){super(...e),m(this,"modals",c,this),m(this,"openSection",d,this)}willDestroy(){super.willDestroy(...arguments),this.args.data.newsletter.rollbackAttributes()}saveViaKeyboard(e,t){t.stopPropagation(),e.preventDefault(),this.saveTask.perform()}toggleSection(e){this.openSection===e?this.openSection=null:this.openSection=e}toggleSetting(e,t){this.args.data.newsletter[e]=t.target.checked}*saveTask(){const e=this.args.data.newsletter
try{yield e.validate({})
const t=e.senderEmail,n=yield e.save({adapterOptions:{include:"count.active_members,count.posts"}})
return n._meta?.sent_email_verification&&(yield this.modals.open(i.default,{newEmail:t,currentEmail:e.senderEmail})),this.args.data.afterSave?.(n),n}catch(t){if(void 0===t)return
if(t.payload&&t.payload.errors)for(const i of t.payload.errors)"ValidationError"===i.type&&i.property&&(i.context||i.message)&&e.errors.add(i.property,i.context||i.message)
throw t}}},function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(p,"modalOptions",{className:"fullscreen-modal-full-overlay fullscreen-modal-portal-settings",ignoreBackdropClick:!0}),c=h((u=p).prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"openSection",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"name"}}),h(u.prototype,"saveViaKeyboard",[s],Object.getOwnPropertyDescriptor(u.prototype,"saveViaKeyboard"),u.prototype),h(u.prototype,"toggleSection",[o],Object.getOwnPropertyDescriptor(u.prototype,"toggleSection"),u.prototype),h(u.prototype,"toggleSetting",[l],Object.getOwnPropertyDescriptor(u.prototype,"toggleSetting"),u.prototype),h(u.prototype,"saveTask",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"saveTask"),u.prototype),u)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modals/newsletters/edit/design-labs",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader","@tryghost/color-utils"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"6Q0FEnxl",block:'{"symbols":["isOpen","isOpen","isOpen","uploader","@newsletter","@toggleSection","@openSection"],"statements":[[10,"fieldset"],[14,0,"modal-fullsettings-form-labs email-design"],[12],[2,"\\n    "],[10,"h4"],[14,0,"modal-fullsettings-section-title"],[12],[2,"Design"],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-fullsettings-section-labs"],[12],[2,"\\n\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-header"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,3],"active"],null]]]],[24,"data-test-nav-toggle","design.header"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-header"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-header"],null]],[2," Header\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,3],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,3]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,10],null,[["purpose"],["image"]]],[30,[36,0],[[32,0,["imageUploaded"]],"headerImage"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-uploader"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-header-img-desc"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Header image"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Optional, recommended size 1200x600"],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,3],[[32,4,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,5,["headerImage"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img"],[12],[2,"\\n                                            "],[10,"img"],[14,0,"gh-header-img-thumbnail"],[15,"src",[32,5,["headerImage"]]],[14,"alt",""],[14,"role","presentation"],[14,"data-test-img","header"],[12],[13],[2,"\\n                                            "],[11,"button"],[24,0,"gh-btn gh-header-img-deleteicon"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"headerImage",null],null]],null],[12],[2,"\\n                                                "],[10,"span"],[12],[2," "],[1,[30,[36,6],["trash"],[["class"],["w5 h5"]]]],[2," "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-header-img-uploadicon"],[24,"data-test-image-upload-btn","header-image"],[24,4,"button"],[4,[38,1],["click",[32,4,["triggerFileDialog"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,6],["upload-fill"],[["class"],["w5 h5"]]]],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                            "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,4,["setFiles"]],[32,4,["imageMimeTypes"]],[32,4,["registerFileInput"]]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "]],"parameters":[4]}]]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["settings","icon"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[15,0,[31,["modal-fullsettings-title ",[30,[36,5],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"Publication icon"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["for-switch x-small ",[30,[36,5],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","show-header"],[12],[2,"\\n                                        "],[11,"input"],[16,"checked",[30,[36,8],[[32,5,["showHeaderIcon"]],[32,0,["settings","icon"]]],null]],[24,1,"show-header"],[24,3,"show-header"],[16,"disabled",[30,[36,9],[[32,0,["settings","icon"]]],null]],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderIcon"],null]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Publication title"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-title"],[14,"data-test-toggle","showHeaderTitle"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showHeaderTitle"]]],[24,1,"show-title"],[24,3,"show-title"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderTitle"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Newsletter name"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-header-name"],[14,"data-test-toggle","showHeaderName"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showHeaderName"]]],[24,1,"show-header-name"],[24,3,"show-header-name"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderName"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-body"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,2],"active"],null]]]],[24,"data-test-nav-toggle","design.body"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-body"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-body"],null]],[2," Body\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,2]],[["class"],["show-overflow"]],[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Background color"],[13],[2,"\\n                            "],[8,"modals/newsletters/components/color-picker",[],[["@color","@presetColors","@onColorChange"],[[32,5,["backgroundColor"]],[32,0,["backgroundPresetColors"]],[30,[36,0],[[32,0,["changeSetting"]],"backgroundColor"],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Border color"],[13],[2,"\\n                            "],[8,"modals/newsletters/components/color-picker",[],[["@color","@presetColors","@onColorChange"],[[32,5,["borderColor"]],[32,0,["borderPresetColors"]],[30,[36,0],[[32,0,["changeSetting"]],"borderColor"],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Post title"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-post-title"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showPostTitleSection"]]],[24,1,"show-post-title"],[24,3,"show-post-title"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showPostTitleSection"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,5,["showPostTitleSection"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Post title style"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-email-design-typography-wrapper header"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[14,"data-test-input","titleFontCategory"],[12],[2,"\\n                                        "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,5,["titleFontCategory"]],[30,[36,0],[[32,0,["changeSetting"]],"titleFontCategory"],null]]],null],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-btn-group icons"],[14,1,"newsletter-title-alignment"],[12],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,3],[[30,[36,4],[[32,5,["titleAlignment"]],"left"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"titleAlignment","left"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["align-left"],null]],[13],[13],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,3],[[30,[36,4],[[32,5,["titleAlignment"]],"center"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"titleAlignment","center"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["align-center"],null]],[13],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Heading color"],[13],[2,"\\n                            "],[8,"modals/newsletters/components/color-picker",[],[["@color","@presetColors","@onColorChange"],[[32,5,["titleColor"]],[32,0,["titlePresetColors"]],[30,[36,0],[[32,0,["changeSetting"]],"titleColor"],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Feature image"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-feature-image"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showFeatureImage"]]],[24,1,"show-feature-image"],[24,3,"show-feature-image"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showFeatureImage"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Body style"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-design-typography-wrapper"],[12],[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[14,"data-test-input","bodyFontCategory"],[12],[2,"\\n                                    "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,5,["bodyFontCategory"]],[30,[36,0],[[32,0,["changeSetting"]],"bodyFontCategory"],null]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-footer"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,1],"active"],null]]]],[24,"data-test-nav-toggle","design.footer"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-footer"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-footer"],null]],[2," Footer\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,1],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,1]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n\\n"],[6,[37,3],[[30,[36,2],["audienceFeedback"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","capture-feedback"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","feedbackEnabled"],[12],[2,"Ask your readers for feedback"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                        "],[11,"input"],[24,1,"capture-feedback"],[16,"checked",[32,5,["feedbackEnabled"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"feedbackEnabled"],null]],null],[12],[13],[2,"\\n                                        "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"feedbackEnabled"],null]],null],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["settings","commentsEnabled"]],"off"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","comments-link"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showCommentCta"],[12],[2,"Add a link to your comments"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                        "],[11,"input"],[24,1,"comments-link"],[16,"checked",[32,5,["showCommentCta"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showCommentCta"],null]],null],[12],[13],[2,"\\n                                        "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showCommentCta"],null]],null],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","latest-posts"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showLatestPosts"],[12],[2,"Share your latest posts"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"latest-posts"],[16,"checked",[32,5,["showLatestPosts"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showLatestPosts"],null]],null],[12],[13],[2,"\\n                                    "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showLatestPosts"],null]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","capture-feedback"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showSubscriptionDetails"],[12],[2,"Show subscription details"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch x-small"],[12],[2,"\\n                                "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"capture-feedback"],[16,"checked",[32,5,["showSubscriptionDetails"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showSubscriptionDetails"],null]],null],[12],[13],[2,"\\n                                    "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showSubscriptionDetails"],null]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Email footer"],[13],[2,"\\n                            "],[8,"koenig-basic-html-input",[],[["@name","@html","@class","@onChange"],["footer",[32,5,["footerContent"]],"miw-100 form-text gh-members-emailsettings-footer-input",[30,[36,0],[[32,0,["changeSetting"]],"footerContent"],null]]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Any extra information or legal text"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","feature","if","eq","unless","svg-jar","liquid-if","and","not","hash","let"]}',moduleName:"ghost-admin/components/modals/newsletters/edit/design-labs.hbs"})
let b=(r=Ember.inject.service,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){var t,n,r,a
super(...e),t=this,n="settings",a=this,(r=d)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),p(this,"imageExtensions",i.IMAGE_EXTENSIONS)}onCheckboxChange(e,t){this.args.newsletter[e]=t.target.checked}toggleProperty(e){this.args.newsletter[e]=!this.args.newsletter[e]}imageUploaded(e,t){t[0]&&(this.args.newsletter[e]=t[0].url)}changeSetting(e,t){this.args.newsletter[e]=t}toggleSetting(e,t){this.args.newsletter[e]=t.target.checked}get backgroundColorIsDark(){return"dark"===this.args.newsletter.backgroundColor||"light"!==this.args.newsletter.backgroundColor&&"#ffffff"===(0,n.textColorForBackgroundColor)(this.args.newsletter.backgroundColor).hex().toLowerCase()}get backgroundPresetColors(){return[{value:"#f0f0f0",name:"Lightgrey",class:"",style:"background: #f0f0f0 !important;"},{value:"light",name:"White",class:"white",style:""}]}get borderPresetColors(){return[{value:"accent",name:"Accent",class:"accent",style:""},{value:"auto",name:"Auto",class:this.backgroundColorIsDark?"white":"black",style:""},{value:null,name:"Transparent",class:"transparent",style:""}]}get titlePresetColors(){return[{value:"accent",name:"Accent",class:"accent",style:""},{value:null,name:"Auto",class:this.backgroundColorIsDark?"white":"black",style:""}]}},d=m(c.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(c.prototype,"onCheckboxChange",[a],Object.getOwnPropertyDescriptor(c.prototype,"onCheckboxChange"),c.prototype),m(c.prototype,"toggleProperty",[s],Object.getOwnPropertyDescriptor(c.prototype,"toggleProperty"),c.prototype),m(c.prototype,"imageUploaded",[o],Object.getOwnPropertyDescriptor(c.prototype,"imageUploaded"),c.prototype),m(c.prototype,"changeSetting",[l],Object.getOwnPropertyDescriptor(c.prototype,"changeSetting"),c.prototype),m(c.prototype,"toggleSetting",[u],Object.getOwnPropertyDescriptor(c.prototype,"toggleSetting"),c.prototype),c)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/modals/newsletters/edit/design",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"WwBAa4t/",block:'{"symbols":["isOpen","isOpen","isOpen","uploader","@newsletter","@toggleSection","@openSection"],"statements":[[10,"fieldset"],[14,0,"modal-fullsettings-form-labs email-design"],[12],[2,"\\n    "],[10,"h4"],[14,0,"modal-fullsettings-section-title"],[12],[2,"Design"],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-fullsettings-section-labs"],[12],[2,"\\n\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-header"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,3],"active"],null]]]],[24,"data-test-nav-toggle","design.header"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-header"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-header"],null]],[2," Header\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,3],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,3]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["imageExtensions"]],[30,[36,10],null,[["purpose"],["image"]]],[30,[36,0],[[32,0,["imageUploaded"]],"headerImage"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-uploader"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-header-img-desc"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Header image"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Optional, recommended size 1200x600"],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,3],[[32,4,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,5,["headerImage"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-header-img"],[12],[2,"\\n                                            "],[10,"img"],[14,0,"gh-header-img-thumbnail"],[15,"src",[32,5,["headerImage"]]],[14,"alt",""],[14,"role","presentation"],[14,"data-test-img","header"],[12],[13],[2,"\\n                                            "],[11,"button"],[24,0,"gh-btn gh-header-img-deleteicon"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"headerImage",null],null]],null],[12],[2,"\\n                                                "],[10,"span"],[12],[2," "],[1,[30,[36,6],["trash"],[["class"],["w5 h5"]]]],[2," "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"gh-btn gh-header-img-uploadicon"],[24,"data-test-image-upload-btn","header-image"],[24,4,"button"],[4,[38,1],["click",[32,4,["triggerFileDialog"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,6],["upload-fill"],[["class"],["w5 h5"]]]],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                            "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,4,["setFiles"]],[32,4,["imageMimeTypes"]],[32,4,["registerFileInput"]]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "]],"parameters":[4]}]]],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["settings","icon"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[15,0,[31,["modal-fullsettings-title ",[30,[36,5],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"Publication icon"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["for-switch small ",[30,[36,5],[[32,0,["settings","icon"]],"disabled"],null]]]],[12],[2,"\\n                                    "],[10,"label"],[14,0,"switch"],[14,"for","show-header"],[12],[2,"\\n                                        "],[11,"input"],[16,"checked",[30,[36,8],[[32,5,["showHeaderIcon"]],[32,0,["settings","icon"]]],null]],[24,1,"show-header"],[24,3,"show-header"],[16,"disabled",[30,[36,9],[[32,0,["settings","icon"]]],null]],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderIcon"],null]],null],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Publication title"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-title"],[14,"data-test-toggle","showHeaderTitle"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showHeaderTitle"]]],[24,1,"show-title"],[24,3,"show-title"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderTitle"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Newsletter name"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-header-name"],[14,"data-test-toggle","showHeaderName"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showHeaderName"]]],[24,1,"show-header-name"],[24,3,"show-header-name"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showHeaderName"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-body"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,2],"active"],null]]]],[24,"data-test-nav-toggle","design.body"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-body"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-body"],null]],[2," Body\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,2]],[["class"],["show-overflow"]],[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Post title"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-post-title"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showPostTitleSection"]]],[24,1,"show-post-title"],[24,3,"show-post-title"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showPostTitleSection"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,5,["showPostTitleSection"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-email-design-typography-wrapper header"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[14,"data-test-input","titleFontCategory"],[12],[2,"\\n                                        "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,5,["titleFontCategory"]],[30,[36,0],[[32,0,["changeSetting"]],"titleFontCategory"],null]]],null],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-btn-group icons"],[14,1,"newsletter-title-alignment"],[12],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,3],[[30,[36,4],[[32,5,["titleAlignment"]],"left"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"titleAlignment","left"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["align-left"],null]],[13],[13],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-btn gh-btn-icon ",[30,[36,3],[[30,[36,4],[[32,5,["titleAlignment"]],"center"],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["changeSetting"]],"titleAlignment","center"],null]],null],[12],[10,"span"],[12],[1,[30,[36,6],["align-center"],null]],[13],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Feature image"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","show-feature-image"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,5,["showFeatureImage"]]],[24,1,"show-feature-image"],[24,3,"show-feature-image"],[24,4,"checkbox"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleSetting"]],"showFeatureImage"],null]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Body style"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-design-typography-wrapper"],[12],[2,"\\n                                "],[10,"div"],[14,0,"modal-fullsettings-radiogroup gh-email-design-typography"],[14,"data-test-input","bodyFontCategory"],[12],[2,"\\n                                    "],[8,"gh-font-selector",[],[["@selected","@onChange"],[[32,5,["bodyFontCategory"]],[30,[36,0],[[32,0,["changeSetting"]],"bodyFontCategory"],null]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"\\n"],[6,[37,11],[[30,[36,4],[[32,7],"design-footer"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,3],[[32,1],"active"],null]]]],[24,"data-test-nav-toggle","design.footer"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"design-footer"],null]],null],[12],[2,"\\n                "],[1,[30,[36,6],["email-footer"],null]],[2," Footer\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,6],[[30,[36,3],[[32,1],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,7],[[32,1]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n\\n"],[6,[37,3],[[30,[36,2],["audienceFeedback"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","capture-feedback"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","feedbackEnabled"],[12],[2,"Ask your readers for feedback"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                        "],[11,"input"],[24,1,"capture-feedback"],[16,"checked",[32,5,["feedbackEnabled"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"feedbackEnabled"],null]],null],[12],[13],[2,"\\n                                        "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"feedbackEnabled"],null]],null],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,0,["settings","commentsEnabled"]],"off"],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","comments-link"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showCommentCta"],[12],[2,"Add a link to your comments"],[13],[2,"\\n                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                        "],[11,"input"],[24,1,"comments-link"],[16,"checked",[32,5,["showCommentCta"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showCommentCta"],null]],null],[12],[13],[2,"\\n                                        "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showCommentCta"],null]],null],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","latest-posts"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showLatestPosts"],[12],[2,"Share your latest posts"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"latest-posts"],[16,"checked",[32,5,["showLatestPosts"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showLatestPosts"],null]],null],[12],[13],[2,"\\n                                    "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showLatestPosts"],null]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item row"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","capture-feedback"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","showSubscriptionDetails"],[12],[2,"Show subscription details"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"capture-feedback"],[16,"checked",[32,5,["showSubscriptionDetails"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"showSubscriptionDetails"],null]],null],[12],[13],[2,"\\n                                    "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"showSubscriptionDetails"],null]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"Email footer"],[13],[2,"\\n                            "],[8,"koenig-basic-html-input",[],[["@name","@html","@class","@onChange"],["footer",[32,5,["footerContent"]],"miw-100 form-text gh-members-emailsettings-footer-input",[30,[36,0],[[32,0,["changeSetting"]],"footerContent"],null]]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Any extra information or legal text"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","feature","if","eq","unless","svg-jar","liquid-if","and","not","hash","let"]}',moduleName:"ghost-admin/components/modals/newsletters/edit/design.hbs"})
let h=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){var t,n,r,a
super(...e),t=this,n="settings",a=this,(r=c)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),d(this,"imageExtensions",i.IMAGE_EXTENSIONS)}onCheckboxChange(e,t){this.args.newsletter[e]=t.target.checked}toggleProperty(e){this.args.newsletter[e]=!this.args.newsletter[e]}imageUploaded(e,t){t[0]&&(this.args.newsletter[e]=t[0].url)}changeSetting(e,t){this.args.newsletter[e]=t}toggleSetting(e,t){this.args.newsletter[e]=t.target.checked}},c=p(u.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(u.prototype,"onCheckboxChange",[r],Object.getOwnPropertyDescriptor(u.prototype,"onCheckboxChange"),u.prototype),p(u.prototype,"toggleProperty",[a],Object.getOwnPropertyDescriptor(u.prototype,"toggleProperty"),u.prototype),p(u.prototype,"imageUploaded",[s],Object.getOwnPropertyDescriptor(u.prototype,"imageUploaded"),u.prototype),p(u.prototype,"changeSetting",[o],Object.getOwnPropertyDescriptor(u.prototype,"changeSetting"),u.prototype),p(u.prototype,"toggleSetting",[l],Object.getOwnPropertyDescriptor(u.prototype,"toggleSetting"),u.prototype),u)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/modals/newsletters/edit/preview-labs",["exports","@glimmer/component","ghost-admin/config/environment","moment-timezone","@tryghost/color-utils"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"0N4RJoHl",block:'{"symbols":["@newsletter"],"statements":[[10,"div"],[14,0,"gh-members-emailpreview gh-members-emailpreview-labs"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-members-emailpreview-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-members-emailpreview-faux"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                "],[10,"span"],[14,0,"strong"],[12],[1,[30,[36,7],[[32,1,["senderName"]],[32,0,["settings","title"]]],null]],[13],[2," <"],[1,[30,[36,11],[[30,[36,7],[[32,1,["senderEmail"]],"noreply"],null]],null]],[2,">\\n            "],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-members-emailpreview-contents"],[15,5,[30,[36,1],[[30,[36,0],["background: ",[32,0,["backgroundColor"]]],null]],null]],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-members-emailpreview-border"],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["borderColor"]]],null]],null]],[12],[2,"\\n"],[6,[37,2],[[32,1,["headerImage"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-emailpreview-header-image"],[12],[2,"\\n                        "],[10,"img"],[15,"src",[32,1,["headerImage"]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["showHeader"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[15,0,[30,[36,2],[[30,[36,7],[[30,[36,10],[[32,1,["showPostTitleSection"]]],null],[32,0,["showHeaderTitle"]]],null],"gh-members-emailpreview-header bordered","gh-members-emailpreview-header"],null]],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["secondaryBorderColor"]]],null]],null]],[12],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,0,["settings","icon"]],[32,1,["showHeaderIcon"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"img"],[15,"src",[32,0,["settings","icon"]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["headerTitle"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"h4"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[1,[32,0,["headerTitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["headerSubtitle"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"h5"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[1,[32,0,["headerSubtitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,1,["showPostTitleSection"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[15,0,[31,["gh-members-emailpreview-title ",[30,[36,2],[[30,[36,6],[[32,1,["titleAlignment"]],"left"],null],"gh-members-emailpreview-title-left"],null]]]],[12],[2,"\\n                        "],[10,"h2"],[15,0,[31,[[30,[36,2],[[30,[36,6],[[32,1,["titleFontCategory"]],"serif"],null],"serif"],null]]]],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["titleColor"]]],null]],null]],[12],[2,"Your email newsletter"],[13],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-members-emailpreview-meta ",[30,[36,2],[[30,[36,6],[[32,1,["titleAlignment"]],"center"],null],"center-aligned"],null]]]],[12],[2,"\\n                            "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[2,"By "],[1,[30,[36,7],[[32,0,["session","user","name"]],[32,0,["session","user","email"]]],null]],[2,"\\n                                "],[10,"span"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[1,[30,[36,9],[[30,[36,8],null,null],"D MMM YYYY"],null]],[13],[2,"\\n"],[6,[37,2],[[32,0,["showCommentCta"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[10,"a"],[14,6,"javascript:"],[14,0,"gh-members-emailpreview-comment-link"],[15,5,[30,[36,1],[[30,[36,2],[[32,0,["backgroundColorIsDark"]],"filter: brightness(2)"],null]],null]],[12],[2," "],[1,[30,[36,5],["comment"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[10,"p"],[12],[2,"\\n                                "],[10,"a"],[14,6,"javascript:"],[14,0,"gh-members-emailpreview-view-online"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[2,"View in browser"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,1,["showFeatureImage"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage"],[15,5,[32,0,["featureImageStyle"]]],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage-caption"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[2,"Feature image caption"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"div"],[15,0,[31,["gh-members-emailpreview-content ",[30,[36,2],[[30,[36,6],[[32,1,["bodyFontCategory"]],"sans_serif"],null],"sans-serif"],null]]]],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["secondaryBorderColor"]]],null]],null]],[12],[2,"\\n                    "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"This is what your content will look like when you send one of your posts as an email newsletter to your subscribers."],[13],[2,"\\n                    "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"Over there on the left youâ€™ll see some settings that allow you to customize the look and feel of this template to make it perfectly suited to your brand. Email templates are exceptionally finnicky to make, but weâ€™ve spent a long time optimising this one to make it work beautifully across devices, email clients and content types."],[13],[2,"\\n                    "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"So, you can trust that every email you send with Ghost will look great and work well. Just like the rest of your site."],[13],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,2],[[30,[36,7],[[30,[36,4],[[32,1,["feedbackEnabled"]],[30,[36,3],["audienceFeedback"],null]],null],[32,0,["showCommentCta"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-emailpreview-feedback"],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["secondaryBorderColor"]]],null]],null]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-emailpreview-feedback-buttons-group"],[12],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,1,["feedbackEnabled"]],[30,[36,3],["audienceFeedback"],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon","@textColor"],["More like this","thumbs-up",[30,[36,1],[[32,0,["textColor"]]],null]]],null],[2,"\\n\\n                                "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon","@textColor"],["Less like this","thumbs-down",[30,[36,1],[[32,0,["textColor"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["showCommentCta"]]],null,[["default"],[{"statements":[[2,"                                "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon","@textColor"],["Comment","comment",[30,[36,1],[[32,0,["textColor"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["showLatestPosts"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-emailpreview-latest-posts"],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["secondaryBorderColor"]]],null]],null]],[12],[2,"\\n                        "],[10,"h3"],[14,0,"pb2"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["titleColor"]]],null]],null]],[12],[2,"Keep reading"],[13],[2,"\\n                        "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt","@textColor","@secondaryTextColor"],["assets/img/latest-posts-1-ea1e669b275f2c7dfa23abd4be8d7ad5.png","The three latest posts published on your site","Posts sent as an email only will never be shown here.",[30,[36,1],[[32,0,["textColor"]]],null],[30,[36,1],[[32,0,["secondaryTextColor"]]],null]]],null],[2,"\\n                        "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt","@textColor","@secondaryTextColor"],["assets/img/latest-posts-2-e6b0809353ac31642839a6f3bab0d4e8.png","Displayed at the bottom of each newsletter","Giving your readers one more place to discover your stories.",[30,[36,1],[[32,0,["textColor"]]],null],[30,[36,1],[[32,0,["secondaryTextColor"]]],null]]],null],[2,"\\n                        "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt","@textColor","@secondaryTextColor"],["assets/img/latest-posts-3-ac8c2e95dd9adecb9029a7b037ed7f15.png","To keep your work front and center","Making sure that your audience stays engaged.",[30,[36,1],[[32,0,["textColor"]]],null],[30,[36,1],[[32,0,["secondaryTextColor"]]],null]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["showSubscriptionDetails"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-emailpreview-subscription-details"],[15,5,[30,[36,1],[[30,[36,0],["border-color: ",[32,0,["secondaryBorderColor"]]],null]],null]],[12],[2,"\\n                        "],[10,"h4"],[14,0,"pb2"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["titleColor"]]],null]],null]],[12],[2,"Subscription details"],[13],[2,"\\n                        "],[10,"p"],[14,0,"pb4"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"You are receiving this because you are a "],[10,"strong"],[12],[2,"paid subscriber"],[13],[2," to The Local Host. Your subscription will renew on "],[1,[32,0,["renewDateString"]]],[2,"."],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex-shrink-0"],[12],[2,"\\n                                "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"Name: Jamie Larson"],[13],[2,"\\n                                "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"Email: jamie@example.com"],[13],[2,"\\n                                "],[10,"p"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["textColor"]]],null]],null]],[12],[2,"Member since: "],[1,[32,0,["todayString"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"a"],[14,6,"#"],[14,0,"gh-members-emailpreview-subscription-link"],[15,5,[30,[36,1],[[30,[36,2],[[32,0,["backgroundColorIsDark"]],"color: #FFF; text-decoration: underline;"],null]],null]],[12],[2,"Manage subscription â†’"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-members-emailpreview-footer"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-footercontent"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[2,"\\n                        "],[1,[30,[36,1],[[32,1,["footerContent"]]],null]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-footersite"],[12],[2,"\\n                        "],[10,"span"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[1,[32,0,["settings","title"]]],[2," Â© "],[1,[30,[36,9],[[30,[36,8],null,null],"YYYY"],null]],[2," â€“ "],[13],[2," "],[10,"a"],[14,6,"javascript:"],[15,5,[30,[36,1],[[30,[36,0],["color: ",[32,0,["secondaryTextColor"]]],null]],null]],[12],[2,"Unsubscribe"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[15,0,[31,["gh-members-emailpreview-badge ",[30,[36,12],[[32,1,["showBadge"]],"hide"],null]]]],[12],[2,"\\n                    "],[10,"a"],[14,6,"javascript:"],[12],[10,"svg"],[14,"width","24"],[14,"height","24"],[14,"viewBox","0 0 24 24"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[2,"\\n                    "],[10,"path"],[14,"fill-rule","evenodd"],[14,"clip-rule","evenodd"],[14,"d","M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM11.8326 2.33879C6.37785 2.95189 3.95901 5.20797 3.41126 9.74699C3.34896 10.2632 3.22642 10.7805 3.10443 11.2954C2.93277 12.02 2.76221 12.74 2.76221 13.4458C2.76221 17.9885 6.5856 21.556 11.1283 21.556C12.8959 21.556 14.4433 20.8144 15.8756 20.048C19.0536 18.3478 22.0328 16.2597 22.0328 12.5411C22.0328 9.91512 20.1051 7.56932 18.466 5.5747C18.3834 5.47416 18.3015 5.37451 18.2206 5.27577C17.3866 4.25742 14.4333 2.04643 11.8326 2.33879Z"],[14,"fill","black"],[12],[13],[2,"\\n                    "],[13],[2," "],[10,"span"],[12],[2,"Powered by Ghost"],[13],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["concat","html-safe","if","feature","and","svg-jar","eq","or","moment-site-tz","moment-format","not","full-email-address","unless"]}',moduleName:"ghost-admin/components/modals/newsletters/edit/preview-labs.hbs"})
let f=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=class extends t.default{constructor(...e){super(...e),h(this,"ghostPaths",c,this),h(this,"session",d,this),h(this,"settings",p,this),h(this,"membersUtils",m,this)}get accentColor(){return this.settings.accentColor}get backgroundColor(){const e=this.args.newsletter.backgroundColor
return/#([0-9a-f]{3}){1,2}$/i.test(e)?e:"dark"===e?"#15212a":"#ffffff"}get backgroundColorIsDark(){return"#ffffff"===(0,r.textColorForBackgroundColor)(this.backgroundColor).hex().toLowerCase()}get borderColor(){const e=this.args.newsletter.borderColor
if(/#([0-9a-f]{3}){1,2}$/i.test(e))return e
if("auto"===e){const e=this.backgroundColor
return(0,r.textColorForBackgroundColor)(e).hex()}return"accent"===e?this.accentColor:null}get secondaryBorderColor(){return(0,r.textColorForBackgroundColor)(this.backgroundColor).alpha(.12).toString()}get titleColor(){const e=this.args.newsletter.titleColor
if(/#([0-9a-f]{3}){1,2}$/i.test(e))return e
if("accent"===e)return this.accentColor
const t=this.backgroundColor
return(0,r.textColorForBackgroundColor)(t).hex()}get textColor(){return(0,r.textColorForBackgroundColor)(this.backgroundColor).hex()}get secondaryTextColor(){return(0,r.textColorForBackgroundColor)(this.backgroundColor).alpha(.5).toString()}get linkColor(){return this.backgroundIsDark?"#ffffff":this.accentColor}get showHeader(){return this.args.newsletter.showHeaderIcon&&this.settings.icon||this.headerTitle}get showHeaderTitle(){return this.headerTitle||this.headerSubtitle}get showCommentCta(){return this.args.newsletter.showCommentCta&&"off"!==this.settings.commentsEnabled}get headerTitle(){return this.args.newsletter.showHeaderTitle?this.settings.title:this.args.newsletter.showHeaderName?this.args.newsletter.name:null}get headerSubtitle(){return this.args.newsletter.showHeaderTitle&&this.args.newsletter.showHeaderName?this.args.newsletter.name:null}get featureImageUrl(){return(i.default.cdnUrl?"":this.ghostPaths.assetRoot.replace(/\/$/,""))+"/img/user-cover-e8f42b12b5fcba292a8b5dfa81e13dd2.png"}get featureImageStyle(){return Ember.String.htmlSafe(`background-image: url(${this.featureImageUrl})`)}get renewDateString(){return(0,n.default)().add(1,"year").format("DD MMM YYYY")}get todayString(){return(0,n.default)().format("DD MMM YYYY")}},c=b(u.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"membersUtils",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/modals/newsletters/edit/preview",["exports","@glimmer/component","ghost-admin/config/environment","moment-timezone"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"PfDs1X/v",block:'{"symbols":["@newsletter"],"statements":[[10,"div"],[14,0,"gh-members-emailpreview"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-members-emailpreview-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-members-emailpreview-faux"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                "],[10,"span"],[14,0,"strong"],[12],[1,[30,[36,5],[[32,1,["senderName"]],[32,0,["settings","title"]]],null]],[13],[2," <"],[1,[30,[36,9],[[30,[36,5],[[32,1,["senderEmail"]],"noreply"],null]],null]],[2,">\\n            "],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"dark"],[12],[2,"To:"],[13],[2," Jamie Larson <jamie@example.com>"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-members-emailpreview-contents"],[12],[2,"\\n"],[6,[37,2],[[32,1,["headerImage"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-members-emailpreview-header-image"],[12],[2,"\\n                    "],[10,"img"],[15,"src",[32,1,["headerImage"]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["showHeader"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[30,[36,2],[[30,[36,5],[[30,[36,8],[[32,1,["showPostTitleSection"]]],null],[32,0,["showHeaderTitle"]]],null],"gh-members-emailpreview-header bordered","gh-members-emailpreview-header"],null]],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,0,["settings","icon"]],[32,1,["showHeaderIcon"]]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"img"],[15,"src",[32,0,["settings","icon"]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["headerTitle"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"h4"],[12],[1,[32,0,["headerTitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["headerSubtitle"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"h5"],[12],[1,[32,0,["headerSubtitle"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,1,["showPostTitleSection"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-members-emailpreview-title ",[30,[36,2],[[30,[36,4],[[32,1,["titleAlignment"]],"left"],null],"gh-members-emailpreview-title-left"],null]]]],[12],[2,"\\n                    "],[10,"h2"],[15,0,[31,[[30,[36,2],[[30,[36,4],[[32,1,["titleFontCategory"]],"serif"],null],"serif"],null]]]],[12],[2,"Your email newsletter"],[13],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-members-emailpreview-meta ",[30,[36,2],[[30,[36,4],[[32,1,["titleAlignment"]],"center"],null],"center-aligned"],null]]]],[12],[2,"\\n                        "],[10,"p"],[12],[2,"By "],[1,[30,[36,5],[[32,0,["session","user","name"]],[32,0,["session","user","email"]]],null]],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,7],[[30,[36,6],null,null],"D MMM YYYY"],null]],[13],[2,"\\n"],[6,[37,2],[[32,0,["showCommentCta"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"span"],[12],[10,"a"],[14,6,"javascript:"],[14,0,"gh-members-emailpreview-comment-link"],[12],[2," "],[1,[30,[36,3],["comment"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"a"],[14,6,"javascript:"],[14,0,"gh-members-emailpreview-view-online"],[12],[2,"View in browser"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,1,["showFeatureImage"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage"],[15,5,[32,0,["featureImageStyle"]]],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-members-emailpreview-featureimage-caption"],[12],[2,"Feature image caption"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[15,0,[31,["gh-members-emailpreview-content ",[30,[36,2],[[30,[36,4],[[32,1,["bodyFontCategory"]],"sans_serif"],null],"sans-serif"],null]]]],[12],[2,"\\n                "],[10,"p"],[12],[2,"This is what your content will look like when you send one of your posts as an email newsletter to your subscribers."],[13],[2,"\\n                "],[10,"p"],[12],[2,"Over there on the left youâ€™ll see some settings that allow you to customize the look and feel of this template to make it perfectly suited to your brand. Email templates are exceptionally finnicky to make, but weâ€™ve spent a long time optimising this one to make it work beautifully across devices, email clients and content types."],[13],[2,"\\n                "],[10,"p"],[12],[2,"So, you can trust that every email you send with Ghost will look great and work well. Just like the rest of your site."],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,2],[[30,[36,5],[[30,[36,1],[[32,1,["feedbackEnabled"]],[30,[36,0],["audienceFeedback"],null]],null],[32,0,["showCommentCta"]]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-members-emailpreview-feedback"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-emailpreview-feedback-buttons-group"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[32,1,["feedbackEnabled"]],[30,[36,0],["audienceFeedback"],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon"],["More like this","thumbs-up"]],null],[2,"\\n\\n                            "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon"],["Less like this","thumbs-down"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["showCommentCta"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"modals/newsletters/components/feedback-button",[],[["@text","@icon"],["Comment","comment"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["showLatestPosts"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-members-emailpreview-latest-posts"],[12],[2,"\\n                    "],[10,"h3"],[14,0,"pb2"],[12],[2,"Keep reading"],[13],[2,"\\n                    "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt"],["assets/img/latest-posts-1-ea1e669b275f2c7dfa23abd4be8d7ad5.png","The three latest posts published on your site","Posts sent as an email only will never be shown here."]],null],[2,"\\n                    "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt"],["assets/img/latest-posts-2-e6b0809353ac31642839a6f3bab0d4e8.png","Displayed at the bottom of each newsletter","Giving your readers one more place to discover your stories."]],null],[2,"\\n                    "],[8,"modals/newsletters/components/latest-post",[],[["@imgPath","@postTitle","@postExcerpt"],["assets/img/latest-posts-3-ac8c2e95dd9adecb9029a7b037ed7f15.png","To keep your work front and center","Making sure that your audience stays engaged."]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["showSubscriptionDetails"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-members-emailpreview-subscription-details"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"pb2"],[12],[2,"Subscription details"],[13],[2,"\\n                    "],[10,"p"],[14,0,"pb4"],[12],[2,"You are receiving this because you are a "],[10,"strong"],[12],[2,"paid subscriber"],[13],[2," to The Local Host. Your subscription will renew on "],[1,[32,0,["renewDateString"]]],[2,"."],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex-shrink-0"],[12],[2,"\\n                            "],[10,"p"],[12],[2,"Name: Jamie Larson"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Email: jamie@example.com"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Member since: "],[1,[32,0,["todayString"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"a"],[14,6,"#"],[14,0,"gh-members-emailpreview-subscription-link"],[12],[2,"Manage subscription â†’"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"gh-members-emailpreview-footer"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-members-emailpreview-footercontent"],[12],[2,"\\n                    "],[1,[30,[36,10],[[32,1,["footerContent"]]],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-members-emailpreview-footersite"],[12],[2,"\\n                    "],[10,"span"],[12],[1,[32,0,["settings","title"]]],[2," Â© "],[1,[30,[36,7],[[30,[36,6],null,null],"YYYY"],null]],[2," â€“ "],[13],[2," "],[10,"a"],[14,6,"javascript:"],[12],[2,"Unsubscribe"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[15,0,[31,["gh-members-emailpreview-badge ",[30,[36,11],[[32,1,["showBadge"]],"hide"],null]]]],[12],[2,"\\n                "],[10,"a"],[14,6,"javascript:"],[12],[10,"svg"],[14,"width","24"],[14,"height","24"],[14,"viewBox","0 0 24 24"],[14,"fill","none"],[14,"xmlns","http://www.w3.org/2000/svg","http://www.w3.org/2000/xmlns/"],[12],[2,"\\n                "],[10,"path"],[14,"fill-rule","evenodd"],[14,"clip-rule","evenodd"],[14,"d","M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM11.8326 2.33879C6.37785 2.95189 3.95901 5.20797 3.41126 9.74699C3.34896 10.2632 3.22642 10.7805 3.10443 11.2954C2.93277 12.02 2.76221 12.74 2.76221 13.4458C2.76221 17.9885 6.5856 21.556 11.1283 21.556C12.8959 21.556 14.4433 20.8144 15.8756 20.048C19.0536 18.3478 22.0328 16.2597 22.0328 12.5411C22.0328 9.91512 20.1051 7.56932 18.466 5.5747C18.3834 5.47416 18.3015 5.37451 18.2206 5.27577C17.3866 4.25742 14.4333 2.04643 11.8326 2.33879Z"],[14,"fill","black"],[12],[13],[2,"\\n                "],[13],[2," "],[10,"span"],[12],[2,"Powered by Ghost"],[13],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["feature","and","if","svg-jar","eq","or","moment-site-tz","moment-format","not","full-email-address","html-safe","unless"]}',moduleName:"ghost-admin/components/modals/newsletters/edit/preview.hbs"})
let g=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=class extends t.default{constructor(...e){super(...e),m(this,"ghostPaths",u,this),m(this,"session",c,this),m(this,"settings",d,this),m(this,"membersUtils",p,this)}get showHeader(){return this.args.newsletter.showHeaderIcon&&this.settings.icon||this.headerTitle}get showHeaderTitle(){return this.headerTitle||this.headerSubtitle}get showCommentCta(){return this.args.newsletter.showCommentCta&&"off"!==this.settings.commentsEnabled}get headerTitle(){return this.args.newsletter.showHeaderTitle?this.settings.title:this.args.newsletter.showHeaderName?this.args.newsletter.name:null}get headerSubtitle(){return this.args.newsletter.showHeaderTitle&&this.args.newsletter.showHeaderName?this.args.newsletter.name:null}get featureImageUrl(){return(i.default.cdnUrl?"":this.ghostPaths.assetRoot.replace(/\/$/,""))+"/img/user-cover-e8f42b12b5fcba292a8b5dfa81e13dd2.png"}get featureImageStyle(){return Ember.String.htmlSafe(`background-image: url(${this.featureImageUrl})`)}get renewDateString(){return(0,n.default)().add(1,"year").format("DD MMM YYYY")}get todayString(){return(0,n.default)().format("DD MMM YYYY")}},u=h(l.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(l.prototype,"membersUtils",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/modals/newsletters/edit/settings",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c
function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"4H4fjxlJ",block:'{"symbols":["isOpen","isOpen","select","isOpen","@newsletter","@toggleSection","@openSection"],"statements":[[10,"fieldset"],[14,0,"modal-fullsettings-form-labs"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-fullsettings-section-labs"],[12],[2,"\\n        "],[10,"h4"],[14,0,"modal-fullsettings-section-title"],[12],[2,"General settings"],[13],[2,"\\n\\n"],[6,[37,8],[[30,[36,7],[[32,7],"name"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,2],[[32,4],"active"],null]]]],[24,"data-test-nav-toggle","general.name"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"name"],null]],null],[12],[2,"\\n                "],[1,[30,[36,3],["email-name"],null]],[2," Name and description\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,3],[[30,[36,2],[[32,4],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,4],[[32,4]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[["@errors","@hasValidated","@property"],[[32,5,["errors"]],[32,5,["hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","newsletter-title"],[14,0,"modal-fullsettings-title"],[12],[2,"Name"],[13],[2,"\\n                            "],[11,"input"],[24,1,"newsletter-title"],[24,0,"gh-input miw-100 form-text"],[16,2,[32,5,["name"]]],[24,"placeholder","Weekly Roundup"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["onInput"]],"name"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,5,["errors"]],"name"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[["@errors","@hasValidated","@property"],[[32,5,["errors"]],[32,5,["hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","newsletter-description"],[14,0,"modal-fullsettings-title"],[12],[2,"Description"],[13],[2,"\\n                            "],[11,"textarea"],[24,1,"newsletter-description"],[24,0,"gh-input miw-100 form-text"],[4,[38,1],["input",[30,[36,0],[[32,0,["onInput"]],"description"],null]],null],[12],[1,[32,5,["description"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,5,["errors"]],"description"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[4]}]]],[2,"\\n"],[6,[37,8],[[30,[36,7],[[32,7],"email"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,2],[[32,2],"active"],null]]]],[24,"data-test-nav-toggle","general.email"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"email"],null]],null],[12],[2,"\\n                "],[1,[30,[36,3],["email-at"],null]],[2," Email addresses\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,3],[[30,[36,2],[[32,2],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,4],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[["@errors","@hasValidated","@property"],[[32,5,["errors"]],[32,5,["hasValidated"]],"senderName"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","newsletter-sender-name"],[14,0,"modal-fullsettings-title"],[12],[2,"Sender name"],[13],[2,"\\n                            "],[11,"input"],[24,1,"newsletter-sender-name"],[24,0,"gh-input miw-100 form-text"],[16,2,[32,5,["senderName"]]],[16,"placeholder",[32,0,["settings","title"]]],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["onInput"]],"senderName"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,5,["errors"]],"senderName"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[["@errors","@hasValidated","@property"],[[32,5,["errors"]],[32,5,["hasValidated"]],"senderEmail"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[14,0,"flex items-center justify-between"],[12],[2,"\\n                                "],[10,"label"],[14,"for","newsletter-sender-email"],[14,0,"modal-fullsettings-title ml2"],[12],[2,"Sender email address"],[13],[2,"\\n                                "],[10,"span"],[14,0,"tooltip-top-left"],[15,"data-tooltip",[31,["Defaults to ",[30,[36,5],["noreply"],null]," if empty"]]],[12],[1,[30,[36,3],["info"],[["class"],["w4 h4"]]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"input"],[24,1,"newsletter-sender-email"],[24,0,"gh-input miw-100 form-text"],[16,2,[32,5,["senderEmail"]]],[16,"placeholder",[30,[36,5],["noreply"],null]],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["onInput"]],"senderEmail"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,5,["errors"]],"senderEmail"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item"]],[["@errors","@hasValidated","@property"],[[32,5,["errors"]],[32,5,["hasValidated"]],"senderReplyTo"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","newsletter-reply-to"],[14,0,"modal-fullsettings-title"],[12],[2,"Reply-to email"],[13],[2,"\\n                            "],[8,"inputs/select",[[24,1,"newsletter-reply-to"]],[["@value","@onChange"],[[32,5,["senderReplyTo"]],[30,[36,0],[[32,0,["onValueChange"]],"senderReplyTo"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[8,[32,3,["option"]],[],[["@value"],["newsletter"]],[["default"],[{"statements":[[2,"Newsletter address ("],[1,[30,[36,5],[[30,[36,6],[[32,5,["senderEmail"]],"noreply"],null]],null]],[2,")"]],"parameters":[]}]]],[2,"\\n                                "],[8,[32,3,["option"]],[],[["@value"],["support"]],[["default"],[{"statements":[[2,"Support address ("],[1,[30,[36,5],[[32,0,["settings","membersSupportAddress"]]],null]],[2,")"]],"parameters":[]}]]],[2,"\\n                            "]],"parameters":[3]}]]],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,5,["errors"]],"senderReplyTo"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"\\n"],[6,[37,8],[[30,[36,7],[[32,7],"members"],null]],null,[["default"],[{"statements":[[2,"            "],[11,"button"],[16,0,[31,["modal-fullsettings-tab ",[30,[36,2],[[32,1],"active"],null]]]],[24,"data-test-nav-toggle","general.member"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,6],"members"],null]],null],[12],[2,"\\n                "],[1,[30,[36,3],["email-member"],null]],[2," Member settings\\n                "],[10,"span"],[14,0,"gh-nav-button-expand"],[12],[1,[30,[36,3],[[30,[36,2],[[32,1],"arrow-up-stroke","arrow-down-stroke"],null]],null]],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,4],[[32,1]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"modal-fullsettings-tab-expanded"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-stack-item gh-setting"]],[[],[]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","subscribe-on-signup"],[14,0,"modal-fullsettings-title"],[14,"data-test-toggle","subscribeOnSignup"],[12],[2,"Subscribe new members on signup"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"div"],[14,0,"container"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"subscribe-on-signup"],[16,"checked",[32,5,["subscribeOnSignup"]]],[24,4,"checkbox"],[4,[38,1],["change",[30,[36,0],[[32,0,["onCheckboxChange"]],"subscribeOnSignup"],null]],null],[12],[13],[2,"\\n                                    "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["toggleProperty"]],"subscribeOnSignup"],null]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","if","svg-jar","liquid-if","full-email-address","or","eq","let"]}',moduleName:"ghost-admin/components/modals/newsletters/edit/settings.hbs"})
let m=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=c)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}onCheckboxChange(e,t){this.args.newsletter[e]=t.target.checked}toggleProperty(e){this.args.newsletter[e]=!this.args.newsletter[e]}onInput(e,t){this.args.newsletter[e]=t.target.value}onValueChange(e,t){this.args.newsletter[e]=t}setOptInExisting(e){this.args.setOptInExisting(e.target.value)}toggleOptInExisting(){this.args.setOptInExisting(!this.args.optInExisting)}},c=d(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(u.prototype,"onCheckboxChange",[n],Object.getOwnPropertyDescriptor(u.prototype,"onCheckboxChange"),u.prototype),d(u.prototype,"toggleProperty",[r],Object.getOwnPropertyDescriptor(u.prototype,"toggleProperty"),u.prototype),d(u.prototype,"onInput",[a],Object.getOwnPropertyDescriptor(u.prototype,"onInput"),u.prototype),d(u.prototype,"onValueChange",[s],Object.getOwnPropertyDescriptor(u.prototype,"onValueChange"),u.prototype),d(u.prototype,"setOptInExisting",[o],Object.getOwnPropertyDescriptor(u.prototype,"setOptInExisting"),u.prototype),d(u.prototype,"toggleOptInExisting",[l],Object.getOwnPropertyDescriptor(u.prototype,"toggleOptInExisting"),u.prototype),u)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/modals/newsletters/new",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"c6BwwH0W",block:'{"symbols":["countFetcher","@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","create-newsletter"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Create newsletter"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,5],["click",[32,2]],null],[12],[1,[30,[36,6],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,3,["newsletter","errors"]],[32,3,["newsletter","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","newsletter-title"],[14,0,"modal-fullsettings-title"],[12],[2,"Name"],[13],[2,"\\n                "],[11,"input"],[24,1,"newsletter-title"],[24,0,"gh-input miw-100 form-text"],[16,2,[32,3,["newsletter","name"]]],[24,"placeholder","Weekly Roundup"],[24,"data-test-newsletter-title-input",""],[24,4,"text"],[4,[38,5],["input",[30,[36,7],[[32,0,["onInput"]],"name"],null]],null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,3,["newsletter","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,3,["newsletter","errors"]],[32,3,["newsletter","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","newsletter-description"],[14,0,"modal-fullsettings-title"],[12],[2,"Description"],[13],[2,"\\n                "],[11,"textarea"],[24,1,"newsletter-description"],[24,0,"gh-input miw-100 form-text"],[4,[38,5],["input",[30,[36,7],[[32,0,["onInput"]],"description"],null]],null],[12],[1,[32,3,["newsletter","description"]]],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,3,["newsletter","errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[[24,0,"flex justify-between items-start mb2"]],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"mr3"],[12],[2,"\\n                    "],[10,"label"],[14,"for","opt-in-existing"],[14,0,"modal-fullsettings-title"],[12],[2,"Opt-in existing subscribers"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n"],[6,[37,0],[[32,0,["optInExisting"]]],null,[["default","else"],[{"statements":[[6,[37,4],[[30,[36,3],null,[["query"],[[30,[36,2],null,[["filter"],["newsletters.status:active+email_disabled:0"]]]]]]],null,[["default"],[{"statements":[[2,"                            This newsletter will be available to "],[10,"strong"],[12],[2,"all members"],[13],[2,". Your "],[6,[37,0],[[32,1,["count"]]],null,[["default"],[{"statements":[[10,"strong"],[12],[1,[32,1,["count"]]],[13]],"parameters":[]}]]],[2," existing subscriber"],[6,[37,0],[[30,[36,1],[[32,1,["count"]],1],null]],null,[["default"],[{"statements":[[2,"s"]],"parameters":[]}]]],[2," will also be opted-in to receive it.\\n"]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                        The newsletter will be available to "],[10,"strong"],[12],[2,"all new members"],[13],[2,". Existing members wonâ€™t be subscribed, but may visit their account area to opt-in to future emails.\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                    "],[10,"div"],[14,0,"container"],[12],[2,"\\n                        "],[11,"input"],[24,1,"opt-in-existing"],[16,"checked",[32,0,["optInExisting"]]],[24,4,"checkbox"],[4,[38,5],["check",[32,0,["setOptInExisting"]]],null],[12],[13],[2,"\\n                        "],[11,"button"],[24,0,"input-toggle-component"],[24,4,"button"],[4,[38,5],["click",[32,0,["toggleOptInExisting"]]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,5],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","save-newsletter"],[4,[38,8],["cmd+s",[32,0,["saveViaKeyboard"]]],[["priority"],[1]]],[4,[38,8],["Enter",[32,0,["saveViaKeyboard"]]],[["priority"],[1]]]],[["@buttonText","@runningText","@successText","@task","@idleClass","@class"],["Create","Creating","Created",[32,0,["saveTask"]],"gh-btn-primary","gh-btn gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","gt","hash","members-count-fetcher","let","on","svg-jar","fn","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/new.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),h(this,"modals",d,this),h(this,"store",p,this),h(this,"optInExisting",m,this)}willDestroy(){super.willDestroy(...arguments),this.args.data.newsletter.rollbackAttributes()}onInput(e,t){this.args.data.newsletter[e]=t.target.value}saveViaKeyboard(e,t){t.stopPropagation(),e.preventDefault(),this.saveTask.perform()}setOptInExisting(e){this.optInExisting=e.target.value}toggleOptInExisting(){this.optInExisting=!this.optInExisting}*saveTask(){const e=this.args.data.newsletter
try{yield e.validate({})
const t=yield e.save({adapterOptions:{optInExisting:this.optInExisting}})
return yield this.store.query("newsletter",{include:"count.active_members,count.posts",limit:"all"}),this.args.data.afterSave?.(t),t}catch(t){if(void 0===t)return
if(t.payload&&t.payload.errors)for(const i of t.payload.errors)"ValidationError"===i.type&&i.property&&(i.context||i.message)&&e.errors.add(i.property,i.context||i.message)
throw t}}},d=b(c.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(c.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(c.prototype,"optInExisting",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.data.newsletter.isNew}}),b(c.prototype,"onInput",[s],Object.getOwnPropertyDescriptor(c.prototype,"onInput"),c.prototype),b(c.prototype,"saveViaKeyboard",[o],Object.getOwnPropertyDescriptor(c.prototype,"saveViaKeyboard"),c.prototype),b(c.prototype,"setOptInExisting",[l],Object.getOwnPropertyDescriptor(c.prototype,"setOptInExisting"),c.prototype),b(c.prototype,"toggleOptInExisting",[u],Object.getOwnPropertyDescriptor(c.prototype,"toggleOptInExisting"),c.prototype),b(c.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"saveTask"),c.prototype),c)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/modals/newsletters/verify-newsletter-email",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const y=Ember.HTMLBars.template({id:"ObD581+D",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","verify-newsletter-email"],[12],[2,"\\n"],[6,[37,0],[[32,0,["verifyEmailTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h1"],[12],[2,"Verifying newsletter email address"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["newsletter"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h1"],[12],[2,"Email address verified"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"            "],[10,"h1"],[12],[2,"Email address verification failed"],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,0],[[32,0,["verifyEmailTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex justify-center flex-auto"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["newsletter"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                Success! From address for newsletter\\n                "],[8,"link-to",[],[["@route","@model"],["settings.newsletters.edit-newsletter",[32,0,["newsletter","id"]]]],[["default"],[{"statements":[[1,[32,0,["newsletter","name"]]]],"parameters":[]}]]],[2,"\\n                changed to "],[10,"strong"],[12],[1,[32,0,["newsletter","senderEmail"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"Verification failed:"],[13],[2,"\\n            "],[10,"p"],[12],[1,[32,0,["error"]]],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[4,[38,3],["Enter"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","on","svg-jar","on-key"]}',moduleName:"ghost-admin/components/modals/newsletters/verify-newsletter-email.hbs"})
let w=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=class extends t.default{constructor(){super(...arguments),f(this,"ajax",d,this),f(this,"ghostPaths",p,this),f(this,"router",m,this),f(this,"store",h,this),f(this,"error",b,this),f(this,"newsletter",g,this),this.verifyEmailTask.perform(this.args.data.token),this.router.on("routeDidChange",this.handleRouteChange)}willDestroy(){super.willDestroy(...arguments),this.router.off("routeDidChange",this.handleRouteChange)}*verifyEmailTask(e){try{const t=this.ghostPaths.url.api("newsletters","verifications"),i=yield this.ajax.put(t,{data:{token:e}})
if(i.newsletters){this.store.pushPayload("newsletter",i)
const e=this.store.peekRecord("newsletter",i.newsletters[0].id)
this.newsletter=e}}catch(t){this.error=t.message}}handleRouteChange(){this.args.close()}},d=v(c.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"error",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v(c.prototype,"newsletter",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v(c.prototype,"verifyEmailTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"verifyEmailTask"),c.prototype),v(c.prototype,"handleRouteChange",[u],Object.getOwnPropertyDescriptor(c.prototype,"handleRouteChange"),c.prototype),c)
e.default=w,Ember._setComponentTemplate(y,w)})),define("ghost-admin/components/modals/offers/archive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"Yhh9A1Tt",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["archiveOfferTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Archive offer"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            New members will no longer be able to subscribe using this offer. All members that previously redeemed "],[10,"strong"],[12],[1,[32,2,["offer","name"]]],[13],[2," will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Archive","Archived",[32,0,["archiveOfferTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/archive.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{offer:e}=this.args.data
return"active"===e.status}*archiveOfferTask(){const{offer:e}=this.args.data
e.status="archived"
try{return yield e.save(),this.router.transitionTo("offers",{queryParams:{type:"archived"}}),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"archiveOfferTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"archiveOfferTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modals/offers/link",["exports","@glimmer/component","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l
function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"SYbV/y53",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Offer link"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You can share this link anywhere. In your newsletter, social media, a podcast, or in-person. It all just works.\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n            "],[8,"gh-text-input",[],[["@name","@value","@id","@disabled","@class"],["url",[32,0,["offerUrl"]],"url","disabled","gh-input"]],null],[2,"\\n\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@class"],["Copy link",[32,0,["copyOfferUrl"]],"Link copied","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/link.hbs"})
let d=(s=(0,a.task)({drop:!0}),o=class extends t.default{constructor(){var e,t,n,r
super(...arguments),e=this,t="config",r=this,(n=l)&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),void 0===this.isTesting&&(this.isTesting="test"===i.default.environment)}get offerUrl(){const e=this.args.data.offer?.code||""
if(e){return`${this.config.blogUrl}/${e}`}return""}*copyOfferUrl(){return(0,n.default)(this.offerUrl),yield(0,a.timeout)(this.isTesting?50:500),!0}},l=u(o.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"copyOfferUrl",[s],Object.getOwnPropertyDescriptor(o.prototype,"copyOfferUrl"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/modals/offers/unarchive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"8aLZK5Yl",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["unarchiveOfferTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Reactivate offer"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Reactivating "],[10,"strong"],[12],[1,[32,2,["offer","name"]]],[13],[2," will allow new members to subscribe to this tier. Existing members will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Reactivate",[32,0,["unarchiveOfferTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/offers/unarchive.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{offer:e}=this.args.data
return"active"===e.status}*unarchiveOfferTask(){const{offer:e}=this.args.data
e.status="active"
try{return yield e.save(),this.router.transitionTo("offers",{queryParams:{type:"active"}}),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"unarchiveOfferTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"unarchiveOfferTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modals/restore-revision",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"/GmpCUl9",block:'{"symbols":["@close"],"statements":[[11,"div"],[24,0,"modal-content"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["restoreRevisionTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[1,[32,0,["title"]]],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[1,[32,0,["body"]]],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Restore","Restored",[32,0,["restoreRevisionTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/restore-revision.hbs"})
let l=(n=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get title(){return!0===this.args.data.post.isPublished?`Restore version for published ${this.args.data.post.displayName}?`:"Restore this version?"}get body(){return!0===this.args.data.post.isPublished?Ember.String.htmlSafe(`\n                Heads up! This ${this.args.data.post.displayName} has already been <strong>published</strong>, restoring a previous\n                version will automatically update the ${this.args.data.post.displayName} on your site.\n            `):`Replace your existing draft with this version of the ${this.args.data.post.displayName}.`}*restoreRevisionTask(){try{const{post:e,revision:t,updateTitle:i,updateEditor:n,closePostHistoryModal:r}=this.args.data
return e.lexical=t.lexical,e.title=t.title,yield e.save({adapterOptions:{saveRevision:!0}}),i(),n(),this.notifications.showNotification("Revision successfully restored.",{type:"success"}),r(),!0}catch(e){this.notifications.showNotification("Failed to restore revision.",{type:"error"})}finally{this.args.close()}}},a=s(r.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"restoreRevisionTask",[i.task],Object.getOwnPropertyDescriptor(r.prototype,"restoreRevisionTask"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/modals/search",["exports","@glimmer/component"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"W8dYWR3m",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[11,"div"],[24,0,"gh-nav-search-modal"],[4,[38,0],["click",[32,0,["focusFirstInput"]]],null],[12],[2,"\\n        "],[8,"gh-search-input",[[24,0,"gh-nav-search-input"]],[["@onSelected"],[[32,1]]],null],[2,"\\n        "],[10,"div"],[14,0,"gh-search-tips"],[12],[2,"Open with Ctrl/âŒ˜ + K"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/modals/search.hbs"})
let a=(i=Ember._action,n=class extends t.default{focusFirstInput(e){e.target.querySelector("input")?.focus()}},s=n.prototype,o="focusFirstInput",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"focusFirstInput"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/modals/settings/about",["exports","@glimmer/component","ghost-admin/config/environment","semver/functions/parse","ghost-admin/decorators/inject"],(function(e,t,i,n,r){var a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"JANgLMEJ",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content gh-about-modal"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-about-logo"],[12],[2,"\\n            "],[1,[30,[36,1],["ghost-logo-orb"],[["alt"],["Ghost"]]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-about-box"],[12],[2,"\\n"],[6,[37,0],[[32,0,["upgradeStatus","message"]]],null,[["default"],[{"statements":[[2,"                "],[10,"section"],[14,0,"gh-upgrade-notification"],[12],[2,"\\n                    "],[10,"strong"],[12],[2,"Update available!"],[13],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[1,[32,0,["upgradeStatus","message"]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"section"],[14,0,"gh-env-details gh-about-box grey"],[12],[2,"\\n                "],[10,"ul"],[14,0,"gh-env-list"],[12],[2,"\\n"],[6,[37,0],[[32,0,["linkToGitHubReleases"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Version:"],[13],[2," "],[10,"a"],[15,6,[31,[[32,0,["linkToGitHubReleases"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["config","version"]]],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Version:"],[13],[2," "],[1,[32,0,["config","version"]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[32,0,["showSystemInfo"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Environment:"],[13],[2," "],[10,"span"],[14,0,"ttc"],[12],[1,[32,0,["config","environment"]]],[13],[13],[2,"\\n                    "],[10,"li"],[14,0,"gh-env-list-database-type"],[12],[10,"strong"],[12],[2,"Database:"],[13],[2," "],[1,[32,0,["config","database"]]],[13],[2,"\\n                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Mail:"],[13],[2," "],[6,[37,0],[[32,0,["config","mail"]]],null,[["default","else"],[{"statements":[[1,[32,0,["config","mail"]]]],"parameters":[]},{"statements":[[2,"Native"]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[30,[36,3],null,null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[10,"strong"],[12],[2,"Developer experiments:"],[13],[2," "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Enabled"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n\\n"],[6,[37,0],[[30,[36,4],[[32,0,["showSystemInfo"]],[32,0,["showDatabaseWarning"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-env-error"],[12],[2,"\\n                        You are running an unsupported database in production. Please "],[10,"a"],[14,6,"https://ghost.org/docs/faq/supported-databases/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"upgrade to MySQL 8"],[13],[2,".\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"ul"],[14,0,"gh-about-links"],[12],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://ghost.org/docs/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],["book-open"],[["class"],["fill-middarkgrey hover-fill"]]]],[2,"\\n                                User documentation\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://forum.ghost.org/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],["help"],[["class"],["stroke-middarkgrey hover-stroke"]]]],[2,"\\n                                Get help with Ghost\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"li"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://ghost.org/docs/contributing/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],["brackets"],[["class"],["stroke-middarkgrey hover-stroke"]]]],[2,"\\n                                Get involved\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-copyright-info"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    Copyright Â© 2013 â€“ "],[1,[32,0,["copyrightYear"]]],[2," Ghost Foundation, released under the "],[10,"a"],[14,6,"https://github.com/TryGhost/Ghost/blob/main/LICENSE"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"MIT license"],[13],[2,".\\n                "],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"a"],[14,6,"https://ghost.org/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Ghost"],[13],[2," is a registered trademark of "],[10,"a"],[14,6,"https://ghost.org/trademark/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Ghost Foundation Ltd"],[13],[2,".\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","svg-jar","on","enable-developer-experiments","and"]}',moduleName:"ghost-admin/components/modals/settings/about.hbs"})
let p=(a=Ember.inject.service,s=class extends t.default{constructor(){super(...arguments),u(this,"upgradeStatus",o,this),u(this,"config",l,this),void 0===this.isTesting&&(this.isTesting="test"===i.default.environment)}get copyrightYear(){return(new Date).getFullYear()}get linkToGitHubReleases(){if(this.config.version.includes("-pre."))try{const e=(0,n.default)(this.config.version,{includePrerelease:!0})
return!(!e||!e.build?.[0])&&`https://github.com/TryGhost/Ghost/commit/${e.build[0]}`}catch(e){return!1}return`https://github.com/TryGhost/Ghost/releases/tag/v${this.config.version}`}get showSystemInfo(){return!!!this.config.hostSettings?.siteId}get showDatabaseWarning(){const e=!!this.config.environment.match?.(/production/i),t=this.config.database
return!(!e||"mysql8"===t)||!e&&"mysql5"===t}},o=c(s.prototype,"upgradeStatus",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modals/settings/confirm-email",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"mHtxfxqN",block:'{"symbols":["@close","@data"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","confirm-email"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Confirm email address"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            We\'ve sent a confirmation email to "],[10,"strong"],[12],[1,[32,2,["newEmail"]]],[13],[2,".\\n            Until verified, your support address will remain  "],[1,[30,[36,3],[[30,[36,2],[[32,2,["currentEmail"]],"noreply"],null]],null]],[2,".\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","confirm-email"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[4,[38,4],["Enter"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","or","full-email-address","on-key"]}',moduleName:"ghost-admin/components/modals/settings/confirm-email.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/modals/settings/signup-form-embed",["exports","@glimmer/component","ghost-admin/utils/analytics","ghost-admin/decorators/inject","ember-concurrency","@tryghost/color-utils"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"xeP4K8R7",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content modal-signup-form-embed"],[14,"data-test-modal","signup-form-embed"],[12],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-signup-form-embed-preview"],[12],[2,"\\n        "],[8,"settings/signup-form/preview",[],[["@html","@style"],[[32,0,["previewCode"]],[32,0,["style"]]]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-signup-form-embed-main"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Embed signup form"],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n            "],[8,"gh-form-group",[[24,0,"gh-signup-form-container"]],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"gh-stack-item row"],[12],[2,"\\n                    "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"\\n                        Layout\\n                    "],[13],[2,"\\n                        "],[8,"settings/signup-form/style-select",[],[["@value","@onChange"],[[32,0,["style"]],[32,0,["setStyle"]]]],null],[2,"\\n                "],[13],[2,"\\n\\n"],[6,[37,3],[[30,[36,2],[[32,0,["style"]],"minimal"],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-stack-item row"],[12],[2,"\\n                        "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"\\n                            Background color\\n                        "],[13],[2,"\\n                        "],[8,"modals/newsletters/components/color-picker",[],[["@color","@presetColors","@onColorChange"],[[32,0,["backgroundColor"]],[32,0,["backgroundPresetColors"]],[32,0,["setBackgroundColor"]]]],null],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-stack-item"],[12],[2,"\\n                    "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"\\n                        Labels at signup\\n                    "],[13],[2,"\\n                    "],[8,"gh-member-label-input",[],[["@onChange","@allowEdit","@labels","@triggerId","@placeholder","@renderInPlace"],[[32,0,["setLabels"]],false,[32,0,["labels"]],"label-input","Select",false]],null],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-stack-item"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n                        "],[10,"label"],[14,0,"modal-fullsettings-title"],[12],[2,"\\n                            Embed code\\n                        "],[13],[2,"\\n                        "],[8,"gh-textarea",[[24,"readonly",""],[4,[38,0],["mouseup",[32,0,["copyTextOnMouseUp"]]],null]],[["@id","@class","@value"],["gh-signup-form-embed-code-input","gh-input gh-signup-form-embed-code-input",[32,0,["generatedCode"]]]],null],[2,"\\n                        "],[10,"p"],[12],[2,"Paste this code onto any website where you\'d like your signup to appear."],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@buttonText","@task","@successText","@class"],["Copy code",[32,0,["copyText"]],"Copied","gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","eq","unless"]}',moduleName:"ghost-admin/components/modals/settings/signup-form-embed.hbs"})
function z(e){return e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"):""}let x=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,function(e,t,i){(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(O=class extends t.default{constructor(...e){super(...e),j(this,"modals",f,this),j(this,"settings",v,this),j(this,"feature",y,this),j(this,"style",w,this),j(this,"labels",k,this),j(this,"backgroundColor",E,this),j(this,"config",P,this)}setStyle(e){this.style=e}setLabels(e){this.labels=e}setBackgroundColor(e){this.backgroundColor=e}get backgroundPresetColors(){return[{value:"#F1F3F4",name:"Light grey",class:"",style:"background: #F1F3F4 !important;"},{value:"#000000",name:"Black",class:"",style:"background: #000000 !important;"},{value:this.settings.accentColor,name:"Accent",class:"",style:"background: "+this.settings.accentColor+" !important;"}]}get generatedCode(){return this.generateCode({preview:!1})}get previewCode(){return this.generateCode({preview:!0})}generateCode({preview:e}){const t=this.config.blogUrl,i=this.config.signupForm.url.replace("{version}",this.config.signupForm.version),n={site:t,"button-color":this.settings.accentColor,"button-text-color":(0,a.textColorForBackgroundColor)(this.settings.accentColor).hex()}
this.feature.get("i18n")&&(n.locale=this.settings.locale)
for(const[a,c]of this.labels.entries())n[`label-${a+1}`]=c.name
let r="min-height: 58px;max-width: 440px;margin: 0 auto;width: 100%"
"all-in-one"===this.style&&((this.settings.icon||""===!this.settings.icon)&&(n.icon=this.settings.icon.replace(/\/content\/images\//,"/content/images/size/w192h192/")),n.title=this.settings.title,n.description=this.settings.description,n["background-color"]=this.backgroundColor,n["text-color"]=(0,a.textColorForBackgroundColor)(this.backgroundColor).hex(),r="height: 40vmin;min-height: 360px"),e&&(r="minimal"===this.style?"min-height: 58px; max-width: 440px;width: 100%;position: absolute; left: 50%; top:50%; transform: translate(-50%, -50%);":"height: 100vh")
let s=""
const o=["background-color","text-color","button-color","button-text-color","title","description","icon","site","locale"],l=Object.keys(n).sort(((e,t)=>o.indexOf(e)-o.indexOf(t)))
for(const a of l){s+=` data-${a}="${z(n[a])}"`}const u=`<div style="${z(r)}"><script src="${encodeURI(i)}"${s} async><\/script></div>`
return e&&"minimal"===this.style?`<div style="position: absolute; z-index: -1; top: 0; left: 0; width: 100%; height: 100%; background-image: linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%), linear-gradient(45deg, #eee 25%, transparent 25%, transparent 75%, #eee 75%);background-size: 16px 16px;background-position: 0 0, 8px 8px;;"></div>${u}`:u}doCopy(){document.getElementById("gh-signup-form-embed-code-input").select(),document.execCommand("copy"),(0,i.default)("Copied Embeddable Signup Form Code",{style:this.style,labels:this.labels.length})}*copyText(){return this.doCopy(),yield!0,!0}copyTextOnMouseUp(){""===window.getSelection().toString()&&this.doCopy()}},"modalOptions",{className:"fullwidth-modal gh-signup-form-embed"}),f=_((g=O).prototype,"modals",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(g.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(g.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(g.prototype,"style",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"all-in-one"}}),k=_(g.prototype,"labels",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),E=_(g.prototype,"backgroundColor",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"#F1F3F4"}}),P=_(g.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(g.prototype,"setStyle",[p],Object.getOwnPropertyDescriptor(g.prototype,"setStyle"),g.prototype),_(g.prototype,"setLabels",[m],Object.getOwnPropertyDescriptor(g.prototype,"setLabels"),g.prototype),_(g.prototype,"setBackgroundColor",[h],Object.getOwnPropertyDescriptor(g.prototype,"setBackgroundColor"),g.prototype),_(g.prototype,"copyText",[r.task],Object.getOwnPropertyDescriptor(g.prototype,"copyText"),g.prototype),_(g.prototype,"copyTextOnMouseUp",[b],Object.getOwnPropertyDescriptor(g.prototype,"copyTextOnMouseUp"),g.prototype),g)
e.default=x,Ember._setComponentTemplate(T,x)})),define("ghost-admin/components/modals/settings/verify-email",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const k=Ember.HTMLBars.template({id:"GxnIeQMs",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","verify-email"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Verifying email address"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,0],[[32,0,["verifyEmailTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex justify-center flex-auto"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["email"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                Success! The support email address has changed to "],[10,"strong"],[12],[1,[32,0,["email"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"Verification failed:"],[13],[2,"\\n            "],[10,"p"],[12],[1,[32,0,["error"]]],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[32,1]],null],[4,[38,3],["Enter"],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Ok"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","on","svg-jar","on-key"]}',moduleName:"ghost-admin/components/modals/settings/verify-email.hbs"})
let E=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=class extends t.default{constructor(){super(...arguments),y(this,"ajax",p,this),y(this,"ghostPaths",m,this),y(this,"router",h,this),y(this,"store",b,this),y(this,"settings",g,this),y(this,"error",f,this),y(this,"email",v,this),this.verifyEmailTask.perform(this.args.data.token),this.router.on("routeDidChange",this.handleRouteChange)}willDestroy(){super.willDestroy(...arguments),this.router.off("routeDidChange",this.handleRouteChange)}*verifyEmailTask(e){try{const t=this.ghostPaths.url.api("settings","verifications")
yield this.ajax.put(t,{data:{token:e}}),yield this.settings.reload(),this.email=this.settings.membersSupportAddress}catch(t){this.error=t.message}}handleRouteChange(){this.args.close()}},p=w(d.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w(d.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(d.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(d.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(d.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(d.prototype,"error",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w(d.prototype,"email",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w(d.prototype,"verifyEmailTask",[i.task],Object.getOwnPropertyDescriptor(d.prototype,"verifyEmailTask"),d.prototype),w(d.prototype,"handleRouteChange",[c],Object.getOwnPropertyDescriptor(d.prototype,"handleRouteChange"),d.prototype),d)
e.default=E,Ember._setComponentTemplate(k,E)})),define("ghost-admin/components/modals/tiers/archive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"FwrcZEsv",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","archive-tier"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["archiveTierTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Archive tier"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Members will no longer be able to subscribe to "],[10,"strong"],[12],[1,[32,2,["tier","name"]]],[13],[2," and it will be removed from the list of available tiers in portal.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Existing members on this tier will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","archive-tier"]],[["@buttonText","@successText","@task","@class"],["Archive","Archived",[32,0,["archiveTierTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/tiers/archive.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{tier:e}=this.args.data
return!!e.active}*archiveTierTask(){const{tier:e,onArchive:t}=this.args.data
e.active=!1,e.visibility="none"
try{return yield e.save(),t?.(),e}catch(i){i&&this.notifications.showAPIError(i,{key:"tier.archive.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"archiveTierTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"archiveTierTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/modals/tiers/unarchive",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"FU84pu1z",block:'{"symbols":["@close","@data"],"statements":[[2,"\\n"],[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","unarchive-tier"],[4,[38,1],["Enter",[30,[36,0],[[32,0,["unarchiveTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Reactivate tier"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Reactivating "],[10,"strong"],[12],[1,[32,2,["tier","name"]]],[13],[2," will re-enable it as an option in portal and allow new members to subscribe to this tier.\\n        "],[13],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Existing members will remain unchanged.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","unarchive-tier"]],[["@buttonText","@task","@class"],["Reactivate",[32,0,["unarchiveTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on-key","on","svg-jar"]}',moduleName:"ghost-admin/components/modals/tiers/unarchive.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}get isActive(){const{tier:e}=this.args.data
return!!e.active}*unarchiveTask(){const{tier:e,onUnarchive:t}=this.args.data
e.active=!0
try{return yield e.save(),t?.(),e}catch(i){i&&this.notifications.showAPIError(i,{key:"tier.unarchive.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"unarchiveTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"unarchiveTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/multi-list/item",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const u=Ember.HTMLBars.template({id:"phiJUAVC",block:'{"symbols":["&attrs","&default"],"statements":[[11,"div"],[24,"role","menuitem"],[16,"data-selected",[32,0,["isSelected"]]],[17,1],[4,[38,0],["click",[32,0,["onClick"]]],[["capture"],[true]]],[4,[38,0],["mousedown",[32,0,["onMouseDown"]]],[["capture"],[true]]],[4,[38,0],["contextmenu",[32,0,["onContextMenu"]]],null],[12],[2,"\\n    "],[18,2,null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/multi-list/item.hbs"})
function c(){window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())}let d=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="dropdown",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get selectionList(){return this.args.model}get id(){return this.args.id}get isSelected(){return this.selectionList.isSelected(this.id)}onMouseDown(e){if(!this.selectionList.enabled)return
if(e.target.closest("[data-ignore-select]"))return
const t=e.shiftKey
if(e.ctrlKey||e.metaKey)this.selectionList.toggleItem(this.id),e.preventDefault(),e.stopPropagation(),c()
else if(t){try{this.selectionList.shiftItem(this.id)}catch(i){console.error(i)}e.preventDefault(),e.stopPropagation(),c()}}onClick(e){if(!this.selectionList.enabled)return
if(e.target.closest("[data-ignore-select]"))return
const t=e.shiftKey;(e.ctrlKey||e.metaKey||t)&&(e.preventDefault(),e.stopPropagation(),c())}onContextMenu(e){if(!this.selectionList.enabled)return
if(e.target.closest("[data-ignore-select]"))return
let t=e.clientX,i=e.clientY
this.isSelected||(this.selectionList.clearSelection(),this.selectionList.toggleItem(this.id),this.selectionList.clearOnNextUnfreeze()),this.dropdown.toggleDropdown("context-menu",this,{left:t,top:i,selectionList:this.selectionList}),e.preventDefault(),e.stopPropagation()}},o=l(s.prototype,"dropdown",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"onMouseDown",[n],Object.getOwnPropertyDescriptor(s.prototype,"onMouseDown"),s.prototype),l(s.prototype,"onClick",[r],Object.getOwnPropertyDescriptor(s.prototype,"onClick"),s.prototype),l(s.prototype,"onContextMenu",[a],Object.getOwnPropertyDescriptor(s.prototype,"onContextMenu"),s.prototype),s)
e.default=d,Ember._setComponentTemplate(u,d)})),define("ghost-admin/components/multi-list/list",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"fJxuS/ST",block:'{"symbols":["&attrs","@model","&default"],"statements":[[11,"div"],[16,"data-ctrl",[32,0,["actionKeyPressed"]]],[17,1],[4,[38,0],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[18,3,[[30,[36,2],null,[["item"],[[30,[36,1],["multi-list/item"],[["model"],[[32,2]]]]]]]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","component","hash"]}',moduleName:"ghost-admin/components/multi-list/list.hbs"})
let f=(i=Ember._tracked,n=Ember._tracked,r=Ember._tracked,a=Ember._action,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),h(this,"ctrlPressed",d,this),h(this,"metaPressed",p,this),h(this,"shiftPressed",m,this)}get selectionList(){return this.args.model}get allIds(){return this.args.all.map((e=>e.id))}get actionKeyPressed(){return this.ctrlPressed||this.metaPressed||this.shiftPressed}willDestroy(){super.willDestroy(...arguments),window.removeEventListener("keydown",this.onKeyDown,{passive:!0}),window.removeEventListener("keyup",this.onKeyUp,{passive:!0}),window.removeEventListener("click",this.onWindowClicked,{passive:!0}),window.removeEventListener("blur",this.onWindowBlur,{passive:!0})}setup(){window.addEventListener("keydown",this.onKeyDown,{passive:!1}),window.addEventListener("keyup",this.onKeyUp,{passive:!0}),window.addEventListener("click",this.onWindowClicked,{passive:!0}),window.addEventListener("blur",this.onWindowBlur,{passive:!0})}onWindowClicked(e){e.metaKey||e.ctrlKey||this.selectionList.clearSelection(),this.shiftPressed=!!e.shiftKey,this.metaPressed=!!e.metaKey,this.ctrlPressed=!!e.ctrlKey}onWindowBlur(){this.ctrlPressed=!1,this.metaPressed=!1,this.shiftPressed=!1}onKeyDown(e){if("Control"===e.key&&(this.ctrlPressed=!0),"Meta"===e.key&&(this.metaPressed=!0),"Shift"===e.key&&(this.shiftPressed=!0),(e.ctrlKey||e.metaKey)&&!e.shiftKey&&"a"===e.key)return this.selectionList.selectAll(),void e.preventDefault()
"Escape"===e.key&&this.selectionList.clearSelection()}onKeyUp(e){"Control"===e.key&&(this.ctrlPressed=!1),"Meta"===e.key&&(this.metaPressed=!1),"Shift"===e.key&&(this.shiftPressed=!1)}},d=b(c.prototype,"ctrlPressed",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=b(c.prototype,"metaPressed",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m=b(c.prototype,"shiftPressed",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(c.prototype,"setup",[a],Object.getOwnPropertyDescriptor(c.prototype,"setup"),c.prototype),b(c.prototype,"onWindowClicked",[s],Object.getOwnPropertyDescriptor(c.prototype,"onWindowClicked"),c.prototype),b(c.prototype,"onWindowBlur",[o],Object.getOwnPropertyDescriptor(c.prototype,"onWindowBlur"),c.prototype),b(c.prototype,"onKeyDown",[l],Object.getOwnPropertyDescriptor(c.prototype,"onKeyDown"),c.prototype),b(c.prototype,"onKeyUp",[u],Object.getOwnPropertyDescriptor(c.prototype,"onKeyUp"),c.prototype),c)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/object-bin",["exports","ember-drag-drop/components/object-bin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/components/offers/segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"pyQW8x8s",block:'{"symbols":["option","@segment","@enforcedCountFilter","@onSegmentCountChange","@disabled","@showMemberCount"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,5],[32,0,["fetchOptionsTask","isRunning"]]],null],[30,[36,1],["power-select/options"],null],false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members gh-offer-token-input","Select an offer"]],[["default"],[{"statements":[[2,"\\n    "],[10,"span"],[15,"data-test-offers-segment",[32,1,["id"]]],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,2],[[32,6]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-members-segment-count",[],[["@segment","@enforcedFilter","@onSegmentCountChange"],[[32,2],[32,3],[32,4]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["or","component","if"]}',moduleName:"ghost-admin/components/offers/segment-select.hbs"})
let g=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),m(this,"store",u,this),m(this,"feature",c,this),m(this,"_options",d,this),m(this,"offers",p,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(i){if(i.options)return i.options.forEach(t)
e.push(i)})),e}get selectedOptions(){const e=(this.args.offers||[]).map((e=>this.offers.find((t=>t.id===e.id||t.name===e.name)))).filter((e=>!!e)).map((e=>e.id))
return this.flatOptions.filter((t=>e.includes(t.id)))}setSegment(e){let t=e.mapBy("id").map((e=>{let t=this.offers.find((t=>t.id===e))
return{id:t.id,name:t.name}}))||[]
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[],t=yield this.store.query("offer",{filter:"status:active"})
if(this.offers=t,t.length>0){const i={groupName:"Offers",options:[]}
t.forEach((e=>{i.options.push({name:e.name,id:e.id,count:t.count?.members,class:"segment-offer-redemptions"})})),e.push(i)}this._options=e}},u=h(l.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=h(l.prototype,"offers",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(l.prototype,"setSegment",[o],Object.getOwnPropertyDescriptor(l.prototype,"setSegment"),l.prototype),h(l.prototype,"fetchOptionsTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/one-way-select",["exports","ember-one-way-select/components/one-way-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/one-way-select/option",["exports","ember-one-way-select/components/one-way-select/option"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/posts-list/content-filter",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"4Hr/3FFa",block:'{"symbols":["order","tag","author","visibility","type","@selectedTag","@availableTags","@onTagChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","&attrs","@selectedType","@availableTypes","@onTypeChange","@currentUser","@selectedOrder","@availableOrders","@onOrderChange"],"statements":[[11,"div"],[24,0,"gh-contentfilter view-actions-bottom-row"],[17,15],[12],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,2],[[32,16,["value"]],"gh-contentfilter-selected"],null]]]],[14,"data-test-type-select","true"],[12],[2,"\\n        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,16],[32,17],false,[32,18],[30,[36,3],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n            "],[6,[37,2],[[32,5,["name"]]],null,[["default","else"],[{"statements":[[1,[32,5,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[5]}]]],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[32,19,["isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-visibility ",[30,[36,2],[[32,12,["value"]],"gh-contentfilter-selected"],null]]]],[14,"data-test-visibility-select","true"],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,12],[32,13],false,[32,14],[30,[36,3],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,4,["name"]]],null,[["default","else"],[{"statements":[[1,[32,4,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown visibility"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[4]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,19,["isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-author ",[30,[36,2],[[32,9,["slug"]],"gh-contentfilter-selected"],null]]]],[14,"data-test-author-select","true"],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchField","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@searchPlaceholder","@matchTriggerWidth"],[[32,9],[32,10],"name",[32,11],[30,[36,3],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown","Search authors",false]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,3,["name"]]],null,[["default","else"],[{"statements":[[1,[32,3,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown author"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[3]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,19,["isContributor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-tag ",[30,[36,2],[[32,6,["slug"]],"gh-contentfilter-selected"],null]]]],[14,"data-test-tag-select","true"],[12],[2,"\\n            "],[8,"power-select",[],[["@selected","@options","@searchField","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@searchPlaceholder","@matchTriggerWidth","@optionsComponent"],[[32,6],[32,7],"name",[32,8],[30,[36,3],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown","Search tags",false,[30,[36,3],["power-select-vertical-collection-options"],null]]],[["default"],[{"statements":[[2,"\\n                "],[6,[37,2],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown tag"],[13]],"parameters":[]}]]],[2,"\\n            "]],"parameters":[2]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-contentfilter-menu gh-contentfilter-sort"],[14,"data-test-order-select","true"],[12],[2,"\\n        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,20],[32,21],false,[32,22],[30,[36,3],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n            "],[6,[37,2],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown"],[13]],"parameters":[]}]]],[2,"\\n        "]],"parameters":[1]}]]],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showCustomViewManagement"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"dropdown gh-contentfilter-menu gh-contentfilter-actions"],[12],[2,"\\n"],[6,[37,2],[[32,0,["customViews","activeView"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-contentfilter-menu-trigger gh-contentfilter-button gh-btn-save-view"],[24,"title","Edit current view..."],[24,"data-test-button","edit-view"],[24,4,"button"],[4,[38,0],["click",[32,0,["customViews","editView"]]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["edit-view"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-contentfilter-menu-trigger gh-contentfilter-button gh-btn-save-view"],[24,"title","Save as view..."],[24,"data-test-button","add-view"],[24,4,"button"],[4,[38,0],["click",[32,0,["customViews","editView"]]],null],[12],[2,"\\n                    "],[1,[30,[36,1],["add-view"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","if","component","unless"]}',moduleName:"ghost-admin/components/posts-list/content-filter.hbs"})
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(...e){super(...e),u(this,"customViews",s,this),u(this,"feature",o,this),u(this,"router",l,this)}get showCustomViewManagement(){let e=Ember.get(this.args.currentUser||{},"isAdmin"),t="posts"===this.router.currentRouteName,i=this.customViews?.activeView?.isDefault,n=this.args.selectedType.value||this.args.selectedVisibility.value||this.args.selectedAuthor.slug||this.args.selectedTag.slug||this.args.selectedOrder.value
return e&&t&&!i&&n}calculateActionsDropdownPosition(e,t){let{top:i,left:n,width:r,height:a}=e.getBoundingClientRect(),{width:s}=t.firstElementChild.getBoundingClientRect()
return{style:{left:n+r-s,top:i+a+5}}}},s=c(a.prototype,"customViews",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(a.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p,Ember._setComponentTemplate(d,p)}))
define("ghost-admin/components/posts-list/context-menu",["exports","ghost-admin/components/posts-list/modals/add-tag","@glimmer/component","ghost-admin/components/posts-list/modals/delete-posts","ghost-admin/components/posts-list/modals/edit-posts-access","ghost-admin/components/posts-list/modals/unpublish-posts","@tryghost/nql","ghost-admin/helpers/capitalize-first-letter","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l){var u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C
function M(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(e,t){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.add(e)}function A(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance")
return i}function I(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"AfCbvb0Y",block:'{"symbols":[],"statements":[[10,"ul"],[14,0,"gh-posts-context-menu dropdown-menu dropdown-triangle-top-left"],[12],[2,"\\n\\n"],[6,[37,2],[[32,0,["canUnpublishSelection"]]],null,[["default"],[{"statements":[[2,"        "],[10,"li"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["unpublishPosts"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["undo"],null]],[2,"Unpublish"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["canFeatureSelection"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["shouldFeatureSelection"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"li"],[12],[2,"\\n                "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["featurePosts"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,1],["star"],[["class"],["mb1 star"]]]],[2,"Feature"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"li"],[12],[2,"\\n                "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["unfeaturePosts"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,1],["star"],[["class"],["mb1"]]]],[2,"Unfeature"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[10,"li"],[12],[2,"\\n        "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["addTagToPosts"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[1,[30,[36,1],["tag"],null]],[2,"Add a tag"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["membersUtils","isMembersEnabled"]]],null,[["default"],[{"statements":[[2,"        "],[10,"li"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["editPostsAccess"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["lock"],null]],[2,"Change access"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["canCopySelection"]]],null,[["default"],[{"statements":[[2,"        "],[10,"li"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["copyPosts"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["duplicate"],null]],[2,"Duplicate"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[10,"li"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr2"],[24,4,"button"],[4,[38,0],["click",[32,0,["deletePosts"]]],null],[12],[2,"\\n                "],[10,"span"],[14,0,"red"],[12],[1,[30,[36,1],["trash"],null]],[2,"Delete"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","if"]}',moduleName:"ghost-admin/components/posts-list/context-menu.hbs"})
function L(e,t){for(const i in t)e=e.replace(new RegExp(`{${i}}`,"g"),t[i])
return e}const R={deleted:{single:"{Type} deleted successfully",multiple:"{count} {type}s deleted successfully"},unpublished:{single:"{Type} successfully reverted to a draft",multiple:"{count} {type}s successfully reverted to drafts"},accessUpdated:{single:"{Type} access successfully updated",multiple:"{Type} access successfully updated for {count} {type}s"},tagsAdded:{single:"Tags added successfully",multiple:"Tags added successfully to {count} {type}s"},tagAdded:{single:"Tag added successfully",multiple:"Tag added successfully to {count} {type}s"},duplicated:{single:"{Type} duplicated successfully",multiple:"{count} {type}s duplicated successfully"}}
let U=(u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,C=new WeakSet,P=class extends i.default{constructor(...e){super(...e),D(this,C),M(this,"ajax",O,this),M(this,"ghostPaths",j,this),M(this,"session",_,this),M(this,"infinity",T,this),M(this,"store",z,this),M(this,"notifications",x,this),M(this,"membersUtils",S,this)}get menu(){return this.args.menu}get selectionList(){return this.menu.selectionList}get type(){return"page"===this.selectionList.first?.displayName?"page":"post"}async featurePosts(){this.menu.performTask(this.featurePostsTask)}async unfeaturePosts(){this.menu.performTask(this.unfeaturePostsTask)}async addTagToPosts(){await this.menu.openModal(t.default,{type:this.type,selectionList:this.selectionList,confirm:this.addTagToPostsTask})}async deletePosts(){this.menu.openModal(n.default,{type:this.type,selectionList:this.selectionList,confirm:this.deletePostsTask})}async unpublishPosts(){await this.menu.openModal(a.default,{type:this.type,selectionList:this.selectionList,confirm:this.unpublishPostsTask})}async editPostsAccess(){this.menu.openModal(r.default,{type:this.type,selectionList:this.selectionList,confirm:this.editPostsAccessTask})}async copyPosts(){this.menu.performTask(this.copyPostsTask)}*addTagToPostsTask(e){const t=this.selectionList.availableModels
yield this.performBulkEdit("addTag",{tags:e.map((e=>({id:e.id,name:e.name,slug:e.slug})))}),e.length>1?this.notifications.showNotification(A(this,C,F).call(this,"tagsAdded"),{type:"success"}):this.notifications.showNotification(A(this,C,F).call(this,"tagAdded"),{type:"success"})
const i=e.toArray().map((e=>({...e.serialize({includeId:!0}),type:"tag"})))
this.store.peekAll("tag").forEach((e=>{e.isNew&&e.destroyRecord()}))
let n=null
for(const r of i)if(!r.id){n||(yield this.store.query("tag",{limit:"all"}),n=this.store.peekAll("tag").toArray())
const e=n.find((e=>e.name===r.name&&e.id))
e&&(r.id=e.id,r.slug=e.slug)}for(const r of t){const e=r.tags.toArray().map((e=>({...e.serialize({includeId:!0}),type:"tag"})))
for(const t of i)e.find((e=>e.id===t.id))||e.push(t)
this.store.push({data:{id:r.id,type:this.type,relationships:{tags:{data:e}}}})}return this.updateFilteredPosts(),!0}*deletePostsTask(){const e=this.selectionList.availableModels
yield this.performBulkDestroy(),this.notifications.showNotification(A(this,C,F).call(this,"deleted"),{type:"success"})
const t=this.selectionList.infinityModel.content.filter((t=>!e.includes(t)))
return this.infinity.replace(this.selectionList.infinityModel,t),this.selectionList.clearSelection({force:!0}),!0}*unpublishPostsTask(){const e=this.selectionList.availableModels
yield this.performBulkEdit("unpublish"),this.notifications.showNotification(A(this,C,F).call(this,"unpublished"),{type:"success"})
for(const t of e)"published"===t.status&&this.store.push({data:{id:t.id,type:this.type,attributes:{status:"draft"}}})
return this.updateFilteredPosts(),!0}updateFilteredPosts(){const e=this.selectionList.availableModels,t=this.selectionList.allFilter,i=(0,s.default)(t,{expansions:[{key:"primary_tag",replacement:"tags.slug",expansion:"posts_tags.sort_order:0+tags.visibility:public"},{key:"primary_author",replacement:"authors.slug",expansion:"posts_authors.sort_order:0+authors.visibility:public"},{key:"authors",replacement:"authors.slug"},{key:"author",replacement:"authors.slug"},{key:"tag",replacement:"tags.slug"},{key:"tags",replacement:"tags.slug"}]}),n=this.selectionList.infinityModel.content.filter((t=>!e.find((e=>e.id===t.id))||i.queryJSON(t.serialize({includeId:!0}))))
this.infinity.replace(this.selectionList.infinityModel,n),this.selectionList.clearUnavailableItems()}*editPostsAccessTask(e,{visibility:t,tiers:i}){const n=this.selectionList.availableModels
yield this.performBulkEdit("access",{visibility:t,tiers:i}),this.notifications.showNotification(A(this,C,F).call(this,"accessUpdated"),{type:"success"})
for(const r of n)this.store.push({data:{id:r.id,type:this.type,attributes:{visibility:t},relationships:{links:{data:i}}}})
this.updateFilteredPosts(),e()}*featurePostsTask(){const e=this.selectionList.availableModels
yield this.performBulkEdit("feature")
for(const t of e)this.store.push({data:{id:t.id,type:this.type,attributes:{featured:!0}}})
return this.updateFilteredPosts(),!0}*unfeaturePostsTask(){const e=this.selectionList.availableModels
yield this.performBulkEdit("unfeature")
for(const t of e)this.store.push({data:{id:t.id,type:this.type,attributes:{featured:!1}}})
return this.updateFilteredPosts(),!0}*copyPostsTask(){try{const e=yield this.performCopy()
this.store.pushPayload(e)
const t=e["post"===this.type?"posts":"pages"][0],i=this.store.peekRecord(this.type,t.id)
this.selectionList.infinityModel.content.unshiftObject(i),this.notifications.showNotification(A(this,C,F).call(this,"duplicated"),{type:"success"})}catch(e){this.notifications.showAPIError(e,{key:`${this.type}.copy.failed`})}return!0}async performBulkDestroy(){const e=this.selectionList.filter
let t=this.ghostPaths.url.api("post"===this.type?"posts":"pages")+`?filter=${encodeURIComponent(e)}`
return await this.ajax.delete(t)}async performBulkEdit(e,t={}){const i=this.selectionList.filter
let n=this.ghostPaths.url.api("post"===this.type?"posts/bulk":"pages/bulk")+`?filter=${encodeURIComponent(i)}`
return await this.ajax.put(n,{data:{bulk:{action:e,meta:t}}})}async performCopy(){const e=this.selectionList.availableModels[0].id,t=this.ghostPaths.url.api(`${"post"===this.type?"posts":"pages"}/${e}/copy`)+"?formats=mobiledoc,lexical"
return await this.ajax.post(t)}get shouldFeatureSelection(){let e=0
for(const t of this.selectionList.availableModels)t.featured&&(e+=1)
return e<=this.selectionList.availableModels.length/2}get canFeatureSelection(){for(const e of this.selectionList.availableModels)if("sent"!==e.get("status"))return!0
return!1}get canUnpublishSelection(){for(const e of this.selectionList.availableModels)if("published"===e.status)return!0
return!1}get canCopySelection(){return 1===this.selectionList.availableModels.length}},O=I(P.prototype,"ajax",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I(P.prototype,"ghostPaths",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=I(P.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(P.prototype,"infinity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(P.prototype,"store",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(P.prototype,"notifications",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=I(P.prototype,"membersUtils",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(P.prototype,"featurePosts",[g],Object.getOwnPropertyDescriptor(P.prototype,"featurePosts"),P.prototype),I(P.prototype,"unfeaturePosts",[f],Object.getOwnPropertyDescriptor(P.prototype,"unfeaturePosts"),P.prototype),I(P.prototype,"addTagToPosts",[v],Object.getOwnPropertyDescriptor(P.prototype,"addTagToPosts"),P.prototype),I(P.prototype,"deletePosts",[y],Object.getOwnPropertyDescriptor(P.prototype,"deletePosts"),P.prototype),I(P.prototype,"unpublishPosts",[w],Object.getOwnPropertyDescriptor(P.prototype,"unpublishPosts"),P.prototype),I(P.prototype,"editPostsAccess",[k],Object.getOwnPropertyDescriptor(P.prototype,"editPostsAccess"),P.prototype),I(P.prototype,"copyPosts",[E],Object.getOwnPropertyDescriptor(P.prototype,"copyPosts"),P.prototype),I(P.prototype,"addTagToPostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"addTagToPostsTask"),P.prototype),I(P.prototype,"deletePostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"deletePostsTask"),P.prototype),I(P.prototype,"unpublishPostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"unpublishPostsTask"),P.prototype),I(P.prototype,"editPostsAccessTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"editPostsAccessTask"),P.prototype),I(P.prototype,"featurePostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"featurePostsTask"),P.prototype),I(P.prototype,"unfeaturePostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"unfeaturePostsTask"),P.prototype),I(P.prototype,"copyPostsTask",[l.task],Object.getOwnPropertyDescriptor(P.prototype,"copyPostsTask"),P.prototype),P)
function F(e){return this.selectionList.isSingle?L(R[e].single,{count:this.selectionList.count,type:this.type,Type:(0,o.capitalizeFirstLetter)(this.type)}):L(R[e].multiple,{count:this.selectionList.count,type:this.type,Type:(0,o.capitalizeFirstLetter)(this.type)})}e.default=U,Ember._setComponentTemplate(N,U)})),define("ghost-admin/components/posts-list/list-item-old",["exports","@glimmer/component","ghost-admin/helpers/gh-format-post-time"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"3RaOzrBE",block:'{"symbols":["@post","@hideAuthor","&attrs"],"statements":[[11,"li"],[24,0,"gh-list-row gh-posts-list-item gh-post-list-plain-status"],[17,3],[4,[38,13],["mouseover",[32,0,["mouseOver"]]],null],[4,[38,13],["mouseleave",[32,0,["mouseLeave"]]],null],[12],[2,"\\n\\n"],[6,[37,1],[[30,[36,15],[[32,0,["session","user","isContributor"]],[32,1,["isPublished"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"permalink gh-list-data gh-post-list-title"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n                "],[1,[32,1,["title"]]],[2," "],[1,[30,[36,2],["external"],[["class"],["gh-post-list-external"]]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,14],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-author"],[12],[2,"\\n                        By "],[1,[30,[36,10],[[32,1]],null]],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        -\\n                    "],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-date"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["format"],["D MMM YYYY"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-content-entry-status"],[12],[2,"\\n                    "],[10,"span"],[14,0,"published"],[12],[2,"\\n                        Published\\n"],[6,[37,1],[[32,1,["hasEmail"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                                and sent to "],[1,[30,[36,7],[[32,1,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                and sent\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-title"]],[["@route","@models"],["editor.edit",[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n                "],[1,[32,1,["title"]]],[2,"\\n"],[6,[37,1],[[32,1,["lexical"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-lexical-indicator"],[12],[2,"L"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"],[6,[37,14],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-author"],[12],[2,"\\n                        By "],[1,[30,[36,10],[[32,1]],null]],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        -\\n                    "],[13],[2,"\\n                    "],[11,"span"],[24,0,"gh-content-entry-date"],[4,[38,13],["mouseover",[30,[36,12],[[30,[36,11],[[32,0,["isDateHovered"]]],null],true],null]],null],[4,[38,13],["mouseleave",[30,[36,12],[[30,[36,11],[[32,0,["isDateHovered"]]],null],false],null]],null],[12],[2,"\\n                        "],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[2,"\\n"],[6,[37,1],[[32,0,["isDateHovered"]]],null,[["default"],[{"statements":[[2,"                            "],[11,"span"],[4,[38,6],["anim-fade-in-scale"],null],[12],[2,"on "],[1,[30,[36,9],[[32,1,["updatedAtUTC"]]],[["format"],["D MMM YYYY"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[2,"                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-content-entry-status"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"scheduled"],[12],[2,"\\n                            "],[10,"span"],[14,0,"status-dot"],[12],[13],[2,"\\n                            Scheduled\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                "],[11,"span"],[24,0,"schedule-details"],[4,[38,6],["anim-fade-in-scale"],null],[12],[2,"\\n"],[6,[37,1],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                                        to be sent\\n"]],"parameters":[]},{"statements":[[2,"                                        to be published "],[1,[30,[36,1],[[32,1,["newsletter"]],"and sent "],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[1,[32,0,["scheduledText"]]],[2," to "],[1,[30,[36,8],[[32,1,["emailSegment"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isDraft"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"draft"],[12],[2,"\\n                            "],[10,"span"],[14,0,"status-dot"],[12],[13],[2,"\\n                            Draft\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isPublished"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[15,0,[31,["published ",[32,0,["errorClass"]]]]],[12],[2,"\\n                            Published\\n"],[6,[37,1],[[32,1,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                                but failed to send newsletter\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["hasBeenEmailed"]]],null,[["default"],[{"statements":[[2,"                                and sent\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                    "],[11,"span"],[4,[38,6],["anim-fade-in-scale"],null],[12],[2,"to "],[1,[30,[36,7],[[32,1,["email","emailCount"]],"member"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isSent"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[15,0,[31,["sent ",[32,0,["errorClass"]]]]],[12],[2,"\\n"],[6,[37,1],[[32,1,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                                Failed to send newsletter\\n"]],"parameters":[]},{"statements":[[2,"                                Sent\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                    "],[11,"span"],[4,[38,6],["anim-fade-in-scale"],null],[12],[2,"to "],[1,[30,[36,7],[[32,1,["email","emailCount"]],"member"],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,15],[[32,1,["showEmailOpenAnalytics"]],[32,1,["showEmailClickAnalytics"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,5],null,[["filterParam"],[[30,[36,4],["opened_emails.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,3],[[32,1,["email","openedCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,1,["email","openRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                opened\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data"]],[["@route","@models"],["editor.edit",[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["showEmailClickAnalytics"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,5],null,[["filterParam"],[[30,[36,4],["clicked_links.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,3],[[32,1,["count","clicks"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,1,["clickRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                clicked\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["showEmailOpenAnalytics"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,5],null,[["filterParam"],[[30,[36,4],["opened_emails.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,3],[[32,1,["email","openedCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[1,[32,1,["email","openRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                    opened\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data"]],[["@route","@models"],["editor.edit",[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[2,"            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["hasAnalyticsPage"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-button"],[24,"title",""]],[["@route","@model"],["posts.analytics",[32,1,["id"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[15,0,[31,["gh-post-list-cta stats ",[30,[36,1],[[32,0,["isHovered"]],"is-hovered"],null]]]],[14,"title","Go to Analytics"],[12],[2,"\\n                "],[1,[30,[36,2],["stats"],[["title"],["Go to Analytics"]]]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-button"],[24,"title",""]],[["@route","@models"],["editor.edit",[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[15,0,[31,["gh-post-list-cta edit ",[30,[36,1],[[32,0,["isHovered"]],"is-hovered"],null]]]],[14,"title","Go to Editor"],[12],[2,"\\n                "],[1,[30,[36,2],["pen"],[["title"],["Go to Editor"]]]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["array","if","svg-jar","format-number","concat","hash","css-transition","gh-pluralize","humanize-recipient-filter","gh-format-post-time","post-author-names","mut","fn","on","unless","and"]}',moduleName:"ghost-admin/components/posts-list/list-item-old.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),h(this,"feature",c,this),h(this,"session",d,this),h(this,"settings",p,this),h(this,"isHovered",m,this)}get post(){return this.args.post}get errorClass(){return this.post.didEmailFail?"error":""}get scheduledText(){let e=[],t=(0,i.formatPostTime)(this.post.publishedAtUTC,{timezone:this.settings.timezone,scheduled:!0})
return e.push(t),e.join(" ")}mouseOver(){this.isHovered=!0}mouseLeave(){this.isHovered=!1}},c=b(u.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"isHovered",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(u.prototype,"mouseOver",[o],Object.getOwnPropertyDescriptor(u.prototype,"mouseOver"),u.prototype),b(u.prototype,"mouseLeave",[l],Object.getOwnPropertyDescriptor(u.prototype,"mouseLeave"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/posts-list/list-item",["exports","@glimmer/component","ghost-admin/helpers/gh-format-post-time"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"c+EOdkes",block:'{"symbols":["@post","@hideAuthor","&attrs"],"statements":[[11,"li"],[24,0,"gh-list-row gh-posts-list-item gh-post-list-plain-status"],[17,3],[4,[38,14],["mouseover",[32,0,["mouseOver"]]],null],[4,[38,14],["mouseleave",[32,0,["mouseLeave"]]],null],[12],[2,"\\n\\n"],[6,[37,1],[[30,[36,3],[[32,0,["session","user","isContributor"]],[32,1,["isPublished"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"permalink gh-list-data gh-post-list-title"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n                "],[1,[32,1,["title"]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,16],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-author"],[12],[2,"\\n                        By "],[1,[30,[36,11],[[32,1]],null]],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        -\\n                    "],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-date"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,10],[[32,1,["updatedAtUTC"]]],[["format"],["D MMM YYYY"]]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[1,[30,[36,10],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-content-entry-status"],[12],[2,"\\n                    "],[10,"span"],[14,0,"published"],[12],[2,"\\n                        Published\\n"],[6,[37,1],[[32,1,["hasEmail"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                                and sent to "],[1,[30,[36,8],[[32,1,["email","emailCount"]],"member"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                and sent\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-title"]],[["@route","@models"],["editor.edit",[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[14,0,"gh-content-entry-title"],[12],[2,"\\n"],[6,[37,1],[[32,1,["featured"]]],null,[["default"],[{"statements":[[2,"                    "],[1,[30,[36,2],["star-fill"],[["class"],["gh-featured-post"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[1,[32,1,["title"]]],[2,"\\n\\n"],[6,[37,1],[[30,[36,15],["lexicalIndicators"],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["lexical"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"gh-lexical-indicator"],[12],[2,"L"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["mobiledoc"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"gh-lexical-indicator"],[12],[2,"M"],[13],[2,"\\n                    "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,16],[[32,2]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-content-entry-meta"],[12],[2,"\\n                    "],[10,"span"],[14,0,"gh-content-entry-author"],[12],[2,"\\n                        By "],[1,[30,[36,11],[[32,1]],null]],[2,"\\n\\n"],[6,[37,1],[[32,1,["primaryTag"]]],null,[["default"],[{"statements":[[2,"                            in "],[10,"span"],[14,0,"midgrey-l2 fw5"],[12],[1,[32,1,["primaryTag","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        -\\n                    "],[13],[2,"\\n                    "],[11,"span"],[24,0,"gh-content-entry-date"],[4,[38,14],["mouseover",[30,[36,13],[[30,[36,12],[[32,0,["isDateHovered"]]],null],true],null]],null],[4,[38,14],["mouseleave",[30,[36,13],[[30,[36,12],[[32,0,["isDateHovered"]]],null],false],null]],null],[12],[2,"\\n                        "],[1,[30,[36,10],[[32,1,["updatedAtUTC"]]],[["draft"],[true]]]],[2,"\\n"],[6,[37,1],[[32,0,["isDateHovered"]]],null,[["default"],[{"statements":[[2,"                            "],[11,"span"],[4,[38,7],["anim-fade-in-scale"],null],[12],[2,"on "],[1,[30,[36,10],[[32,1,["updatedAtUTC"]]],[["format"],["D MMM YYYY"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[2,"                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-content-entry-status"],[12],[2,"\\n"],[6,[37,1],[[32,1,["isScheduled"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"scheduled"],[12],[2,"\\n                            Scheduled\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                "],[11,"span"],[24,0,"schedule-details"],[4,[38,7],["anim-fade-in-scale"],null],[12],[2,"\\n"],[6,[37,1],[[32,1,["emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                                        to be sent\\n"]],"parameters":[]},{"statements":[[2,"                                        to be published "],[1,[30,[36,1],[[32,1,["newsletter"]],"and sent "],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[1,[32,0,["scheduledText"]]],[2," to "],[1,[30,[36,9],[[32,1,["emailSegment"]]],null]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isDraft"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"draft"],[12],[2,"\\n                            Draft\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isPublished"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[15,0,[31,["published ",[32,0,["errorClass"]]]]],[12],[2,"\\n                            Published\\n"],[6,[37,1],[[32,1,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                                but failed to send newsletter\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["hasBeenEmailed"]]],null,[["default"],[{"statements":[[2,"                                and sent\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                    "],[11,"span"],[4,[38,7],["anim-fade-in-scale"],null],[12],[2,"to "],[1,[30,[36,8],[[32,1,["email","emailCount"]],"member"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["isSent"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[15,0,[31,["sent ",[32,0,["errorClass"]]]]],[12],[2,"\\n"],[6,[37,1],[[32,1,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                                Failed to send newsletter\\n"]],"parameters":[]},{"statements":[[2,"                                Sent\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default"],[{"statements":[[2,"                                    "],[11,"span"],[4,[38,7],["anim-fade-in-scale"],null],[12],[2,"to "],[1,[30,[36,8],[[32,1,["email","emailCount"]],"member"],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[30,[36,3],[[32,1,["showEmailOpenAnalytics"]],[32,1,["showEmailClickAnalytics"]]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,6],null,[["filterParam"],[[30,[36,5],["opened_emails.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,4],[[32,1,["email","openedCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,1,["email","openRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                opened\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data"]],[["@route","@models"],[[32,0,["editorRoute"]],[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[2,"        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["showEmailClickAnalytics"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,6],null,[["filterParam"],[[30,[36,5],["clicked_links.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[30,[36,4],[[32,1,["count","clicks"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,1,["clickRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                clicked\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["showEmailOpenAnalytics"]]],null,[["default","else"],[{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-metrics"]],[["@route","@query"],["members",[30,[36,6],null,[["filterParam"],[[30,[36,5],["opened_emails.post_id:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"gh-content-email-stats-value"],[12],[2,"\\n"],[6,[37,1],[[32,0,["isHovered"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,4],[[32,1,["email","openedCount"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[1,[32,1,["email","openRate"]]],[10,"sup"],[12],[2,"%"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-content-email-stats"],[12],[2,"\\n                    opened\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data"]],[["@route","@models"],[[32,0,["editorRoute"]],[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[2,"            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,1,["hasAnalyticsPage"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-button"],[24,"title",""]],[["@route","@model"],["posts.analytics",[32,1,["id"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[15,0,[31,["gh-post-list-cta stats ",[30,[36,1],[[32,0,["isHovered"]],"is-hovered"],null]]]],[14,"title","Go to Analytics"],[14,"data-ignore-select",""],[12],[2,"\\n                "],[1,[30,[36,2],["stats"],[["title"],["Go to Analytics"]]]],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,3],[[32,0,["session","user","isContributor"]],[32,1,["isPublished"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"permalink gh-list-data gh-post-list-button"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"span"],[15,0,[31,["gh-post-list-cta view ",[30,[36,1],[[32,0,["isHovered"]],"is-hovered"],null]]]],[14,"title","View post"],[14,"data-ignore-select",""],[12],[2,"\\n                    "],[1,[30,[36,2],["arrow-top-right"],[["title"],["View post"]]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"link-to",[[24,0,"permalink gh-list-data gh-post-list-button"],[24,"title",""]],[["@route","@models"],[[32,0,["editorRoute"]],[30,[36,0],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[15,0,[31,["gh-post-list-cta edit ",[30,[36,1],[[32,0,["isHovered"]],"is-hovered"],null]]]],[14,"title","Go to Editor"],[14,"data-ignore-select",""],[12],[2,"\\n                    "],[1,[30,[36,2],["pen"],[["title"],["Go to Editor"]]]],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["array","if","svg-jar","and","format-number","concat","hash","css-transition","gh-pluralize","humanize-recipient-filter","gh-format-post-time","post-author-names","mut","fn","on","feature","unless"]}',moduleName:"ghost-admin/components/posts-list/list-item.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),h(this,"feature",c,this),h(this,"session",d,this),h(this,"settings",p,this),h(this,"isHovered",m,this)}get post(){return this.args.post}get errorClass(){return this.post.didEmailFail?"error":""}get scheduledText(){let e=[],t=(0,i.formatPostTime)(this.post.publishedAtUTC,{timezone:this.settings.timezone,scheduled:!0})
return e.push(t),e.join(" ")}mouseOver(){this.isHovered=!0}mouseLeave(){this.isHovered=!1}},c=b(u.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"isHovered",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(u.prototype,"mouseOver",[o],Object.getOwnPropertyDescriptor(u.prototype,"mouseOver"),u.prototype),b(u.prototype,"mouseLeave",[l],Object.getOwnPropertyDescriptor(u.prototype,"mouseLeave"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/posts-list/list",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"jL25VlRn",block:'{"symbols":["menu","list","post","&default","@list","@model"],"statements":[[8,"multi-list/list",[[16,0,[31,["posts-list gh-list ",[30,[36,0],[[32,6],"no-posts"],null]," feature-memberAttribution"]]]],[["@model"],[[32,5]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,6]],null]],null]],null,[["default","else"],[{"statements":[[2,"        "],[8,[32,2,["item"]],[[24,0,"gh-posts-list-item-group"]],[["@id"],[[32,3,["id"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"posts-list/list-item",[[16,"data-test-post-id",[32,3,["id"]]]],[["@post"],[[32,3]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[3]},{"statements":[[2,"        "],[18,4,null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]],[2,"\\n\\n"],[8,"gh-context-menu",[],[["@name"],["context-menu"]],[["default"],[{"statements":[[2,"\\n    "],[8,"posts-list/context-menu",[],[["@menu"],[[32,1]]],null],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n"]],"hasEval":false,"upvars":["unless","-track-array","each"]}',moduleName:"ghost-admin/components/posts-list/list.hbs"})
class n extends t.default{get list(){return this.args.list}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/posts-list/modals/add-tag",["exports","@glimmer/component","ember-data","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function v(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance")
return i}function y(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,k(e,t,"set"),i),i}function w(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,k(e,t,"get"))}function k(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const P=Ember.HTMLBars.template({id:"3VDprUfs",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","add-tags"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Add tags"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,"data-test-button","close"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body mb9"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"tags"]],[["default"],[{"statements":[[2,"\\n                "],[8,"gh-token-input",[],[["@extra","@onChange","@onCreate","@options","@renderInPlace","@selected","@showCreateWhen","@triggerId","@placeholder"],[[30,[36,4],null,[["tokenComponent"],[[30,[36,3],["gh-token-input/tag-token"],null]]]],[32,0,["handleChange"]],[32,0,["handleCreate"]],[32,0,["availableTags"]],true,[32,0,["selectedTags"]],[32,0,["shouldAllowCreate"]],[32,0,["triggerId"]],"Select tags or start typing"]],null],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"tags"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,1],false],null]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n\\n         "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@runningText","@showSuccess","@task","@class"],["Add","Adding",false,[32,0,["confirm"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","component","hash"]}',moduleName:"ghost-admin/components/posts-list/modals/add-tag.hbs"}),{Errors:O}=i.default
let j=(r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=Ember._action,h=new WeakMap,b=new WeakSet,c=class extends t.default{get availableTags(){return w(this,h)||[]}get hasValidated(){return["tags"]}constructor(){var e,t
super(...arguments),f(e=this,t=b),t.add(e),g(this,"store",d,this),function(e,t,i){f(e,t),t.set(e,i)}(this,h,{writable:!0,value:null}),g(this,"selectedTags",p,this),g(this,"errors",m,this),this.store.query("tag",{limit:"all"}),y(this,h,this.store.peekAll("tag")),w(this,h).forEach((e=>{e.isNew&&e.destroyRecord()}))}handleChange(e){this.selectedTags.forEach((t=>{!e.includes(t)&&t.isNew&&t.destroyRecord()})),this.selectedTags=e}*confirm(){if(0!==this.selectedTags.length)return this.errors.clear(),yield this.args.data.confirm.perform(this.selectedTags)
this.errors.add("tags","Select at least one tag")}handleCreate(e){let t=e.trim()
if(!!v(this,b,_).call(this,t,this.selectedTags))return
let i=v(this,b,_).call(this,t,w(this,h))
i||(i=this.store.createRecord("tag",{name:t}),i.updateVisibility()),this.selectedTags=this.selectedTags.concat(i)}shouldAllowCreate(e){return!v(this,b,_).call(this,e.trim(),w(this,h))}},d=E(c.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=E(c.prototype,"selectedTags",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=E(c.prototype,"errors",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return O.create()}}),E(c.prototype,"handleChange",[o],Object.getOwnPropertyDescriptor(c.prototype,"handleChange"),c.prototype),E(c.prototype,"confirm",[n.task],Object.getOwnPropertyDescriptor(c.prototype,"confirm"),c.prototype),E(c.prototype,"handleCreate",[l],Object.getOwnPropertyDescriptor(c.prototype,"handleCreate"),c.prototype),E(c.prototype,"shouldAllowCreate",[u],Object.getOwnPropertyDescriptor(c.prototype,"shouldAllowCreate"),c.prototype),c)
function _(e,t){return t.find((function(t){return t.name.toLowerCase()===e.toLowerCase()}))}e.default=j,Ember._setComponentTemplate(P,j)})),define("ghost-admin/components/posts-list/modals/delete-posts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"YwIrzLhL",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-posts"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete "],[1,[30,[36,1],[[32,1,["selectionList","isSingle"]],[30,[36,0],["this ",[32,1,["type"]]],null],[30,[36,0],["these ",[32,1,["type"]],"s"],null]],null]],[2,"?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,"data-test-button","close"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,2],false],null]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body mb9"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to delete "],[10,"strong"],[12],[1,[30,[36,1],[[32,1,["selectionList","isSingle"]],[30,[36,0],["\\"",[32,1,["selectionList","first","title"]],"\\""],null],[30,[36,0],[[32,1,["selectionList","count"]]," ",[32,1,["type"]],"s"],null]],null]],[13],[2,".\\n            This is permanent! We warned you, k?\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,2],false],null]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n\\n         "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@runningText","@showSuccess","@task","@taskArgs","@class"],["Delete","Deleting",false,[32,1,["confirm"]],[32,2],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["concat","if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/posts-list/modals/delete-posts.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/posts-list/modals/edit-posts-access",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const h=Ember.HTMLBars.template({id:"NdV+dhpX",block:'{"symbols":["@data","@close"],"statements":[[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","edit-posts-access"],[4,[38,0],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Change "],[1,[30,[36,1],[[32,1,["type"]]],null]],[2," access "],[1,[30,[36,2],[[32,1,["selectionList","isSingle"]],[30,[36,1],["for ",[32,1,["selectionList","count"]]," ",[32,1,["type"]],"s"],null]],null]],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,"data-test-button","close"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,2],false],null]],null],[12],[1,[30,[36,5],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body mb9"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"visibility"]],[["default"],[{"statements":[[2,"\\n            "],[8,"gh-psm-visibility-input",[],[["@post","@triggerId"],[[32,0,["post"]],"visibility-input"]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,7],[[30,[36,6],[[32,0,["post","visibility"]],"tiers"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-form-group",[[24,0,"nt3"],[24,"data-test-visibility-segment-select",""]],[["@errors","@hasValidated","@property"],[[32,0,["post","errors"]],[32,0,["post","hasValidated"]],"tiers"]],[["default"],[{"statements":[[2,"\\n                "],[8,"gh-post-settings-menu/visibility-segment-select",[],[["@tiers","@onChange","@renderInPlace","@hideOptionsWhenAllSelected"],[[32,0,["post","tiers"]],[32,0,["setVisibility"]],true,true]],null],[2,"\\n                "],[8,"gh-error-message",[[24,"data-test-error","tiers"]],[["@errors","@property"],[[32,0,["post","errors"]],"tiers"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,4],["click",[30,[36,3],[[32,2],false],null]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@runningText","@showSuccess","@task","@class"],["Save","Saving",false,[32,0,["save"]],"gh-btn gh-btn-icon gh-btn-black"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","concat","unless","fn","on","svg-jar","eq","if"]}',moduleName:"ghost-admin/components/posts-list/modals/edit-posts-access.hbs"})
let b=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"store",u,this),p(this,"settings",c,this),p(this,"post",d,this)}get selectionList(){return this.args.data.selectionList}setup(){this.selectionList.first&&this.selectionList.isSingle?(this.post.set("visibility",this.selectionList.first.visibility),this.post.set("tiers",this.selectionList.first.tiers)):(this.post.set("visibility",this.settings.defaultContentVisibility),this.post.set("tiers",this.settings.defaultContentVisibilityTiers.map((e=>({id:e})))))}async validate(){this.post.set("currentState.parentState.isNew",!1),await this.post.validate({property:"visibility"}),await this.post.validate({property:"tiers"})}async setVisibility(e){this.post.set("tiers",e)
try{await this.validate()}catch(t){if(!t)return
throw t}}*save(){try{yield this.validate()}catch(e){if(!e)return
throw e}return yield this.args.data.confirm.perform(this.args.close,{visibility:this.post.visibility,tiers:this.post.tiers})}},u=m(l.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"post",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.store.createRecord("post",{})}}),m(l.prototype,"setup",[s],Object.getOwnPropertyDescriptor(l.prototype,"setup"),l.prototype),m(l.prototype,"setVisibility",[o],Object.getOwnPropertyDescriptor(l.prototype,"setVisibility"),l.prototype),m(l.prototype,"save",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"save"),l.prototype),l)
e.default=b,Ember._setComponentTemplate(h,b)})),define("ghost-admin/components/posts-list/modals/unpublish-posts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"OQtDiNwX",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","unpublish-posts"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to unpublish "],[1,[30,[36,1],[[32,1,["selectionList","isSingle"]],[30,[36,0],["this ",[32,1,["type"]]],null],[30,[36,0],["these ",[32,1,["type"]],"s"],null]],null]],[2,"?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,"data-test-button","close"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,2],false],null]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body mb9"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You\'re about to revert "],[10,"strong"],[12],[1,[30,[36,1],[[32,1,["selectionList","isSingle"]],[30,[36,0],["\\"",[32,1,["selectionList","first","title"]],"\\""],null],[30,[36,0],[[32,1,["selectionList","count"]]," ",[32,1,["type"]],"s"],null]],null]],[13],[2," to a private draft.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,2],false],null]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n\\n         "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@runningText","@showSuccess","@task","@taskArgs","@class"],["Unpublish","Unpublishing",false,[32,1,["confirm"]],[32,2],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["concat","if","fn","on","svg-jar"]}',moduleName:"ghost-admin/components/posts-list/modals/unpublish-posts.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/posts/analytics",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D
function A(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const L=Ember.HTMLBars.template({id:"+T1LQG3r",block:'{"symbols":["mention","tabs","publishedAt","@post"],"statements":[[11,"section"],[16,0,[31,["gh-canvas ",[30,[36,0],[[30,[36,12],["audienceFeedback"],null],"feature-audienceFeedback"],null]]]],[4,[38,13],[[32,0,["loadData"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header gh-post-analytics-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column flex-grow-1"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                    Posts\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,7],["arrow-right-small"],null]],[2,"Analytics\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title gh-post-title"],[12],[2,"\\n                "],[1,[32,0,["post","title"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-post-analytics-meta"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-analytics-meta-text"],[12],[2,"\\n"],[6,[37,0],[[32,0,["post","hasBeenEmailed"]]],null,[["default","else"],[{"statements":[[6,[37,0],[[32,0,["post","emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                            Sent\\n"]],"parameters":[]},{"statements":[[2,"                            Published and sent\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        Published\\n"],[6,[37,0],[[32,4,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                            but failed to send\\n"]],"parameters":[]},{"statements":[[2,"                            on your site\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,15],[[30,[36,14],[[32,0,["post","publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                        on\\n                        "],[1,[30,[36,11],[[32,3],"D MMM YYYY"],null]],[2,"\\n                        at\\n                        "],[1,[30,[36,11],[[32,3],"HH:mm"],null]],[2,"\\n"]],"parameters":[3]}]]],[2,"                "],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-post-list-cta edit"],[24,"title",""]],[["@route","@models"],["editor.edit",[30,[36,16],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n                    "],[1,[30,[36,7],["pen"],[["title"],[""]]]],[10,"span"],[12],[2,"Edit post"],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"tabs/tabs",[[16,0,[31,["gh-tabs-analytics ",[30,[36,0],[[30,[36,17],[[32,0,["post","hasBeenEmailed"]],null],null],"no-tabs"],null]]]]],[["@forceRender"],[true]],[["default"],[{"statements":[[2,"\\n"],[6,[37,0],[[32,0,["post","hasBeenEmailed"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,2,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[10,"h3"],[12],[1,[30,[36,7],["analytics-tab-sent-large"],null]],[1,[30,[36,6],[[32,0,["post","email","emailCount"]]],null]],[13],[2,"\\n                "],[10,"p"],[12],[1,[30,[36,7],["analytics-tab-sent"],null]],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Sent"],[13],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,[32,2,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[8,"posts/post-activity-feed",[],[["@post","@eventType","@linkQuery"],[[32,0,["post"]],"sent",[30,[36,10],null,[["filterParam"],[[30,[36,9],["emails.post_id:",[32,0,["post","id"]]],null]]]]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,0],[[32,0,["post","showEmailOpenAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[8,[32,2,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"h3"],[12],[1,[30,[36,7],["analytics-tab-opened-large"],null]],[1,[30,[36,6],[[32,0,["post","email","openedCount"]]],null]],[13],[2,"\\n                    "],[10,"p"],[12],[1,[30,[36,7],["analytics-tab-opened"],null]],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Opened"],[10,"span"],[14,0,"analytics-tab-percentage"],[12],[2,"Â â€” "],[1,[32,0,["post","email","openRate"]]],[2,"%"],[13],[13],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,[32,2,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[8,"posts/post-activity-feed",[],[["@post","@eventType","@linkQuery"],[[32,0,["post"]],"opened",[30,[36,10],null,[["filterParam"],[[30,[36,9],["opened_emails.post_id:",[32,0,["post","id"]]],null]]]]]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["post","showEmailClickAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[8,[32,2,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"h3"],[12],[1,[30,[36,7],["analytics-tab-clicked-large"],null]],[1,[30,[36,6],[[32,0,["post","count","clicks"]]],null]],[13],[2,"\\n                    "],[10,"p"],[12],[1,[30,[36,7],["analytics-tab-clicked"],null]],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Clicked"],[10,"span"],[14,0,"analytics-tab-percentage"],[12],[2,"Â â€” "],[1,[32,0,["post","clickRate"]]],[2,"%"],[13],[13],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,[32,2,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[8,"posts/post-activity-feed",[],[["@post","@eventType","@linkQuery"],[[32,0,["post"]],"clicked",[30,[36,10],null,[["filterParam"],[[30,[36,9],["clicked_links.post_id:",[32,0,["post","id"]]],null]]]]]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["post","isFeedbackEnabledForEmail"]]],null,[["default"],[{"statements":[[2,"                "],[8,[32,2,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[10,"h3"],[12],[1,[30,[36,7],["analytics-tab-feedback-large"],null]],[1,[30,[36,6],[[32,0,["totalFeedback"]]],null]],[13],[2,"\\n                    "],[10,"p"],[12],[1,[30,[36,7],["analytics-tab-feedback"],null]],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Feedback"],[10,"span"],[14,0,"analytics-tab-percentage"],[12],[2,"Â â€” "],[1,[32,0,["post","sentiment"]]],[2,"%"],[13],[13],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,[32,2,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                    "],[8,"posts/post-activity-feed",[],[["@post","@eventType","@data"],[[32,0,["post"]],"feedback",[32,0,["feedbackChartData"]]]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["post","showAttributionAnalytics"]]],null,[["default"],[{"statements":[[2,"            "],[8,[32,2,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[10,"h3"],[12],[2,"\\n                    "],[1,[30,[36,7],["analytics-tab-conversions-large"],null]],[2,"\\n"],[6,[37,0],[[32,0,["post","hasBeenEmailed"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,6],[[32,0,["post","count","conversions"]]],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        Conversions\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[12],[1,[30,[36,7],["analytics-tab-conversions"],null]],[10,"span"],[14,0,"analytics-tab-label"],[12],[1,[30,[36,8],[[32,0,["post","count","conversions"]],"Conversions"],[["without-count"],[true]]]],[13],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,[32,2,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[8,"posts/post-activity-feed",[],[["@post","@eventType"],[[32,0,["post"]],"conversion"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[2]}]]],[2,"\\n\\n"],[6,[37,0],[[32,0,["isLoaded"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[15,0,[31,["gh-post-analytics-split ",[30,[36,0],[[32,0,["showMentions"]],"gh-post-analytics-with-mentions"],null]]]],[12],[2,"\\n"],[6,[37,0],[[32,0,["showLinks"]]],null,[["default"],[{"statements":[[6,[37,0],[[30,[36,5],[[32,0,["links"]]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                    "],[8,"posts/links-table",[],[["@links","@updateLink","@showSuccess"],[[32,0,["links"]],[32,0,["updateLink"]],[32,0,["showSuccess"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["showMentions"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-post-analytics-box gh-post-analytics-mentions ",[30,[36,4],[[32,0,["showLinks"]],"is-full-width"],null]]]],[12],[2,"\\n                    "],[10,"h3"],[14,0,"gh-post-analytics-mentions-header"],[12],[2,"Mentions"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-post-analytics-mentions-list"],[12],[2,"\\n"],[6,[37,0],[[32,0,["mentions"]]],null,[["default","else"],[{"statements":[[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,0,["mentions"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"a"],[15,6,[31,[[32,1,["source"]]]]],[14,0,"gh-post-analytics-mention"],[14,"rel","noreferrer noopener"],[14,"target","_blank"],[12],[2,"\\n                                    "],[10,"img"],[15,"src",[31,[[32,1,["sourceFavicon"]]]]],[15,"alt",[31,[[32,1,["sourceSiteTitle"]]]]],[14,0,"w5 h5 mr2 flex-shrink-0"],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-post-analytics-mention-title"],[12],[1,[30,[36,0],[[32,1,["sourceTitle"]],[32,1,["sourceTitle"]],[32,1,["source"]]],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-post-analytics-mention-timestamp"],[12],[1,[30,[36,1],[[32,1,["timestamp"]]],null]],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[1]}]]]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[12],[2,"\\n                                "],[10,"p"],[12],[2,"No mentions yet."],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,0],[[32,0,["mentions"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-footer"],[12],[2,"\\n                            "],[8,"link-to",[],[["@route","@model"],["posts.mentions",[32,0,["post","id"]]]],[["default"],[{"statements":[[2,"View all mentions â†’"]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-post-analytics-box resources"],[12],[2,"\\n            "],[10,"a"],[14,6,"https://ghost.org/help/post-analytics/"],[14,"target","_blank"],[14,0,"gh-post-analytics-resource"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/analytics-1-aa2d72c4e7347a3cb5666d07916b92aa.jpg);"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-between"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n                            Ghost help\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h3"],[12],[2,"Understanding analytics in Ghost"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Find out how to review the performance of your content and get the most out of post analytics in Ghost."],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Read more â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,6,"https://ghost.org/resources/content-distribution/"],[14,"target","_blank"],[14,0,"gh-post-analytics-resource"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/analytics-2-389d53f80041ff98111cce79facf66b8.jpg);"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-between"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n                            Ghost resources\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h3"],[12],[2,"How to get your content seen online"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Use these content distribution tactics to get more people to discover your work and increase engagement."],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Read more â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-post-analytics-loading"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-loading-spinner-outer"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","moment-from-now","-track-array","each","unless","is-empty","format-number","svg-jar","gh-pluralize","concat","hash","moment-format","feature","did-insert","moment-site-tz","let","array","eq"]}',moduleName:"ghost-admin/components/posts/analytics.hbs"}),R=[{name:"Free signups",value:"signups"},{name:"Paid conversions",value:"paid"}]
let U=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=class extends t.default{constructor(...e){super(...e),A(this,"ajax",k,this),A(this,"ghostPaths",E,this),A(this,"settings",P,this),A(this,"membersUtils",O,this),A(this,"utils",j,this),A(this,"feature",_,this),A(this,"store",T,this),A(this,"sources",z,this),A(this,"links",x,this),A(this,"mentions",S,this),A(this,"sortColumn",C,this),A(this,"showSuccess",M,this),A(this,"updateLinkId",D,this),I(this,"displayOptions",R)}get post(){return this.args.post}get allowedDisplayOptions(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions:this.displayOptions.filter((e=>"paid"===e.value)):this.displayOptions.filter((e=>"signups"===e.value))}get isDropdownDisabled(){return!this.hasPaidConversionData||!this.hasFreeSignups}get selectedDisplayOption(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions.find((e=>e.value===this.sortColumn))??this.displayOptions[0]:this.displayOptions.find((e=>"paid"===e.value)):this.displayOptions.find((e=>"signups"===e.value))}get selectedSortColumn(){return this.hasPaidConversionData?this.hasFreeSignups?this.sortColumn:"paid":"signups"}get hasPaidConversionData(){return this.sources.some((e=>e.paidConversions>0))}get hasFreeSignups(){return this.sources.some((e=>e.signups>0))}get totalFeedback(){return this.post.count.positive_feedback+this.post.count.negative_feedback}get feedbackChartData(){return{values:[this.post.count.positive_feedback,this.post.count.negative_feedback],labels:["More like this","Less like this"],links:[{filterParam:"(feedback.post_id:"+this.post.id+"+feedback.score:1)"},{filterParam:"(feedback.post_id:"+this.post.id+"+feedback.score:0)"}],colors:["#F080B2","#8452f633"]}}onDisplayChange(e){this.sortColumn=e.value}setSortColumn(e){this.sortColumn=e}updateLink(e,t){return this._updateLinks.isRunning?this._updateLinks.last:this._updateLinks.perform(e,t)}loadData(){this.showSources?this.fetchReferrersStats():this.sources=[],this.showLinks?this.fetchLinks():this.links=[],this.showMentions?this.fetchMentions():this.mentions=[]}updateLinkData(e){let t
t=this.links?.length?this.links.map((t=>{let i=e.find((e=>e.link.link_id===t.link.link_id))
return i?{...i,link:{...i.link,originalTo:i.link.to,to:this.utils.cleanTrackedUrl(i.link.to,!1),title:this.utils.cleanTrackedUrl(i.link.to,!0)}}:t})):e.map((e=>({...e,link:{...e.link,originalTo:e.link.to,to:this.utils.cleanTrackedUrl(e.link.to,!1),title:this.utils.cleanTrackedUrl(e.link.to,!0)}})))
const i=t.reduce(((e,t)=>(e[t.link.title]?(e[t.link.title].count||(e[t.link.title].count={clicks:0}),e[t.link.title].count.clicks||(e[t.link.title].count.clicks=0),e[t.link.title].count.clicks+=t.count?.clicks??0):e[t.link.title]=t,e)),{})
this.links=Object.values(i)}async fetchReferrersStats(){try{return this._fetchReferrersStats.isRunning?this._fetchReferrersStats.last:this._fetchReferrersStats.perform()}catch(e){if(!(0,i.didCancel)(e))throw e}}async fetchLinks(){return this._fetchLinks.isRunning?this._fetchLinks.last:this._fetchLinks.perform()}*_updateLinks(e,t){let i
this.updateLinkId=e,this.links=this.links?.map((n=>n.link.link_id===e?(i=new URL(n.link.originalTo),{...n,link:{...n.link,to:this.utils.cleanTrackedUrl(t,!1),title:this.utils.cleanTrackedUrl(t,!0)}}):n))
const n=`post_id:${this.post.id}+to:'${i}'`
let r=this.ghostPaths.url.api("links/bulk")+`?filter=${encodeURIComponent(n)}`
yield this.ajax.put(r,{data:{bulk:{action:"updateLink",meta:{link:{to:t}}}}})
const a=`post_id:${this.post.id}`
let s=this.ghostPaths.url.api("links/")+`?filter=${encodeURIComponent(a)}`,o=yield this.ajax.request(s)
this.updateLinkData(o.links),this.showSuccess=this.updateLinkId,setTimeout((()=>{this.showSuccess=null}),2e3)}*_fetchReferrersStats(){let e=this.ghostPaths.url.api(`stats/referrers/posts/${this.post.id}`),t=yield this.ajax.request(e)
this.sources=t.stats.map((e=>({source:e.source??"Direct",signups:e.signups,paidConversions:e.paid_conversions})))}*_fetchLinks(){const e=`post_id:${this.post.id}`
let t=this.ghostPaths.url.api("links/")+`?filter=${encodeURIComponent(e)}`,i=yield this.ajax.request(t)
this.updateLinkData(i.links)}async fetchMentions(){return this._fetchMentions.isRunning?this._fetchMentions.last:this._fetchMentions.perform()}*_fetchMentions(){const e=`resource_id:${this.post.id}+resource_type:post`
this.mentions=yield this.store.query("mention",{limit:5,order:"created_at desc",filter:e})}get showLinks(){return this.post.showEmailClickAnalytics}get showSources(){return this.post.showAttributionAnalytics}get showMentions(){return this.feature.get("webmentions")}get isLoaded(){return null!==this.links&&null!==this.souces&&null!==this.mentions}},k=N(w.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=N(w.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=N(w.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=N(w.prototype,"membersUtils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=N(w.prototype,"utils",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=N(w.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=N(w.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=N(w.prototype,"sources",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=N(w.prototype,"links",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=N(w.prototype,"mentions",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=N(w.prototype,"sortColumn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"signups"}}),M=N(w.prototype,"showSuccess",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=N(w.prototype,"updateLinkId",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N(w.prototype,"onDisplayChange",[g],Object.getOwnPropertyDescriptor(w.prototype,"onDisplayChange"),w.prototype),N(w.prototype,"setSortColumn",[f],Object.getOwnPropertyDescriptor(w.prototype,"setSortColumn"),w.prototype),N(w.prototype,"updateLink",[v],Object.getOwnPropertyDescriptor(w.prototype,"updateLink"),w.prototype),N(w.prototype,"loadData",[y],Object.getOwnPropertyDescriptor(w.prototype,"loadData"),w.prototype),N(w.prototype,"_updateLinks",[i.task],Object.getOwnPropertyDescriptor(w.prototype,"_updateLinks"),w.prototype),N(w.prototype,"_fetchReferrersStats",[i.task],Object.getOwnPropertyDescriptor(w.prototype,"_fetchReferrersStats"),w.prototype),N(w.prototype,"_fetchLinks",[i.task],Object.getOwnPropertyDescriptor(w.prototype,"_fetchLinks"),w.prototype),N(w.prototype,"_fetchMentions",[i.task],Object.getOwnPropertyDescriptor(w.prototype,"_fetchMentions"),w.prototype),w)
e.default=U,Ember._setComponentTemplate(L,U)})),define("ghost-admin/components/posts/debug",["exports","@glimmer/component","moment-timezone","ember-concurrency","ghost-admin/helpers/format-number","ghost-admin/helpers/gh-pluralize"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D
function A(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const N=Ember.HTMLBars.template({id:"xtoGO1yS",block:'{"symbols":["tabs","batch","failure","index","failure","index","publishedAt","@post"],"statements":[[11,"section"],[24,0,"gh-canvas gh-email-debug"],[4,[38,7],[[32,0,["loadData"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header gh-post-analytics-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column flex-grow-1"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                    Posts\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,1],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[],[["@route","@model"],["posts.analytics",[32,0,["post","id"]]]],[["default"],[{"statements":[[2,"\\n                    Analytics\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,1],["arrow-right-small"],null]],[2,"\\n                Debug\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title gh-post-title"],[12],[2,"\\n                "],[1,[32,0,["post","title"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-post-analytics-meta"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-analytics-meta-text"],[12],[2,"\\n"],[6,[37,2],[[32,0,["post","hasBeenEmailed"]]],null,[["default","else"],[{"statements":[[6,[37,2],[[32,0,["post","emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                            Sent\\n"]],"parameters":[]},{"statements":[[2,"                            Published and sent\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        Published\\n"],[6,[37,2],[[32,8,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                            but failed to send\\n"]],"parameters":[]},{"statements":[[2,"                            on your site\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,9],[[30,[36,8],[[32,0,["post","publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                        on\\n                        "],[1,[30,[36,6],[[32,7],"D MMM YYYY"],null]],[2,"\\n                        at\\n                        "],[1,[30,[36,6],[[32,7],"HH:mm"],null]],[2,"\\n"]],"parameters":[7]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"],[6,[37,2],[[30,[36,10],[[32,0,["post","email","status"]],"failed"],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-box gh-box-error gh-box-tip gh-email-debug-error"],[12],[2,"\\n                    "],[1,[30,[36,1],["warning"],null]],[2,"\\n                    "],[10,"div"],[14,0,"gh-email-debug-errortext"],[12],[2,"\\n                        "],[10,"h4"],[12],[1,[32,0,["emailError","message"]]],[13],[2,"\\n                        "],[10,"p"],[14,0,"mb0"],[12],[1,[32,0,["emailError","details"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary gh-btn-icon gh-btn-red ember-view self-center"]],[["@route","@models"],["editor.edit",[30,[36,5],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"Retry"],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"tabs/tabs",[[24,0,"gh-tabs-analytics"]],[["@forceRender"],[false]],[["default"],[{"statements":[[2,"\\n        "],[8,[32,1,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[12],[1,[30,[36,1],["analytics-tab-sent-large"],null]],[2," "],[1,[32,0,["tabTotals","permanentFailures"]]],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Permanent "],[1,[30,[36,11],[[32,0,["tabTotals","permanentFailures"]],"failure"],[["without-count"],[true]]]],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"table"],[14,0,"gh-list gh-email-debug-permanent-failures"],[12],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,0,["permanentFailureData"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-data gh-email-debug-col-member"],[12],[2,"\\n"],[6,[37,2],[[32,5,["member","id"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"link-to",[[24,0,"gh-email-debug-member"]],[["@route","@model"],["member",[32,5,["member","id"]]]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,5,["member","record"]],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"ma0 pa0 gh-members-list-name"],[12],[1,[32,5,["recipient","name"]]],[13],[2,"\\n                                    "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,5,["recipient","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-email-debug-member"],[12],[2,"\\n                                "],[10,"figure"],[14,0,"gh-member-gravatar w9 h9 mr3 flex-shrink-0 bg-red"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-member-initials flex w9 h9 items-center justify-center br-100"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-member-avatar-label gh-member-list-avatar"],[12],[1,[32,5,["recipient","initials"]]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"ma0 pa0 gh-members-list-name"],[12],[1,[32,5,["recipient","name"]]],[13],[2,"\\n                                    "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,5,["recipient","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-data gh-email-debug-col-failure"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-email-debug-failure-details"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-debug-failure-codes"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-email-debug-failure-code"],[12],[2,"Failure code: "],[10,"span"],[12],[1,[32,5,["code"]]],[13],[13],[2,"\\n"],[6,[37,2],[[32,5,["enhancedCode"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-email-debug-failure-code"],[12],[2,"Enhanced code: "],[10,"span"],[12],[1,[32,5,["enhancedCode"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[8,"posts/debug/email-error-message",[],[["@index","@message"],[[32,6],[32,5,["message"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[5,6]}]]],[6,[37,3],[[32,0,["permanentFailureData"]]],null,[["default"],[{"statements":[[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-email-debug-empty-list"],[12],[2,"No permanent failures."],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[12],[1,[30,[36,1],["analytics-tab-opened-large"],null]],[1,[32,0,["tabTotals","temporaryFailures"]]],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Temporary "],[1,[30,[36,11],[[32,0,["tabTotals","temporaryFailures"]],"failure"],[["without-count"],[true]]]],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"table"],[14,0,"gh-list gh-email-debug-permanent-failures"],[12],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,0,["temporaryFailureData"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-data gh-email-debug-col-member"],[12],[2,"\\n"],[6,[37,2],[[32,3,["member","id"]]],null,[["default","else"],[{"statements":[[2,"                            "],[8,"link-to",[[24,0,"gh-email-debug-member"]],[["@route","@model"],["member",[32,3,["member","id"]]]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,3,["member","record"]],"w9 h9 mr3 flex-shrink-0"]],null],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"ma0 pa0 gh-members-list-name"],[12],[1,[32,3,["recipient","name"]]],[13],[2,"\\n                                    "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,3,["recipient","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-email-debug-member"],[12],[2,"\\n                                "],[10,"figure"],[14,0,"gh-member-gravatar w9 h9 mr3 flex-shrink-0 bg-blue"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-member-initials flex w9 h9 items-center justify-center br-100"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-member-avatar-label gh-member-list-avatar"],[12],[1,[32,3,["recipient","initials"]]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"ma0 pa0 gh-members-list-name"],[12],[1,[32,3,["recipient","name"]]],[13],[2,"\\n                                    "],[10,"p"],[14,0,"ma0 pa0 middarkgrey f8 gh-members-list-email"],[12],[1,[32,3,["recipient","email"]]],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-data gh-email-debug-col-failure"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-email-debug-failure"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-debug-failure-details"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-email-debug-failure-codes"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-email-debug-failure-code"],[12],[2,"Failure code: "],[10,"span"],[12],[1,[32,3,["code"]]],[13],[13],[2,"\\n"],[6,[37,2],[[32,3,["enhancedCode"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"gh-email-debug-failure-code"],[12],[2,"Enhanced code: "],[10,"span"],[12],[1,[32,3,["enhancedCode"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                                "],[8,"posts/debug/email-error-message",[],[["@index","@message"],[[32,4],[32,3,["message"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[3,4]}]]],[6,[37,3],[[32,0,["temporaryFailureData"]]],null,[["default"],[{"statements":[[2,"                "],[10,"tr"],[12],[2,"\\n                    "],[10,"td"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-email-debug-empty-list"],[12],[2,"No temporary failures."],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h3"],[12],[1,[30,[36,1],["analytics-tab-clicked-large"],null]],[1,[32,0,["tabTotals","erroredBatches"]]],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"analytics-tab-label"],[12],[1,[30,[36,11],[[32,0,["tabTotals","erroredBatches"]],"batch"],[["without-count"],[true]]]],[2," errored"],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"table"],[14,0,"gh-list gh-email-debug-batches"],[12],[2,"\\n                "],[10,"thead"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Status"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Created"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Segment"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Recipients"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Details"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,13],[[30,[36,12],[[30,[36,12],[[32,0,["emailBatchesData"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-email-debug-batch-col-status"],[12],[2,"\\n                            "],[10,"span"],[15,0,[31,[[32,2,["statusClass"]]]]],[12],[1,[32,2,["status"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-email-debug-batch-col-created"],[12],[2,"\\n                            "],[10,"span"],[12],[1,[32,2,["createdAt"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-email-debug-batch-col-segment"],[12],[2,"\\n"],[6,[37,2],[[32,2,["segment"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[12],[1,[32,2,["segment"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"dib lightgrey"],[12],[2,"N/A"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-email-debug-batch-col-recipients"],[12],[2,"\\n                            "],[10,"span"],[12],[1,[32,2,["recipientCount"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-list-data gh-email-debug-batch-col-details"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-col items-center space-between w100"],[12],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,2,["providerId"]],[32,2,["errorStatusCode"]],[32,2,["errorMessage"]]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"detailtext"],[12],[2,"\\n"],[6,[37,2],[[32,2,["providerId"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"noselect"],[12],[2,"\\n                                                Provider id:\\n                                                "],[10,"code"],[12],[2,"\\n                                                    "],[1,[32,2,["providerId"]]],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,2,["errorStatusCode"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[12],[2,"\\n                                                Failure status code: "],[10,"span"],[12],[1,[32,2,["errorStatusCode"]]],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,2,["errorMessage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"error"],[12],[1,[32,2,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"div"],[14,0,"dib lightgrey"],[12],[2,"N/A"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[2]}]]],[6,[37,3],[[32,0,["emailBatchesData"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-email-debug-empty-list"],[12],[2,"No batch data."],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tab"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"gh-email-debug-settingstab-icon"],[12],[1,[30,[36,1],["settings"],null]],[13],[2,"\\n            "],[10,"p"],[12],[10,"span"],[14,0,"analytics-tab-label"],[12],[2,"Settings"],[13],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,[32,1,["tabPanel"]],[],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"table"],[14,0,"gh-email-debug-settings"],[12],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Status:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-batch-col-status"],[12],[10,"span"],[15,0,[31,[[32,0,["emailSettings","statusClass"]]]]],[12],[1,[32,0,["emailSettings","status"]]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Recipient filter:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-batch-col-segment"],[12],[10,"span"],[12],[1,[32,0,["emailSettings","recipientFilter"]]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Created at:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["emailSettings","createdAt"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Submitted at:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["emailSettings","submittedAt"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Emails sent:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-type-number"],[12],[1,[30,[36,14],[[32,0,["emailSettings","emailsSent"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Delivered:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-type-number"],[12],[1,[30,[36,14],[[32,0,["emailSettings","emailsDelivered"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Opened:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-type-number"],[12],[1,[30,[36,14],[[32,0,["emailSettings","emailsOpened"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Failed:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-type-number"],[12],[1,[30,[36,14],[[32,0,["emailSettings","emailsFailed"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Track opens:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[32,0,["emailSettings","trackOpens"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Track clicks:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[32,0,["emailSettings","trackClicks"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Member feedback:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[32,0,["emailSettings","feedbackEnabled"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Analytics Latest running:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[30,[36,15],[[32,0,["analyticsStatus"]],[32,0,["analyticsStatus","latest"]],[32,0,["analyticsStatus","latest","running"]]],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Last started:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","latest","lastStarted"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Fetching from:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","latest","lastBegin"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Last event time:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","latest","lastEventTimestamp"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Analytics Missing running:"],[13],[2,"\\n                        "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[30,[36,15],[[32,0,["analyticsStatus"]],[32,0,["analyticsStatus","missing"]],[32,0,["analyticsStatus","missing","running"]]],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Last started:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","missing","lastStarted"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Fetching from:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","missing","lastBegin"]]],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"tr"],[12],[2,"\\n                        "],[10,"td"],[12],[2,"Last event time:"],[13],[2,"\\n                        "],[10,"td"],[12],[1,[32,0,["analyticsStatus","missing","lastEventTimestamp"]]],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,2],[[30,[36,15],[[32,0,["analyticsStatus"]],[32,0,["analyticsStatus","scheduled"]],[32,0,["analyticsStatus","scheduled","schedule"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,"colspan","2"],[12],[10,"hr"],[12],[13],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[12],[2,"Analytics Scheduled running:"],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-email-debug-settings-icon"],[12],[2,"\\n"],[6,[37,2],[[32,0,["analyticsStatus","scheduled","running"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"check"],[12],[1,[30,[36,1],["check-2"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"x"],[12],[1,[30,[36,1],["close"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[12],[2,"Schedule:"],[13],[2,"\\n                            "],[10,"td"],[12],[1,[32,0,["analyticsStatus","scheduled","schedule","begin"]]],[2," - "],[1,[32,0,["analyticsStatus","scheduled","schedule","end"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[12],[2,"Last started:"],[13],[2,"\\n                            "],[10,"td"],[12],[1,[32,0,["analyticsStatus","scheduled","lastStarted"]]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[12],[2,"Last event time:"],[13],[2,"\\n                            "],[10,"td"],[12],[1,[32,0,["analyticsStatus","scheduled","lastEventTimestamp"]]],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,3],[[32,0,["analyticsStatus","scheduled","canceled"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"tr"],[12],[2,"\\n                                "],[10,"td"],[14,"colspan","2"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"gh-email-debug-schedule-analytics"],[24,4,"button"],[4,[38,0],["click",[32,0,["cancelScheduleAnalytics"]]],null],[12],[1,[30,[36,1],["trash"],null]],[2,"Cancel scheduled refetch"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        "],[10,"tr"],[12],[2,"\\n                            "],[10,"td"],[14,"colspan","2"],[12],[2,"\\n                                "],[11,"button"],[24,0,"gh-email-debug-schedule-analytics"],[24,4,"button"],[4,[38,0],["click",[32,0,["scheduleAnalytics"]]],null],[12],[1,[30,[36,1],["reload"],null]],[2,"Refetch Analytics"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n        "]],"parameters":[]}]]],[2,"\\n\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","if","unless","or","array","moment-format","did-insert","moment-site-tz","let","eq","gh-pluralize","-track-array","each","format-number","and"]}',moduleName:"ghost-admin/components/posts/debug.hbs"})
let L=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._action,y=Ember._action,w=Ember._action,k=class extends t.default{constructor(...e){super(...e),A(this,"ajax",E,this),A(this,"ghostPaths",P,this),A(this,"settings",O,this),A(this,"membersUtils",j,this),A(this,"utils",_,this),A(this,"feature",T,this),A(this,"store",z,this),A(this,"emailBatches",x,this),A(this,"recipientFailures",S,this),A(this,"loading",C,this),A(this,"analyticsStatus",M,this),A(this,"latestEmail",D,this)}get post(){return this.args.post}get email(){return this.latestEmail??this.post.email}async updateEmail(){try{this.latestEmail=await this.store.findRecord("email",this.post.email.id,{reload:!0})}catch(e){}}get emailError(){let e=this.emailBatchesData?.filter((e=>"failed"===e.statusClass)).length||0,t=this.emailBatchesData?.length||0,i=this.loading||!t?"":`${e} of ${(0,a.ghPluralize)(t,"batch")} failed to send, check below for more details.`
return{message:this.post.email?.error||"Failed to send email.",details:i}}get emailSettings(){return{statusClass:this.email?.status,status:this.getStatusLabel(this.email?.status),recipientFilter:this.email?.recipientFilter,createdAt:this.email?.createdAtUTC?(0,i.default)(this.email.createdAtUTC).format("DD MMM, YYYY, HH:mm:ss"):"",submittedAt:this.email?.submittedAtUTC?(0,i.default)(this.email.submittedAtUTC).format("DD MMM, YYYY, HH:mm:ss"):"",emailsSent:this.email?.emailCount,emailsDelivered:this.email?.deliveredCount,emailsOpened:this.email?.openedCount,emailsFailed:this.email?.failedCount,trackOpens:this.email?.trackOpens,trackClicks:this.email?.trackClicks,feedbackEnabled:this.email?.feedbackEnabled}}get tabTotals(){return{temporaryFailures:(0,r.formatNumber)(this.temporaryFailureData?.length||0),permanentFailures:(0,r.formatNumber)(this.permanentFailureData?.length||0),erroredBatches:(0,r.formatNumber)(this.emailBatchesData?.filter((e=>"failed"===e.statusClass)).length||0)}}get emailBatchesData(){return this.emailBatches?.map((e=>({id:e.id,status:this.getStatusLabel(e.status),statusClass:e.status,createdAt:e.created_at?(0,i.default)(e.created_at).format("DD MMM, YYYY, HH:mm:ss"):"",segment:e.member_segment||"",providerId:e.provider_id||null,errorMessage:e.error_message||"",errorStatusCode:e.error_status_code||"",recipientCount:e.count?.recipients||0})))}get temporaryFailureData(){return this.recipientFailures?.filter((e=>"temporary"===e.severity)).map((e=>({id:e.id,code:e.code,failedAt:e.failed_at?(0,i.default)(e.failed_at).format("DD MMM, YYYY, HH:mm:ss"):"",processedAt:e.email_recipient.processed_at?(0,i.default)(e.email_recipient.processed_at).format("DD MMM, YYYY, HH:mm:ss"):"",batchId:e.email_recipient.batch_id,enhancedCode:e.enhanced_code,message:e.message,recipient:{name:e.email_recipient.member_name||"",email:e.email_recipient.member_email||"",initials:this.getInitials(e.email_recipient?.member_name||e.email_recipient?.member_email)},member:{record:e.member,id:e.member?.id,name:e.member?.name||"",email:e.member?.email||"",initials:this.getInitials(e.member?.name)}})))}get permanentFailureData(){return this.recipientFailures?.filter((e=>"permanent"===e.severity)).map((e=>({id:e.id,code:e.code,enhancedCode:e.enhanced_code,message:e.message,recipient:{name:e.email_recipient.member_name||"",email:e.email_recipient.member_email||"",initials:this.getInitials(e.email_recipient?.member_name||e.email_recipient?.member_email)},member:{record:e.member,id:e.member?.id,name:e.member?.name||"",email:e.member?.email||"",initials:this.getInitials(e.member?.name)}})))}getInitials(e){if(!e)return"U"
let t=e.split(" ")
return(t.length>1?[t[0][0],t[t.length-1][0]]:[t[0][0]]).join("").toUpperCase()}getStatusLabel(e){return"submitted"===e?"Submitted":"submitting"===e?"Submitting":"pending"===e?"Pending":"failed"===e?"Failed":e}loadData(){this.post.email&&(this.fetchEmailBatches(),this.fetchRecipientFailures(),this.pollAnalyticsStatus.perform(),this.pollEmail.perform())}async fetchEmailBatches(){try{return this._fetchEmailBatches.isRunning?this._fetchEmailBatches.last:this._fetchEmailBatches.perform()}catch(e){if(!(0,n.didCancel)(e))throw e}}*_fetchEmailBatches(){let e=this.ghostPaths.url.api(`emails/${this.post.email.id}/batches`),t=yield this.ajax.request(e,{data:{include:"count.recipients",limit:"all",order:"status asc, created_at desc"}})
this.emailBatches=t.batches,this.loading=!1}async fetchRecipientFailures(){try{return this._fetchRecipientFailures.isRunning?this._fetchRecipientFailures.last:this._fetchRecipientFailures.perform()}catch(e){if(!(0,n.didCancel)(e))throw e}}*pollAnalyticsStatus(){for(;;)yield this.fetchAnalyticsStatus(),yield(0,n.timeout)(5e3)}*pollEmail(){for(;;)yield(0,n.timeout)(1e4),yield this.updateEmail()}async fetchAnalyticsStatus(){try{return this._fetchAnalyticsStatus.isRunning?this._fetchAnalyticsStatus.last:this._fetchAnalyticsStatus.perform()}catch(e){}}*_fetchRecipientFailures(){let e=this.ghostPaths.url.api(`/emails/${this.post.email.id}/recipient-failures`),t=yield this.ajax.request(e,{data:{include:"member,email_recipient",limit:"all"}})
this.recipientFailures=t.failures}*_fetchAnalyticsStatus(){let e=this.ghostPaths.url.api(`/emails/${this.post.email.id}/analytics`),t=yield this.ajax.request(e)
this.analyticsStatus=t
for(const n of Object.keys(t)){t[n]||(t[n]={})
let e=t[n]
for(const t of["lastStarted","lastBegin","lastEventTimestamp"])e[t]?e[t]=(0,i.default)(e[t]).format("DD MMM, YYYY, HH:mm:ss.SSS"):e[t]="N/A"
if(e.schedule){e=e.schedule
for(const t of["begin","end"])e[t]?e[t]=(0,i.default)(e[t]).format("DD MMM, YYYY, HH:mm:ss.SSS"):e[t]="N/A"}}}scheduleAnalytics(){try{return this._scheduleAnalytics.isRunning?this._scheduleAnalytics.last:this._scheduleAnalytics.perform()}catch(e){if(!(0,n.didCancel)(e))throw e}}*_scheduleAnalytics(){let e=this.ghostPaths.url.api(`/emails/${this.post.email.id}/analytics`)
yield this.ajax.put(e,{}),yield this.fetchAnalyticsStatus()}cancelScheduleAnalytics(){try{return this._cancelScheduleAnalytics.isRunning?this._cancelScheduleAnalytics.last:this._cancelScheduleAnalytics.perform()}catch(e){if(!(0,n.didCancel)(e))throw e}}*_cancelScheduleAnalytics(){let e=this.ghostPaths.url.api("/emails/analytics")
yield this.ajax.delete(e,{}),yield this.fetchAnalyticsStatus()}},E=I(k.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=I(k.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=I(k.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I(k.prototype,"membersUtils",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=I(k.prototype,"utils",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(k.prototype,"feature",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(k.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(k.prototype,"emailBatches",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=I(k.prototype,"recipientFailures",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=I(k.prototype,"loading",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),M=I(k.prototype,"analyticsStatus",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=I(k.prototype,"latestEmail",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I(k.prototype,"loadData",[v],Object.getOwnPropertyDescriptor(k.prototype,"loadData"),k.prototype),I(k.prototype,"_fetchEmailBatches",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"_fetchEmailBatches"),k.prototype),I(k.prototype,"pollAnalyticsStatus",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"pollAnalyticsStatus"),k.prototype),I(k.prototype,"pollEmail",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"pollEmail"),k.prototype),I(k.prototype,"_fetchRecipientFailures",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"_fetchRecipientFailures"),k.prototype),I(k.prototype,"_fetchAnalyticsStatus",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"_fetchAnalyticsStatus"),k.prototype),I(k.prototype,"scheduleAnalytics",[y],Object.getOwnPropertyDescriptor(k.prototype,"scheduleAnalytics"),k.prototype),I(k.prototype,"_scheduleAnalytics",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"_scheduleAnalytics"),k.prototype),I(k.prototype,"cancelScheduleAnalytics",[w],Object.getOwnPropertyDescriptor(k.prototype,"cancelScheduleAnalytics"),k.prototype),I(k.prototype,"_cancelScheduleAnalytics",[n.task],Object.getOwnPropertyDescriptor(k.prototype,"_cancelScheduleAnalytics"),k.prototype),k)
e.default=L,Ember._setComponentTemplate(N,L)})),define("ghost-admin/components/posts/debug/email-error-message",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"iCqNm8Hs",block:'{"symbols":["@index","@message"],"statements":[[11,"div"],[24,0,"gh-email-debug-readmore-error"],[4,[38,0],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[10,"input"],[15,1,[31,["error-",[32,1],"-checkbox"]]],[14,0,"toggle-checkbox"],[14,4,"checkbox"],[12],[13],[2,"\\n    "],[10,"label"],[15,0,[31,[[30,[36,1],[[32,0,["more"]],"flex","hidden"],null]]]],[15,"for",[31,["error-",[32,1],"-checkbox"]]],[12],[1,[30,[36,2],["dotdotdot"],null]],[13],[2,"\\n    "],[10,"span"],[12],[1,[32,2]],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["did-insert","if","svg-jar"]}',moduleName:"ghost-admin/components/posts/debug/email-error-message.hbs"})
let l=(i=Ember._tracked,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="more",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}setup(e){const t=e.querySelector("span")
e.offsetWidth<=t.offsetWidth&&(this.more=!0)}},a=s(r.prototype,"more",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(r.prototype,"setup",[n],Object.getOwnPropertyDescriptor(r.prototype,"setup"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/posts/feedback-events-chart",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"i84SIOkw",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-feedback-events-feed"],[4,[38,0],["mouseleave",[32,0,["onMouseleave"]]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-feedback-events-feed-container"],[12],[2,"\\n        "],[8,"ember-chart",[],[["@type","@data","@options","@height","@width"],["doughnut",[32,0,["chartData"]],[32,0,["chartOptions"]],220,220]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[11,"div"],[24,0,"gh-feedback-events-tooltip"],[24,1,"gh-feedback-events-tooltip"],[4,[38,1],[[32,0,["onTooltipInsert"]]],null],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-feedback-events-tooltip-body"],[12],[2,"\\n                "],[10,"span"],[14,0,"gh-feedback-events-tooltip-badge"],[15,5,[30,[36,3],[[30,[36,2],["background-color: ",[32,0,["tooltipData","color"]]],null]],null]],[12],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-feedback-events-tooltip-info"],[12],[1,[32,0,["tooltipData","value"]]],[13],[2,"\\n                "],[10,"span"],[12],[1,[32,0,["tooltipData","percent"]]],[2,"%"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"span"],[14,0,"gh-feedback-events-tooltip-metric"],[12],[1,[32,0,["tooltipData","label"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","did-insert","concat","html-safe"]}',moduleName:"ghost-admin/components/posts/feedback-events-chart.hbs"})
let m=(i=Ember.inject.service,n=Ember._tracked,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"feature",o,this),u(this,"tooltipData",l,this),c(this,"tooltipNode",null)}onTooltipInsert(e){this.tooltipNode=e}onMouseleave(){this.tooltipNode.style.display="none"}getSumOfData(){return this.args.data.values.reduce(((e,t)=>e+t),0)}setTooltipData(e){this.tooltipData=e}get chartOptions(){return{cutoutPercentage:70,title:{display:!1},legend:{display:!1},tooltips:{enabled:!1,mode:"label",custom:function(e){const t=document.getElementById("gh-feedback-events-tooltip")
t.style.display="block",t.style.opacity="1",t.style.position="absolute",t.style.left=e.x+-50+"px",t.style.top=e.y+-100+"px",t.style.pointerEvents="all"},callbacks:{label:(e,t)=>{const i=t.labels[e.index]||"",n=t.datasets[e.datasetIndex].data[e.index]||0,r=Math.round(n/this.getSumOfData()*100),a={color:t.datasets[e.datasetIndex].backgroundColor[e.index],href:this.args.data.links[e.index],value:n.toLocaleString("en-US"),label:i,percent:r}
this.setTooltipData(a)},title:()=>null}},aspectRatio:1}}get chartData(){let e=this.feature.nightShift?"#15171A":"#fff"
return{labels:this.args.data.labels,datasets:[{label:"Feedback events",data:this.args.data.values,backgroundColor:this.args.data.colors,borderWidth:2,borderColor:e,hoverBorderWidth:2,hoverBorderColor:e}]}}},o=d(s.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"tooltipData",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),d(s.prototype,"onTooltipInsert",[r],Object.getOwnPropertyDescriptor(s.prototype,"onTooltipInsert"),s.prototype),d(s.prototype,"onMouseleave",[a],Object.getOwnPropertyDescriptor(s.prototype,"onMouseleave"),s.prototype),s)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/posts/links-table",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f
function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"ow0cimda",block:'{"symbols":["link","@showSuccess"],"statements":[[6,[37,2],[[30,[36,8],[[30,[36,7],["audienceFeedback"],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n        Newsletter clicks\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[10,"div"],[14,0,"gh-post-analytics-box column gh-post-analytics-newsletter-clicks"],[12],[2,"\\n    "],[6,[37,2],[[30,[36,7],["audienceFeedback"],null]],null,[["default"],[{"statements":[[10,"h3"],[14,0,"gh-newsletter-clicks-header"],[12],[2,"Newsletter clicks"],[13]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"gh-links-list"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-links-list-header"],[12],[2,"\\n"],[6,[37,2],[[32,0,["showPagination"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-links-pagination-progress"],[12],[2,"\\n                Showing "],[1,[32,0,["startOffset"]]],[2,"-"],[1,[32,0,["endOffset"]]],[2," of "],[1,[32,0,["totalLinks"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-links-list-title"],[12],[2,"\\n                    "],[6,[37,2],[[30,[36,8],[[30,[36,7],["audienceFeedback"],null]],null]],null,[["default"],[{"statements":[[2,"Link"]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"gh-links-list-title"],[12],[2,"\\n                No. of Members\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-links-list-items"],[12],[2,"\\n"],[6,[37,10],[[30,[36,9],[[30,[36,9],[[32,0,["visibleLinks"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[15,0,[31,["gh-links-list-item ",[30,[36,2],[[30,[36,4],[[32,0,["editingLink"]],[32,1,["link","link_id"]]],null],"gh-links-list-item-edit-mode"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-links-list-url"],[12],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,0,["editingLink"]],[32,1,["link","link_id"]]],null]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[15,0,[31,["gh-links-list-input-container ",[30,[36,2],[[30,[36,4],[[32,0,["showError"]],[32,1,["link","link_id"]]],null],"error"],null]]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                            "],[11,"input"],[24,"aria-label","Link"],[24,0,"gh-input"],[16,"placeholder",[32,1,["link","to"]]],[16,2,[32,1,["link","to"]]],[24,"maxlength","300"],[24,"data-prevent-escape-close-modal","true"],[24,4,"text"],[4,[38,0],["input",[32,0,["updateLinkValue"]]],null],[4,[38,0],["blur",[32,0,["handleBlur"]]],null],[4,[38,5],["Enter",[32,0,["setLink"]]],null],[4,[38,5],["Escape",[32,0,["cancelEdit"]]],null],[4,[38,6],null,null],[12],[13],[2,"\\n"],[6,[37,2],[[30,[36,4],[[32,0,["showError"]],[32,1,["link","link_id"]]],null]],null,[["default","else"],[{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon gh-links-list-item-update-button"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,0],["mousedown",[32,0,["setLink"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"Retry"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[11,"button"],[24,0,"gh-btn gh-btn-green gh-btn-icon gh-links-list-item-update-button"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,0],["mousedown",[32,0,["setLink"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"Update"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-links-list-item-error"],[12],[2,"Please enter a valid link"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline gh-links-list-item-edit icon-only"],[24,"aria-label","Edit link"],[24,4,"button"],[4,[38,0],["click",[30,[36,3],[[32,0,["editLink"]],[32,1,["link","link_id"]]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"\\n                            "],[1,[30,[36,1],["pen"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"a"],[15,6,[31,[[32,1,["link","to"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[1,[32,1,["link","title"]]],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"span"],[15,0,[31,["gh-links-list-item-edited ",[30,[36,2],[[32,1,["link","edited"]],"gh-links-list-item-edited-show"],null]]]],[12],[2,"Â (edited)"],[13],[2,"\\n                    "],[10,"span"],[15,0,[31,["gh-links-list-item-success ",[30,[36,2],[[30,[36,4],[[32,2],[32,1,["link","link_id"]]],null],"gh-links-list-item-success-show"],null]]]],[12],[1,[30,[36,1],["check-circle"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-links-list-clicks"],[12],[1,[32,1,["count","clicks"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-links-pagination"],[12],[2,"\\n                "],[10,"span"],[14,0,"gh-links-info"],[12],[1,[30,[36,1],["arrow-right-tail"],null]],[2," "],[10,"span"],[14,0,"gh-links-info-normal"],[12],[2,"Sent a broken link? You can update it!"],[13],[10,"span"],[14,0,"gh-links-info-short"],[12],[2,"Update your broken link!"],[13],[13],[2,"\\n\\n"],[6,[37,11],[[30,[36,7],["audienceFeedback"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-links-pagination-actions"],[12],[2,"\\n                            "],[11,"button"],[16,0,[31,["gh-links-pagination-action gh-links-pagination-prev ",[30,[36,2],[[32,0,["disablePreviousPage"]],"gh-links-pagination-disabled"],null]]]],[16,"disabled",[32,0,["disablePreviousPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openPreviousPage"]]],null],[12],[2,"\\n                                "],[1,[30,[36,1],["arrow-left-pagination"],null]],[2,"\\n                                Previous\\n                            "],[13],[2,"\\n                            "],[11,"button"],[16,0,[31,["gh-links-pagination-action gh-links-pagination-next ",[30,[36,2],[[32,0,["disableNextPage"]],"gh-links-pagination-disabled"],null]]]],[16,"disabled",[32,0,["disableNextPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openNextPage"]]],null],[12],[2,"\\n                                Next\\n                                "],[1,[30,[36,1],["arrow-right-pagination"],null]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,11],[[30,[36,7],["audienceFeedback"],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-links-pagination-progress"],[12],[2,"\\n                        Showing "],[1,[32,0,["startOffset"]]],[2,"-"],[1,[32,0,["endOffset"]]],[2," of "],[1,[32,0,["totalLinks"]]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,2],[[32,0,["showPagination"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-links-pagination-actions"],[12],[2,"\\n                            "],[11,"button"],[16,0,[31,["gh-links-pagination-action gh-links-pagination-prev ",[30,[36,2],[[32,0,["disablePreviousPage"]],"gh-links-pagination-disabled"],null]]]],[16,"disabled",[32,0,["disablePreviousPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openPreviousPage"]]],null],[12],[2,"\\n                                "],[1,[30,[36,1],["arrow-left-pagination"],null]],[2,"\\n                                Previous\\n                            "],[13],[2,"\\n                            "],[11,"button"],[16,0,[31,["gh-links-pagination-action gh-links-pagination-next ",[30,[36,2],[[32,0,["disableNextPage"]],"gh-links-pagination-disabled"],null]]]],[16,"disabled",[32,0,["disableNextPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openNextPage"]]],null],[12],[2,"\\n                                Next\\n                                "],[1,[30,[36,1],["arrow-right-pagination"],null]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,7],["audienceFeedback"],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-post-activity-feed-pagination"],[12],[2,"\\n                        Showing "],[1,[32,0,["startOffset"]]],[2,"-"],[1,[32,0,["endOffset"]]],[2," of "],[1,[32,0,["totalLinks"]]],[2,"\\n                        "],[10,"div"],[14,0,"gh-post-activity-feed-pagination-group"],[12],[2,"\\n                            "],[11,"button"],[24,0,"gh-post-activity-feed-pagination-button gh-post-activity-feed-prev-button"],[24,"title","Previous page"],[16,"disabled",[32,0,["disablePreviousPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openPreviousPage"]]],null],[12],[2,"\\n                                "],[1,[30,[36,1],["arrow-left-pagination"],null]],[2,"\\n                            "],[13],[2,"\\n\\n                            "],[11,"button"],[24,0,"gh-post-activity-feed-pagination-button gh-post-activity-feed-next-button"],[24,"title","Next page"],[16,"disabled",[32,0,["disableNextPage"]]],[24,4,"button"],[4,[38,0],["click",[32,0,["openNextPage"]]],null],[12],[2,"\\n                                "],[1,[30,[36,1],["arrow-right-pagination"],null]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on","svg-jar","if","fn","eq","on-key","autofocus","feature","not","-track-array","each","unless"]}',moduleName:"ghost-admin/components/posts/links-table.hbs"})
let k=(i=Ember._tracked,n=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=class extends t.default{constructor(...e){super(...e),v(this,"page",h,this),v(this,"editingLink",b,this),v(this,"showError",g,this),v(this,"_linkValue",f,this)}handleBlur(e){e?.preventDefault(),this.editingLink&&!e?.relatedTarget?.matches(".gh-links-list-item-update-button")&&this.cancelEdit()}editLink(e){this.editingLink=e
const t=this.links.find((t=>t.link.link_id===e))?.link?.to
this._linkValue=t||""}cancelEdit(e){e?.preventDefault(),this.editingLink=null,this.showError=null}updateLinkValue(e){this._linkValue=e.target.value}setLink(e){e?.preventDefault()
try{const e=new URL(this._linkValue)
this.links.find((e=>e.link.link_id===this.editingLink)).link.to!==e.href&&this.args.updateLink(this.editingLink,e.href),this.editingLink=null,this.showError=null}catch(t){this.showError=this.editingLink}}get links(){return this.args.links}get visibleLinks(){return this.links.slice(this.startOffset-1,this.endOffset)}get startOffset(){return 5*(this.page-1)+1}get endOffset(){return Math.min(5*this.page,this.links.length)}get totalPages(){return Math.ceil(this.links.length/5)}get totalLinks(){return this.links.length}get showPagination(){return this.totalPages>1}get disablePreviousPage(){return 1===this.page}get disableNextPage(){return this.page===this.totalPages}openPreviousPage(){this.disablePreviousPage||(this.page-=1)}openNextPage(){this.disableNextPage||(this.page+=1)}},h=y(m.prototype,"page",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),b=y(m.prototype,"editingLink",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y(m.prototype,"showError",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=y(m.prototype,"_linkValue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y(m.prototype,"handleBlur",[s],Object.getOwnPropertyDescriptor(m.prototype,"handleBlur"),m.prototype),y(m.prototype,"editLink",[o],Object.getOwnPropertyDescriptor(m.prototype,"editLink"),m.prototype),y(m.prototype,"cancelEdit",[l],Object.getOwnPropertyDescriptor(m.prototype,"cancelEdit"),m.prototype),y(m.prototype,"updateLinkValue",[u],Object.getOwnPropertyDescriptor(m.prototype,"updateLinkValue"),m.prototype),y(m.prototype,"setLink",[c],Object.getOwnPropertyDescriptor(m.prototype,"setLink"),m.prototype),y(m.prototype,"openPreviousPage",[d],Object.getOwnPropertyDescriptor(m.prototype,"openPreviousPage"),m.prototype),y(m.prototype,"openNextPage",[p],Object.getOwnPropertyDescriptor(m.prototype,"openNextPage"),m.prototype),m)
e.default=k,Ember._setComponentTemplate(w,k)})),define("ghost-admin/components/posts/old-analytics",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x
function S(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function C(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function M(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const D=Ember.HTMLBars.template({id:"5U/ujnPF",block:'{"symbols":["publishedAt","@post"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,7],[[32,0,["loadData"]]],null],[12],[2,"\\n\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header gh-post-analytics-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column flex-grow-1"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                    Posts\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,8],["arrow-right-small"],null]],[2,"Analytics\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title gh-post-title"],[12],[2,"\\n                "],[1,[32,0,["post","title"]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-post-analytics-meta"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-analytics-meta-text"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","hasBeenEmailed"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["post","emailOnly"]]],null,[["default","else"],[{"statements":[[2,"                            Sent\\n"]],"parameters":[]},{"statements":[[2,"                            Published and sent\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        Published\\n"],[6,[37,1],[[32,2,["didEmailFail"]]],null,[["default","else"],[{"statements":[[2,"                            but failed to send\\n"]],"parameters":[]},{"statements":[[2,"                            on your site\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,10],[[30,[36,9],[[32,0,["post","publishedAtUTC"]]],null]],null,[["default"],[{"statements":[[2,"                        on\\n                        "],[1,[30,[36,6],[[32,1],"D MMM YYYY"],null]],[2,"\\n                        at\\n                        "],[1,[30,[36,6],[[32,1],"HH:mm"],null]],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-post-list-cta edit"],[24,"title",""]],[["@route","@models"],["editor.edit",[30,[36,11],[[32,0,["post","displayName"]],[32,0,["post","id"]]],null]]],[["default"],[{"statements":[[2,"\\n                    "],[1,[30,[36,8],["pen"],[["title"],[""]]]],[10,"span"],[12],[2,"Edit post"],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n        Engagement\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-post-analytics-box"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","hasBeenEmailed"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-post-analytics-item"],[12],[2,"\\n                "],[8,"link-to",[],[["@route","@query"],["members",[30,[36,3],null,[["filterParam"],[[30,[36,2],["emails.post_id:[",[32,0,["post","id"]],"]"],null]]]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"h3"],[12],[1,[30,[36,4],[[32,0,["post","email","emailCount"]]],null]],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Sent"],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["post","showEmailOpenAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-post-analytics-item"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@query"],["members",[30,[36,3],null,[["filterParam"],[[30,[36,2],["opened_emails.post_id:[",[32,0,["post","id"]],"]"],null]]]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"h3"],[12],[1,[30,[36,4],[[32,0,["post","email","openedCount"]]],null]],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Opened â€” "],[10,"strong"],[12],[1,[32,0,["post","email","openRate"]]],[2,"%"],[13],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["post","showEmailClickAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-post-analytics-item"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@query"],["members",[30,[36,3],null,[["filterParam"],[[30,[36,2],["clicked_links.post_id:[",[32,0,["post","id"]],"]"],null]]]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"h3"],[12],[1,[30,[36,4],[[32,0,["post","count","clicks"]]],null]],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Clicked â€” "],[10,"strong"],[12],[1,[32,0,["post","clickRate"]]],[2,"%"],[13],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["post","showAttributionAnalytics"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-post-analytics-item"],[12],[2,"\\n                "],[8,"link-to",[],[["@route","@query"],["members",[30,[36,3],null,[["filterParam"],[[30,[36,2],["signup:[",[32,0,["post","id"]],"]"],null]]]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"h3"],[12],[1,[30,[36,4],[[32,0,["post","count","signups"]]],null]],[13],[2,"\\n                    "],[10,"p"],[12],[1,[30,[36,5],[[32,0,["post","count","signups"]],"signup"],[["without-count"],[true]]]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["post","showPaidAttributionAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-post-analytics-item"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route","@query"],["members",[30,[36,3],null,[["filterParam"],[[30,[36,2],["conversion:[",[32,0,["post","id"]],"]"],null]]]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"h3"],[12],[1,[30,[36,4],[[32,0,["post","count","paid_conversions"]]],null]],[13],[2,"\\n                        "],[10,"p"],[12],[10,"span"],[14,0,"hide-when-small"],[12],[2,"Paid "],[13],[1,[30,[36,5],[[32,0,["post","count","paid_conversions"]],"conversion"],[["without-count"],[true]]]],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["isLoaded"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["showLinks"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[32,0,["links"]]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                "],[8,"posts/links-table",[],[["@links","@updateLink","@showSuccess"],[[32,0,["links"]],[32,0,["updateLink"]],[32,0,["showSuccess"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showSources"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[32,0,["sources"]]],null]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n                    Growth from this post\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-post-analytics-box column"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-attribution-box"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-attribution-table-column"],[12],[2,"\\n                            "],[8,"member-attribution/source-attribution-table",[],[["@sources","@sortColumn","@setSortColumn"],[[32,0,["sources"]],[32,0,["sortColumn"]],[32,0,["setSortColumn"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"\\n            Get started with analytics\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-post-analytics-box resources"],[12],[2,"\\n            "],[10,"a"],[14,6,"https://ghost.org/help/post-analytics/"],[14,"target","_blank"],[14,0,"gh-post-analytics-resource"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/analytics-1-aa2d72c4e7347a3cb5666d07916b92aa.jpg);"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-between"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"Understanding analytics in Ghost"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Find out how to review the performance of your content and get the most out of post analytics in Ghost."],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Read more â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,6,"https://ghost.org/resources/content-distribution/"],[14,"target","_blank"],[14,0,"gh-post-analytics-resource"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/analytics-2-389d53f80041ff98111cce79facf66b8.jpg);"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"flex flex-column justify-between"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"How to get your content seen online"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Use these content distribution tactics to get more people to discover your work and increase engagement."],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Read more â†’"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"div"],[14,0,"gh-post-analytics-loading"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-loading-spinner-outer"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["is-empty","if","concat","hash","format-number","gh-pluralize","moment-format","did-insert","svg-jar","moment-site-tz","let","array"]}',moduleName:"ghost-admin/components/posts/old-analytics.hbs"}),A=[{name:"Free signups",value:"signups"},{name:"Paid conversions",value:"paid"}]
let I=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=class extends t.default{constructor(...e){super(...e),S(this,"ajax",y,this),S(this,"ghostPaths",w,this),S(this,"settings",k,this),S(this,"membersUtils",E,this),S(this,"utils",P,this),S(this,"feature",O,this),S(this,"sources",j,this),S(this,"links",_,this),S(this,"sortColumn",T,this),S(this,"showSuccess",z,this),S(this,"updateLinkId",x,this),C(this,"displayOptions",A)}get post(){return this.args.post}get allowedDisplayOptions(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions:this.displayOptions.filter((e=>"paid"===e.value)):this.displayOptions.filter((e=>"signups"===e.value))}get isDropdownDisabled(){return!this.hasPaidConversionData||!this.hasFreeSignups}get selectedDisplayOption(){return this.hasPaidConversionData?this.hasFreeSignups?this.displayOptions.find((e=>e.value===this.sortColumn))??this.displayOptions[0]:this.displayOptions.find((e=>"paid"===e.value)):this.displayOptions.find((e=>"signups"===e.value))}get selectedSortColumn(){return this.hasPaidConversionData?this.hasFreeSignups?this.sortColumn:"paid":"signups"}get hasPaidConversionData(){return this.sources.some((e=>e.paidConversions>0))}get hasFreeSignups(){return this.sources.some((e=>e.signups>0))}onDisplayChange(e){this.sortColumn=e.value}setSortColumn(e){this.sortColumn=e}updateLink(e,t){return this._updateLinks.isRunning?this._updateLinks.last:this._updateLinks.perform(e,t)}loadData(){this.showSources?this.fetchReferrersStats():this.sources=[],this.showLinks?this.fetchLinks():this.links=[]}updateLinkData(e){let t
t=this.links?.length?this.links.map((t=>{let i=e.find((e=>e.link.link_id===t.link.link_id))
return i?{...i,link:{...i.link,originalTo:i.link.to,to:this.utils.cleanTrackedUrl(i.link.to,!1),title:this.utils.cleanTrackedUrl(i.link.to,!0)}}:t})):e.map((e=>({...e,link:{...e.link,originalTo:e.link.to,to:this.utils.cleanTrackedUrl(e.link.to,!1),title:this.utils.cleanTrackedUrl(e.link.to,!0)}})))
const i=t.reduce(((e,t)=>(e[t.link.title]?e[t.link.title].clicks+=t.clicks:e[t.link.title]=t,e)),{})
this.links=Object.values(i)}async fetchReferrersStats(){try{return this._fetchReferrersStats.isRunning?this._fetchReferrersStats.last:this._fetchReferrersStats.perform()}catch(e){if(!(0,i.didCancel)(e))throw e}}async fetchLinks(){return this._fetchLinks.isRunning?this._fetchLinks.last:this._fetchLinks.perform()}*_updateLinks(e,t){let i
this.updateLinkId=e,this.links=this.links?.map((n=>n.link.link_id===e?(i=new URL(n.link.originalTo),{...n,link:{...n.link,to:this.utils.cleanTrackedUrl(t,!1),title:this.utils.cleanTrackedUrl(t,!0)}}):n))
const n=`post_id:${this.post.id}+to:'${i}'`
let r=this.ghostPaths.url.api("links/bulk")+`?filter=${encodeURIComponent(n)}`
yield this.ajax.put(r,{data:{bulk:{action:"updateLink",meta:{link:{to:t}}}}})
const a=`post_id:${this.post.id}`
let s=this.ghostPaths.url.api("links/")+`?filter=${encodeURIComponent(a)}`,o=yield this.ajax.request(s)
this.updateLinkData(o.links),this.showSuccess=this.updateLinkId,setTimeout((()=>{this.showSuccess=null}),2e3)}*_fetchReferrersStats(){let e=this.ghostPaths.url.api(`stats/referrers/posts/${this.post.id}`),t=yield this.ajax.request(e)
this.sources=t.stats.map((e=>({source:e.source??"Direct",signups:e.signups,paidConversions:e.paid_conversions})))}*_fetchLinks(){const e=`post_id:${this.post.id}`
let t=this.ghostPaths.url.api("links/")+`?filter=${encodeURIComponent(e)}`,i=yield this.ajax.request(t)
this.updateLinkData(i.links)}get showLinks(){return this.post.showEmailClickAnalytics}get showSources(){return this.post.showAttributionAnalytics}get isLoaded(){return null!==this.links&&null!==this.souces}},y=M(v.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=M(v.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=M(v.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=M(v.prototype,"membersUtils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=M(v.prototype,"utils",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=M(v.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=M(v.prototype,"sources",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=M(v.prototype,"links",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=M(v.prototype,"sortColumn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"signups"}}),z=M(v.prototype,"showSuccess",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M(v.prototype,"updateLinkId",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M(v.prototype,"onDisplayChange",[h],Object.getOwnPropertyDescriptor(v.prototype,"onDisplayChange"),v.prototype),M(v.prototype,"setSortColumn",[b],Object.getOwnPropertyDescriptor(v.prototype,"setSortColumn"),v.prototype),M(v.prototype,"updateLink",[g],Object.getOwnPropertyDescriptor(v.prototype,"updateLink"),v.prototype),M(v.prototype,"loadData",[f],Object.getOwnPropertyDescriptor(v.prototype,"loadData"),v.prototype),M(v.prototype,"_updateLinks",[i.task],Object.getOwnPropertyDescriptor(v.prototype,"_updateLinks"),v.prototype),M(v.prototype,"_fetchReferrersStats",[i.task],Object.getOwnPropertyDescriptor(v.prototype,"_fetchReferrersStats"),v.prototype),M(v.prototype,"_fetchLinks",[i.task],Object.getOwnPropertyDescriptor(v.prototype,"_fetchLinks"),v.prototype),v)
e.default=I,Ember._setComponentTemplate(D,I)})),define("ghost-admin/components/posts/post-activity-feed",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"/d7WWJGx",block:'{"symbols":["eventsFetcher","stubs","event","parsedEvent","@data","@post","@eventType"],"statements":[[10,"div"],[14,0,"gh-post-activity-feed"],[12],[2,"\\n"],[6,[37,6],[[30,[36,16],null,[["filter","pageSize"],[[30,[36,15],null,[["post","includeEvents"],[[32,6,["id"]],[32,0,["getEventTypes"]]]]],[32,0,["pageSize"]]]]]],null,[["default"],[{"statements":[[6,[37,7],[[32,1,["isError"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-list-error"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"There was an error loading events"],[13],[2,"\\n"],[6,[37,7],[[32,1,["errorMessage"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"code"],[12],[1,[32,1,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,14],[[30,[36,13],[[32,1,["data"]]],null],[30,[36,13],[[32,1,["isLoading"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-dashboard-list-body"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-post-activity-feed-empty"],[12],[2,"\\n                    "],[10,"div"],[14,0,"attribution-list-empty"],[12],[2,"\\n"],[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"sent"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,3],["empty-sent"],null]],[2,"\\n                            "],[10,"h4"],[12],[2,"No members have received your email yet"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Once someone receives your email, you\'ll be able to see the member activity here."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"opened"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,3],["empty-opened"],null]],[2,"\\n                            "],[10,"h4"],[12],[2,"No members have opened your newsletter"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Once someone opens, you\'ll see them listed here."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"clicked"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,3],["empty-clicked"],null]],[2,"\\n                            "],[10,"h4"],[12],[2,"No links have been clicked in your newsletter"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Once a member clicks a link, you\'ll see them listed here."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"feedback"],null]],null,[["default","else"],[{"statements":[[2,"                            "],[1,[30,[36,3],["empty-feedback"],null]],[2,"\\n                            "],[10,"h4"],[12],[2,"No members have given feedback yet"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"When someone does, you\'ll see their response here."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"conversion"],null]],null,[["default"],[{"statements":[[2,"                            "],[1,[30,[36,3],["empty-conversion"],null]],[2,"\\n                            "],[10,"h4"],[12],[2,"No members have signed up on this post"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"When someone new signs up, you\'ll see them here."],[13],[2,"\\n                        "]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[15,0,[31,["gh-dashboard-list-body gh-dashboard-list-cols-",[32,0,["eventType"]]]]],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1,["data"]]],null]],null]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,12],[[32,3]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-dashboard-list-item"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n"],[6,[37,7],[[32,4,["member"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[8,"gh-member-avatar",[],[["@member","@containerClass"],[[32,4,["member"]],"w6 h6 mr3 flex-shrink-0"]],null],[2,"\\n                                    "],[8,"link-to",[[24,0,"gh-dashboard-list-text"]],[["@route","@model","@query"],["member",[31,[[32,4,["memberId"]]]],[30,[36,8],null,[["postAnalytics"],[[32,6,["id"]]]]]]],[["default"],[{"statements":[[1,[32,4,["subject"]]]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,7],[[32,4,["email"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[8,"gh-member-avatar",[],[["@name","@containerClass"],[[32,4,["subject"]],"w6 h6 mr3 flex-shrink-0"]],null],[2,"\\n                                        "],[10,"a"],[14,0,"gh-dashboard-list-text"],[15,6,[31,["mailto:",[32,4,["email"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[15,"title",[31,[[32,4,["email"]]]]],[12],[1,[32,4,["subject"]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[8,"gh-member-avatar",[],[["@name","@containerClass"],[[32,4,["subject"]],"w6 h6 mr3 flex-shrink-0"]],null],[2,"\\n                                        "],[10,"span"],[14,0,"gh-dashboard-list-text"],[12],[1,[32,4,["subject"]]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                "],[1,[30,[36,3],[[32,4,["icon"]]],null]],[2,"\\n                                "],[10,"span"],[14,0,"gh-dashboard-list-subtext"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-members-activity-description"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-members-activity-event-text"],[12],[1,[30,[36,9],[[32,4,["action"]]],null]],[13],[2,"\\n"],[6,[37,7],[[32,4,["info"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"highlight"],[12],[2,"Â ("],[1,[32,4,["info"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,7],[[30,[36,10],[[32,0,["eventType"]],"conversion"],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n"],[6,[37,7],[[32,4,["source"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"span"],[14,"title","Source"],[14,0,"gh-members-activity-description"],[12],[1,[30,[36,3],["event-extras-source"],null]],[10,"span"],[14,0,"gh-members-activity-event-text"],[12],[1,[32,4,["source","name"]]],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"â€”"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-item-sub"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-dashboard-list-subtext"],[12],[1,[30,[36,11],[[32,4,["timestamp"]]],null]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[4]}]]]],"parameters":[3]}]]],[2,"\\n"],[6,[37,7],[[30,[36,1],[[30,[36,0],[[32,0,["areStubsNeeded"]],[32,1]],null]],null]],null,[["default"],[{"statements":[[6,[37,6],[[30,[36,1],[[30,[36,0],[[32,0,["getAmountOfStubs"]],[32,1]],null]],null]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,2]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-dashboard-list-item gh-dashboard-list-item-stub"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-post-activity-feed-footer"],[12],[2,"\\n                    "],[8,"posts/post-activity-feed/footer-links",[],[["@eventType","@post"],[[32,0,["eventType"]],[32,6]]],null],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-post-activity-feed-pagination"],[12],[2,"\\n"],[6,[37,7],[[30,[36,1],[[30,[36,0],[[32,0,["isPaginationNotNeeded"]],[32,1]],null]],null]],null,[["default","else"],[{"statements":[[2,"                            Showing "],[1,[32,1,["totalEvents"]]],[2," in total\\n"]],"parameters":[]},{"statements":[[2,"                            Showing "],[1,[32,1,["previousEvents"]]],[2,"-"],[1,[32,1,["shownEvents"]]],[2," of "],[1,[32,1,["totalEvents"]]],[2,"\\n\\n                            "],[10,"div"],[14,0,"gh-post-activity-feed-pagination-group"],[12],[2,"\\n                                "],[11,"button"],[24,0,"gh-post-activity-feed-pagination-button gh-post-activity-feed-prev-button"],[24,"title","Previous page"],[16,"disabled",[30,[36,1],[[30,[36,0],[[32,0,["isPreviousButtonDisabled"]],[32,1]],null]],null]],[24,4,"button"],[4,[38,2],["click",[32,1,["loadPreviousPage"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,3],["arrow-left-pagination"],null]],[2,"\\n                                "],[13],[2,"\\n\\n                                "],[11,"button"],[24,0,"gh-post-activity-feed-pagination-button gh-post-activity-feed-next-button"],[24,"title","Next page"],[16,"disabled",[30,[36,1],[[30,[36,0],[[32,0,["isNextButtonDisabled"]],[32,1]],null]],null]],[24,4,"button"],[4,[38,2],["click",[32,1,["loadNextPage"]]],null],[12],[2,"\\n                                    "],[1,[30,[36,3],["arrow-right-pagination"],null]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,7],[[30,[36,10],[[32,7],"feedback"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"posts/feedback-events-chart",[],[["@data"],[[32,5]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","compute","on","svg-jar","-track-array","each","let","if","hash","capitalize-first-letter","eq","moment-from-now","parse-member-event","not","and","members-event-filter","activity-feed-fetcher"]}',moduleName:"ghost-admin/components/posts/post-activity-feed.hbs"})
let m=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feature",r=this,(n=u)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),c(this,"_pageSize",5),c(this,"_eventTypes",{sent:["email_sent_event","email_delivered_event","email_failed_event"],opened:["email_opened_event"],clicked:["aggregated_click_event"],feedback:["feedback_event"],conversion:["subscription_event","signup_event"]})}get getEventTypes(){return this._eventTypes[this.args.eventType]}get pageSize(){return this._pageSize}get eventType(){return this.args.eventType}getAmountOfStubs({data:e}){const t=this._pageSize-e.length
return new Array(t).fill(1)}isPreviousButtonDisabled({hasReachedStart:e,isLoading:t}){return e||t}isNextButtonDisabled({hasReachedEnd:e,isLoading:t}){return e||t}isPaginationNotNeeded({totalEvents:e}){return e<=this._pageSize}areStubsNeeded({totalEvents:e}){return e>this._pageSize||"feedback"===this.args.eventType}},u=d(l.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(l.prototype,"getAmountOfStubs",[n],Object.getOwnPropertyDescriptor(l.prototype,"getAmountOfStubs"),l.prototype),d(l.prototype,"isPreviousButtonDisabled",[r],Object.getOwnPropertyDescriptor(l.prototype,"isPreviousButtonDisabled"),l.prototype),d(l.prototype,"isNextButtonDisabled",[a],Object.getOwnPropertyDescriptor(l.prototype,"isNextButtonDisabled"),l.prototype),d(l.prototype,"isPaginationNotNeeded",[s],Object.getOwnPropertyDescriptor(l.prototype,"isPaginationNotNeeded"),l.prototype),d(l.prototype,"areStubsNeeded",[o],Object.getOwnPropertyDescriptor(l.prototype,"areStubsNeeded"),l.prototype),l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/posts/post-activity-feed/footer-links",["exports","@glimmer/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"QJcWVwiA",block:'{"symbols":["link","@post","@eventType"],"statements":[[6,[37,4],[[30,[36,3],[[32,3],"sent"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"posts/post-activity-feed/link",[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"link-to",[[24,0,"gh-post-activity-feed-pagination-link"]],[["@route","@query"],["members",[30,[36,0],null,[["filterParam","postAnalytics"],[[30,[36,5],["emails.post_id:",[32,2,["id"]]],null],[32,2,["id"]]]]]]],[["default"],[{"statements":[[2,"\\n            Sent\\n        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,3],[[32,3],"opened"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"posts/post-activity-feed/link",[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"link-to",[[24,0,"gh-post-activity-feed-pagination-link"]],[["@route","@query"],["members",[30,[36,0],null,[["filterParam","postAnalytics"],[[30,[36,5],["opened_emails.post_id:",[32,2,["id"]]],null],[32,2,["id"]]]]]]],[["default"],[{"statements":[[2,"\\n            Opened\\n        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,3],[[32,3],"clicked"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"posts/post-activity-feed/link",[],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"link-to",[[24,0,"gh-post-activity-feed-pagination-link"]],[["@route","@query"],["members",[30,[36,0],null,[["filterParam","postAnalytics"],[[30,[36,5],["clicked_links.post_id:",[32,2,["id"]]],null],[32,2,["id"]]]]]]],[["default"],[{"statements":[[2,"\\n            Clicked\\n        "]],"parameters":[]}]]],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[30,[36,3],[[32,3],"feedback"],null]],null,[["default"],[{"statements":[[2,"    "],[8,"posts/post-activity-feed/link",[],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["feedbackLinks"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[8,"link-to",[[24,0,"gh-post-activity-feed-pagination-link"]],[["@route","@query"],["members",[30,[36,0],null,[["filterParam","postAnalytics"],[[32,1,["filterParam"]],[32,2,["id"]]]]]]],[["default"],[{"statements":[[2,"\\n                "],[1,[32,1,["label"]]],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[1,[32,1,["separator"]]],[2,"\\n"]],"parameters":[1]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","-track-array","each","eq","if","concat"]}',moduleName:"ghost-admin/components/posts/post-activity-feed/footer-links.hbs"})
class n extends t.default{get feedbackLinks(){const e=this.args.post,t={filterParam:"(feedback.post_id:"+e.id+"+feedback.score:1)",label:"More like this"},i={filterParam:"(feedback.post_id:"+e.id+"+feedback.score:0)",label:"Less like this"},n=[{link:t,hidden:!e.count.positive_feedback},{link:i,hidden:!e.count.negative_feedback}],r=this.collectLinks(n)
return this.addSeparator(r,"and")}collectLinks(e){const t=[]
return e.forEach((e=>{e.hidden||t.push(e.link)})),t}addSeparator(e,t){const i=[]
return e.forEach(((n,r)=>{const a={...n}
e.length-1===r||(a.separator=t),i.push(a)})),i}}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/posts/post-activity-feed/link",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"4xQy0/UG",block:'{"symbols":["&default"],"statements":[[10,"div"],[14,0,"gh-post-activity-feed-pagination-link-wrapper"],[12],[2,"\\n    "],[1,[30,[36,0],["filter"],null]],[2,"\\n    View members for\\n    "],[18,1,null],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/posts/post-activity-feed/link.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/power-calendar-multiple",["exports","ember-power-calendar/components/power-calendar-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-multiple/days",["exports","ember-power-calendar/components/power-calendar-multiple/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-range",["exports","ember-power-calendar/components/power-calendar-range"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar-range/days",["exports","ember-power-calendar/components/power-calendar-range/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar",["exports","ember-power-calendar/components/power-calendar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar/days",["exports","ember-power-calendar/components/power-calendar/days"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-calendar/nav",["exports","ember-power-calendar/components/power-calendar/nav"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-datepicker",["exports","ember-power-datepicker/components/power-datepicker"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select-multiple",["exports","ember-power-select/components/power-select-multiple"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select-multiple/trigger",["exports","ember-power-select/components/power-select-multiple/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select-vertical-collection-options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=Ember.HTMLBars.template({id:"v5WOoGVi",block:'{"symbols":["opt","index","@select","@groupIndex","&default","@loadingMessage","&attrs","@options"],"statements":[[2,"\\n"],[11,"ul"],[24,"role","listbox"],[16,"aria-controls",[31,["ember-power-select-trigger-",[32,3,["uniqueId"]]]]],[17,7],[4,[38,3],[[32,0,["addHandlers"]]],null],[12],[2,"\\n"],[6,[37,1],[[32,3,["loading"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,6]],null,[["default"],[{"statements":[[2,"            "],[10,"li"],[14,0,"ember-power-select-option ember-power-select-option--loading-message"],[14,"role","option"],[14,"aria-selected","false"],[14,"aria-disabled","true"],[12],[1,[32,6]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,8]],[["minHeight","estimateHeight","bufferSize"],[30,6,10]],[["default"],[{"statements":[[2,"        "],[10,"li"],[14,0,"ember-power-select-option"],[15,"aria-selected",[31,[[30,[36,0],[[32,1],[32,3,["selected"]]],null]]]],[15,"aria-disabled",[30,[36,1],[[32,1,["disabled"]],"true"],null]],[15,"aria-current",[31,[[30,[36,2],[[32,1],[32,3,["highlighted"]]],null]]]],[15,"data-option-index",[31,[[32,4],[32,2]]]],[14,"role","option"],[12],[2,"\\n            "],[18,5,[[32,1],[32,3]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[1,2]}]]],[13]],"hasEval":false,"upvars":["ember-power-select-is-selected","if","eq","did-insert","vertical-collection"]}',moduleName:"ghost-admin/components/power-select-vertical-collection-options.hbs"})
class n extends t.default{}e.default=n,Ember._setComponentTemplate(i,n)})),define("ghost-admin/components/power-select",["exports","ember-power-select/components/power-select"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/before-options",["exports","ember-power-select/components/power-select/before-options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/components/power-select/no-matches-message",["exports","ember-power-select/components/power-select/no-matches-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/options",["exports","ember-power-select/components/power-select/options"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/placeholder",["exports","ember-power-select/components/power-select/placeholder"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/power-select-group",["exports","ember-power-select/components/power-select/power-select-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/search-message",["exports","ember-power-select/components/power-select/search-message"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/power-select/trigger",["exports","ember-power-select/components/power-select/trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/react-component",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"TEJ/hHTJ",block:'{"symbols":[],"statements":[[11,"div"],[4,[38,0],[[32,0,["renderComponent"]]],null],[12],[13]],"hasEval":false,"upvars":["did-insert"]}',moduleName:"ghost-admin/components/react-component.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/analytics",["exports","@glimmer/component","ghost-admin/utils/ghost-paths","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"si/Pozx+",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Newsletters"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Newsletter opens"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Record when a member opens an email\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[14,"for","email-track-opens"],[14,"data-test-label","email-track-opens"],[12],[2,"\\n                        "],[11,"input"],[24,1,"email-track-opens"],[16,"checked",[32,0,["settings","emailTrackOpens"]]],[24,"data-test-checkbox","email-track-opens"],[24,4,"checkbox"],[4,[38,0],["change",[32,0,["toggleEmailTrackOpens"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Newsletter clicks"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Record when a member clicks on any link in an email\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[14,"for","email-track-clicks"],[14,"data-test-label","email-track-clicks"],[12],[2,"\\n                        "],[11,"input"],[24,1,"email-track-clicks"],[16,"checked",[32,0,["settings","emailTrackClicks"]]],[24,"data-test-checkbox","email-track-clicks"],[24,4,"checkbox"],[4,[38,0],["change",[32,0,["toggleEmailTrackClicks"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Sources"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Member sources"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Track the traffic sources and posts that drive the most member growth\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[14,"for","members-track-sources"],[14,"data-test-label","members-track-sources"],[12],[2,"\\n                        "],[11,"input"],[24,1,"members-track-sources"],[16,"checked",[32,0,["settings","membersTrackSources"]]],[24,"data-test-checkbox","members-track-sources"],[24,4,"checkbox"],[4,[38,0],["change",[32,0,["toggleMembersTrackSources"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Outbound link tagging"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Make it easier for other sites to track the traffic you send them in their analytics\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[14,"for","outbound-link-tagging"],[14,"data-test-label","outbound-link-tagging"],[12],[2,"\\n                        "],[11,"input"],[24,1,"outbound-link-tagging"],[16,"checked",[32,0,["settings","outboundLinkTagging"]]],[24,"data-test-checkbox","outbound-link-tagging"],[24,4,"checkbox"],[4,[38,0],["change",[32,0,["toggleOutboundLinkTagging"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Posts"],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Export post analytics"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                        Download a CSV file of your last 1000 posts data for easy analysis in one place\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Export","Exported",[32,0,["exportPostsTask"]],"gh-btn gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/settings/analytics.hbs"})
let v=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),b(this,"settings",p,this),b(this,"feature",m,this),b(this,"utils",h,this)}toggleEmailTrackOpens(e){e&&e.preventDefault(),this.settings.emailTrackOpens=!this.settings.emailTrackOpens}*exportPostsTask(){let e=(0,i.default)().url.api("posts/export"),t=new URLSearchParams
return t.set("limit",1e3),yield this.utils.fetchAndDownloadFile(`${e}?${t.toString()}`),!0}toggleEmailTrackClicks(e){e&&e.preventDefault(),this.settings.emailTrackClicks=!this.settings.emailTrackClicks}toggleMembersTrackSources(e){e&&e.preventDefault(),this.settings.membersTrackSources=!this.settings.membersTrackSources}toggleOutboundLinkTagging(e){e&&e.preventDefault(),this.settings.outboundLinkTagging=!this.settings.outboundLinkTagging}},p=g(d.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(d.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(d.prototype,"utils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(d.prototype,"toggleEmailTrackOpens",[o],Object.getOwnPropertyDescriptor(d.prototype,"toggleEmailTrackOpens"),d.prototype),g(d.prototype,"exportPostsTask",[n.task],Object.getOwnPropertyDescriptor(d.prototype,"exportPostsTask"),d.prototype),g(d.prototype,"toggleEmailTrackClicks",[l],Object.getOwnPropertyDescriptor(d.prototype,"toggleEmailTrackClicks"),d.prototype),g(d.prototype,"toggleMembersTrackSources",[u],Object.getOwnPropertyDescriptor(d.prototype,"toggleMembersTrackSources"),d.prototype),g(d.prototype,"toggleOutboundLinkTagging",[c],Object.getOwnPropertyDescriptor(d.prototype,"toggleOutboundLinkTagging"),d.prototype),d)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/design/general-settings-form",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"O3WzWNZ+",block:'{"symbols":["&attrs","@didUpdate"],"statements":[[11,"div"],[24,0,"gh-stack"],[17,1],[12],[2,"\\n    "],[8,"settings/form-fields/site-description",[[24,0,"gh-stack-item gh-setting-first"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/accent-color",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-icon",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-logo",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n    "],[8,"settings/form-fields/publication-cover",[[24,0,"gh-stack-item gh-setting"]],[["@didUpdate"],[[32,2]]],null],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/components/settings/design/general-settings-form.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/design/theme-settings-form",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"h+YWmBh6",block:'{"symbols":["setting","index","@onChange","@themeSettings"],"statements":[[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n    "],[10,"form"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[30,[36,2],[[32,4]],null]],null]],null,[["default"],[{"statements":[[6,[37,1],[[32,1,["visible"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,0],[[32,1,["type"]],"select"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"custom-theme-settings/select",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"boolean"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"custom-theme-settings/boolean",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"color"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"custom-theme-settings/color",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"text"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"custom-theme-settings/text",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[30,[36,0],[[32,1,["type"]],"image"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"custom-theme-settings/image",[],[["@setting","@index","@onChange"],[[32,1],[32,2],[32,3]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]]],"parameters":[1,2]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","if","-track-array","each"]}',moduleName:"ghost-admin/components/settings/design/theme-settings-form.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/form-fields/accent-color",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"adf2lrFO",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[24,0,"gh-accent-color"],[17,1],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","accent-color"],[12],[2,"Accent color"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Primary color used in your publication theme"],[13],[2,"\\n        "],[10,"div"],[14,0,"w-100 flex flex-column flex-row-ns"],[12],[2,"\\n            "],[8,"gh-error-message",[[24,0,"w-100 red"]],[["@errors","@property"],[[32,0,["settings","errors"]],"accentColor"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-setting-action"],[14,"data-test-setting","accentColor"],[12],[2,"\\n        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property","@class"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"accentColor","input-color-form-group"]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                "],[11,"input"],[24,1,"accent-color"],[24,"placeholder","15171A"],[24,3,"accent-color"],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["accentColor"]]],[24,0,"gh-input"],[24,"data-test-input","accentColor"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[4,[38,1],["blur",[32,0,["updateAccentColor"]]],null],[4,[38,2],["Enter",[32,0,["blurElement"]]],null],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["accentColorBgStlye"]]],[12],[2,"\\n                    "],[11,"input"],[24,3,"accent-color"],[24,0,"color-picker"],[16,2,[31,[[32,0,["accentColorPickerValue"]]]]],[24,"aria-label","Accent color picker"],[24,4,"color"],[4,[38,1],["input",[30,[36,0],[[32,0,["debounceUpdateAccentColor"]]],null]],null],[12],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["perform","on","on-key"]}',moduleName:"ghost-admin/components/settings/form-fields/accent-color.hbs"})
let d=(n=Ember.inject.service,r=Ember._action,a=(0,i.task)({restartable:!0}),s=Ember._action,o=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=l)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get accentColor(){const e=this.settings.accentColor
return e&&"#"===e[0]?e.slice(1):e}get accentColorPickerValue(){return this.settings.accentColor||"#ffffff"}get accentColorBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.accentColorPickerValue}`)}willDestroy(){super.willDestroy?.(...arguments),this.settings.errors.remove("accentColor")}async updateAccentColor(e){let t=e.target.value
const i=this.settings.accentColor
if(this.settings.errors.remove("accentColor"),this.settings.hasValidated.removeObject("accentColor"),""===t){if(t===i)return
return this.settings.errors.add("accentColor","Please select an accent color"),void this.settings.hasValidated.pushObject("accentColor")}if(t||(t=i),"#"!==t[0]&&(t=`#${t}`),t.match(/#[0-9A-Fa-f]{6}$/)){if(t===i)return
this.settings.accentColor=t,this.args.didUpdate("accentColor",t)}else this.settings.errors.add("accentColor","Please enter a color in hex format"),this.settings.hasValidated.pushObject("accentColor")}*debounceUpdateAccentColor(e){yield(0,i.timeout)(500),this.updateAccentColor(e)}blurElement(e){e.preventDefault(),e.target.blur()}},l=u(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(o.prototype,"updateAccentColor",[r],Object.getOwnPropertyDescriptor(o.prototype,"updateAccentColor"),o.prototype),u(o.prototype,"debounceUpdateAccentColor",[a],Object.getOwnPropertyDescriptor(o.prototype,"debounceUpdateAccentColor"),o.prototype),u(o.prototype,"blurElement",[s],Object.getOwnPropertyDescriptor(o.prototype,"blurElement"),o.prototype),o)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/settings/form-fields/publication-cover",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const v=Ember.HTMLBars.template({id:"k2YAK/kO",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[24,"data-test-setting","coverImage"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-cover"],[12],[2,"Publication cover"],[13],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","coverImage"],[12],[1,[30,[36,5],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container flex flex-column items-stretch"],[12],[2,"\\n"],[6,[37,4],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,4],[[32,0,["settings","coverImage"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-start"],[12],[2,"\\n                    "],[11,"input"],[24,1,"publication-cover"],[24,0,"blog-cover"],[16,"src",[31,[[32,0,["settings","coverImage"]]]]],[24,"data-test-cover-img",""],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n"],[6,[37,4],[[30,[36,3],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"koenig-image-editor",[],[["@className","@imageSrc","@saveImage"],["gh-setting-action-largeimg-delete gh-setting-action-largeimg-edit",[32,0,["settings","coverImage"]],[30,[36,2],[[32,0,["saveImage"]],[32,1,["setFiles"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[11,"button"],[24,0,"gh-setting-action-largeimg-delete"],[24,"data-test-delete-image","coverImage"],[24,4,"button"],[4,[38,0],["click",[30,[36,2],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                        "],[1,[30,[36,1],["trash"],[["class"],["w4 h4"]]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"self-start"],[12],[2,"\\n                    "],[11,"button"],[24,1,"publication-cover"],[24,0,"gh-btn gh-btn-white"],[24,"data-test-image-upload-btn","coverImage"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload cover"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-white w10"],[24,"aria-label","Select photo from Unsplash"],[24,4,"button"],[4,[38,0],["click",[32,0,["toggleUnsplashSelector"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,1],["unsplash"],[["class"],["nudge-right--2 nudge-bottom--2"]]]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[10,"div"],[14,0,"dn"],[12],[2,"\\n                "],[8,"gh-file-input",[[24,"data-test-file-input","coverImage"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"An optional large background image for your site"],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["showUnsplashSelector"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-unsplash",[],[["@select","@close"],[[32,0,["setUnsplashImage"]],[32,0,["toggleUnsplashSelector"]]]],null],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","fn","feature","if","or","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-cover.hbs"})
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),b(this,"feature",p,this),b(this,"settings",m,this),b(this,"showUnsplashSelector",h,this),g(this,"imageExtensions",i.IMAGE_EXTENSIONS),g(this,"imageMimeTypes",i.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}update(e){this.settings.coverImage=e,this.args.didUpdate("coverImage",e)}toggleUnsplashSelector(){this.showUnsplashSelector=!this.showUnsplashSelector}saveImage(e,t){e([t])}setUnsplashImage({src:e}){this.update(e)}},p=f(d.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(d.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(d.prototype,"showUnsplashSelector",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f(d.prototype,"imageUploaded",[s],Object.getOwnPropertyDescriptor(d.prototype,"imageUploaded"),d.prototype),f(d.prototype,"update",[o],Object.getOwnPropertyDescriptor(d.prototype,"update"),d.prototype),f(d.prototype,"toggleUnsplashSelector",[l],Object.getOwnPropertyDescriptor(d.prototype,"toggleUnsplashSelector"),d.prototype),f(d.prototype,"saveImage",[u],Object.getOwnPropertyDescriptor(d.prototype,"saveImage"),d.prototype),f(d.prototype,"setUnsplashImage",[c],Object.getOwnPropertyDescriptor(d.prototype,"setUnsplashImage"),d.prototype),d)
e.default=y,Ember._setComponentTemplate(v,y)})),define("ghost-admin/components/settings/form-fields/publication-icon",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"QUxTejbU",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[24,"data-test-setting","icon"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@paramsHash","@onComplete"],[[32,0,["iconExtensions"]],[30,[36,5],null,[["purpose"],["icon"]]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-icon"],[12],[2,"Publication icon"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"A square, social icon, at least 60x60px"],[13],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","icon"],[12],[1,[30,[36,4],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[12],[2,"\\n"],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"            "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","icon"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-branding-image-container transparent-bg"],[12],[2,"\\n                "],[11,"input"],[24,1,"publication-icon"],[24,0,"blog-icon"],[16,"src",[32,0,["settings","icon"]]],[24,"data-test-icon-img",""],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n                "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,"data-test-delete-image","icon"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                    "],[1,[30,[36,2],["trash"],[["class"],["w4 h4"]]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[11,"button"],[24,1,"publication-icon"],[24,0,"gh-btn gh-btn-white self-center"],[24,"data-test-image-upload-btn","icon"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Upload icon"],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"        "],[10,"div"],[14,0,"dn"],[12],[2,"\\n            "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["iconMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","svg-jar","if","or","hash","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-icon.hbs"})
let d=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,n,r,a
super(...e),t=this,n="settings",a=this,(r=o)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),l(this,"iconExtensions",i.ICON_EXTENSIONS),l(this,"iconMimeTypes",i.ICON_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}update(e){this.settings.icon=e,this.args.didUpdate("icon",e)}},o=u(s.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(s.prototype,"imageUploaded",[r],Object.getOwnPropertyDescriptor(s.prototype,"imageUploaded"),s.prototype),u(s.prototype,"update",[a],Object.getOwnPropertyDescriptor(s.prototype,"update"),s.prototype),s)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/components/settings/form-fields/publication-logo",["exports","@glimmer/component","ghost-admin/components/gh-image-uploader"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"b8ER4G2P",block:'{"symbols":["uploader","error","&attrs"],"statements":[[11,"div"],[24,"data-test-setting","logo"],[17,3],[12],[2,"\\n    "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["imageUploaded"]]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","publication-logo"],[12],[2,"Publication logo"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"The primary logo, should be transparent and at least 600x72px"],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-setting-action gh-uploadbutton-container gh-setting-action-smallimg flex flex-column"],[14,5,"margin-top: 12px;"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","logo"],[12],[1,[30,[36,5],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[6,[37,3],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["settings","logo"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-branding-image-container largeimg justify-center transparent-bg"],[12],[2,"\\n                        "],[11,"input"],[24,1,"publication-logo"],[24,0,"blog-logo"],[16,"src",[32,0,["settings","logo"]]],[24,"data-test-logo-img",""],[24,4,"image"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"koenig-image-editor",[],[["@className","@imageSrc","@saveImage"],["gh-setting-action-smallimg-delete gh-setting-action-smallimg-edit",[32,0,["settings","logo"]],[30,[36,1],[[32,0,["saveImage"]],[32,1,["setFiles"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[11,"button"],[24,0,"gh-setting-action-smallimg-delete"],[24,"data-test-delete-image","logo"],[24,4,"button"],[4,[38,0],["click",[30,[36,1],[[32,0,["update"]],null],null]],null],[12],[2,"\\n                            "],[1,[30,[36,4],["trash"],[["class"],["w4 h4"]]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,1,"publication-logo"],[24,0,"gh-btn gh-btn-white self-start"],[24,"data-test-image-upload-btn","logo"],[24,4,"button"],[4,[38,0],["click",[32,1,["triggerFileDialog"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Upload logo"],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,0,"dn"],[12],[2,"\\n                    "],[8,"gh-file-input",[[24,"data-test-file-input","logo"]],[["@multiple","@action","@accept","@onInsert"],[false,[32,1,["setFiles"]],[32,0,["imageMimeTypes"]],[32,1,["registerFileInput"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","fn","feature","if","svg-jar","or","-track-array","each"]}',moduleName:"ghost-admin/components/settings/form-fields/publication-logo.hbs"})
let p=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){var t,n,r,a
super(...e),t=this,n="settings",a=this,(r=l)&&Object.defineProperty(t,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(this,"imageExtensions",i.IMAGE_EXTENSIONS),u(this,"imageMimeTypes",i.IMAGE_MIME_TYPES)}imageUploaded(e){e[0]&&this.update(e[0].url)}saveImage(e,t){e([t])}update(e){this.settings.logo=e,this.args.didUpdate("logo",e)}},l=c(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"imageUploaded",[r],Object.getOwnPropertyDescriptor(o.prototype,"imageUploaded"),o.prototype),c(o.prototype,"saveImage",[a],Object.getOwnPropertyDescriptor(o.prototype,"saveImage"),o.prototype),c(o.prototype,"update",[s],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),o)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/settings/form-fields/site-description",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"KDFDlXf3",block:'{"symbols":["&attrs"],"statements":[[11,"div"],[17,1],[12],[2,"\\n    "],[10,"div"],[14,0,"flex-grow-1"],[12],[2,"\\n        "],[10,"label"],[14,0,"gh-setting-title"],[14,"for","site-description"],[12],[2,"Site description"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-action"],[14,"data-test-setting","description"],[12],[2,"\\n            "],[8,"gh-form-group",[[24,0,"description-container"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                "],[11,"input"],[24,1,"site-description"],[24,0,"gh-input"],[16,2,[32,0,["settings","description"]]],[24,"data-test-input","siteDescription"],[24,4,"text"],[4,[38,0],["input",[32,0,["update"]]],null],[4,[38,0],["blur",[32,0,["validate"]]],null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"description"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-desc mb3"],[12],[2,"Used in your theme, meta data and search results"],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/settings/form-fields/site-description.hbs"})
let u=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}update(e){this.settings.description=e.target.value}async validate(e){const t=e.target.value
this.settings.description=t,await this.settings.validate({property:"description"}),this.args.didUpdate("description",t)}},s=o(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"update",[n],Object.getOwnPropertyDescriptor(a.prototype,"update"),a.prototype),o(a.prototype,"validate",[r],Object.getOwnPropertyDescriptor(a.prototype,"validate"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/settings/history/event-filter",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"9D0w5fJI",block:'{"symbols":["dd","type","idx","type","idx","@excludedResources","@excludedEvents"],"statements":[[8,"gh-basic-dropdown",[],[["@verticalPosition"],["below"]],[["default"],[{"statements":[[2,"\\n    "],[8,[32,1,["Trigger"]],[[24,0,"gh-btn gh-btn-icon gh-btn-action-icon"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,0,[30,[36,4],[[30,[36,3],[[32,7],[32,6]],null],"gh-btn-label-green"],null]],[12],[2,"\\n            "],[1,[30,[36,0],["filter"],null]],[2,"\\n            Filter events\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,[32,1,["Content"]],[[24,0,"gh-activity-log-actions dropdown-menu dropdown-triangle-top-right"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[2,"        "],[10,"ul"],[14,0,"ember-power-select-options"],[14,"role","listbox"],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["eventTypes"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[14,0,"form-group ember-power-select-option gh-history-filter-li"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-activity-log-action-switch for-switch small"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[15,"for",[31,["event-type-",[32,5]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                "],[1,[30,[36,0],[[32,4,["icon"]]],null]],[2,"\\n                                "],[10,"span"],[12],[1,[32,4,["name"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"input"],[16,"checked",[32,4,["isSelected"]]],[16,1,[31,["event-type-",[32,5]]]],[24,3,"eventTypes"],[24,4,"checkbox"],[4,[38,2],["input",[30,[36,1],[[32,0,["toggleEventType"]],[32,4,["event"]]],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[4,5]}]]],[2,"            "],[10,"hr"],[12],[13],[2,"\\n"],[6,[37,6],[[30,[36,5],[[30,[36,5],[[32,0,["resourceTypes"]]],null]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"li"],[14,0,"form-group ember-power-select-option gh-history-filter-li"],[12],[2,"\\n"],[2,"                    "],[10,"div"],[14,0,"gh-activity-log-action-switch for-switch small"],[12],[2,"\\n                        "],[10,"label"],[14,0,"switch"],[15,"for",[31,["resource-type-",[32,3]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                "],[1,[30,[36,0],[[32,2,["icon"]]],null]],[2,"\\n                                "],[10,"span"],[12],[1,[32,2,["name"]]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[11,"input"],[16,"checked",[32,2,["isSelected"]]],[16,1,[31,["resource-type-",[32,3]]]],[24,3,"eventTypes"],[24,4,"checkbox"],[4,[38,2],["input",[30,[36,1],[[32,0,["toggleResourceType"]],[32,2,["targets"]]],null]],null],[12],[13],[2,"\\n                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[2,3]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]]],"hasEval":false,"upvars":["svg-jar","fn","on","or","if","-track-array","each"]}',moduleName:"ghost-admin/components/settings/history/event-filter.hbs"}),l=[{event:"added",name:"Added",icon:"plus-large"},{event:"edited",name:"Edited",icon:"pen"},{event:"deleted",name:"Deleted",icon:"trash"}],u=[{targets:"post",name:"Posts",icon:"posts"},{targets:"page",name:"Pages",icon:"page"},{targets:"tag",name:"Tags",icon:"tag"},{targets:"offer,product",name:"Tiers & offers",icon:"percentage"},{targets:"api_key,integration,setting,user,webhook",name:"Settings & staff",icon:"settings"}]
let c=(i=Ember._action,n=Ember._action,s((r=class extends t.default{constructor(...e){super(...e),a(this,"excludedEvents",null),a(this,"excludedResources",null)}get eventTypes(){const e=(this.args.excludedEvents||"").split(",")
return l.map((t=>({event:t.event,name:t.name,icon:t.icon,isSelected:!e.includes(t.event)})))}get resourceTypes(){const e=(this.args.excludedResources||"").split(",")
return u.map((t=>({targets:t.targets,name:t.name,icon:t.icon,isSelected:!t.targets.split(",").every((t=>e.includes(t)))})))}toggleEventType(e){const t=new Set(this.eventTypes.reject((e=>e.isSelected)).map((e=>e.event)))
t.has(e)?t.delete(e):t.add(e),this.excludedEvents=Array.from(t).join(","),this.args.onChange({excludedEvents:this.excludedEvents,excludedResources:this.excludedResources})}toggleResourceType(e){const t=e.split(","),i=new Set(this.resourceTypes.reject((e=>e.isSelected)).flatMap((e=>e.targets.split(","))))
for(const n of t)i.has(n)?i.delete(n):i.add(n)
this.excludedResources=Array.from(i).join(","),this.args.onChange({excludedEvents:this.excludedEvents,excludedResources:this.excludedResources})}}).prototype,"toggleEventType",[i],Object.getOwnPropertyDescriptor(r.prototype,"toggleEventType"),r.prototype),s(r.prototype,"toggleResourceType",[n],Object.getOwnPropertyDescriptor(r.prototype,"toggleResourceType"),r.prototype),r)
e.default=c,Ember._setComponentTemplate(o,c)})),define("ghost-admin/components/settings/history/no-events",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"eLJsyRxH",block:'{"symbols":["@filter"],"statements":[[10,"div"],[14,0,"no-posts-box"],[12],[2,"\\n    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n        "],[1,[30,[36,1],["activity-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n"],[6,[37,2],[[32,1]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h4"],[12],[2,"No events match the current filter"],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-lg"]],[["@route","@query"],["settings.history",[30,[36,0],["settings.history"],null]]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[2,"Show all events"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h4"],[12],[2,"No events yet"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["reset-query-params","svg-jar","if"]}',moduleName:"ghost-admin/components/settings/history/no-events.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/history/search-trigger",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"pQVtOrYQ",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Filter user "],[1,[30,[36,0],["arrow-down-small"],null]],[13],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/components/settings/history/search-trigger.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/history/search",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"F/BcXpZU",block:'{"symbols":["member","@selected","@onChange"],"statements":[[6,[37,3],[[32,2]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,3],null],null]],null],[12],[2,"\\n        "],[10,"span"],[14,0,"gh-btn-label-green"],[12],[2,"\\n            Clear search Ã—\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"power-select",[],[["@searchEnabled","@search","@selected","@onChange","@triggerClass","@dropdownClass","@triggerComponent","@placeholder","@extra"],[false,[30,[36,0],[[32,0,["searchUsersTask"]]],null],[32,2],[32,3],"gh-member-filter-search-trigger","gh-member-filter-search-dropdown",[30,[36,1],["gh-input-with-select/trigger"],null],"Search staff",[30,[36,2],null,[["showSearchMessage"],[false]]]]],[["default"],[{"statements":[[2,"\\n        "],[6,[37,3],[[32,1,["name"]]],null,[["default"],[{"statements":[[10,"strong"],[12],[1,[32,1,["name"]]],[13]],"parameters":[]}]]],[2,"\\n        "],[10,"span"],[12],[1,[32,1,["email"]]],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["perform","component","hash","if","fn","on"]}',moduleName:"ghost-admin/components/settings/history/search.hbs"})
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="store",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}clear(){this.args.onChange(null)}*searchUsersTask(e){return yield(0,i.timeout)(300),yield this.store.query("user",{search:e,limit:20})}},s=o(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"clear",[r],Object.getOwnPropertyDescriptor(a.prototype,"clear"),a.prototype),o(a.prototype,"searchUsersTask",[i.task],Object.getOwnPropertyDescriptor(a.prototype,"searchUsersTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/settings/history/table",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"Aj8NsiDo",block:'{"symbols":["event","ev","@events"],"statements":[[10,"table"],[14,0,"gh-list gh-history-table"],[12],[2,"\\n    "],[10,"thead"],[12],[2,"\\n        "],[10,"tr"],[12],[2,"\\n            "],[10,"th"],[12],[2,"Â "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"tbody"],[12],[2,"\\n"],[6,[37,11],[[30,[36,10],[[30,[36,10],[[32,3]],null]],null]],null,[["default"],[{"statements":[[6,[37,9],[[30,[36,8],[[32,1]],null]],null,[["default"],[{"statements":[[6,[37,6],[[32,2,["original","skip"]]],null,[["default"],[{"statements":[[2,"        "],[10,"tr"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-history-object flex items-center ma3"],[12],[2,"\\n                    "],[10,"span"],[14,0,"user-list-item-figure"],[15,5,[30,[36,4],[[32,2,["actorIcon"]]],null]],[12],[2,"\\n"],[6,[37,1],[[32,2,["actor","name"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"span"],[14,0,"hidden"],[12],[2,"Photo of "],[1,[32,2,["actor","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[10,"div"],[14,0,"gh-history-icon"],[12],[1,[30,[36,5],[[32,2,["actionIcon"]]],null]],[13],[2,"\\n                    "],[13],[2,"\\n"],[2,"                    "],[10,"div"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-history-description"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,2],[[32,2,["action"]]],null]],[6,[37,6],[[32,2,["isBulkAction"]]],null,[["default"],[{"statements":[[2,":"]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,6],[[32,2,["isBulkAction"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,2,["contextResource"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[30,[36,2],[[32,2,["contextResource","first"]]],null]],[13],[2,"\\n"],[6,[37,1],[[30,[36,3],[[32,2,["contextResource","first"]],[32,2,["contextResource","second"]]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"code"],[12],[2,"("],[1,[32,2,["contextResource","second"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[30,[36,0],[[32,2,["original","resource","title"]],[32,2,["original","resource","name"]],[32,2,["original","context","primary_name"]]],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,2,["linkTarget"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,2,["linkTarget","models"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[8,"link-to",[[24,0,"permalink fw6"]],[["@route","@models"],[[32,2,["linkTarget","route"]],[32,2,["linkTarget","models"]]]],[["default"],[{"statements":[[2,"\\n                                                "],[1,[30,[36,0],[[32,2,["original","resource","title"]],[32,2,["original","resource","name"]]],null]],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[8,"link-to",[[24,0,"permalink fw6"]],[["@route"],[[32,2,["linkTarget","route"]]]],[["default"],[{"statements":[[2,"\\n                                                "],[1,[30,[36,0],[[32,2,["original","resource","title"]],[32,2,["original","resource","name"]]],null]],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                        "],[10,"span"],[12],[1,[30,[36,0],[[32,2,["original","resource","title"]],[32,2,["original","resource","name"]],[32,2,["original","context","primary_name"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,0,"midlightgrey"],[12],[2,"(unknown)"],[13],[2,"\\n                                "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[6,[37,1],[[32,2,["original","count"]]],null,[["default"],[{"statements":[[1,[32,2,["original","count"]]],[2," times"]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[10,"span"],[14,0,"gh-history-name"],[12],[2,"\\n                                "],[10,"span"],[14,0,"midgrey"],[12],[2,"â€“ by "],[13],[2,"\\n"],[6,[37,1],[[32,2,["actorLinkTarget"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[8,"link-to",[],[["@route","@models"],[[32,2,["actorLinkTarget","route"]],[32,2,["actorLinkTarget","models"]]]],[["default"],[{"statements":[[2,"\\n                                        "],[1,[32,2,["actor","name"]]],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    (deleted user)\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-history-datetime"],[12],[1,[30,[36,7],[[32,2,["original","created_at"]],"DD MMM YYYY | HH:mm:ss"],null]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[2]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["or","if","capitalize-first-letter","not-eq","background-image-style","svg-jar","unless","moment-format","parse-history-event","let","-track-array","each"]}',moduleName:"ghost-admin/components/settings/history/table.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/settings/integrations/delete-integration-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"TE0CqDpO",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-integration"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Deleting this integration will remove all webhooks and api keys associated with it.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Delete Integration","Deleted",[32,0,["deleteIntegrationTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/settings/integrations/delete-integration-modal.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}*deleteIntegrationTask(){try{const{integration:e}=this.args.data
return e.isDeleted||(yield e.destroyRecord(),this.notifications.closeAlerts("integration.delete"),this.router.transitionTo("settings.integrations")),!0}catch(e){this.notifications.showAPIError(e,{key:"integration.delete.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"deleteIntegrationTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deleteIntegrationTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/settings/integrations/delete-webhook-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"lieXreXG",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-webhook"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Deleting this webhook may prevent the integration from functioning.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],["Delete Webhook","Deleted",[32,0,["deleteWebhookTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/settings/integrations/delete-webhook-modal.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}*deleteWebhookTask(){try{const{webhook:e}=this.args.data
return e.isDeleted||(yield e.destroyRecord(),this.notifications.closeAlerts("webhook.delete")),!0}catch(e){this.notifications.showAPIError(e,{key:"webhook.delete.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"deleteWebhookTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deleteWebhookTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/settings/integrations/regenerate-key-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"tJdjjTZT",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","regenerate-key"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Regenerate "],[1,[30,[36,0],[[32,1,["apiKey","type"]]],null]],[2," API Key"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,2],null],null]],null],[12],[1,[30,[36,3],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,1,["internalIntegration"]],"zapier"],null]],null,[["default","else"],[{"statements":[[2,"                You will need to locate the Ghost App within your Zapier account and click on \\"Reconnect\\" to enter the new Admin API Key.\\n"]],"parameters":[]},{"statements":[[2,"                You can regenerate "],[10,"strong"],[12],[1,[30,[36,0],[[32,1,["apiKey","type"]]],null]],[2," API Key"],[13],[2," any time, but any scripts or applications using it will need to be updated.\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"],[6,[37,5],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"red"],[12],[2," "],[1,[32,0,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,2],null],null]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@successText","@task","@class"],[[31,["Regenerate ",[30,[36,0],[[32,1,["apiKey","type"]]],null]," API Key"]],"Regenerated",[32,0,["regenerateKeyTask"]],"gh-btn gh-btn-icon gh-btn-red"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["capitalize","fn","on","svg-jar","eq","if"]}',moduleName:"ghost-admin/components/settings/integrations/regenerate-key-modal.hbs"})
let v=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=(0,i.task)({drop:!0}),u=class extends t.default{constructor(...e){super(...e),b(this,"ajax",c,this),b(this,"ghostPaths",d,this),b(this,"notifications",p,this),b(this,"store",m,this),b(this,"errorMessage",h,this)}*regenerateKeyTask(){const{integration:e,apiKey:t}=this.args.data,i=this.ghostPaths.url.api("/integrations/",e.id,"api_key",t.id,"refresh")
try{const n=yield this.ajax.post(i,{data:{integrations:[{id:e.id}]}})
this.store.pushPayload(n),this.args.close(t)}catch(n){return console.error(n),void(this.errorMessage=`There was an error regenerating the ${Ember.String.capitalize(t.type)} API Key. Please try again`)}}},c=g(u.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(u.prototype,"errorMessage",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"regenerateKeyTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"regenerateKeyTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/integrations/webhook-form-modal",["exports","@glimmer/component","ghost-admin/models/webhook","ghost-admin/helpers/event-name","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const w=Ember.HTMLBars.template({id:"gXbZYJjS",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","webhook-form"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[14,"data-test-modal","webhook-form"],[12],[2,"\\n        "],[10,"h1"],[14,"data-test-text","title"],[12],[1,[30,[36,2],[[32,1,["webhook","isNew"]],"New","Edit"],null]],[2," webhook"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,6,""],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[32,0,["noop"]]],null],[12],[2,"\\n        "],[1,[30,[36,3],["close"],null]],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["webhook","errors"]],[32,1,["webhook","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","webhook-name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                "],[11,"input"],[16,2,[32,1,["webhook","name"]]],[24,1,"webhook-name"],[24,0,"gh-input mt1"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"data-test-input","webhook-name"],[24,4,"text"],[4,[38,4],null,null],[4,[38,1],["input",[30,[36,0],[[32,0,["setProperty"]],"name"],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["validate"]],"name"],null]],null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[[24,"data-test-error","webhook-name"]],[["@errors","@property"],[[32,1,["webhook","errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["webhook","errors"]],[32,1,["webhook","hasValidated"]],"event"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","webhook-event"],[14,0,"fw6"],[12],[2,"Event"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                    "],[8,"one-way-select",[[24,"data-test-select","webhook-event"]],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@groupLabelPath","@class","@includeBlank","@prompt","@update","@id","@name"],[[32,1,["webhook","event"]],[32,0,["availableEvents"]],"event","name","event","group","mt1",true,"Select an event",[32,0,["selectEvent"]],"webhook-event","event"]],null],[2,"\\n                    "],[1,[30,[36,3],["arrow-down-small"],null]],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[[24,"data-test-error","webhook-event"]],[["@errors","@property"],[[32,1,["webhook","errors"]],"event"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n        "],[10,"fieldset"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["webhook","errors"]],[32,1,["webhook","hasValidated"]],"targetUrl"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","webhook-targetUrl"],[14,0,"fw6"],[12],[2,"Target URL"],[13],[2,"\\n                "],[11,"input"],[16,2,[32,1,["webhook","targetUrl"]]],[24,1,"webhook-targetUrl"],[24,0,"gh-input mt1"],[24,"placeholder","https://example.com"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"data-test-input","webhook-targetUrl"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setProperty"]],"targetUrl"],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["validate"]],"targetUrl"],null]],null],[12],[13],[2,"\\n                "],[8,"gh-error-message",[[24,"data-test-error","webhook-targetUrl"]],[["@errors","@property"],[[32,1,["webhook","errors"]],"targetUrl"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,2],[[30,[36,5],null,null]],null,[["default"],[{"statements":[[2,"            "],[10,"fieldset"],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["webhook","errors"]],[32,1,["webhook","hasValidated"]],"secret"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","webhook-secret"],[14,0,"fw6"],[12],[2,"Secret"],[13],[2,"\\n                    "],[11,"input"],[16,2,[32,1,["webhook","secret"]]],[24,1,"webhook-secret"],[24,0,"gh-input mt1"],[24,"placeholder","https://example.com"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"data-test-input","webhook-secret"],[24,4,"text"],[4,[38,1],["input",[30,[36,0],[[32,0,["setProperty"]],"secret"],null]],null],[4,[38,1],["blur",[30,[36,0],[[32,0,["validate"]],"secret"],null]],null],[12],[13],[2,"\\n                    "],[8,"gh-error-message",[[24,"data-test-error","webhook-secret"]],[["@errors","@property"],[[32,1,["webhook","errors"]],"secret"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,2],[[32,0,["error"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"red"],[12],[1,[32,0,["error"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-webhook"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[4,[38,1],["mousedown",[32,0,["noop"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","save-webhook"]],[["@buttonText","@successText","@task","@class"],[[32,0,["buttonText"]],[32,0,["successText"]],[32,0,["saveWebhookTask"]],"gh-btn gh-btn-black gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","on","if","svg-jar","autofocus","enable-developer-experiments"]}',moduleName:"ghost-admin/components/settings/integrations/webhook-form-modal.hbs"})
let k=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=(0,r.task)({drop:!0}),m=class extends t.default{constructor(...e){super(...e),f(this,"notifications",h,this),f(this,"router",b,this),v(this,"availableEvents",n.AVAILABLE_EVENTS),v(this,"buttonText",this.args.data.webhook.isNew?"Create":"Save"),v(this,"successText",this.args.data.webhook.isNew?"Created":"Saved"),f(this,"error",g,this)}get webhook(){return this.args.data.webhook}setProperty(e,t){this.webhook[e]=t.target.value}selectEvent(e){this.webhook.event=e,this.webhook.validate({property:"event"})}validate(e){return this.webhook.validate({property:e})}noop(e){e.preventDefault()}*saveWebhookTask(){this.error=null
try{const e=yield this.webhook.save(),t=yield e.integration
return this.router.transitionTo("settings.integration",t),!0}catch(e){if(e&&e.payload&&e.payload.errors){const t=Array.from(i.default.attributes.keys())
return void e.payload.errors.forEach((e=>{let{message:i,property:n=""}=e
n=Ember.String.camelize(n),n&&t.includes(n)?(this.webhook.errors.add(n,i),this.webhook.hasValidated.pushObject(n)):this.error=`Error: ${i}`}))}if(e)throw e}}},h=y(m.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(m.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(m.prototype,"error",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y(m.prototype,"setProperty",[l],Object.getOwnPropertyDescriptor(m.prototype,"setProperty"),m.prototype),y(m.prototype,"selectEvent",[u],Object.getOwnPropertyDescriptor(m.prototype,"selectEvent"),m.prototype),y(m.prototype,"validate",[c],Object.getOwnPropertyDescriptor(m.prototype,"validate"),m.prototype),y(m.prototype,"noop",[d],Object.getOwnPropertyDescriptor(m.prototype,"noop"),m.prototype),y(m.prototype,"saveWebhookTask",[p],Object.getOwnPropertyDescriptor(m.prototype,"saveWebhookTask"),m.prototype),m)
e.default=k,Ember._setComponentTemplate(w,k)})),define("ghost-admin/components/settings/labs/delete-all-content-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"0UrCbIeb",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","confirm-delete-all"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Would you really like to delete all content from your blog?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"This is permanent! No backups, no restores, no magic undo button. We warned you, k?"],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteAllTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/settings/labs/delete-all-content-modal.hbs"})
let v=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=(0,i.task)({drop:!0}),u=class extends t.default{constructor(...e){super(...e),b(this,"ajax",c,this),b(this,"ghostPaths",d,this),b(this,"notifications",p,this),b(this,"router",m,this),b(this,"store",h,this)}*deleteAllTask(){try{const e=this.ghostPaths.url.api("db")
yield this.ajax.del(e),this.store.unloadAll("post"),this.store.unloadAll("tag"),this.notifications.showAlert("All content deleted from database.",{type:"success",key:"all-content.delete.success"})}catch(e){this.notifications.showAPIError(e,{key:"all-content.delete"})}finally{this.args.close()}}},c=g(u.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(u.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"deleteAllTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"deleteAllTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/members-comment-access",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"ENAnQYdt",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-setting-richdd-container comment-access-dropdown"],[14,"data-test-members-comments-access",""],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Commenting"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Who can comment on posts?"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"power-select",[],[["@options","@selected","@onChange","@disabled","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setCommentAccess"]],[30,[36,0],[[32,0,["settings","membersSignupAccess"]],"none"],null],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[15,"data-test-members-comments-access-option",[32,1,["value"]]],[12],[2,"\\n            "],[1,[30,[36,3],[[32,1,["icon"]]],[["class"],[[30,[36,2],["w8 h8 mr2 fill-",[30,[36,1],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","or","concat","svg-jar"]}',moduleName:"ghost-admin/components/settings/members-comment-access.hbs"})
let l=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get options(){return[{name:"Nobody",description:"Disable commenting completely",value:"off",icon:"no-members",icon_color:"midlightgrey-d2"},{name:"All members",description:"Logged-in members",value:"all",icon:"members-all",icon_color:"blue"},{name:"Paid-members only",description:"Only logged-in members with an active Stripe subscription",value:"paid",icon:"members-paid",icon_color:"pink"}]}get selectedOption(){return this.options.find((e=>e.value===this.settings.commentsEnabled))}setCommentAccess(e){this.settings.commentsEnabled=e.value,this.args.onChange?.(e.value)}},a=s(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"setCommentAccess",[n],Object.getOwnPropertyDescriptor(r.prototype,"setCommentAccess"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/settings/members-default-post-access",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"DhsZ6SjT",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-setting-richdd-container"],[14,"data-test-default-post-access",""],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default post access"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When a new post is created, who should have access?"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"power-select",[],[["@options","@selected","@onChange","@disabled","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setDefaultContentVisibility"]],[30,[36,2],[[32,0,["settings","membersSignupAccess"]],"none"],null],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[15,"data-test-default-post-access-option",[32,1,["value"]]],[12],[2,"\\n            "],[1,[30,[36,5],[[32,1,["icon"]]],[["class"],[[30,[36,4],["w8 h8 mr2 fill-",[30,[36,3],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[6,[37,1],[[32,0,["hasVisibilityFilter"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"mt2"],[14,"data-test-default-post-access-tiers",""],[12],[2,"\\n            "],[8,"gh-post-settings-menu/visibility-segment-select",[],[["@selectDefaultTier","@tiers","@onChange","@renderInPlace","@hideOptionsWhenAllSelected"],[true,[32,0,["visibilityTiers"]],[30,[36,0],[[32,0],"setVisibility"],null],true,true]],null],[2,"\\n"],[6,[37,1],[[32,0,["showSegmentError"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"response red"],[12],[2,"\\n                    Please select at least one tier\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","if","eq","or","concat","svg-jar"]}',moduleName:"ghost-admin/components/settings/members-default-post-access.hbs"})
let h=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),d(this,"settings",l,this),d(this,"feature",u,this),d(this,"showSegmentError",c,this)}get options(){return[{name:"Public",description:"All site visitors to your site, no login required",value:"public",icon:"globe",icon_color:"green"},{name:"Members only",description:"All logged-in members",value:"members",icon:"members-all",icon_color:"blue"},{name:"Paid-members only",description:"Only logged-in members with an active Stripe subscription",value:"paid",icon:"members-paid",icon_color:"pink"},{name:"Specific tier(s)",description:"Members with any of the selected tiers",value:"tiers",icon:"members-segment",icon_color:"yellow"}]}get hasVisibilityFilter(){return!["public","members","paid"].includes(this.settings.defaultContentVisibility)}get visibilityTiers(){return(this.settings.defaultContentVisibilityTiers||[]).map((e=>({id:e})))}get selectedOption(){return"none"===this.settings.membersSignupAccess?this.options.find((e=>"public"===e.value)):this.options.find((e=>e.value===this.settings.defaultContentVisibility))}setVisibility(e){if(e){const t=e?.map((e=>e.id))
this.settings.defaultContentVisibility="tiers",this.settings.defaultContentVisibilityTiers=t,this.showSegmentError=!1}else this.settings.defaultContentVisibility="",this.showSegmentError=!0}setDefaultContentVisibility(e){"none"!==this.settings.membersSignupAccess&&(this.settings.defaultContentVisibility=e.value,"tiers"===e.value&&(this.settings.defaultContentVisibilityTiers=[]))}},l=p(o.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"showSegmentError",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"setVisibility",[a],Object.getOwnPropertyDescriptor(o.prototype,"setVisibility"),o.prototype),p(o.prototype,"setDefaultContentVisibility",[s],Object.getOwnPropertyDescriptor(o.prototype,"setDefaultContentVisibility"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/settings/members-email/default-recipients-select",["exports","@glimmer/component"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=Ember.HTMLBars.template({id:"MP/xHjQC",block:'{"symbols":["option","@segment","@onSegmentChange","@recipients"],"statements":[[8,"power-select",[],[["@options","@selected","@onChange","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setRecipients"]],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n    "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[12],[2,"\\n        "],[1,[30,[36,2],[[32,1,["icon"]]],[["class"],[[30,[36,1],["w8 h8 mr2 fill-",[30,[36,0],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n        "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n            "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,4],[[30,[36,3],[[32,4],"segment"],null]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-setting-large-dropdown mt2"],[12],[2,"\\n        "],[8,"gh-members-segment-select",[],[["@segment","@onChange","@enforcedCountFilter"],[[32,2],[32,3],"newsletters.status:active"]],null],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["or","concat","svg-jar","eq","if"]}',moduleName:"ghost-admin/components/settings/members-email/default-recipients-select.hbs"})
let a=(i=Ember._action,n=class extends t.default{get options(){return[{name:"Whoever has access to the post",description:"Free posts to everyone, premium posts sent to paid members",value:"visibility",icon:"members-post",icon_color:"green"},{name:"All members",description:"Everyone who is subscribed to newsletter updates, whether free or paid members",value:"all-members",icon:"members-all",icon_color:"blue"},{name:"Paid-members only",description:"People who have a premium subscription",value:"paid-only",icon:"members-paid",icon_color:"pink"},{name:"Specific people",description:"Only people with any of the selected tiers or labels",value:"segment",icon:"members-segment",icon_color:"yellow"},{name:"Usually nobody",description:"Newsletters are off for new posts, but can be enabled when needed",value:"none",icon:"no-members",icon_color:"midlightgrey-d2"}]}get selectedOption(){return this.options.find((e=>e.value===this.args.recipients))}setRecipients(e){this.args.onRecipientsChange(e.value)}},s=n.prototype,o="setRecipients",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"setRecipients"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a,Ember._setComponentTemplate(r,a)})),define("ghost-admin/components/settings/members-subscription-access",["exports","@glimmer/component"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"YS+W5e9g",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-setting-richdd-container"],[14,"data-test-members-subscription-access",""],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Subscription access"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Who should be able to subscribe to your site?"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"power-select",[],[["@options","@selected","@onChange","@triggerClass","@dropdownClass"],[[32,0,["options"]],[32,0,["selectedOption"]],[32,0,["setSignupAccess"]],"gh-setting-dropdown","gh-setting-dropdown-list"]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"gh-setting-dropdown-content"],[15,"data-test-members-subscription-option",[32,1,["value"]]],[12],[2,"\\n            "],[1,[30,[36,2],[[32,1,["icon"]]],[["class"],[[30,[36,1],["w8 h8 mr2 fill-",[30,[36,0],[[32,1,["icon_color"]],"green"],null]],null]]]]],[2,"\\n            "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"\\n                "],[1,[32,1,["name"]]],[10,"br"],[12],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[1,[32,1,["description"]]],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[1]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["or","concat","svg-jar"]}',moduleName:"ghost-admin/components/settings/members-subscription-access.hbs"})
let l=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}get options(){return[{name:"Anyone can sign up",description:"All visitors will be able to subscribe and sign in",value:"all",icon:"globe",icon_color:"green"},{name:"Only people I invite",description:"People can sign in from your site but won't be able to sign up",value:"invite",icon:"email-love-letter",icon_color:"blue"},{name:"Nobody",description:"Disable all member features, including newsletters",value:"none",icon:"no-members",icon_color:"midlightgrey-d2"}]}get selectedOption(){return this.options.find((e=>e.value===this.settings.membersSignupAccess))}setSignupAccess(e){this.settings.membersSignupAccess=e.value,this.args.onChange?.(e.value),"none"===e.value&&(this.settings.defaultContentVisibility="public")}},a=s(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"setSignupAccess",[n],Object.getOwnPropertyDescriptor(r.prototype,"setSignupAccess"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/settings/members/archive-tier",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"6IdlnO8g",block:'{"symbols":[],"statements":[[6,[37,2],[[32,0,["tier","active"]]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["tier","isNew"]]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[24,"data-test-button","archive-tier"],[24,4,"button"],[4,[38,0],["click",[32,0,["handleArchiveTier"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Archive"],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"    "],[11,"button"],[24,"data-test-button","unarchive-tier"],[24,4,"button"],[4,[38,0],["click",[32,0,["handleUnarchiveTier"]]],null],[12],[2,"\\n        "],[10,"span"],[12],[2,"Reactivate"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","unless","if"]}',moduleName:"ghost-admin/components/settings/members/archive-tier.hbs"})
let h=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),d(this,"notifications",l,this),d(this,"router",u,this),d(this,"modals",c,this)}get isActive(){const{tier:e}=this.args
return!!e.active}get tier(){return this.args.tier}handleArchiveTier(){this.tier.isNew||this.modals.open("modals/tiers/archive",{tier:this.tier,onArchive:this.args.onArchive},{className:"fullscreen-modal fullscreen-modal-action fullscreen-modal-wide"})}handleUnarchiveTier(){this.tier.isNew||this.modals.open("modals/tiers/unarchive",{tier:this.tier,onUnarchive:this.args.onUnarchive},{className:"fullscreen-modal fullscreen-modal-action fullscreen-modal-wide"})}},l=p(o.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"handleArchiveTier",[a],Object.getOwnPropertyDescriptor(o.prototype,"handleArchiveTier"),o.prototype),p(o.prototype,"handleUnarchiveTier",[s],Object.getOwnPropertyDescriptor(o.prototype,"handleUnarchiveTier"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)}))
define("ghost-admin/components/settings/members/stripe-settings-form",["exports","@glimmer/component","ghost-admin/utils/currency","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$
function Y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function W(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const K=Ember.HTMLBars.template({id:"wDK33crs",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n"],[6,[37,1],[[32,0,["stripeDirect"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"section"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between"],[12],[2,"\\n                "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                    "],[10,"div"],[14,0,"mb4"],[12],[2,"\\n                        "],[10,"label"],[14,0,"fw6 f8"],[14,"for","stripe-publishable-key"],[12],[2,"Stripe Publishable key"],[13],[2,"\\n                        "],[11,"input"],[24,1,"stripe-publishable-key"],[24,0,"gh-input mt1 password"],[16,2,[32,0,["stripeDirectPublicKey"]]],[24,4,"text"],[4,[38,2],["input",[32,0,["setStripeDirectPublicKey"]]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                        "],[10,"label"],[14,0,"fw6 f8 mt4"],[14,"for","stripe-secret-key"],[12],[2,"Stripe Secret key"],[13],[2,"\\n                        "],[11,"input"],[24,1,"stripe-secret-key"],[24,0,"gh-input mt1 password"],[16,2,[32,0,["stripeDirectSecretKey"]]],[24,4,"text"],[4,[38,2],["input",[32,0,["setStripeDirectSecretKey"]]],null],[12],[13],[2,"\\n                        "],[10,"a"],[14,6,"https://dashboard.stripe.com/account/apikeys"],[14,"target","_blank"],[14,0,"mt1 fw4 f8"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            Find your Stripe API keys here Â»\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"ml0 ml5-l mt6"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[2,"How you get paid"],[13],[2,"\\n                            "],[1,[30,[36,3],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                            Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                            Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you donâ€™t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"mb4 mt4 flex justify-end"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-members-settings"]],[["@buttonText","@task","@successText","@runningText","@class"],["Save settings",[32,0,["saveSettingsTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n\\n"]],"parameters":[]},{"statements":[[2,"\\n"],[6,[37,1],[[30,[36,7],[[32,0,["stripeConnectAccountId"]],[30,[36,6],[[32,0,["saveStripeSettingsTask","isRunning"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"            "],[11,"button"],[24,0,"gh-btn gh-btn-stripe-disconnect"],[24,"data-test-button","stripe-disconnect"],[24,4,"button"],[4,[38,2],["click",[32,0,["openDisconnectStripeModal"]]],null],[12],[10,"span"],[12],[2,"Disconnect"],[13],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-stripe-connected-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-logos-stripe-connect"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-logo-squircle"],[14,5,"background-image:url(assets/img/orb-squircle-645fd62e92a80557905c0cb60874b699.png);"],[12],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-logo-squircle"],[14,5,"background-image:url(assets/img/stripe-3af79c77413d7e58d0322c1de5bfdb8e.svg);"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"h1"],[12],[2,"You are connected to Stripe"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-stripe-connected-info"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-stripe-site-title"],[12],[2,"\\n                        "],[10,"p"],[12],[2,"Connected to "],[10,"a"],[15,6,[31,["https://dashboard.stripe.com/",[32,0,["stripeConnectAccountId"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["stripeConnectAccountName"]]],[13],[13],[2,"\\n"],[6,[37,5],[[32,0,["stripeConnectLivemode"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-members-connect-testmodelabel"],[12],[2,"Test mode"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["hasActiveStripeSubscriptions"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"gh-stripe-error-hasactivesub"],[12],[2,"\\n                        Cannot disconnect while there are members with active Stripe subscriptions.\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-stripe-guide-container"],[12],[2,"\\n                    "],[10,"p"],[12],[2,"read next"],[13],[2,"\\n                    "],[10,"a"],[14,0,"gh-stripe-guide"],[14,6,"https://ghost.org/resources/managing-your-stripe-account/?ref=admin"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-stripe-guide-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-stripe-guide-content-body"],[12],[2,"\\n                                "],[10,"h3"],[12],[2,"How to setup and manage your Stripe account"],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Learn how to configure your Stripe account to work with Ghost, from custom branding to payment receipt emails."],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-stripe-guide-content-footer"],[12],[2,"\\n                                "],[1,[30,[36,3],["ghost-orb-pink"],null]],[2,"\\n                                "],[10,"h4"],[12],[2,"Ghost Resources"],[13],[2,"\\n                                "],[10,"span"],[12],[2,"Â·"],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Kym Ellis"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-stripe-guide-image"],[12],[2,"\\n                            "],[10,"img"],[14,"src","https://ghost.org/resources/content/images/2013-2023/02/Stripe---Home.jpg"],[14,"alt","Stripe guide on Ghost Resources"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex flex-column flex-row-l items-start justify-between"],[12],[2,"\\n                "],[10,"div"],[14,0,"w-100 w-50-l"],[12],[2,"\\n                    "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Generate secure key"],[13],[2,"\\n                    "],[10,"div"],[14,0,"flex items-center mb4 justify-between gh-members-connectbutton-container mt2"],[12],[2,"\\n                        "],[10,"a"],[15,6,[31,[[30,[36,1],[[32,0,["stripeConnectTestMode"]],[32,0,["testStripeConnectAuthUrl"]],[32,0,["liveStripeConnectAuthUrl"]]],null]]]],[14,0,"stripe-connect"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[13],[13],[2,"\\n                        "],[10,"div"],[14,0,"ml2 flex items-center flex-nowrap"],[12],[2,"\\n                            "],[10,"span"],[15,0,[31,["mr2 f8 midgrey nowrap ",[30,[36,1],[[32,0,["stripeConnectTestMode"]],"gh-members-connect-testmodeon"],null]]]],[12],[1,[30,[36,1],[[32,0,["stripeConnectTestMode"]],"Using","Use"],null]],[2," test mode"],[13],[2,"\\n                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                "],[10,"label"],[14,0,"switch"],[14,"for","stripe-connect-test-mode"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"stripe-connect-test-mode"],[24,0,"gh-input"],[16,"checked",[32,0,["stripeConnectTestMode"]]],[24,"aria-label","Use Stripe test mode"],[24,"data-test-checkbox","stripe-connect-test-mode"],[24,4,"checkbox"],[4,[38,2],["input",[32,0,["setStripeConnectTestMode"]]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"nudge-top--3"],[12],[2,"\\n                        "],[11,"textarea"],[24,0,"gh-input gh-members-stripe-connect-token"],[24,"placeholder","Paste your secure key here"],[24,"aria-label","Stripe connect secure key"],[4,[38,2],["input",[32,0,["setStripeConnectIntegrationToken"]]],null],[12],[13],[2,"\\n                        "],[6,[37,1],[[32,0,["stripeConnectError"]]],null,[["default"],[{"statements":[[10,"p"],[14,0,"mb0 mt2 f8 red"],[12],[1,[32,0,["stripeConnectError"]]],[13]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"mt5 mt5-m mt8-l ml0 ml5-l"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-members-stripe-info"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-members-stripe-info-header"],[12],[2,"\\n                            "],[10,"h4"],[12],[2,"Getting paid"],[13],[2,"\\n                            "],[1,[30,[36,3],["stripe-verified-partner-badge"],[["class"],["gh-members-stripe-badge"]]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"f8 mt2 mb0"],[12],[2,"\\n                            Stripe is our exclusive direct payments partner."],[10,"br"],[12],[13],[2,"\\n                            Ghost collects "],[10,"strong"],[12],[2,"no fees"],[13],[2," on any payments! If you donâ€™t have a Stripe account yet, you can "],[10,"a"],[14,6,"https://stripe.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-members-stripe-link"],[12],[2,"sign up here"],[13],[2,".\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[15,0,[31,["gh-members-connect-savecontainer ",[30,[36,1],[[32,0,["settings","stripeConnectIntegrationToken"]],"expanded"],null]]]],[12],[2,"\\n                "],[8,"gh-task-button",[],[["@buttonText","@task","@unlinkedTask","@successText","@disabled","@runningText","@class"],["Save Stripe settings",[32,0,["saveStripeSettingsTask"]],true,"Saved",[30,[36,4],[[32,0,["settings","stripeConnectIntegrationToken"]]],null],"Saving","gh-btn gh-btn-green gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["showDisconnectStripeConnectModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["disconnect-stripe",[30,[36,0],null,[["stripeConnectAccountName"],[[32,0,["stripeConnectAccountName"]]]]],[32,0,["disconnectStripeConnectIntegration"]],[32,0,["closeDisconnectStripeModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","if","on","svg-jar","is-empty","unless","not","and"]}',moduleName:"ghost-admin/components/settings/members/stripe-settings-form.hbs"}),J=1e3
let X=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,T=Ember._action,z=(0,r.task)({drop:!0}),x=(0,r.task)({drop:!0}),S=(0,r.task)({drop:!0}),C=class extends t.default{get stripeDirectPublicKey(){return this.settings.stripePublishableKey}get stripeDirectSecretKey(){return this.settings.stripeSecretKey}get stripeConnectAccountId(){return this.settings.stripeConnectAccountId}get stripeConnectAccountName(){return this.settings.stripeConnectDisplayName}get stripeConnectLivemode(){return this.settings.stripeConnectLivemode}get selectedCurrency(){return this.currencies.findBy("value",this.stripePlans.monthly.currency)||this.topCurrencies.findBy("value",this.stripePlans.monthly.currency)}get stripePlans(){const e=this.settings.stripePlans,t=e.find((e=>"month"===e.interval)),i=e.find((e=>"year"===e.interval&&"Complimentary"!==e.name))
return{monthly:{amount:parseInt(t.amount)/100||5,currency:t.currency},yearly:{amount:parseInt(i.amount)/100||50,currency:i.currency}}}get liveStripeConnectAuthUrl(){return this.ghostPaths.url.api("members/stripe_connect")+"?mode=live"}get testStripeConnectAuthUrl(){return this.ghostPaths.url.api("members/stripe_connect")+"?mode=test"}constructor(){super(...arguments),Y(this,"ghostPaths",M,this),Y(this,"ajax",D,this),Y(this,"settings",A,this),Y(this,"membersUtils",I,this),Y(this,"store",N,this),Y(this,"config",L,this),Y(this,"hasActiveStripeSubscriptions",R,this),Y(this,"showDisconnectStripeConnectModal",U,this),Y(this,"stripeConnectError",F,this),Y(this,"stripeConnectTestMode",B,this),Y(this,"stripeDirect",V,this),Y(this,"stripePlanInvalidAmount",H,this),Y(this,"_scratchStripeYearlyAmount",q,this),Y(this,"_scratchStripeMonthlyAmount",$,this),W(this,"topCurrencies",i.currencies.slice(0,5).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))),W(this,"currencies",i.currencies.slice(5,i.currencies.length).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))),W(this,"allCurrencies",[{groupName:"â€”",options:this.topCurrencies},{groupName:"â€”",options:this.currencies}]),this.updateStripeDirect()}setStripeDirectPublicKey(e){this.settings.stripeProductName=this.settings.title,this.settings.stripePublishableKey=e.target.value}setStripeDirectSecretKey(e){this.settings.stripeProductName=this.settings.title,this.settings.stripeSecretKey=e.target.value}setStripeConnectTestMode(e){this.stripeConnectTestMode=e.target.checked}setStripePlansCurrency(e){const t=e.value,i=this.settings.stripePlans.map((e=>"Complimentary"!==e.name?Object.assign({},e,{currency:t}):e))
i.find((t=>"Complimentary"===t.name&&t.currency===e.value))||i.push({name:"Complimentary",currency:e.value,interval:"year",amount:0}),this.settings.stripePlans=i,this._scratchStripeYearlyAmount=null,this._scratchStripeMonthlyAmount=null,this.validateStripePlans()}setStripeConnectIntegrationToken(e){this.settings.stripeProductName=this.settings.title,this.args.setStripeConnectIntegrationTokenSetting(e.target.value)}openDisconnectStripeModal(){this.openDisconnectStripeConnectModalTask.perform()}closeDisconnectStripeModal(){this.showDisconnectStripeConnectModal=!1}disconnectStripeConnectIntegration(){this.disconnectStripeConnectIntegrationTask.perform()}updateStripeDirect(){this.stripeDirect=this.config.stripeDirect||this.membersUtils.isStripeEnabled&&!this.settings.stripeConnectAccountId}validateStripePlans(){this.settings.errors.remove("stripePlans"),this.settings.hasValidated.removeObject("stripePlans"),null===this._scratchStripeYearlyAmount&&(this._scratchStripeYearlyAmount=this.stripePlans.yearly.amount),null===this._scratchStripeMonthlyAmount&&(this._scratchStripeMonthlyAmount=this.stripePlans.monthly.amount)
try{const e=this.selectedCurrency,t=parseInt(this._scratchStripeYearlyAmount),i=parseInt(this._scratchStripeMonthlyAmount)
if(!t||t<1||!i||i<1){const t=Intl.NumberFormat(this.settings.locale,{currency:e.isoCode,style:"currency"}).format(1)
throw new TypeError(`Subscription amount must be at least ${t}`)}const n=this.settings.stripePlans.map((e=>{if("Complimentary"!==e.name){let n
return"year"===e.interval?n=Math.round(100*t):"month"===e.interval&&(n=Math.round(100*i)),Object.assign({},e,{amount:n})}return e}))
this.settings.stripePlans=n}catch(e){this.settings.errors.add("stripePlans",e.message)}finally{this.settings.hasValidated.pushObject("stripePlans")}}*openDisconnectStripeConnectModalTask(){if(this.hasActiveStripeSubscriptions=!1,!this.stripeConnectAccountId)return
const e=this.ghostPaths.url.api("/members/")+"?filter=status:paid&limit=0",t=yield this.ajax.request(e)
0===t?.meta?.pagination?.total?this.showDisconnectStripeConnectModal=!0:this.hasActiveStripeSubscriptions=!0}*disconnectStripeConnectIntegrationTask(){const e=this.ghostPaths.url.api("/settings/stripe/connect")
yield this.ajax.delete(e),yield this.settings.reload(),this.args.reset?.(),this.args.onDisconnected?.()}*saveTier(){const e=(yield this.store.query("tier",{filter:"type:paid",include:"monthly_price, yearly_price"})).firstObject
if(e){e.monthlyPrice=500,e.yearlyPrice=5e3,e.currency="usd"
let i=0
for(;i<15e3;){yield(0,r.timeout)(J)
try{const t=yield e.save()
return this.membersUtils.reload(),t}catch(t){if(t.payload?.errors&&"STRIPE_NOT_CONFIGURED"===t.payload.errors[0].code){i+=J
continue}throw t}}}return e}*saveStripeSettingsTask(){if(this.stripeConnectError=null,this.settings.stripeConnectIntegrationToken)try{let e=yield this.settings.save()
return yield this.saveTier.perform(),this.settings.portalPlans=["free","monthly","yearly"],e=yield this.settings.save(),this.args.onConnected?.(),e}catch(e){if(e.payload&&e.payload.errors)return this.stripeConnectError="Invalid secure key",!1
throw e}else this.stripeConnectError="Please enter a secure key"}*saveSettingsTask(){return yield this.settings.save(),this.updateStripeDirect(),this.settings}},M=G(C.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=G(C.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=G(C.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=G(C.prototype,"membersUtils",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=G(C.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=G(C.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=G(C.prototype,"hasActiveStripeSubscriptions",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=G(C.prototype,"showDisconnectStripeConnectModal",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),F=G(C.prototype,"stripeConnectError",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=G(C.prototype,"stripeConnectTestMode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=G(C.prototype,"stripeDirect",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=G(C.prototype,"stripePlanInvalidAmount",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=G(C.prototype,"_scratchStripeYearlyAmount",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=G(C.prototype,"_scratchStripeMonthlyAmount",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G(C.prototype,"setStripeDirectPublicKey",[v],Object.getOwnPropertyDescriptor(C.prototype,"setStripeDirectPublicKey"),C.prototype),G(C.prototype,"setStripeDirectSecretKey",[y],Object.getOwnPropertyDescriptor(C.prototype,"setStripeDirectSecretKey"),C.prototype),G(C.prototype,"setStripeConnectTestMode",[w],Object.getOwnPropertyDescriptor(C.prototype,"setStripeConnectTestMode"),C.prototype),G(C.prototype,"setStripePlansCurrency",[k],Object.getOwnPropertyDescriptor(C.prototype,"setStripePlansCurrency"),C.prototype),G(C.prototype,"setStripeConnectIntegrationToken",[E],Object.getOwnPropertyDescriptor(C.prototype,"setStripeConnectIntegrationToken"),C.prototype),G(C.prototype,"openDisconnectStripeModal",[P],Object.getOwnPropertyDescriptor(C.prototype,"openDisconnectStripeModal"),C.prototype),G(C.prototype,"closeDisconnectStripeModal",[O],Object.getOwnPropertyDescriptor(C.prototype,"closeDisconnectStripeModal"),C.prototype),G(C.prototype,"disconnectStripeConnectIntegration",[j],Object.getOwnPropertyDescriptor(C.prototype,"disconnectStripeConnectIntegration"),C.prototype),G(C.prototype,"updateStripeDirect",[_],Object.getOwnPropertyDescriptor(C.prototype,"updateStripeDirect"),C.prototype),G(C.prototype,"validateStripePlans",[T],Object.getOwnPropertyDescriptor(C.prototype,"validateStripePlans"),C.prototype),G(C.prototype,"openDisconnectStripeConnectModalTask",[z],Object.getOwnPropertyDescriptor(C.prototype,"openDisconnectStripeConnectModalTask"),C.prototype),G(C.prototype,"disconnectStripeConnectIntegrationTask",[r.task],Object.getOwnPropertyDescriptor(C.prototype,"disconnectStripeConnectIntegrationTask"),C.prototype),G(C.prototype,"saveTier",[r.task],Object.getOwnPropertyDescriptor(C.prototype,"saveTier"),C.prototype),G(C.prototype,"saveStripeSettingsTask",[x],Object.getOwnPropertyDescriptor(C.prototype,"saveStripeSettingsTask"),C.prototype),G(C.prototype,"saveSettingsTask",[S],Object.getOwnPropertyDescriptor(C.prototype,"saveSettingsTask"),C.prototype),C)
e.default=X,Ember._setComponentTemplate(K,X)})),define("ghost-admin/components/settings/navigation/nav-item-url-input",["exports","validator","@ember-decorators/component"],(function(e,t,i){var n,r,a,s
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{URI:o}=window
let l=(n=(0,i.classNames)("gh-input"),r=Ember.computed("baseUrl","value"),n((s=class extends Ember.TextField{update(){}clearErrors(){}get isBaseUrl(){return this.baseUrl===this.value}didReceiveAttrs(){super.didReceiveAttrs(...arguments),this.set("value",this._makeAbsoluteUrl(this.url))}focusIn(e){this.set("hasFocus",!0),this.isBaseUrl&&Ember.run.next((function(e){let{length:t}=e.value
e.setSelectionRange(t,t)}),e.target)}keyDown(e){!this.isBaseUrl||8!==e.keyCode&&46!==e.keyCode||(this.set("value",""),e.preventDefault()),83===e.keyCode&&e.metaKey&&this.notifyUrlChanged()}keyPress(e){return this.clearErrors(),13===e.keyCode&&this.notifyUrlChanged(),!0}focusOut(){this.set("hasFocus",!1),this.notifyUrlChanged()}notifyUrlChanged(){let e=this.value.trim(),i=o.parse(e),n=this.baseUrl,r=o.parse(n)
function a(e){let t=e.getDomain()
return e.getPort()&&(t=`${t}:${e.getPort()}`),t}let s=a(i),l=a(r)
if(this.set("value",e),t.default.isEmail(e))return e=this.update(`mailto:${e}`),void this.set("value",e)
let u=e.match(/^#/),c=i.getPath()&&0===i.getPath().indexOf(r.getPath());`${i.getPath()}/`===r.getPath()&&(c=!0),!u&&(s===l||!s&&c)&&c&&(e=e.replace(/^[a-zA-Z0-9-]+:/,""),e=e.replace(/^\/\//,""),e=e.replace(l,""),e=e.replace(r.getPath(),""),"/"!==i.getPath().slice(-1)&&(e=e.replace(r.getPath().slice(0,-1),"")),""===e&&this.isNew||(e.match(/^\//)||(e=`/${e}`),e.match(/\/$/)||e.match(/[.#?]/)||(e=`${e}/`))),(e.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/)||t.default.isURL(e)||t.default.isURL(`${l}${e}`))&&(e=this.update(e),this.set("value",this._makeAbsoluteUrl(e)))}_makeAbsoluteUrl(e){return function(e){return!e.match(/\s/)&&!t.default.isURL(e)&&!e.match(/^(\/\/|#|[a-zA-Z0-9-]+:)/)}(e)&&(e=function(e,t){return"/"!==t[0]&&"/"!==e.slice(-1)?t=`/${t}`:"/"===t[0]&&"/"===e.slice(-1)&&(t=t.slice(1)),e+t}(this.baseUrl,e)),e}},u=s.prototype,c="isBaseUrl",d=[r],p=Object.getOwnPropertyDescriptor(s.prototype,"isBaseUrl"),m=s.prototype,h={},Object.keys(p).forEach((function(e){h[e]=p[e]})),h.enumerable=!!h.enumerable,h.configurable=!!h.configurable,("value"in h||h.initializer)&&(h.writable=!0),h=d.slice().reverse().reduce((function(e,t){return t(u,c,e)||e}),h),m&&void 0!==h.initializer&&(h.value=h.initializer?h.initializer.call(m):void 0,h.initializer=void 0),void 0===h.initializer&&(Object.defineProperty(u,c,h),h=null),a=s))||a)
var u,c,d,p,m,h
e.default=l})),define("ghost-admin/components/settings/navigation/nav-item",["exports","ghost-admin/mixins/validation-state","ghost-admin/utils/bound-one-way"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"r8aoqyBB",block:'{"symbols":[],"statements":[[6,[37,2],[[32,0,["navItem","isNew"]]],null,[["default"],[{"statements":[[2,"    "],[10,"span"],[14,0,"gh-blognav-grab"],[12],[2,"\\n        "],[1,[30,[36,1],["grab"],null]],[2,"\\n        "],[10,"span"],[14,0,"sr-only"],[12],[2,"Reorder"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[10,"div"],[14,0,"gh-blognav-line"],[12],[2,"\\n    "],[11,"span"],[24,0,"gh-blognav-label"],[4,[38,3],null,[["errors","property","hasValidated"],[[32,0,["navItem","errors"]],"label",[32,0,["navItem","hasValidated"]]]]],[12],[2,"\\n        "],[8,"gh-trim-focus-input",[[24,"data-test-input","label"]],[["@shouldFocus","@placeholder","@value","@input","@keyPress","@focus-out"],[[32,0,["navItem","last"]],"Label",[30,[36,4],[[32,0,["label"]]],null],[30,[36,0],[[32,0],"updateLabel"],[["value"],["target.value"]]],[30,[36,0],[[32,0],"clearLabelErrors"],null],[30,[36,0],[[32,0],"updateLabel",[32,0,["label"]]],null]]],null],[2,"\\n        "],[8,"gh-error-message",[[24,"data-test-error","label"]],[["@errors","@property"],[[32,0,["navItem","errors"]],"label"]],null],[2,"\\n    "],[13],[2,"\\n    "],[11,"span"],[24,0,"gh-blognav-url"],[4,[38,3],null,[["errors","property","hasValidated"],[[32,0,["navItem","errors"]],"url",[32,0,["navItem","hasValidated"]]]]],[12],[2,"\\n        "],[8,"settings/navigation/nav-item-url-input",[[24,"data-test-input","url"]],[["@baseUrl","@isNew","@url","@update","@clearErrors"],[[32,0,["baseUrl"]],[32,0,["navItem","isNew"]],[30,[36,4],[[32,0,["url"]]],null],[30,[36,0],[[32,0],"updateUrl"],null],[30,[36,0],[[32,0],"clearUrlErrors"],null]]],null],[2,"\\n        "],[8,"gh-error-message",[[24,"data-test-error","url"]],[["@errors","@property"],[[32,0,["navItem","errors"]],"url"]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["navItem","isNew"]]],null,[["default","else"],[{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-add"],[24,4,"button"],[4,[38,0],[[32,0],"addItem",[32,0,["navItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["plus"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Add"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[11,"button"],[24,0,"gh-blognav-delete"],[24,4,"button"],[4,[38,0],[[32,0],"deleteItem",[32,0,["navItem"]]],null],[12],[2,"\\n        "],[1,[30,[36,1],["trash"],null]],[10,"span"],[14,0,"sr-only"],[12],[2,"Delete"],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","svg-jar","unless","validation-status","readonly","if"]}',moduleName:"ghost-admin/components/settings/navigation/nav-item.hbs"})
var r=Ember._setComponentTemplate(n,Ember.Component.extend(t.default,{classNames:"gh-blognav-item",classNameBindings:["errorClass","navItem.isNew::gh-blognav-item--sortable"],new:!1,addItem(){},deleteItem(){},updateUrl(){},updateLabel(){},label:(0,i.default)("navItem.label"),url:(0,i.default)("navItem.url"),errors:Ember.computed.readOnly("navItem.errors"),errorClass:Ember.computed("hasError",(function(){return this.hasError?"gh-blognav-item--error":""})),actions:{addItem(e){this.addItem(e)},deleteItem(e){this.deleteItem(e)},updateUrl(e){return this.updateUrl(e,this.navItem)},updateLabel(e){return this.set("label",e),this.updateLabel(e,this.navItem)},clearLabelErrors(){this.get("navItem.errors").remove("label")},clearUrlErrors(){this.get("navItem.errors").remove("url")}},keyPress(e){13===e.keyCode&&this.get("navItem.isNew")&&(e.preventDefault(),Ember.run.scheduleOnce("actions",this,this.send,"addItem",this.navItem))}}))
e.default=r})),define("ghost-admin/components/settings/newsletters",["exports","@glimmer/component","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=Ember.HTMLBars.template({id:"TJuAuZCV",block:'{"symbols":["region"],"statements":[[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Enable newsletter sending"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Newsletter features are active, posts can be sent by email"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                    "],[10,"label"],[14,0,"switch"],[12],[2,"\\n                        "],[11,"input"],[16,"checked",[32,0,["emailNewsletterEnabled"]]],[24,0,"gh-input"],[24,3,"email-newsletter-enabled"],[24,"data-test-checkbox","email-newsletter-enabled"],[24,4,"checkbox"],[4,[38,1],["change",[32,0,["toggleEmailNewsletterEnabled"]]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"input-toggle-component mt1"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,3],[[32,0,["emailNewsletterEnabled"]]],null,[["default"],[{"statements":[[2,"    "],[8,"settings/newsletters/newsletter-management",[],[[],[]],null],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"General settings"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Default newsletter recipients"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"When you publish new content, who do you usually want to send it to?"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-membersemail",""],[24,4,"button"],[4,[38,1],["click",[30,[36,2],["defaultRecipientsOpen",[32,0]],null]],null],[12],[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["defaultRecipientsOpen"]],"Close","Expand"],null]],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["defaultRecipientsOpen"]]],null,[["default"],[{"statements":[[6,[37,3],[[30,[36,5],[[32,0,["activeNewsletterCount"]],1],null]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Default newsletter"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-input"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Default member selection"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-richdd-container gh-setting-rich-dropdown"],[12],[2,"\\n                                    "],[8,"settings/members-email/default-recipients-select",[],[["@recipients","@segment","@onRecipientsChange","@onSegmentChange"],[[32,0,["recipientsSelectValue"]],[32,0,["settings","editorDefaultEmailRecipientsFilter"]],[32,0,["setDefaultEmailRecipients"]],[32,0,["setDefaultEmailRecipientsFilter"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-setting-richdd-container gh-setting-rich-dropdown form-group"],[14,"data-test-select","default-recipients"],[12],[2,"\\n                                "],[8,"settings/members-email/default-recipients-select",[],[["@recipients","@segment","@onRecipientsChange","@onSegmentChange"],[[32,0,["recipientsSelectValue"]],[32,0,["settings","editorDefaultEmailRecipientsFilter"]],[32,0,["setDefaultEmailRecipients"]],[32,0,["setDefaultEmailRecipientsFilter"]]]],null],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n\\n"],[6,[37,6],[[32,0,["config","mailgunIsConfigured"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Mailgun configuration"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The Mailgun API is used for bulk email newsletter delivery. "],[10,"a"],[14,6,"https://ghost.org/docs/faq/mailgun-newsletters/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Why is this required?"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-membersemail",""],[24,4,"button"],[4,[38,1],["click",[30,[36,2],["membersEmailOpen",[32,0]],null]],null],[12],[2,"\\n                            "],[10,"span"],[12],[1,[30,[36,3],[[32,0,["membersEmailOpen"]],"Close","Expand"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,4],[[32,0,["membersEmailOpen"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"flex flex-column flex"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[8,"gh-form-group",[[24,0,"gh-mailgun-region no-margin"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,0,"fw6 f8"],[12],[2,"Mailgun region"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"mt1"],[12],[2,"\\n                                                "],[8,"power-select",[],[["@options","@selected","@onChange","@class","@searchEnabled","@triggerComponent"],[[32,0,["mailgunRegions"]],[32,0,["mailgunRegion"]],[32,0,["setMailgunRegion"]],"gh-select",false,[30,[36,0],["gh-power-select/trigger"],null]]],[["default"],[{"statements":[[2,"\\n                                                    "],[1,[32,1,["flag"]]],[2," "],[1,[32,1,["name"]]],[2,"\\n                                                "]],"parameters":[1]}]]],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-form-group",[[24,0,"no-margin"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,0,"fw6 f8"],[14,"for","mailgun-domain"],[12],[2,"Mailgun domain"],[13],[2,"\\n                                            "],[11,"input"],[24,1,"mailgun-domain"],[24,0,"gh-input mt1"],[16,2,[32,0,["mailgunSettings","domain"]]],[24,"data-test-mailgun-domain-input",""],[24,4,"text"],[4,[38,1],["input",[32,0,["setMailgunDomain"]]],null],[12],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Find your Mailgun region and domain\\n                                        "],[10,"a"],[14,6,"https://app.mailgun.com/app/sending/domains"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,0,"fw6 f8"],[14,"for","mailgun-private-api"],[12],[2,"Mailgun Private API key"],[13],[2,"\\n                                    "],[11,"input"],[24,1,"mailgun-private-api"],[16,2,[32,0,["mailgunSettings","apiKey"]]],[24,0,"gh-input mt1 password"],[24,"autocomplete","new-password"],[24,"data-test-mailgun-api-key-input",""],[24,4,"password"],[4,[38,1],["input",[32,0,["setMailgunApiKey"]]],null],[12],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Find your Mailgun API keys\\n                                        "],[10,"a"],[14,6,"https://app.mailgun.com/app/account/security/api_keys"],[14,"target","_blank"],[14,0,"fw5"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["component","on","toggle-action","if","liquid-if","gt","unless"]}',moduleName:"ghost-admin/components/settings/newsletters.hbs"}),P={flag:"ðŸ‡ºðŸ‡¸",name:"US",baseUrl:"https://api.mailgun.net/v3"},O={flag:"ðŸ‡ªðŸ‡º",name:"EU",baseUrl:"https://api.eu.mailgun.net/v3"}
let j=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._action,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=class extends t.default{constructor(...e){super(...e),y(this,"settings",b,this),y(this,"feature",g,this),y(this,"config",f,this),y(this,"recipientsSelectValue",v,this),w(this,"mailgunRegions",[P,O])}get emailNewsletterEnabled(){return"disabled"!==this.settings.editorDefaultEmailRecipients}get mailgunRegion(){return this.settings.mailgunBaseUrl?[P,O].find((e=>e.baseUrl===this.settings.mailgunBaseUrl)):P}get mailgunSettings(){return{apiKey:this.settings.mailgunApiKey||"",domain:this.settings.mailgunDomain||"",baseUrl:this.settings.mailgunBaseUrl||""}}setMailgunDomain(e){this.settings.mailgunDomain=e.target.value,this.settings.mailgunBaseUrl||(this.settings.mailgunBaseUrl=this.mailgunRegion.baseUrl)}setMailgunApiKey(e){this.settings.mailgunApiKey=e.target.value,this.settings.mailgunBaseUrl||(this.settings.mailgunBaseUrl=this.mailgunRegion.baseUrl)}setMailgunRegion(e){this.settings.mailgunBaseUrl=e.baseUrl}toggleEmailTrackOpens(e){e&&e.preventDefault(),this.settings.emailTrackOpens=!this.settings.emailTrackOpens}toggleEmailTrackClicks(e){e&&e.preventDefault(),this.settings.emailTrackClicks=!this.settings.emailTrackClicks}toggleEmailNewsletterEnabled(e){e&&e.preventDefault()
!this.emailNewsletterEnabled?this.settings.editorDefaultEmailRecipients="visibility":(this.settings.editorDefaultEmailRecipients="disabled",this.settings.editorDefaultEmailRecipientsFilter=null),this.recipientsSelectValue=this._getDerivedRecipientsSelectValue(),this.settings.save().catch(console.error)}setDefaultEmailRecipients(e){["visibility","disabled"].includes(e)?(this.settings.editorDefaultEmailRecipients=e,this.settings.editorDefaultEmailRecipientsFilter=null):this.settings.editorDefaultEmailRecipients="filter","all-members"===e&&(this.settings.editorDefaultEmailRecipientsFilter="status:free,status:-free"),"paid-only"===e&&(this.settings.editorDefaultEmailRecipientsFilter="status:-free"),"none"===e&&(this.settings.editorDefaultEmailRecipientsFilter=null),this.recipientsSelectValue=e}setDefaultEmailRecipientsFilter(e){this.settings.editorDefaultEmailRecipientsFilter=e}_getDerivedRecipientsSelectValue(){const e=this.settings.editorDefaultEmailRecipients,t=this.settings.editorDefaultEmailRecipientsFilter
return"filter"===e?"status:free,status:-free"===t?"all-members":"status:-free"===t?"paid-only":null===t?"none":"segment":e}},b=k(h.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(h.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=k(h.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=k(h.prototype,"recipientsSelectValue",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this._getDerivedRecipientsSelectValue()}}),k(h.prototype,"setMailgunDomain",[s],Object.getOwnPropertyDescriptor(h.prototype,"setMailgunDomain"),h.prototype),k(h.prototype,"setMailgunApiKey",[o],Object.getOwnPropertyDescriptor(h.prototype,"setMailgunApiKey"),h.prototype),k(h.prototype,"setMailgunRegion",[l],Object.getOwnPropertyDescriptor(h.prototype,"setMailgunRegion"),h.prototype),k(h.prototype,"toggleEmailTrackOpens",[u],Object.getOwnPropertyDescriptor(h.prototype,"toggleEmailTrackOpens"),h.prototype),k(h.prototype,"toggleEmailTrackClicks",[c],Object.getOwnPropertyDescriptor(h.prototype,"toggleEmailTrackClicks"),h.prototype),k(h.prototype,"toggleEmailNewsletterEnabled",[d],Object.getOwnPropertyDescriptor(h.prototype,"toggleEmailNewsletterEnabled"),h.prototype),k(h.prototype,"setDefaultEmailRecipients",[p],Object.getOwnPropertyDescriptor(h.prototype,"setDefaultEmailRecipients"),h.prototype),k(h.prototype,"setDefaultEmailRecipientsFilter",[m],Object.getOwnPropertyDescriptor(h.prototype,"setDefaultEmailRecipientsFilter"),h.prototype),h)
e.default=j,Ember._setComponentTemplate(E,j)})),define("ghost-admin/components/settings/newsletters/newsletter-management",["exports","@glimmer/component","ghost-admin/components/modals/newsletters/confirm-archive","ghost-admin/components/modals/newsletters/confirm-unarchive","ghost-admin/components/modals/limits/multiple-newsletters","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P
function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"EO6Nk9Y0",block:'{"symbols":["newsletter","dd","status"],"statements":[[10,"div"],[14,0,"gh-main-section gh-newsletters"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Newsletters"],[13],[2,"\\n"],[6,[37,5],[[32,0,["archivedNewsletters"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[12],[2,"\\n                "],[10,"div"],[14,"data-test-dropdown","newsletter-status-filter"],[12],[2,"\\n                    "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@horizontalPosition","@matchTriggerWidth"],[[32,0,["statusFilter"]],[32,0,["statusFilters"]],false,[32,0,["changeStatusFilter"]],[30,[36,13],["gh-power-select/trigger"],null],"gh-dropdown-archived ember-power-select-inline","gh-contentfilter-menu-dropdown","right",false]],[["default"],[{"statements":[[2,"\\n                        "],[1,[30,[36,14],[[32,3]],null]],[2,"\\n                    "]],"parameters":[3]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n"],[6,[37,5],[[32,0,["loadNewslettersTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-main-content"],[12],[2,"... loading"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,6],[[32,0,["displayingDefault"]]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,4],[[32,0,["statusFilter"]],"archived"],null]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Archived newsletters"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The newsletters below are no longer visible to members."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Active newsletters"],[13],[2,"\\n                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Drag to set the order viewed by members on your site."],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap","@sortEndAction"],[[32,0,["filteredNewsletters"]],false,[30,[36,10],[[32,0,["reorderNewslettersTask"]]],null]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,0,["filteredNewsletters"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[8,"draggable-object",[[16,0,[31,["gh-newsletter-card-container ",[30,[36,5],[[30,[36,8],[[30,[36,4],[[32,1,["status"]],"active"],null],[30,[36,7],[[32,0,["displayingDefault"]]],null]],null],"gh-newsletter-card-draggable"],null]," ",[30,[36,6],[[32,0,["displayingDefault"]],"multiple"],null]]]]],[["@content","@dragHandle","@isSortable"],[[32,1],".grab-newsletter",true]],[["default"],[{"statements":[[2,"\\n                            "],[1,[30,[36,2],["grab"],[["class"],["grab-newsletter"]]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-main-content-card gh-newsletter-card"],[15,"data-test-newsletter",[31,[[32,1,["slug"]]]]],[12],[2,"\\n"],[6,[37,5],[[32,0,["displayingDefault"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-newsletter-card-block title-block"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[2,"\\n                                            "],[1,[32,1,["name"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"\\n                                            "],[1,[32,1,["description"]]],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[8,"link-to",[[24,0,"gh-newsletter-card-block title-block"]],[["@route","@model"],["settings.newsletters.edit-newsletter",[32,1,["id"]]]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[2,"\\n                                            "],[1,[32,1,["name"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"\\n                                            "],[1,[32,1,["description"]]],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[15,0,[31,["gh-newsletter-card-block stats-block ",[30,[36,6],[[32,0,["displayingDefault"]],"multiple"],null]]]],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[1,[30,[36,9],[[32,1,["count","active_members"]]],null]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"Subscribers"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"gh-newsletter-card-name"],[12],[1,[30,[36,9],[[32,1,["count","posts"]]],null]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-newsletter-card-description"],[12],[2,"Posts sent"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-newsletter-card-block cta-block"],[12],[2,"\\n"],[6,[37,5],[[32,0,["displayingDefault"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","customize-newsletter"]],[["@route","@model"],["settings.newsletters.edit-newsletter",[32,1,["id"]]]],[["default"],[{"statements":[[10,"span"],[12],[2,"Customize â†’"],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@renderInPlace"],["below","right",true]],[["default"],[{"statements":[[2,"\\n                                            "],[8,[32,2,["Trigger"]],[[24,0,"gh-btn gh-btn-action-icon gh-btn-icon fill gh-btn-outline gh-tier-card-actions-button icon-only"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"span"],[14,"data-test-newsletter-menu-trigger",""],[12],[2,"\\n                                                    "],[1,[30,[36,2],["dotdotdot"],null]],[2,"\\n                                                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[8,[32,2,["Content"]],[[24,0,"relative-dropdown-menu gh-newsletter-actions-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                                "],[11,"ul"],[24,0,"dropdown-menu dropdown-triangle-top-right"],[24,"role","listbox"],[4,[38,3],["anim-fade-in-scale"],null],[12],[2,"\\n                                                    "],[10,"li"],[12],[2,"\\n                                                        "],[8,"link-to",[[24,0,"mr2"],[24,"data-test-button","customize-newsletter"]],[["@route","@model"],["settings.newsletters.edit-newsletter",[32,1,["id"]]]],[["default"],[{"statements":[[10,"span"],[12],[2,"Edit"],[13]],"parameters":[]}]]],[2,"\\n                                                    "],[13],[2,"\\n"],[6,[37,5],[[30,[36,4],[[32,1,["status"]],"active"],null]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"li"],[12],[2,"\\n                                                            "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","archive-newsletter"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["archiveNewsletter"]],[32,1]],null]],null],[12],[2,"\\n                                                                "],[10,"span"],[12],[2,"Archive"],[13],[2,"\\n                                                            "],[13],[2,"\\n                                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[30,[36,4],[[32,1,["status"]],"archived"],null]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"li"],[12],[2,"\\n                                                            "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","reactivate-newsletter"],[24,4,"button"],[4,[38,1],["click",[30,[36,0],[[32,0,["unarchiveNewsletter"]],[32,1]],null]],null],[12],[2,"\\n                                                                "],[10,"span"],[12],[2,"Reactivate"],[13],[2,"\\n                                                            "],[13],[2,"\\n                                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                        "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-main-content"],[12],[2,"No newsletters found"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[8,"link-to",[[24,0,"gh-add-newsletter"],[24,"data-test-button","add-newsletter"]],[["@route"],["settings.newsletters.new-newsletter"]],[["default"],[{"statements":[[1,[30,[36,2],["plus"],null]],[2,"Add newsletter"]],"parameters":[]}]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","on","svg-jar","css-transition","eq","if","unless","not","and","format-number","perform","-track-array","each","component","titleize"]}',moduleName:"ghost-admin/components/settings/newsletters/newsletter-management.hbs"})
let z=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=class extends t.default{constructor(){super(...arguments),O(this,"modals",v,this),O(this,"router",y,this),O(this,"store",w,this),O(this,"limit",k,this),O(this,"statusFilter",E,this),O(this,"filteredNewsletters",P,this),j(this,"statusFilters",["active","archived"]),j(this,"newsletters",this.store.peekAll("newsletter")),this.loadNewslettersTask.perform(),this.router.on("routeDidChange",this.handleNewRouteChange)}willDestroy(){super.willDestroy(...arguments),this.router.off("routeDidChange",this.handleNewRouteChange),this.confirmArchiveModal?.close(),this.confirmUnarchiveModal?.close()}get activeNewsletters(){return this.newsletters.filter((e=>"active"===e.status))}get archivedNewsletters(){return this.newsletters.filter((e=>"archived"===e.status))}get displayingDefault(){return"active"===this.statusFilter&&1===this.filteredNewsletters.length}changeStatusFilter(e){this.statusFilter=e,this.updateFilteredNewsletters()}updateFilteredNewsletters(){this.filteredNewsletters=this.newsletters.filter((e=>e.status===this.statusFilter&&!e.isNew&&!e.isDestroyed))}handleNewRouteChange(e){"settings.newsletters.new-newsletter"===e.from.name&&this.updateFilteredNewsletters()}archiveNewsletter(e){this.confirmArchiveModal=this.modals.open(i.default,{newsletter:e,archiveNewsletterTask:this.archiveNewsletterTask})}*archiveNewsletterTask(e){e.status="archived"
const t=yield e.save()
return this.updateFilteredNewsletters(),this.confirmArchiveModal?.close(),t}async unarchiveNewsletter(e){try{await this.limit.limiter.errorIfWouldGoOverLimit("newsletters")}catch(t){if("HostLimitError"===t.errorType)return void this.modals.open(r.default,{message:t.message})
throw t}this.confirmUnarchiveModal=this.modals.open(n.default,{newsletter:e,unarchiveNewsletterTask:this.unarchiveNewsletterTask})}*unarchiveNewsletterTask(e){e.status="active"
const t=yield e.save()
return"archived"!==this.statusFilter||this.archivedNewsletters.length||(this.statusFilter="active"),this.updateFilteredNewsletters(),this.confirmUnarchiveModal?.close(),t}*loadNewslettersTask(){const e=yield this.store.query("newsletter",{include:"count.active_members,count.posts",limit:"all"})
return this.updateFilteredNewsletters(),e}*reorderNewslettersTask(){if("active"!==this.statusFilter)return
const e=this.filteredNewsletters,t=this.newsletters.filter((t=>!e.includes(t))).sort((({sortOrder:e},{sortOrder:t})=>t-e))
let i=0
for(const n of[...e,...t])n.sortOrder=i,yield n.save(),i+=1}},v=_(f.prototype,"modals",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(f.prototype,"router",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(f.prototype,"store",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(f.prototype,"limit",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(f.prototype,"statusFilter",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"active"}}),P=_(f.prototype,"filteredNewsletters",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),_(f.prototype,"changeStatusFilter",[p],Object.getOwnPropertyDescriptor(f.prototype,"changeStatusFilter"),f.prototype),_(f.prototype,"updateFilteredNewsletters",[m],Object.getOwnPropertyDescriptor(f.prototype,"updateFilteredNewsletters"),f.prototype),_(f.prototype,"handleNewRouteChange",[h],Object.getOwnPropertyDescriptor(f.prototype,"handleNewRouteChange"),f.prototype),_(f.prototype,"archiveNewsletter",[b],Object.getOwnPropertyDescriptor(f.prototype,"archiveNewsletter"),f.prototype),_(f.prototype,"archiveNewsletterTask",[a.task],Object.getOwnPropertyDescriptor(f.prototype,"archiveNewsletterTask"),f.prototype),_(f.prototype,"unarchiveNewsletter",[g],Object.getOwnPropertyDescriptor(f.prototype,"unarchiveNewsletter"),f.prototype),_(f.prototype,"unarchiveNewsletterTask",[a.task],Object.getOwnPropertyDescriptor(f.prototype,"unarchiveNewsletterTask"),f.prototype),_(f.prototype,"loadNewslettersTask",[a.task],Object.getOwnPropertyDescriptor(f.prototype,"loadNewslettersTask"),f.prototype),_(f.prototype,"reorderNewslettersTask",[a.task],Object.getOwnPropertyDescriptor(f.prototype,"reorderNewslettersTask"),f.prototype),f)
e.default=z,Ember._setComponentTemplate(T,z)})),define("ghost-admin/components/settings/signup-form-embed",["exports","@glimmer/component","ghost-admin/components/modals/settings/signup-form-embed"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"6NFNuEVj",block:'{"symbols":[],"statements":[[2,"\\n"],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Embeddable signup form"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Grow your audience from anywhere on the web"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[16,"disabled",[30,[36,1],[[30,[36,0],[[32,0,["settings","membersSignupAccess"]],"all"],null]],null]],[24,4,"button"],[4,[38,2],["click",[32,0,["open"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Embed"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["eq","not","on"]}',moduleName:"ghost-admin/components/settings/signup-form-embed.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"modals",o,this),u(this,"settings",l,this)}open(){this.modals.open(i.default,{},{})}},o=c(s.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"open",[a],Object.getOwnPropertyDescriptor(s.prototype,"open"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/settings/signup-form/preview",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"p48+r1wl",block:'{"symbols":["@html"],"statements":[[11,"div"],[16,0,[30,[36,0],[[32,0,["increaseWidth"]],"gh-iframe-increase-width"],null]],[4,[38,1],[[32,0,["onChangeHtml"]],[32,1]],null],[12],[2,"\\n    "],[11,"iframe"],[24,"srcDoc","<!DOCTYPE html>"],[16,0,[30,[36,4],["gh-signup-form-iframe",[30,[36,3],[[30,[36,2],[[32,0,["visibleIframeIndex"]],0],null]," gh-iframe-hidden"],null]," gh-style-",[32,0,["firstIframeStyle"]]],null]],[24,"frameborder","0"],[24,"allowtransparency","true"],[24,"title","Signup Form Preview 1"],[4,[38,6],["load",[30,[36,5],[[32,0,["onLoad"]],0],null]],null],[12],[13],[2,"\\n\\n    "],[11,"iframe"],[24,"srcDoc","<!DOCTYPE html>"],[16,0,[30,[36,4],["gh-signup-form-iframe",[30,[36,3],[[30,[36,2],[[32,0,["visibleIframeIndex"]],1],null]," gh-iframe-hidden"],null]," gh-style-",[32,0,["secondIframeStyle"]]],null]],[24,"frameborder","0"],[24,"allowtransparency","true"],[24,"title","Signup Form Preview 2"],[4,[38,6],["load",[30,[36,5],[[32,0,["onLoad"]],1],null]],null],[12],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","did-update","eq","unless","concat","fn","on"]}',moduleName:"ghost-admin/components/settings/signup-form/preview.hbs"})
let h=(i=Ember._tracked,n=Ember._tracked,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"iframes",l,this),c(this,"visibleIframeIndex",u,this),d(this,"lastChange",new Date)}get visibleHtml(){return this.iframes[this.visibleIframeIndex].html}get firstIframeStyle(){return this.iframes[0].style}get secondIframeStyle(){return this.iframes[1].style}onLoad(e,t){const i=this.iframes[e]
if(i)if(i.timer&&(clearTimeout(i.timer),i.timer=null),i.element){if(!i.loading)return
const n=i.element.contentWindow.document.querySelector("iframe")
n&&n.contentWindow.document.body&&n.contentWindow.document.body.children.length>0?(this.visibleIframeIndex=e,this.iframes=[...this.iframes],i.loading=!1):i.timer=setTimeout((()=>{this.onLoad(e,t)}),50)}else i.element=t.currentTarget,e===this.visibleIframeIndex&&setTimeout((()=>{this.updateContent(e)}))}onChangeHtml(){if(!this.iframes[0].loading&&!this.iframes[1].loading&&this.lastChange<new Date-500)return this.lastChange=new Date,void this.throttledUpdate()
this.lastChange=new Date,Ember.run.throttle(this,this.throttledUpdate,400,!1)}throttledUpdate(){if(this.iframes[this.visibleIframeIndex].html===this.args.html)return
const e=0===this.visibleIframeIndex?1:0
this.updateContent(e)}updateContent(e){const t=this.iframes[e]
if(!t||!t.element)return
t.timer&&(clearTimeout(t.timer),t.timer=null),t.loading=!0
const i=`<html><head><style>body, html {padding: 0; margin: 0; overflow: hidden;}</style></head><body>${this.args.html}</body></html>`
t.html=this.args.html,t.style=this.args.style,t.element.contentWindow.document.open(),t.element.contentWindow.document.write(i),t.element.contentWindow.document.close(),this.iframes=[...this.iframes]}},l=p(o.prototype,"iframes",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{element:null,html:"",loading:!1,style:""},{element:null,html:"",loading:!1,style:""}]}}),u=p(o.prototype,"visibleIframeIndex",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p(o.prototype,"onLoad",[r],Object.getOwnPropertyDescriptor(o.prototype,"onLoad"),o.prototype),p(o.prototype,"onChangeHtml",[a],Object.getOwnPropertyDescriptor(o.prototype,"onChangeHtml"),o.prototype),p(o.prototype,"updateContent",[s],Object.getOwnPropertyDescriptor(o.prototype,"updateContent"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/settings/signup-form/style-select",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const s=Ember.HTMLBars.template({id:"oEdlwgah",block:'{"symbols":["option"],"statements":[[10,"div"],[14,0,"gh-btn-group"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["options"]]],null]],null]],null,[["default"],[{"statements":[[2,"        "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,1],[[30,[36,0],[[32,0,["selectedOption","value"]],[32,1,["value"]]],null],"gh-btn-group-selected"],null]]]],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["setRecipients"]],[32,1]],null]],null],[12],[10,"span"],[12],[1,[32,1,["name"]]],[13],[13],[2,"\\n"]],"parameters":[1]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","if","fn","on","-track-array","each"]}',moduleName:"ghost-admin/components/settings/signup-form/style-select.hbs"})
let o=(i=Ember._action,n=Ember._action,a((r=class extends t.default{get options(){return[{name:"Branded",value:"all-in-one"},{name:"Minimal",value:"minimal"}]}get selectedOption(){return this.options.find((e=>e.value===this.args.value))}setRecipients(e){this.args.onChange(e.value)}changeOption(e){this.option=e}}).prototype,"setRecipients",[i],Object.getOwnPropertyDescriptor(r.prototype,"setRecipients"),r.prototype),a(r.prototype,"changeOption",[n],Object.getOwnPropertyDescriptor(r.prototype,"changeOption"),r.prototype),r)
e.default=o,Ember._setComponentTemplate(s,o)})),define("ghost-admin/components/settings/staff/modals/delete-user",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const m=Ember.HTMLBars.template({id:"hApHbor9",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","delete-user"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this user?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[1,[30,[36,2],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,3],[[32,1,["user","count","posts"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                "],[10,"strong"],[12],[1,[32,1,["user","name"]]],[13],[2," will be permanently deleted and their "],[10,"strong"],[14,"data-test-text","user-post-count"],[12],[1,[30,[36,0],[[32,1,["user","count","posts"]],"post"],null]],[13],[2," will be automatically assigned to "],[10,"strong"],[12],[1,[32,0,["ownerUser","name"]]],[13],[2,".\\n            "],[13],[2,"\\n\\n            "],[10,"p"],[14,0,"gh-transfer-tag"],[12],[2,"\\n                To make these easy to find in the future, each post will be given an internal tag of "],[10,"strong"],[12],[2,"#"],[1,[32,1,["user","slug"]]],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"p"],[12],[2,"\\n                "],[10,"strong"],[12],[1,[32,1,["user","name"]]],[13],[2," will be permanently deleted.\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-delete-user"],[24,4,"button"],[4,[38,1],["click",[32,2]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n        "],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm-delete-user"]],[["@buttonText","@successText","@task","@class"],["Delete user","Deleted",[32,0,["deleteUserTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["gh-pluralize","on","svg-jar","if"]}',moduleName:"ghost-admin/components/settings/staff/modals/delete-user.hbs"})
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=(0,i.task)({drop:!0}),o=class extends t.default{constructor(...e){super(...e),d(this,"notifications",l,this),d(this,"router",u,this),d(this,"store",c,this)}get ownerUser(){return this.store.peekAll("user").findBy("isOwnerOnly",!0)}*deleteUserTask(){try{const{user:e}=this.args.data
yield e.destroyRecord(),this.notifications.closeAlerts("user.delete"),this.store.unloadAll("post"),this.router.transitionTo("settings.staff")}catch(e){throw this.notifications.showAlert("The user could not be deleted. Please try again.",{type:"error",key:"user.delete.failed"}),e}finally{this.args.close()}}},l=p(o.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"deleteUserTask",[s],Object.getOwnPropertyDescriptor(o.prototype,"deleteUserTask"),o.prototype),o)
e.default=h,Ember._setComponentTemplate(m,h)})),define("ghost-admin/components/settings/staff/modals/regenerate-staff-token",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"yK/WewGj",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","regenerate-staff-token"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Regenerate your Staff Access Token"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            You can regenerate your Staff Access Token any time, but any scripts or applications using it will need to be updated.\\n        "],[13],[2,"\\n"],[6,[37,2],[[32,0,["errorMessage"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"red"],[12],[2," "],[1,[32,0,["errorMessage"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-icon gh-btn-red"],[24,4,"button"],[4,[38,0],["click",[32,0,["regenerateStaffToken"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Regenerate your Staff Access Token"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","if"]}',moduleName:"ghost-admin/components/settings/staff/modals/regenerate-staff-token.hbs"})
let m=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),c(this,"ajax",o,this),c(this,"ghostPaths",l,this),c(this,"notifications",u,this)}async regenerateStaffToken(){const e=this.ghostPaths.url.api("users","me","token")
try{const{apiKey:t}=await this.ajax.put(e,{data:{}})
this.args.close(`${t.id}:${t.secret}`)}catch(t){this.notifications.showAPIError(t,{key:"token.regenerate"}),this.args.close()}}},o=d(s.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(s.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"regenerateStaffToken",[a],Object.getOwnPropertyDescriptor(s.prototype,"regenerateStaffToken"),s.prototype),s)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/settings/staff/modals/select-role",["exports","@glimmer/component"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const a=Ember.HTMLBars.template({id:"s33ygqSc",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","select-role"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Change user role"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[8,"gh-role-selection",[],[["@selected","@setRole"],[[32,0,["role"]],[30,[36,3],[[30,[36,2],[[32,0,["role"]]],null]],null]]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-black"],[24,4,"button"],[4,[38,0],["click",[30,[36,3],[[32,1],[32,0,["role"]]],null]],null],[12],[10,"span"],[12],[2,"Change role"],[13],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar","mut","fn"]}',moduleName:"ghost-admin/components/settings/staff/modals/select-role.hbs"})
let s=(i=Ember._tracked,n=class extends t.default{constructor(){var e,t,i,n
super(...arguments),e=this,t="role",n=this,(i=r)&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0}),this.role=this.args.data.currentRole}},o=n.prototype,l="role",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s,Ember._setComponentTemplate(a,s)})),define("ghost-admin/components/settings/staff/modals/suspend-user",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=Ember.HTMLBars.template({id:"AaM72h7U",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to suspend this user?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"strong"],[12],[2,"WARNING:"],[13],[2," This user will no longer be able to log in but their posts will be kept.\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-modal-confirm","true"]],[["@buttonText","@successText","@task","@class"],["Suspend","Suspended",[32,0,["suspendUserTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/settings/staff/modals/suspend-user.hbs"})
let u=(n=Ember.inject.service,r=(0,i.task)({drop:!0}),a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="notifications",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}*suspendUserTask(){try{const{user:e,saveTask:t}=this.args.data
e.status="inactive",yield t.perform(),this.notifications.closeAlerts("user.suspend")}catch(e){throw this.notifications.showAlert("The user could not be suspended. Please try again.",{type:"error",key:"user.suspend.failed"}),e}finally{this.args.close()}}},s=o(a.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(a.prototype,"suspendUserTask",[r],Object.getOwnPropertyDescriptor(a.prototype,"suspendUserTask"),a.prototype),a)
e.default=u,Ember._setComponentTemplate(l,u)})),define("ghost-admin/components/settings/staff/modals/transfer-ownership",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"XBKTbESm",block:'{"symbols":["@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","transfer-owner"],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Transfer Ownership"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n        "],[10,"p"],[12],[2,"\\n            Are you sure you want to transfer the ownership of this blog?\\n            You will not be able to undo this action.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[],[["@buttonText","@task","@class"],["Yep - I\'m sure",[32,0,["transferOwnershipTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/components/settings/staff/modals/transfer-ownership.hbs"})
let v=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=(0,i.task)({drop:!0}),u=class extends t.default{constructor(...e){super(...e),b(this,"ajax",c,this),b(this,"dropdown",d,this),b(this,"ghostPaths",p,this),b(this,"notifications",m,this),b(this,"store",h,this)}*transferOwnershipTask(){try{this.dropdown.closeDropdowns()
const{user:e}=this.args.data,t=this.ghostPaths.url.api("users","owner"),i=yield this.ajax.put(t,{data:{owner:[{id:e.id}]}})
Ember.isArray(i?.users)&&i.users.forEach((e=>{const t=this.store.peekRecord("user",e.id),i=this.store.peekRecord("role",e.roles[0].id)
t.role=i})),this.notifications.showAlert(`Ownership successfully transferred to ${e.get("name")}`,{type:"success",key:"owner.transfer.success"})}catch(e){throw this.notifications.showAPIError(e,{key:"owner.transfer"}),e}finally{this.args.close()}}},c=g(u.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"dropdown",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(u.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"transferOwnershipTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"transferOwnershipTask"),u.prototype),u)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/staff/modals/unsuspend-user",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=Ember.HTMLBars.template({id:"qH6WHm5Z",block:'{"symbols":["@close"],"statements":[[6,[37,3],[[32,0,["hostLimitError"]]],null,[["default","else"],[{"statements":[[2,"    "],[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","upgrade-unsuspend-user-host-limit"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Upgrade to un-suspend this user"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n            "],[10,"p"],[12],[2,"\\n                "],[1,[30,[36,2],[[32,0,["hostLimitError"]]],null]],[2," To give this user access to Ghost, upgrade to a different plan.\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel-upgrade"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Cancel"],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[24,"data-test-button","upgrade-plan"],[24,4,"button"],[4,[38,0],["click",[32,0,["upgrade"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Upgrade my plan"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","unsuspend-user"],[12],[2,"\\n        "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n            "],[10,"h1"],[12],[2,"Are you sure you want to un-suspend this user?"],[13],[2,"\\n        "],[13],[2,"\\n        "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n            "],[10,"strong"],[12],[2,"WARNING:"],[13],[2," This user will be able to log in again and will have the same permissions they had previously.\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,0],["click",[32,1]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-modal-confirm","true"]],[["@buttonText","@successText","@task","@class"],["Un-suspend","Suspended",[32,0,["unsuspendUserTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["on","svg-jar","html-safe","if"]}',moduleName:"ghost-admin/components/settings/staff/modals/unsuspend-user.hbs"})
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._action,l=(0,i.task)({drop:!0}),u=class extends t.default{constructor(){super(...arguments),h(this,"limit",c,this),h(this,"notifications",d,this),h(this,"router",p,this),h(this,"hostLimitError",m,this),this.checkHostLimitsTask.perform()}upgrade(){this.router.transitionTo("pro"),this.args.close()}*checkHostLimitsTask(){if("Contributor"!==this.args.data.user.role.name&&this.limit.limiter.isLimited("staff"))try{yield this.limit.limiter.errorIfWouldGoOverLimit("staff")}catch(e){"HostLimitError"===e.errorType?this.hostLimitError=e.message:(this.notifications.showAPIError(e,{key:"staff.limit"}),this.args.close())}}*unsuspendUserTask(){try{const{user:e,saveTask:t}=this.args.data
e.status="active",yield t.perform(),this.notifications.closeAlerts("user.unsuspend")}catch(e){throw this.notifications.showAlert("The user could not be unsuspended. Please try again.",{type:"error",key:"user.unsuspend.failed"}),e}finally{this.args.close()}}},c=b(u.prototype,"limit",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"hostLimitError",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b(u.prototype,"upgrade",[o],Object.getOwnPropertyDescriptor(u.prototype,"upgrade"),u.prototype),b(u.prototype,"checkHostLimitsTask",[i.task],Object.getOwnPropertyDescriptor(u.prototype,"checkHostLimitsTask"),u.prototype),b(u.prototype,"unsuspendUserTask",[l],Object.getOwnPropertyDescriptor(u.prototype,"unsuspendUserTask"),u.prototype),u)
e.default=f,Ember._setComponentTemplate(g,f)})),define("ghost-admin/components/settings/staff/modals/upload-image",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const f=Ember.HTMLBars.template({id:"bZxYUj+k",block:'{"symbols":["@data","@close"],"statements":[[10,"div"],[14,0,"modal-content"],[14,"data-test-modal","upload-image"],[12],[2,"\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,3],[[32,0,["url"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-image-uploader -with-image"],[12],[2,"\\n                "],[10,"div"],[12],[10,"img"],[15,"src",[32,0,["url"]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[13],[2,"\\n"],[6,[37,3],[[30,[36,2],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"koenig-image-editor",[],[["@imageSrc","@saveUrl"],[[32,0,["url"]],[32,0,["fileUploaded"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,0,"image-action image-delete"],[24,"title","Delete"],[24,4,"button"],[4,[38,4],["click",[32,0,["removeImage"]]],null],[12],[2,"\\n                    "],[1,[30,[36,5],["trash"],null]],[2,"\\n                    "],[10,"span"],[14,0,"hidden"],[12],[2,"Delete"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-image-uploader",[],[["@image","@saveButton","@update","@uploadStarted","@uploadFinished","@accept","@extensions","@uploadUrl","@paramsHash"],[[32,0,["url"]],false,[32,0,["fileUploaded"]],[30,[36,1],[[30,[36,0],[[32,0,["isUploading"]]],null],true],null],[30,[36,1],[[30,[36,0],[[32,0,["isUploading"]]],null],false],null],[32,1,["accept"]],[32,1,["extensions"]],[32,1,["uploadUrl"]],[32,1,["paramsHas"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,4],["click",[32,2]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n"],[6,[37,3],[[32,0,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"button"],[14,0,"gh-btn gh-btn-black right gh-btn-icon disabled"],[14,4,"button"],[12],[10,"span"],[12],[2,"Save"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[8,"gh-task-button",[[24,"data-test-modal-accept-button",""]],[["@task","@class"],[[32,0,["uploadImageTask"]],"gh-btn gh-btn-black right gh-btn-icon"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["mut","fn","feature","if","on","svg-jar"]}',moduleName:"ghost-admin/components/settings/staff/modals/upload-image.hbs"})
let v=(n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=(0,i.task)({drop:!0}),c=class extends t.default{constructor(){super(...arguments),b(this,"notifications",d,this),b(this,"errorMessage",p,this),b(this,"isUploading",m,this),b(this,"url",h,this),this.url=this._getModelProperty()}fileUploaded(e){this.url=e}removeImage(){this.url=""}*uploadImageTask(){this._setModelProperty(this.url)
try{yield this.args.data.model.save()}catch(e){this.notifications.showAPIError(e,{key:"image.upload"})}finally{this.args.close()}}_getModelProperty(){const{model:e,modelProperty:t}=this.args.data
return e[t]}_setModelProperty(e){const{model:t,modelProperty:i}=this.args.data
return t[i]=e,e}},d=g(c.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(c.prototype,"errorMessage",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(c.prototype,"isUploading",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h=g(c.prototype,"url",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g(c.prototype,"fileUploaded",[o],Object.getOwnPropertyDescriptor(c.prototype,"fileUploaded"),c.prototype),g(c.prototype,"removeImage",[l],Object.getOwnPropertyDescriptor(c.prototype,"removeImage"),c.prototype),g(c.prototype,"uploadImageTask",[u],Object.getOwnPropertyDescriptor(c.prototype,"uploadImageTask"),c.prototype),c)
e.default=v,Ember._setComponentTemplate(f,v)})),define("ghost-admin/components/settings/tips-and-donations",["exports","@glimmer/component","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/config/environment","ghost-admin/utils/currency","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s,o){var l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=Ember.HTMLBars.template({id:"zSq2wADK",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n        "],[10,"div"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Tips or donations"],[13],[2,"\\n"],[6,[37,6],[[30,[36,10],["tipsAndDonations"],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Give your audience a one-time way to support your work, no membership required.\\n"],[6,[37,6],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-stripe-connect-link"],[24,4,"button"],[4,[38,1],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"Connect with Stripe"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Give your audience a one-time way to support your work, no membership required"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"],[6,[37,6],[[30,[36,10],["tipsAndDonations"],null]],null,[["default","else"],[{"statements":[[6,[37,6],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,"data-testid","expand-tips-and-donations"],[24,4,"button"],[4,[38,1],["click",[30,[36,9],["tipsAndDonationsOpen",[32,0]],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,6],[[32,0,["tipsAndDonationsOpen"]],"Close","Expand"],null]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[16,"disabled",true],[24,4,"button"],[4,[38,1],["click",[30,[36,9],["tipsAndDonationsOpen",[32,0]],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,6],[[32,0,["tipsAndDonationsOpen"]],"Close","Expand"],null]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,6],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,1],["click",[30,[36,9],["tipsAndDonationsOpen",[32,0]],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[1,[30,[36,6],[[32,0,["tipsAndDonationsOpen"]],"Close","Expand"],null]],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[16,0,[31,["stripe-connect ",[30,[36,6],[[30,[36,8],[[30,[36,7],[[32,0,["session","user","isAdmin"]]],null],[32,0,["isConnectDisallowed"]]],null],"disabled"],null]]]],[24,4,"button"],[4,[38,1],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                    "],[10,"span"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[30,[36,5],[[32,0,["tipsAndDonationsOpen"]],[32,0,["membersUtils","isStripeEnabled"]]],null]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-tips-and-donations-suggested-amount"],[12],[2,"\\n                        "],[10,"label"],[14,"for","tips-and-donations-amount"],[14,0,"fw6 mb1"],[12],[2,"Suggest an amount"],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-row items-start"],[12],[2,"\\n                            "],[8,"gh-form-group",[[24,0,"no-margin"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"percentage"],[12],[2,"\\n                                    "],[11,"input"],[24,1,"gh-tips-and-donations-amount"],[24,"data-testid","tips-and-donations-amount"],[24,0,"gh-input"],[24,3,"amount"],[24,"min","0"],[16,2,[32,0,["selectedAmount"]]],[24,4,"number"],[4,[38,1],["input",[32,0,["setDonationsSuggestedAmount"]]],null],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-tips-and-donations-currency"],[12],[2,"\\n                                "],[8,"gh-form-group",[[24,0,"no-margin"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                        "],[8,"one-way-select",[[24,1,"gh-tips-and-donations-currency"],[24,3,"currency"]],[["@value","@options","@optionValuePath","@optionLabelPath","@update"],[[32,0,["selectedCurrency"]],[30,[36,2],[[32,0,["allCurrencies"]]],null],"value","label",[32,0,["setDonationsCurrency"]]]],null],[2,"\\n                                        "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[8,"gh-form-group",[[24,0,"no-margin"]],[[],[]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","tips-and-donations-link"],[14,0,"fw6 mb1"],[12],[2,"Shareable link â€” "],[11,"a"],[24,6,"#"],[4,[38,1],["click",[32,0,["showPreview"]]],null],[12],[2,"Preview"],[13],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-tips-and-donations-link-container"],[12],[2,"\\n                            "],[8,"gh-text-input",[[24,"data-test-input","tips-and-donations-link"]],[["@id","@name","@disabled","@value","@placeholder"],["gh-tips-and-donations-link","tips-and-donations-link",true,[31,[[32,0,["siteUrl"]],"/#/portal/support"]],[31,[[32,0,["siteUrl"]],"/#/portal/support"]]]],null],[2,"\\n                            "],[11,"button"],[24,0,"gh-portal-setting-copy"],[24,"data-test-button","copy-url-attr"],[24,4,"button"],[4,[38,1],["click",[30,[36,4],[[30,[36,3],[[32,0,["copyTipsAndDonationsLink"]]],null]],null]],null],[12],[2,"\\n"],[6,[37,6],[[30,[36,5],[[32,0,["copyTipsAndDonationsLink","isRunning"]]],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-darkgrey"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[14,"data-tooltip","Copy"],[12],[1,[30,[36,0],["copy"],[["class"],["w4 v-mid fill-darkgrey"]]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                "],[13],[2,"\\n"],[6,[37,6],[[32,0,["tipsAndDonationsError"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"p"],[14,0,"gh-setting-error"],[12],[10,"span"],[14,0,"red"],[12],[1,[32,0,["tipsAndDonationsError"]]],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","on","readonly","perform","fn","and","if","not","or","toggle-action","feature","liquid-if"]}',moduleName:"ghost-admin/components/settings/tips-and-donations.hbs"}),z=a.currencies.map((e=>({value:e.isoCode,label:`${e.isoCode}`})))
let x=(l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._tracked,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=class extends t.default{constructor(...e){super(...e),j(this,"settings",y,this),j(this,"session",w,this),j(this,"membersUtils",k,this),j(this,"modals",E,this),j(this,"config",P,this),j(this,"tipsAndDonationsError",O,this)}get allCurrencies(){return z}get selectedAmount(){return this.settings.donationsSuggestedAmount&&this.settings.donationsSuggestedAmount/100}get selectedCurrency(){return z.findBy("value",this.settings.donationsCurrency)}get siteUrl(){return this.config.blogUrl}get isConnectDisallowed(){const e=this.config.blogUrl
return"development"!==r.default.environment&&!/^https:/.test(e)}setDonationsCurrency(e){this.settings.donationsCurrency=e.value}setDonationsSuggestedAmount(e){const t=Math.abs(e.target.value),i=Math.round(100*t),n=this.settings.donationsCurrency,r=(0,a.getSymbol)(n),s=(0,a.minimumAmountForCurrency)(n)
0!==i&&i<100*s?this.tipsAndDonationsError=`Non-zero amount must be at least ${r}${s}.`:0!==i&&i>1e6?this.tipsAndDonationsError=`Suggested amount cannot be more than ${r}10000.`:(this.tipsAndDonationsError="",this.settings.donationsSuggestedAmount=i)}openStripeConnect(){this.args.openStripeConnect()}async closeStripeConnect(){this.showStripeConnect=!1}async showPreview(e){e.preventDefault()
const t=()=>window.open(`${this.siteUrl}/#/portal/support`,"_blank"),n=this.settings.changedAttributes()
if(n&&Object.keys(n).length>0){await this.modals.open(i.default)&&(this.settings.rollbackAttributes(),t())}else t()}*copyTipsAndDonationsLink(){const e=document.getElementById("gh-tips-and-donations-link")?.value
return e&&((0,n.default)(e),yield(0,o.timeout)(this.isTesting?50:3e3)),!0}},y=_(v.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(v.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(v.prototype,"membersUtils",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(v.prototype,"modals",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(v.prototype,"config",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_(v.prototype,"tipsAndDonationsError",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_(v.prototype,"setDonationsCurrency",[m],Object.getOwnPropertyDescriptor(v.prototype,"setDonationsCurrency"),v.prototype),_(v.prototype,"setDonationsSuggestedAmount",[h],Object.getOwnPropertyDescriptor(v.prototype,"setDonationsSuggestedAmount"),v.prototype),_(v.prototype,"openStripeConnect",[b],Object.getOwnPropertyDescriptor(v.prototype,"openStripeConnect"),v.prototype),_(v.prototype,"closeStripeConnect",[g],Object.getOwnPropertyDescriptor(v.prototype,"closeStripeConnect"),v.prototype),_(v.prototype,"showPreview",[f],Object.getOwnPropertyDescriptor(v.prototype,"showPreview"),v.prototype),_(v.prototype,"copyTipsAndDonationsLink",[o.task],Object.getOwnPropertyDescriptor(v.prototype,"copyTipsAndDonationsLink"),v.prototype),v)
e.default=x,Ember._setComponentTemplate(T,x)})),define("ghost-admin/components/sortable-objects",["exports","ember-drag-drop/components/sortable-objects"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/components/tabs/tab-panel",["exports","@glimmer/component"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.HTMLBars.template({id:"Nq8WUAlH",block:'{"symbols":["&default","@forceRender"],"statements":[[10,"div"],[15,1,[31,[[32,0,["tabId"]],"-panel"]]],[14,"role","tabpanel"],[14,"tabindex","0"],[15,"aria-labelledby",[31,[[32,0,["tabId"]]]]],[15,0,[31,["tab-panel ",[30,[36,0],[[32,0,["isSelectedTab"]],"tab-panel-selected"],null]]]],[12],[2,"\\n"],[6,[37,0],[[30,[36,1],[[32,0,["isSelectedTab"]],[32,2]],null]],null,[["default"],[{"statements":[[2,"        "],[18,1,null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","or"]}',moduleName:"ghost-admin/components/tabs/tab-panel.hbs"})
class r extends t.default{constructor(...e){super(...e),i(this,"index",this.args.index())}get isSelectedTab(){return this.args.selectedIndex===this.index}get tabId(){return this.args.tabIds[this.index]}}e.default=r,Ember._setComponentTemplate(n,r)})),define("ghost-admin/components/tabs/tab",["exports","@glimmer/component"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const o=Ember.HTMLBars.template({id:"JLPrm5d1",block:'{"symbols":["&default"],"statements":[[11,"button"],[16,0,[31,["tab ",[30,[36,0],[[32,0,["isSelectedTab"]],"tab-selected"],null]]]],[16,1,[31,[[32,0,["id"]]]]],[24,"role","tab"],[16,"aria-selected",[31,[[32,0,["isSelectedTab"]]]]],[16,"aria-controls",[31,[[32,0,["id"]],"-panel"]]],[16,"tabindex",[31,[[30,[36,0],[[32,0,["isSelectedTab"]],"0","-1"],null]]]],[24,4,"button"],[4,[38,1],["click",[32,0,["handleClick"]]],null],[4,[38,1],["keyup",[32,0,["handleKeyup"]]],null],[12],[2,"\\n    "],[18,1,null],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","on"]}',moduleName:"ghost-admin/components/tabs/tab.hbs"})
let l=(i=Ember._action,n=Ember._action,s((r=class extends t.default{constructor(...e){super(...e),a(this,"id",this.args.id(`tab-${Ember.guidFor(this)}`)),a(this,"index",this.args.index())}get isSelectedTab(){return this.args.selectedIndex===this.index}handleClick(){return this.args.onSelect(this.index)}handleKeyup(e){return e.stopPropagation(),e.preventDefault(),this.args.onKeyup(e,this.index)}}).prototype,"handleClick",[i],Object.getOwnPropertyDescriptor(r.prototype,"handleClick"),r.prototype),s(r.prototype,"handleKeyup",[n],Object.getOwnPropertyDescriptor(r.prototype,"handleKeyup"),r.prototype),r)
e.default=l,Ember._setComponentTemplate(o,l)})),define("ghost-admin/components/tabs/tabs",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const p=Ember.HTMLBars.template({id:"VNhg6Kxf",block:'{"symbols":["&attrs","&default","@forceRender"],"statements":[[11,"div"],[17,1],[12],[2,"\\n    "],[10,"div"],[14,"role","tablist"],[14,0,"tab-list"],[12],[2,"\\n        "],[18,2,[[30,[36,1],null,[["tab"],[[30,[36,0],["tabs/tab"],[["selectedIndex","onSelect","onKeyup","id","index"],[[32,0,["selectedIndex"]],[32,0,["handleSelect"]],[32,0,["handleKeyup"]],[32,0,["addTabId"]],[32,0,["addTabIndex"]]]]]]]]]],[2,"\\n    "],[13],[2,"\\n\\n    "],[18,2,[[30,[36,1],null,[["tabPanel"],[[30,[36,0],["tabs/tab-panel"],[["selectedIndex","index","tabIds","forceRender"],[[32,0,["selectedIndex"]],[32,0,["addPanelIndex"]],[32,0,["tabIds"]],[32,3]]]]]]]]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["component","hash"]}',moduleName:"ghost-admin/components/tabs/tabs.hbs"})
let m=(i=Ember._tracked,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){var t,i,n,r
super(...e),c(this,"tabIds",[]),c(this,"tabCounter",0),c(this,"tabPanelCounter",0),t=this,i="selectedIndex",r=this,(n=u)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}handleSelect(e){this.selectedIndex=e}handleKeyup(e,t){switch(e.key){case"ArrowLeft":this.selectedIndex=this.tabIds[t-1]?t-1:this.tabIds.length-1
break
case"ArrowRight":this.selectedIndex=this.tabIds[t+1]?t+1:0
break
case"Home":this.selectedIndex=0
break
case"End":this.selectedIndex=this.tabIds.length-1}document.getElementById(this.tabIds[this.selectedIndex]).focus()}addTabId(e){return this.tabIds.push(e),e}addTabIndex(){const e=this.tabCounter
return this.tabCounter=this.tabCounter+1,e}addPanelIndex(){const e=this.tabPanelCounter
return this.tabPanelCounter=this.tabPanelCounter+1,e}},u=d(l.prototype,"selectedIndex",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.args.defaultIndex??0}}),d(l.prototype,"handleSelect",[n],Object.getOwnPropertyDescriptor(l.prototype,"handleSelect"),l.prototype),d(l.prototype,"handleKeyup",[r],Object.getOwnPropertyDescriptor(l.prototype,"handleKeyup"),l.prototype),d(l.prototype,"addTabId",[a],Object.getOwnPropertyDescriptor(l.prototype,"addTabId"),l.prototype),d(l.prototype,"addTabIndex",[s],Object.getOwnPropertyDescriptor(l.prototype,"addTabIndex"),l.prototype),d(l.prototype,"addPanelIndex",[o],Object.getOwnPropertyDescriptor(l.prototype,"addPanelIndex"),l.prototype),l)
e.default=m,Ember._setComponentTemplate(p,m)})),define("ghost-admin/components/tags/delete-tag-modal",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d=Ember.HTMLBars.template({id:"D7O+joFb",block:'{"symbols":["@data","@close"],"statements":[[11,"div"],[24,0,"modal-content"],[24,"data-test-modal","confirm-delete-tag"],[4,[38,2],["Enter",[30,[36,1],[[32,0,["deleteTagTask"]]],null]],null],[12],[2,"\\n    "],[10,"header"],[14,0,"modal-header"],[12],[2,"\\n        "],[10,"h1"],[12],[2,"Are you sure you want to delete this tag?"],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"close"],[24,"title","Close"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[1,[30,[36,4],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-body"],[12],[2,"\\n"],[6,[37,5],[[32,1,["tag","count","posts"]]],null,[["default"],[{"statements":[[2,"            "],[10,"span"],[14,0,"red"],[12],[2,"This tag is attached to "],[10,"span"],[14,"data-test-text","posts-count"],[12],[1,[30,[36,0],[[32,1,["tag","count","posts"]],"post"],null]],[13],[2,"."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        You\'re about to delete \\""],[10,"strong"],[12],[1,[32,1,["tag","name"]]],[13],[2,"\\". This is permanent! We warned you, k?\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"modal-footer"],[12],[2,"\\n        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","cancel"],[24,4,"button"],[4,[38,3],["click",[32,2]],null],[12],[10,"span"],[12],[2,"Cancel"],[13],[13],[2,"\\n        "],[8,"gh-task-button",[[24,"data-test-button","confirm"]],[["@buttonText","@successText","@task","@class"],["Delete","Deleted",[32,0,["deleteTagTask"]],"gh-btn gh-btn-red gh-btn-icon"]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["gh-pluralize","perform","on-key","on","svg-jar","if"]}',moduleName:"ghost-admin/components/tags/delete-tag-modal.hbs"})
let p=(n=Ember.inject.service,r=Ember.inject.service,a=(0,i.task)({drop:!0}),s=class extends t.default{constructor(...e){super(...e),u(this,"notifications",o,this),u(this,"router",l,this)}*deleteTagTask(){try{const{tag:e}=this.args.data
return e.isDeleted||(yield e.destroyRecord(),this.notifications.closeAlerts("tag.delete"),this.router.transitionTo("tags")),!0}catch(e){this.notifications.showAPIError(e,{key:"tag.delete.failed"})}finally{this.args.close()}}},o=c(s.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"deleteTagTask",[a],Object.getOwnPropertyDescriptor(s.prototype,"deleteTagTask"),s.prototype),s)
e.default=p,Ember._setComponentTemplate(d,p)})),define("ghost-admin/components/tags/list-item",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t=Ember.HTMLBars.template({id:"zYehKHUP",block:'{"symbols":["@tag","&attrs"],"statements":[[11,"li"],[24,0,"gh-list-row gh-tags-list-item"],[17,2],[12],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-title gh-list-cellwidth-70"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"h3"],[14,0,"gh-tag-list-name"],[14,"data-test-tag-name",""],[12],[2,"\\n            "],[1,[32,1,["name"]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,3],[[32,1,["description"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"ma0 pa0 f8 midgrey gh-tag-list-description"],[14,"data-test-tag-description",""],[12],[2,"\\n                "],[1,[32,1,["description"]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n    "],[8,"link-to",[[24,0,"gh-list-data middarkgrey f8 gh-tag-list-slug gh-list-cellwidth-10"],[24,"title","Edit tag"],[24,"data-test-tag-slug",""]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"span"],[15,"title",[31,[[32,1,["slug"]]]]],[12],[1,[32,1,["slug"]]],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,1,["count","posts"]]],null,[["default","else"],[{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10 f8"],[16,"title",[30,[36,2],["List posts tagged with \'",[32,1,["name"]],"\'"],null]]],[["@route","@query"],["posts",[30,[36,1],null,[["type","author","tag","order"],[null,null,[32,1,["slug"]],null]]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[8,"link-to",[[24,0,"gh-list-data gh-tag-list-posts-count gh-list-cellwidth-10"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n            "],[10,"span"],[14,0,"nowrap f8 midlightgrey"],[12],[1,[30,[36,0],[[32,1,["count","posts"]],"post"],null]],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"link-to",[[24,0,"gh-list-data gh-list-cellwidth-10 gh-list-chevron"],[24,"title","Edit tag"]],[["@route","@model"],["tag",[32,1]]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex items-center justify-end w-100 h-100"],[12],[2,"\\n            "],[10,"span"],[14,0,"nr2"],[12],[1,[30,[36,4],["arrow-right"],[["class"],["w6 h6 fill-midgrey pa1"]]]],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["gh-pluralize","hash","concat","if","svg-jar"]}',moduleName:"ghost-admin/components/tags/list-item.hbs"})
var i=Ember._setComponentTemplate(t,Ember._templateOnlyComponent())
e.default=i})),define("ghost-admin/components/tags/tag-form",["exports","@glimmer/component","ghost-admin/decorators/inject","@tryghost/string","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const j=Ember.HTMLBars.template({id:"xJ/AdyNt",block:'{"symbols":["@tag"],"statements":[[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n    "],[10,"div"],[14,0,"flex justify-between items-center"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic settings"],[13],[2,"\\n        "],[10,"a"],[15,6,[32,0,["tagURL"]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-view-tag-link"],[12],[2,"View tag "],[1,[30,[36,5],["external"],null]],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-content grey columns-2"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-tag-settings-multiprop"],[12],[2,"\\n                    "],[8,"gh-form-group",[[24,0,"mr2 flex-auto"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","tag-name"],[12],[2,"Name"],[13],[2,"\\n                        "],[11,"input"],[24,0,"gh-input"],[24,1,"tag-name"],[24,3,"name"],[16,2,[32,1,["name"]]],[24,"data-test-input","tag-name"],[24,4,"text"],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"name"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"name"],null]],null],[12],[13],[2,"\\n                        "],[10,"span"],[14,0,"error"],[12],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"name"]],null],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","accentColor"]],[["@errors","@property"],[[32,1,["errors"]],"accentColor"]],null],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[14,0,"description"],[12],[2,"\\n                            Start with # to create internal tags\\n                            "],[10,"a"],[14,6,"https://ghost.org/help/organising-content/#private-tags"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Learn more"],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-form-group",[[24,0,"gh-tag-settings-colorcontainer"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"accentColor"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","accent-color"],[12],[2,"Color"],[13],[2,"\\n                        "],[10,"div"],[14,0,"input-color"],[12],[2,"\\n                            "],[11,"input"],[24,"placeholder","15171A"],[24,3,"accent-color"],[24,"autocorrect","off"],[24,"maxlength","6"],[16,2,[32,0,["accentColor"]]],[24,0,"gh-input"],[24,"aria-label","Accent color hex value"],[24,"data-test-input","accentColor"],[24,4,"text"],[4,[38,3],["input",[30,[36,9],[[32,0,["debounceUpdateAccentColorTask"]]],null]],null],[4,[38,3],["blur",[32,0,["updateAccentColor"]]],null],[12],[13],[2,"\\n                            "],[10,"div"],[14,0,"color-picker-horizontal-divider"],[12],[13],[2,"\\n                            "],[10,"div"],[14,0,"color-box-container"],[15,5,[32,0,["accentColorBgStyle"]]],[12],[2,"\\n                                "],[11,"input"],[24,3,"accent-color"],[24,0,"color-picker"],[16,2,[32,0,["accentColorPickerValue"]]],[24,"aria-label","Accent color picker"],[24,4,"color"],[4,[38,3],["input",[30,[36,9],[[32,0,["debounceUpdateAccentColorTask"]]],null]],null],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"slug"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","tag-slug"],[12],[2,"Slug"],[13],[2,"\\n                    "],[11,"input"],[16,2,[32,1,["slug"]]],[24,1,"tag-slug"],[24,3,"slug"],[24,0,"gh-input"],[24,"data-test-input","tag-slug"],[24,4,"text"],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"slug"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"slug"],null]],null],[12],[13],[2,"\\n                    "],[8,"gh-url-preview",[],[["@prefix","@slug","@tagName","@classNames"],["tag",[32,1,["slug"]],"p","description"]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"slug"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","tag-description"],[12],[2,"Description"],[13],[2,"\\n                    "],[11,"textarea"],[24,1,"tag-description"],[24,3,"description"],[24,0,"gh-input gh-tag-details-textarea"],[24,"data-test-input","tag-description"],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"description"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"description"],null]],null],[12],[1,[32,1,["description"]]],[13],[2,"\\n\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"description"]],null],[2,"\\n                    "],[10,"p"],[12],[2,"Maximum: "],[10,"b"],[12],[2,"500"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["description"]],500],null]],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[8,"gh-form-group",[[24,0,"gh-tag-image-uploader no-margin"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"featureImage"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","tag-image"],[12],[2,"Tag image"],[13],[2,"\\n                "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,1,["featureImage"]],"Upload tag image",true,[30,[36,0],[[32,0,["setTagProperty"]],"featureImage"],null],[30,[36,0],[[32,0,["setTagProperty"]],"featureImage",""],null]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Meta data"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Extra content for search engines."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,3],["click",[30,[36,10],["metadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["metadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["metadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-seo-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-seo-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","meta-title"],[12],[2,"Meta title"],[13],[2,"\\n                            "],[11,"input"],[24,1,"meta-title"],[24,3,"metaTitle"],[24,0,"gh-input"],[16,"placeholder",[32,1,["name"]]],[16,2,[32,1,["metaTitle"]]],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"metaTitle"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"metaTitle"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"metaTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["metaTitle"]],70],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","meta-description"],[12],[2,"Meta description"],[13],[2,"\\n                            "],[11,"textarea"],[24,1,"meta-description"],[24,3,"metaDescription"],[24,0,"gh-input gh-tag-details-textarea"],[16,"placeholder",[32,1,["description"]]],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"metaDescription"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"metaDescription"],null]],null],[12],[1,[32,1,["metaDescription"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"metaDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"156"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["metaDescription"]],156],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"canonicalUrl"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","canonical-url"],[12],[2,"Canonical URL"],[13],[2,"\\n                            "],[11,"input"],[24,1,"canonical-url"],[24,3,"canonicalUrl"],[24,0,"gh-input"],[16,2,[32,1,["canonicalUrl"]]],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"canonicalUrl"],null]],null]],null],[4,[38,3],["blur",[32,0,["validateCanonicalUrl"]]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"canonicalUrl"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                        "],[10,"label"],[12],[2,"Search Engine Result Preview"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                "],[10,"div"],[14,0,"flex mb7"],[12],[2,"\\n                                    "],[1,[30,[36,5],["google"],null]],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,5],["google-search"],null]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["seoURL"]]],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[32,0,["seoTitle"]]],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[6,[37,7],[[32,0,["seoDescription"]]],null,[["default","else"],[{"statements":[[1,[30,[36,8],[[32,0,["seoDescription"]],149],null]]],"parameters":[]},{"statements":[[2,"Search engines will automatically show a custom preview of content related to the search term here if no custom meta description is set."]],"parameters":[]}]]],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Twitter card"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customized structured data for Twitter."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,3],["click",[30,[36,10],["twitterMetadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["twitterMetadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["twitterMetadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-twitter-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-twitter-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-tag-image-uploader"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"twitterImage"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-image"],[12],[2,"Twitter image"],[13],[2,"\\n                            "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,1,["twitterImage"]],"Add Twitter image",true,[30,[36,0],[[32,0,["setTagProperty"]],"twitterImage"],null],[30,[36,0],[[32,0,["setTagProperty"]],"twitterImage",""],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-title"],[12],[2,"Twitter title"],[13],[2,"\\n                            "],[11,"input"],[24,1,"twitter-title"],[24,3,"twitterTitle"],[24,0,"gh-input"],[16,"placeholder",[32,1,["name"]]],[16,2,[32,1,["twitterTitle"]]],[24,4,"text"],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"twitterTitle"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"twitterTitle"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"twitterTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["twitterTitle"]],70],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"twitterDesctiption"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","twitter-description"],[12],[2,"Twitter description"],[13],[2,"\\n                            "],[11,"textarea"],[24,1,"twitter-description"],[24,3,"twitterDescription"],[24,0,"gh-input gh-tag-details-textarea"],[16,"placeholder",[32,1,["description"]]],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"twitterDescription"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"twitterDescription"],null]],null],[12],[1,[32,1,["twitterDescription"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"twitterDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"125"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["twitterDescription"]],125],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                        "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-twitter-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,5],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                                "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,6],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,7],[[32,0,["twitterImage"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,1],[[32,0,["twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[32,0,["twitterTitle"]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,8],[[32,0,["twitterDescription"]]],null]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                "],[1,[30,[36,5],["twitter-link"],null]],[2,"\\n                                                "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,5],["twitter-share"],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Facebook card"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize Open Graph data."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,3],["click",[30,[36,10],["facebookMetadataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["facebookMetadataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["facebookMetadataOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-og-settings"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-og-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                        "],[8,"gh-form-group",[[24,0,"gh-tag-image-uploader"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"ogImage"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-image"],[12],[2,"Facebook image"],[13],[2,"\\n                            "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,1,["ogImage"]],"Add Facebook image",true,[30,[36,0],[[32,0,["setTagProperty"]],"ogImage"],null],[30,[36,0],[[32,0,["setTagProperty"]],"ogImage",""],null]]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-title"],[12],[2,"Facebook title"],[13],[2,"\\n                            "],[11,"input"],[24,1,"og-title"],[24,3,"ogTitle"],[24,0,"gh-input"],[16,"placeholder",[32,1,["name"]]],[16,2,[32,1,["ogTitle"]]],[24,4,"text"],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"ogTitle"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"ogTitle"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"ogTitle"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"100"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["ogTitle"]],100],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","og-description"],[12],[2,"Facebook description"],[13],[2,"\\n                            "],[11,"textarea"],[24,1,"og-description"],[24,3,"ogDescription"],[24,0,"gh-input gh-tag-details-textarea"],[16,"placeholder",[32,1,["description"]]],[4,[38,3],["input",[30,[36,2],["target.value",[30,[36,0],[[32,0,["setTagProperty"]],"ogDescription"],null]],null]],null],[4,[38,3],["blur",[30,[36,0],[[32,0,["validateTagProperty"]],"ogDescription"],null]],null],[12],[1,[32,1,["ogDescription"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"ogDescription"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"65"],[13],[2," characters. Youâ€™ve used "],[1,[30,[36,4],[[32,1,["ogDescription"]],65],null]],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                        "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-og-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,5],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,6],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-preview"],[12],[2,"\\n"],[6,[37,7],[[32,0,["facebookImage"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,1],[[32,0,["facebookImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                    "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                            "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,8],[[32,0,["facebookTitle"]]],null]],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,8],[[32,0,["facebookDescription"]]],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,5],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,5],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                                "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Code injection"],[13],[2,"\\n                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Add styles/scripts to the header and footer."],[13],[2,"\\n            "],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-expand"],[24,4,"button"],[4,[38,3],["click",[30,[36,10],["codeInjectionOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,7],[[32,0,["codeInjectionOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,11],[[32,0,["codeInjectionOpen"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                "],[8,"gh-form-group",[[24,0,"gh-main-section-block settings-code"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"codeinjectionHead"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","codeinjection-head"],[14,0,"gh-tag-setting-codeheader"],[12],[2,"Tag header "],[10,"code"],[14,0,"fw4 ml1"],[12],[2,"{{ghost_head}}"],[13],[13],[2,"\\n                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@stopEnterKeyDownPropagation","@update","@focus-out"],[[32,1,["codeinjectionHead"]],"tag-setting-codeinjection-head","gh-tag-setting-codeinjection","tag-setting-codeinjection-head","true",[30,[36,0],[[32,0,["setTagProperty"]],"codeinjectionHead"],null],[30,[36,0],[[32,0,["validateTagProperty"]],"codeinjectionFoot"],null]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"codeinjectionHead"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[[24,0,"gh-main-section-block settings-code"]],[["@errors","@hasValidated","@property"],[[32,1,["errors"]],[32,1,["hasValidated"]],"codeinjectionFoot"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","codeinjection-foot"],[14,0,"gh-tag-setting-codeheader"],[12],[2,"Tag footer "],[10,"code"],[14,0,"fw4 ml1"],[12],[2,"{{ghost_foot}}"],[13],[13],[2,"\\n                    "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@stopEnterKeyDownPropagation","@update","@focus-out"],[[32,1,["codeinjectionFoot"]],"tag-setting-codeinjection-foot","gh-tag-setting-codeinjection","tag-setting-codeinjection-foot","true",[30,[36,0],[[32,0,["setTagProperty"]],"codeinjectionFoot"],null],[30,[36,0],[[32,0,["validateTagProperty"]],"codeinjectionFoot"],null]]],null],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,1,["errors"]],"codeinjectionFoot"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["fn","background-image-style","pick","on","gh-count-down-characters","svg-jar","or","if","truncate","perform","toggle","liquid-if"]}',moduleName:"ghost-admin/components/tags/tag-form.hbs"}),{Handlebars:_}=Ember
let T=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=class extends t.default{constructor(...e){super(...e),P(this,"feature",g,this),P(this,"settings",f,this),P(this,"config",v,this),P(this,"metadataOpen",y,this),P(this,"twitterMetadataOpen",w,this),P(this,"facebookMetadataOpen",k,this),P(this,"codeInjectionOpen",E,this)}get seoTitle(){const e=this.settings.title||"",t=e?`${this.args.tag.name} - ${e}`:this.args.tag.name
let i=this.args.tag.metaTitle||t
return i&&i.length>70&&(i=i.substring(0,70).trim(),i=_.Utils.escapeExpression(i),i=Ember.String.htmlSafe(`${i}&hellip;`)),i}get seoDescription(){let e=this.args.tag.metaDescription||""
return e=e.length>0?e:this.args.tag.description,e&&e.length>156&&(e=e.substring(0,156).trim(),e=_.Utils.escapeExpression(e),e=Ember.String.htmlSafe(`${e}&hellip;`)),e}get seoURL(){const e=this.config.blogUrl,t=this.args.tag.slug||""
let i=this.args.tag.canonicalUrl||`${e}/tag/${t}`
return i.endsWith("/")||(i+="/"),i.length>70&&(i=i.substring(0,70).trim(),i=_.Utils.escapeExpression(i),i=Ember.String.htmlSafe(`${i}&hellip;`)),i}get tagURL(){const e=this.config.blogUrl,t=this.args.tag.slug||""
let i=this.args.tag.canonicalUrl||`${e}/tag/${t}`
return i.endsWith("/")||(i+="/"),i}get twitterTitle(){return this.args.tag.twitterTitle||this.seoTitle}get twitterDescription(){return this.args.tag.twitterDescription||this.seoDescription||this.settings.metaDescription||""}get twitterImage(){return this.args.tag.twitterImage||this.args.tag.featureImage}get facebookTitle(){return this.args.tag.ogTitle||this.seoTitle}get facebookDescription(){return this.args.tag.facebookDescription||this.seoDescription||this.settings.metaDescription||""}get facebookImage(){return this.args.tag.ogImage||this.args.tag.featureImage}get accentColor(){const e=this.args.tag.accentColor
return e&&"#"===e[0]?e.slice(1):e}get accentColorPickerValue(){return this.args.tag.accentColor||"#ffffff"}get accentColorBgStyle(){return Ember.String.htmlSafe(`background-color: ${this.accentColorPickerValue}`)}setTagProperty(e,t){const{tag:i}=this.args
if(t&&(t=t.trim()),"name"===e&&i.isNew&&!this.hasChangedSlug){let e=(0,n.slugify)(t);/^#/.test(t)&&(e="hash-"+e),i.slug=e}"slug"===e&&(this.hasChangedSlug=!!t),i[e]=t,i.hasValidated.addObject(e)}validateTagProperty(e){return this.args.tag.validate({property:e})}validateCanonicalUrl(){const{tag:e}=this.args
let t=e.canonicalUrl,[i]=e.changedAttributes().canonicalUrl,n=""
if(e.errors.remove("canonicalUrl"),e.hasValidated.removeObject("canonicalUrl"),""!==t){t||(t=i)
try{new URL(t),e.canonicalUrl="",Ember.run.schedule("afterRender",this,(function(){e.canonicalUrl=t}))}catch(r){n="The url should be a valid url",e.errors.add("canonicalUrl",n),e.hasValidated.pushObject("canonicalUrl")}}else e.canonicalUrl=""}async updateAccentColor(e){const{tag:t}=this.args
let i=e.target.value
const n=t.accentColor
if(t.errors.remove("accentColor"),t.hasValidated.removeObject("accentColor"),""!==i)if(i||(i=n),"#"!==i[0]&&(i=`#${i}`),i.match(/#[0-9A-Fa-f]{6}$/)){if(i===n)return
t.accentColor=i}else t.errors.add("accentColor","The colour should be in valid hex format"),t.hasValidated.pushObject("accentColor")
else{if(i===n)return
t.accentColor=""}}*debounceUpdateAccentColorTask(e){yield(0,r.timeout)(10),this.updateAccentColor(e)}},g=O(b.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O(b.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(b.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(b.prototype,"metadataOpen",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=O(b.prototype,"twitterMetadataOpen",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=O(b.prototype,"facebookMetadataOpen",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=O(b.prototype,"codeInjectionOpen",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O(b.prototype,"setTagProperty",[d],Object.getOwnPropertyDescriptor(b.prototype,"setTagProperty"),b.prototype),O(b.prototype,"validateTagProperty",[p],Object.getOwnPropertyDescriptor(b.prototype,"validateTagProperty"),b.prototype),O(b.prototype,"validateCanonicalUrl",[m],Object.getOwnPropertyDescriptor(b.prototype,"validateCanonicalUrl"),b.prototype),O(b.prototype,"updateAccentColor",[h],Object.getOwnPropertyDescriptor(b.prototype,"updateAccentColor"),b.prototype),O(b.prototype,"debounceUpdateAccentColorTask",[r.task],Object.getOwnPropertyDescriptor(b.prototype,"debounceUpdateAccentColorTask"),b.prototype),b)
e.default=T,Ember._setComponentTemplate(j,T)})),define("ghost-admin/components/tiers/segment-select",["exports","@glimmer/component","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const b=Ember.HTMLBars.template({id:"RbCs9qg4",block:'{"symbols":["option","@segment","@enforcedCountFilter","@onSegmentCountChange","@disabled","@showMemberCount"],"statements":[[8,"gh-token-input",[],[["@options","@selected","@disabled","@optionsComponent","@allowCreation","@renderInPlace","@onChange","@class","@placeholder"],[[32,0,["options"]],[32,0,["selectedOptions"]],[30,[36,0],[[32,5],[32,0,["fetchOptionsTask","isRunning"]]],null],[30,[36,1],["power-select/options"],null],false,[32,0,["renderInPlace"]],[32,0,["setSegment"]],"select-members gh-tier-token-input","Select a tier"]],[["default"],[{"statements":[[2,"\\n    "],[10,"span"],[15,"data-test-tiers-segment",[32,1,["name"]]],[12],[1,[32,1,["name"]]],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,2],[[32,6]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-members-segment-count",[],[["@segment","@enforcedFilter","@onSegmentCountChange"],[[32,2],[32,3],[32,4]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["or","component","if"]}',moduleName:"ghost-admin/components/tiers/segment-select.hbs"})
let g=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=class extends t.default{get renderInPlace(){return void 0!==this.args.renderInPlace&&this.args.renderInPlace}constructor(){super(...arguments),m(this,"store",u,this),m(this,"feature",c,this),m(this,"_options",d,this),m(this,"tiers",p,this),this.fetchOptionsTask.perform()}get options(){return this._options}get flatOptions(){const e=[]
return this._options.forEach((function t(i){if(i.options)return i.options.forEach(t)
e.push(i)})),e}get selectedOptions(){const e=(this.args.tiers||[]).map((e=>this.tiers.find((t=>t.id===e.id||t.id===e.id)))).filter((e=>!!e)).map((e=>e.id))
return this.flatOptions.filter((t=>e.includes(t.id)))}setSegment(e){let t=e.mapBy("id").map((e=>{let t=this.tiers.find((t=>t.id===e))
return{id:t.id,slug:t.slug,name:t.name}}))||[]
this.args.onChange?.(t)}*fetchOptionsTask(){const e=yield[],t=yield this.store.query("tier",{filter:"type:paid",limit:"all",include:"monthly_price,yearly_price,benefits"})
if(this.tiers=t,t.length>0){const i={groupName:"Tiers",options:[]}
t.forEach((e=>{i.options.push({name:e.name,id:e.id,count:e.count?.members,class:"segment-tier"})})),e.push(i),this.args.selectDefaultTier&&!this.args.tiers&&this.setSegment([i.options[0]])}this._options=e}},u=h(l.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"_options",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=h(l.prototype,"tiers",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(l.prototype,"setSegment",[o],Object.getOwnPropertyDescriptor(l.prototype,"setSegment"),l.prototype),h(l.prototype,"fetchOptionsTask",[i.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchOptionsTask"),l.prototype),l)
e.default=g,Ember._setComponentTemplate(b,g)})),define("ghost-admin/components/vertical-collection",["exports","@html-next/vertical-collection/components/vertical-collection/component"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/components/websockets",["exports","@glimmer/component"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const c=Ember.HTMLBars.template({id:"j8IL9IUz",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Counter"],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Current counter value: "],[10,"strong"],[12],[1,[32,0,["counter"]]],[13],[13],[2,"\\n        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"This counter will reset when Ghost reboots."],[13],[2,"\\n    "],[13],[2,"\\n    "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","delete-all"],[24,4,"button"],[4,[38,0],["click",[32,0,["handleClick"]]],null],[12],[10,"span"],[12],[2,"Add One"],[13],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on"]}',moduleName:"ghost-admin/components/websockets.hbs"})
let d=(i=Ember.inject.service("socket-io"),n=Ember._tracked,r=Ember._action,a=class extends t.default{constructor(...e){super(...e),l(this,"socketIOService",s,this),l(this,"counter",o,this)
let t=window.location.origin
this.socketIOService.socketFor(t).on("addCount",(e=>{this.counter=e}))}handleClick(){let e=this.socketIOService.socketFor(origin)
this.counter=1+this.counter,e.emit("addCount",this.counter)}},s=u(a.prototype,"socketIOService",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"counter",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),u(a.prototype,"handleClick",[r],Object.getOwnPropertyDescriptor(a.prototype,"handleClick"),a.prototype),a)
e.default=d,Ember._setComponentTemplate(c,d)})),define("ghost-admin/controllers/application",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f
function v(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function y(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=class extends Ember.Controller{constructor(...e){super(...e),v(this,"billing",c,this),v(this,"explore",d,this),v(this,"router",p,this),v(this,"session",m,this),v(this,"settings",h,this),v(this,"ui",b,this),v(this,"upgradeStatus",g,this),v(this,"config",f,this)}get showBilling(){return this.config.hostSettings?.billing?.enabled}get showScriptExtension(){const{session:e}=this
return!(!e.isAuthenticated||!e.user)&&this.config.clientExtensions?.script}get showNavMenu(){let{router:e,session:t,ui:i}=this
return!i.isFullScreen&&(!(!t.isAuthenticated||!t.user)&&(("error404"!==e.currentRouteName||t.isAuthenticated)&&!e.currentRouteName.match(/(signin|signup|setup|reset)/)))}},c=y(u.prototype,"billing",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y(u.prototype,"explore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=y(u.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(u.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(u.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(u.prototype,"ui",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(u.prototype,"upgradeStatus",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y(u.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=w})),define("ghost-admin/controllers/billing",["exports"],(function(e){function t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Controller{constructor(...e){super(...e),t(this,"queryParams",["action"]),t(this,"action",null)}get guid(){return this.model}}e.default=i})),define("ghost-admin/controllers/collection",["exports","ghost-admin/components/collections/delete-collection-modal","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=(0,i.task)({drop:!0}),l=class extends Ember.Controller{constructor(...e){super(...e),p(this,"modals",u,this),p(this,"notifications",c,this),p(this,"router",d,this)}get collection(){return this.model}confirmDeleteCollection(){return this.modals.open(t.default,{collection:this.model})}*saveTask(){let{collection:e}=this
try{if(0!==e.get("errors").length)return
return yield e.save(),this.replaceRoute("collection",e),e}catch(t){t&&this.notifications.showAPIError(t,{key:"collection.save"})}}},u=m(l.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"confirmDeleteCollection",[s],Object.getOwnPropertyDescriptor(l.prototype,"confirmDeleteCollection"),l.prototype),m(l.prototype,"saveTask",[o],Object.getOwnPropertyDescriptor(l.prototype,"saveTask"),l.prototype),l)
e.default=h})),define("ghost-admin/controllers/collections",["exports"],(function(e){var t,i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,i=Ember._tracked,n=Ember._action,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"router",s,this),u(this,"queryParams",["type"]),l(this,"type",o,this)}get collections(){return this.model}get filteredCollections(){return this.collections.filter((e=>!e.isNew))}get sortedCollections(){return this.filteredCollections.sort(((e,t)=>e.title.localeCompare(t.title,void 0,{ignorePunctuation:!0})))}changeType(e){this.type=e}newCollection(){this.router.transitionTo("collection.new")}},s=c(a.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"type",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"public"}}),c(a.prototype,"changeType",[n],Object.getOwnPropertyDescriptor(a.prototype,"changeType"),a.prototype),c(a.prototype,"newCollection",[r],Object.getOwnPropertyDescriptor(a.prototype,"newCollection"),a.prototype),a)
e.default=d}))
define("ghost-admin/controllers/dashboard",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y
function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const P=[{name:"7 Days",value:7},{name:"30 Days",value:31},{name:"90 Days",value:91}]
let O=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=Ember._action,d=Ember._action,p=class extends Ember.Controller{constructor(...e){super(...e),w(this,"dashboardStats",m,this),w(this,"membersUtils",h,this),w(this,"store",b,this),w(this,"mentionUtils",g,this),w(this,"feature",f,this),w(this,"mentions",v,this),w(this,"hasNewMentions",y,this),k(this,"daysOptions",P)}async loadMentions(){this.feature.get("webmentions")&&(this.mentions=await this.store.query("mention",{unique:!0,limit:5,order:"created_at desc"}),this.hasNewMentions=this.checkHasNewMentions(),await this.mentionUtils.loadGroupedMentions(this.mentions))}checkHasNewMentions(){if(!this.mentions)return!1
const e=this.mentions.firstObject
if(!e)return!1
try{const t=localStorage.getItem("lastMentionRead")
return e.id!==t}catch(t){}return!0}markMentionsRead(){try{if(this.mentions){const e=this.mentions.firstObject
e&&localStorage.setItem("lastMentionRead",e.id)}}catch(e){}return this.hasNewMentions&&setTimeout((()=>{this.hasNewMentions=!1}),20),!0}*loadSiteStatusTask(){return yield this.dashboardStats.loadSiteStatus(),{}}onDaysChange(e){this.days=e.value}get days(){return this.dashboardStats.chartDays}set days(e){this.dashboardStats.chartDays=e}get selectedDaysOption(){return this.daysOptions.find((e=>e.value===this.days))}get isLoading(){return null===this.dashboardStats.siteStatus}get totalMembers(){return this.dashboardStats.memberCounts?.total??0}get isTotalMembersZero(){return this.dashboardStats.memberCounts&&0===this.totalMembers}get hasPaidTiers(){return this.dashboardStats.siteStatus?.hasPaidTiers}get areNewslettersEnabled(){return this.dashboardStats.siteStatus?.newslettersEnabled}get areMembersEnabled(){return this.dashboardStats.siteStatus?.membersEnabled}},m=E(p.prototype,"dashboardStats",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"mentionUtils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(p.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(p.prototype,"mentions",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),y=E(p.prototype,"hasNewMentions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E(p.prototype,"loadMentions",[u],Object.getOwnPropertyDescriptor(p.prototype,"loadMentions"),p.prototype),E(p.prototype,"markMentionsRead",[c],Object.getOwnPropertyDescriptor(p.prototype,"markMentionsRead"),p.prototype),E(p.prototype,"loadSiteStatusTask",[t.task],Object.getOwnPropertyDescriptor(p.prototype,"loadSiteStatusTask"),p.prototype),E(p.prototype,"onDaysChange",[d],Object.getOwnPropertyDescriptor(p.prototype,"onDaysChange"),p.prototype),p)
e.default=O})),define("ghost-admin/controllers/designsandbox",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t})),define("ghost-admin/controllers/editor",["exports","ghost-admin/components/modals/editor/confirm-leave","ghost-admin/components/modals/delete-post","ghost-admin/components/editor/modals/delete-snippet","ghost-admin/models/post","ghost-admin/components/modals/limits/publish-limit","ghost-admin/components/editor/modals/re-authenticate","ghost-admin/components/editor/modals/update-snippet","ghost-admin/utils/bound-one-way","ghost-admin/config/environment","ghost-admin/utils/isNumber","moment-timezone","ghost-admin/services/notifications","@sentry/ember","ember-concurrency","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-ajax/errors"],(function(e,t,i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f){var v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me,he,be,ge,fe,ve,ye,we,ke,Ee,Pe,Oe,je,_e,Te,ze
function xe(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ce(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Me="(Untitled)"
let De=["post.scratch","post.titleScratch","post.hasDirtyAttributes","post.tags.[]","post.isError"]
r.default.eachAttribute((function(e){De.push(`post.${e}`)}))
const Ae={errors:{post:{published:{published:"Update failed",draft:"Saving failed",scheduled:"Scheduling failed"},draft:{published:"Publish failed",draft:"Saving failed",scheduled:"Scheduling failed"},scheduled:{scheduled:"Update failed",draft:"Unscheduling failed",published:"Publish failed"}}},success:{post:{published:{published:"Updated",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},draft:{published:"Published",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},scheduled:{scheduled:"Updated",draft:"Unscheduled",published:"Published",sent:"Sent"},sent:{sent:"Updated"}}}}
let Ie=(v=Ember.inject.controller,y=Ember.inject.service,w=Ember.inject.service,k=Ember.inject.service,E=Ember.inject.service,P=Ember.inject.service,O=Ember.inject.service,j=Ember.inject.service,_=Ember.inject.service,T=Ember.inject.service,z=Ember.computed.alias("model"),x=(0,l.default)("post.isPublished"),S=(0,l.default)("post.isScheduled"),C=(0,h.taskGroup)().enqueue(),M=Ember.computed.mapBy("post.tags","name"),D=Ember.computed(...De),A=Ember.computed,I=Ember.computed("_snippets.@each.{name,isNew}"),N=Ember.computed("session.user.{isAdmin,isEditor}"),L=Ember.computed("_autosaveTask.isRunning","_timedSaveTask.isRunning"),R=Ember.computed("post.isDraft"),U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=Ember._action,K=Ember._action,J=Ember._action,X=Ember._action,Z=Ember._action,Q=Ember._action,ee=Ember._action,te=Ember._action,ie=Ember._action,ne=Ember._action,re=(0,h.task)({group:"saveTasks"}),ae=(0,h.task)({group:"saveTasks"}),se=(0,h.task)({group:"saveTasks"}),oe=Ember._action,le=(0,h.task)((function*(){if(this._canAutosave){if(this.get("post.isNew"))return this.autosaveTask.perform()
yield(0,h.timeout)(3e3),this.autosaveTask.perform()}})).restartable(),ue=(0,h.task)((function*(){if(this._canAutosave)for(;"test"!==u.default.environment;)yield(0,h.timeout)(6e4),this.autosaveTask.perform()})).drop(),ce=class extends Ember.Controller{constructor(...e){super(...e),xe(this,"application",de,this),xe(this,"feature",pe,this),xe(this,"membersCountCache",me,this),xe(this,"modals",he,this),xe(this,"notifications",be,this),xe(this,"router",ge,this),xe(this,"slugGenerator",fe,this),xe(this,"session",ve,this),xe(this,"settings",ye,this),xe(this,"ui",we,this),xe(this,"config",ke,this),Se(this,"shouldFocusTitle",!1),Se(this,"showSettingsMenu",!1),Se(this,"fromAnalytics",!1),Se(this,"wordcount",null),Se(this,"_leaveConfirmed",!1),Se(this,"_previousTagNames",null),xe(this,"post",Ee,this),xe(this,"willPublish",Pe,this),xe(this,"willSchedule",Oe,this),xe(this,"saveTasks",je,this),xe(this,"_tagNames",_e,this),xe(this,"_autosaveTask",Te,this),xe(this,"_timedSaveTask",ze,this)}get hasDirtyAttributes(){return this._hasDirtyAttributes()}set hasDirtyAttributes(e){return e}get _snippets(){return this.store.peekAll("snippet")}get snippets(){return this._snippets.reject((e=>e.get("isNew"))).reject((e=>["{}",'"{}"'].includes(JSON.stringify(e.mobiledoc)))).sort(((e,t)=>e.name.localeCompare(t.name)))}get canManageSnippets(){let{user:e}=this.session
return!(!e.get("isAdmin")&&!e.get("isEditor"))}get _autosaveRunning(){let e=this.get("_autosaveTask.isRunning"),t=this.get("_timedSaveTask.isRunning")
return e||t}get _canAutosave(){return"test"!==u.default.environment&&this.get("post.isDraft")}updateScratch(e){this.set("post.scratch",e),this._autosaveTask.perform(),this._timedSaveTask.perform()}updateTitleScratch(e){this.set("post.titleScratch",e)}setSaveType(e){"publish"===e?(this.set("willPublish",!0),this.set("willSchedule",!1)):"draft"===e?(this.set("willPublish",!1),this.set("willSchedule",!1)):"schedule"===e&&(this.set("willSchedule",!0),this.set("willPublish",!1))}save(e){return this.saveTask.perform(e)}cancelAutosave(){this._autosaveTask.cancelAll(),this._timedSaveTask.cancelAll()}leaveEditor(){let e=this.leaveEditorTransition
if(e)return this.reset(),e.retry()
this.notifications.showAlert(p.GENERIC_ERROR_MESSAGE,{type:"error"})}openDeletePostModal(){this.get("post.isNew")||this.modals.open(i.default,{post:this.post})}openUpgradeModal(e={}){this.modals.open(a.default,{message:e.message,details:e.details})}setKoenigEditor(e){this._koenig=e,this.post.isDraft&&this._koenig.cleanup()}updateWordCount(e){this.set("wordCount",e)}setFeatureImage(e){this.post.set("featureImage",e),this.post.isDraft&&this.autosaveTask.perform()}clearFeatureImage(){this.post.set("featureImage",null),this.post.set("featureImageAlt",null),this.post.set("featureImageCaption",null),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageAlt(e){this.post.set("featureImageAlt",e),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageCaption(e){this.post.set("featureImageCaption",e),this.post.isDraft&&this.autosaveTask.perform()}toggleSettingsMenu(){this.set("showSettingsMenu",!this.showSettingsMenu)}closeSettingsMenu(){this.set("showSettingsMenu",!1)}saveSnippet(e){let t=this.store.createRecord("snippet",e)
return t.save().then((()=>(this.notifications.closeAlerts("snippet.save"),this.notifications.showNotification(`Snippet saved as "${e.name}"`,{type:"success"}),t))).catch((e=>{throw t.errors.isEmpty||this.notifications.showAlert(`Snippet save failed: ${t.errors.messages.join(". ")}`,{type:"error",key:"snippet.save"}),t.rollbackAttributes(),e}))}async confirmUpdateSnippet(e,t={}){await this.modals.open(o.default,{snippet:e,updatedProperties:t})}async confirmDeleteSnippet(e){await this.modals.open(n.default,{snippet:e})}*autosaveTask(){if(!this.get("saveTask.isRunning"))return yield this.saveTask.perform({silent:!0,backgroundSave:!0})}*saveTask(e={}){let t,i=this.get("post.status"),n=this.get("post.isNew")
if(this.cancelAutosave(),!e.backgroundSave||this.hasDirtyAttributes){t=e.backgroundSave?"draft":this.get("post.pastScheduledTime")?this.willSchedule||this.willPublish?"published":"draft":this.willPublish&&!this.get("post.isScheduled")?"published":this.willSchedule&&!this.get("post.isPublished")?"scheduled":this.get("post.isSent")?"sent":"draft",this.set("post.status",t),yield this.beforeSaveTask.perform(e)
try{let t=yield this._savePostTask.perform(e)
return t.set("statusScratch",null),this.notifications.clearAll(),e.silent||this._showSaveNotification(i,t.get("status"),!!n),n&&t.get("id")?(this.leaveEditorTransition||this.replaceRoute("editor.edit",t),!0):t}catch(r){if(!this.session.isAuthenticated&&(yield this.modals.open(s.default),this.session.isAuthenticated))return void this.saveTask.perform(e)
if(this.set("post.status",i),void 0===r&&0===this.post.errors.length)return
if((0,g.isHostLimitError)(r))return this.post.rollbackAttributes(),void this.openUpgradeModal(r.payload.errors[0])
if(r&&!(0,f.isInvalidError)(r))return void this.send("error",r)
if(!e.silent){let e=r||this.get("post.errors.messages")
throw void this._showErrorAlert(i,this.get("post.status"),e)}return this.post}}}*beforeSaveTask(e={}){e.backgroundSave||this._koenig&&(this._koenig.cleanup(),this.set("hasDirtyAttributes",!0)),this.set("post.mobiledoc",JSON.parse(JSON.stringify(this.post.scratch||null))),this.get("post.titleScratch").trim()||this.set("post.titleScratch",Me),this.set("post.title",this.get("post.titleScratch")),this.set("post.customExcerpt",this.get("post.customExcerptScratch")),this.set("post.footerInjection",this.get("post.footerExcerptScratch")),this.set("post.headerInjection",this.get("post.headerExcerptScratch")),this.set("post.metaTitle",this.get("post.metaTitleScratch")),this.set("post.metaDescription",this.get("post.metaDescriptionScratch")),this.set("post.ogTitle",this.get("post.ogTitleScratch")),this.set("post.ogDescription",this.get("post.ogDescriptionScratch")),this.set("post.twitterTitle",this.get("post.twitterTitleScratch")),this.set("post.twitterDescription",this.get("post.twitterDescriptionScratch")),this.set("post.emailSubject",this.get("post.emailSubjectScratch")),this.get("post.slug")||(this.saveTitleTask.cancelAll(),yield this.generateSlugTask.perform())}*updateSlugTask(e){let t,i,n=this.get("post.slug")
if(t=e||n,t=t&&t.trim(),!t||n===t)return void this.set("slugValue",n)
if(i=yield this.slugGenerator.generateSlug("post",t),i===n)return
let r=i.split("-"),a=Number(r.pop())
if((0,c.default)(a)&&a>0&&n===r.join("-")&&i!==t)this.set("slugValue",n)
else if(this.set("post.slug",i),!this.get("post.isNew"))return yield this._savePostTask.perform()}*savePostTask(){try{return yield this._savePostTask.perform()}catch(e){if(void 0===e)return
if(e){let t=this.get("post.status")
this._showErrorAlert(t,t,e)}throw e}}*_savePostTask(e={}){let{post:t}=this
const i=this.post.emailOnly
Object.prototype.hasOwnProperty.call(e,"emailOnly")&&this.post.set("emailOnly",e.emailOnly)
const n=Date.now()
try{yield t.save(e),this.config.sentry_dsn&&Date.now()-n>2e3&&(0,m.captureMessage)("Successful Mobiledoc save took > 2s",(i=>{i.setTag("save_time",Math.ceil((Date.now()-n)/1e3)),i.setTag("post_type",t.isPage?"page":"post"),i.setTag("newsletter",e.adapterOptions?.newsletter),i.setTag("email_segment",e.adapterOptions?.emailSegment),i.setTag("save_revision",e.adapterOptions?.saveRevision),i.setTag("convert_to_lexical",e.adapterOptions?.convertToLexical)}))}catch(r){if(this.post.set("emailOnly",i),this.config.sentry_dsn&&Date.now()-n>2e3&&(0,m.captureMessage)("Failed Mobiledoc save took > 2s",(i=>{i.setTag("save_time",Math.ceil((Date.now()-n)/1e3)),i.setTag("post_type",t.isPage?"page":"post"),i.setTag("save_revision",e.adapterOptions?.saveRevision),i.setTag("email_segment",e.adapterOptions?.emailSegment),i.setTag("save_revision",e.adapterOptions?.saveRevision),i.setTag("convert_to_lexical",e.adapterOptions?.convertToLexical)})),(0,g.isServerUnreachableError)(r)){const[e,t]=this.post.changedAttributes().status||[this.post.status,this.post.status]
throw void this._showErrorAlert(e,t,r)}throw r}return this.afterSave(t),t}afterSave(e){this.notifications.closeAlerts("post.save"),e.updateTags(),this._previousTagNames=this._tagNames,e.scratch||e.set("scratch",JSON.parse(JSON.stringify(e.get("mobiledoc"))))
let t=e.get("titleScratch")===e.get("title"),i=JSON.stringify(e.get("scratch"))===JSON.stringify(e.get("mobiledoc"))
t&&i&&this.set("hasDirtyAttributes",!1)}*saveTitleTask(){let e=this.post,t=e.get("title"),i=e.get("titleScratch").trim()
t&&i&&i===t||!t&&!i||(this.set("hasDirtyAttributes",!0),(e.get("isNew")&&!t||t===Me||t?.endsWith("(Copy)"))&&(yield this.generateSlugTask.perform()),this.get("post.isDraft")&&(yield this.autosaveTask.perform()),this.ui.updateDocumentTitle())}*generateSlugTask(){let e=this.get("post.titleScratch")
if(e!==Me||!this.get("post.slug"))try{let t=yield this.slugGenerator.generateSlug("post",e)
Ember.isBlank(t)||this.set("post.slug",t)}catch(t){(0,g.isVersionMismatchError)(t)&&this.notifications.showAPIError(t)}}*backgroundLoaderTask(){yield this.store.query("snippet",{limit:"all"})}setPost(e){e!==this.post?(this.reset(),this.set("post",e),this.backgroundLoaderTask.perform(),this.set("shouldFocusTitle",e.get("isNew")),e.set("titleScratch",e.get("title")),e.set("scratch",e.get("mobiledoc")),this._previousTagNames=this._tagNames,window.onbeforeunload=()=>{if(this.hasDirtyAttributes)return"==============================\n\nHey there! It looks like you're in the middle of writing something and you haven't saved all of your content.\n\nSave before you go!\n\n=============================="}):this.set("shouldFocusTitle",e.get("isNew"))}async willTransition(e){let i=this.post
if(!i)return
if(this._koenig&&i.isDraft&&this._koenig.cleanup(),this.updateSlugTask.isRunning)return e.abort(),await this.updateSlugTask.last,e.retry()
let n=this.hasDirtyAttributes,r=i.getProperties("isDeleted","isSaving","hasDirtyAttributes","isNew"),a="editor.new"===this.router.currentRouteName&&"editor.edit"===e.targetName&&e.intent.contexts&&e.intent.contexts[0]&&e.intent.contexts[0].id===i.id,s=r.isDeleted&&(r.isSaving||!r.hasDirtyAttributes)
if(!this._leaveConfirmed&&!a&&!s&&n){if(e.abort(),this.saveTasks.isRunning)return await this.saveTasks.last,e.retry()
if(this._autosaveRunning)return this.cancelAutosave(),this.autosaveTask.cancelAll(),await this.autosaveTask.perform(),e.retry()
this.post&&Object.assign(this._leaveModalReason,{status:this.post.status}),console.log("showing leave editor modal",this._leaveModalReason)
if(!0!==await this.modals.open(t.default))return
this._leaveConfirmed=!0,e.retry()}a||"editor.edit"===e.targetName||this.reset()}reset(){let e=this.post
this.cancelAutosave(),e&&(e.updateTags(),e.get("isNew")?e.deleteRecord():e.rollbackAttributes()),this._previousTagNames=[],this._leaveConfirmed=!1,this.set("post",null),this.set("hasDirtyAttributes",!1),this.set("shouldFocusTitle",!1),this.set("showSettingsMenu",!1),this.set("wordCount",null),window.onbeforeunload=null}_hasDirtyAttributes(){let e=this.post
if(!e)return!1
if(e.get("isError"))return this._leaveModalReason={reason:"isError",context:e.errors.messages},!0
let t=(this._tagNames||[]).join(", "),i=(this._previousTagNames||[]).join(", ")
if(t!==i)return this._leaveModalReason={reason:"tags are different",context:{currentTags:t,previousTags:i}},!0
if(e.titleScratch!==e.title)return this._leaveModalReason={reason:"title is different",context:{current:e.title,scratch:e.titleScratch}},!0
let n=e.get("mobiledoc"),r=e.get("scratch")
if(r||n){let e=JSON.stringify(n),t=JSON.stringify(r)
if(t!==e)return this._leaveModalReason={reason:"mobiledoc is different",context:{current:e,scratch:t}},!0}if(e.get("isNew")){let t=Object.keys(e.changedAttributes())
return t.length&&(this._leaveModalReason={reason:"post.changedAttributes.length > 0",context:e.changedAttributes()}),!!t.length}let{hasDirtyAttributes:a}=e
return a&&(this._leaveModalReason={reason:"post.hasDirtyAttributes === true",context:e.changedAttributes()}),a}_showSaveNotification(e,t,i){if("scheduled"===t)return this._showScheduledNotification(i)
let n,r,a,s=this.notifications,o=Ae.success.post[e][t]
"published"!==t&&"scheduled"!==t||(r=Ember.String.capitalize(this.get("post.displayName")),a=this.get("post.url"),n=`<a href="${a}" target="_blank">View ${r}</a>`),s.showNotification(o,{type:"success",actions:n&&Ember.String.htmlSafe(n),delayed:i})}async _showScheduledNotification(e){let{publishedAtUTC:t,previewUrl:i,emailOnly:n,newsletter:r}=this.post,a=d.default.tz(t,this.settings.timezone),s=n?["Will be sent"]:["Will be published"]
if(r){const e=await this.membersCountCache.countString(this.post.fullRecipientFilter,{newsletter:r})
s.push(`${n?"":"and delivered "}to <span><strong>${e}</strong></span>`)}s.push(`on <span><strong>${a.format("MMM Do")}</strong></span>`),s.push(`at <span><strong>${a.format("HH:mm")}</strong>`),0===a.utcOffset()?s.push("(UTC)</span>"):s.push(`(UTC${a.format("Z").replace(/([+-])0/,"$1").replace(/:00/,"")})</span>`),s=Ember.String.htmlSafe(s.join(" "))
let o=Ember.String.htmlSafe(`<a href="${i}" target="_blank">View Preview</a>`)
return this.notifications.showNotification("Scheduled",{description:s,actions:o,type:"success",delayed:e})}_showErrorAlert(e,t,i,n){let r,a=Ae.errors.post[e][t],s=this.notifications
if((0,g.isServerUnreachableError)(i))r="Unable to connect, please check your internet connection and try again"
else if(i&&(o=i,"[object String]"===toString.call(o)))r=i
else if(i&&Ember.isArray(i))r=i[0]
else{if(i&&i.payload&&i.payload.errors&&i.payload.errors[0].message)return this.notifications.showAPIError(i,{key:"post.save"})
r="Unknown Error"}var o
a+=`: ${r}`,a=Ember.String.htmlSafe(a),s.showAlert(a,{type:"error",delayed:n,key:"post.save"})}},de=Ce(ce.prototype,"application",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Ce(ce.prototype,"feature",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Ce(ce.prototype,"membersCountCache",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Ce(ce.prototype,"modals",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=Ce(ce.prototype,"notifications",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=Ce(ce.prototype,"router",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fe=Ce(ce.prototype,"slugGenerator",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Ce(ce.prototype,"session",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Ce(ce.prototype,"settings",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Ce(ce.prototype,"ui",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Ce(ce.prototype,"config",[b.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Ce(ce.prototype,"post",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Ce(ce.prototype,"willPublish",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Ce(ce.prototype,"willSchedule",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Ce(ce.prototype,"saveTasks",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Ce(ce.prototype,"_tagNames",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce(ce.prototype,"hasDirtyAttributes",[D],Object.getOwnPropertyDescriptor(ce.prototype,"hasDirtyAttributes"),ce.prototype),Ce(ce.prototype,"_snippets",[A],Object.getOwnPropertyDescriptor(ce.prototype,"_snippets"),ce.prototype),Ce(ce.prototype,"snippets",[I],Object.getOwnPropertyDescriptor(ce.prototype,"snippets"),ce.prototype),Ce(ce.prototype,"canManageSnippets",[N],Object.getOwnPropertyDescriptor(ce.prototype,"canManageSnippets"),ce.prototype),Ce(ce.prototype,"_autosaveRunning",[L],Object.getOwnPropertyDescriptor(ce.prototype,"_autosaveRunning"),ce.prototype),Ce(ce.prototype,"_canAutosave",[R],Object.getOwnPropertyDescriptor(ce.prototype,"_canAutosave"),ce.prototype),Ce(ce.prototype,"updateScratch",[U],Object.getOwnPropertyDescriptor(ce.prototype,"updateScratch"),ce.prototype),Ce(ce.prototype,"updateTitleScratch",[F],Object.getOwnPropertyDescriptor(ce.prototype,"updateTitleScratch"),ce.prototype),Ce(ce.prototype,"setSaveType",[B],Object.getOwnPropertyDescriptor(ce.prototype,"setSaveType"),ce.prototype),Ce(ce.prototype,"save",[V],Object.getOwnPropertyDescriptor(ce.prototype,"save"),ce.prototype),Ce(ce.prototype,"cancelAutosave",[H],Object.getOwnPropertyDescriptor(ce.prototype,"cancelAutosave"),ce.prototype),Ce(ce.prototype,"leaveEditor",[q],Object.getOwnPropertyDescriptor(ce.prototype,"leaveEditor"),ce.prototype),Ce(ce.prototype,"openDeletePostModal",[$],Object.getOwnPropertyDescriptor(ce.prototype,"openDeletePostModal"),ce.prototype),Ce(ce.prototype,"openUpgradeModal",[Y],Object.getOwnPropertyDescriptor(ce.prototype,"openUpgradeModal"),ce.prototype),Ce(ce.prototype,"setKoenigEditor",[W],Object.getOwnPropertyDescriptor(ce.prototype,"setKoenigEditor"),ce.prototype),Ce(ce.prototype,"updateWordCount",[G],Object.getOwnPropertyDescriptor(ce.prototype,"updateWordCount"),ce.prototype),Ce(ce.prototype,"setFeatureImage",[K],Object.getOwnPropertyDescriptor(ce.prototype,"setFeatureImage"),ce.prototype),Ce(ce.prototype,"clearFeatureImage",[J],Object.getOwnPropertyDescriptor(ce.prototype,"clearFeatureImage"),ce.prototype),Ce(ce.prototype,"setFeatureImageAlt",[X],Object.getOwnPropertyDescriptor(ce.prototype,"setFeatureImageAlt"),ce.prototype),Ce(ce.prototype,"setFeatureImageCaption",[Z],Object.getOwnPropertyDescriptor(ce.prototype,"setFeatureImageCaption"),ce.prototype),Ce(ce.prototype,"toggleSettingsMenu",[Q],Object.getOwnPropertyDescriptor(ce.prototype,"toggleSettingsMenu"),ce.prototype),Ce(ce.prototype,"closeSettingsMenu",[ee],Object.getOwnPropertyDescriptor(ce.prototype,"closeSettingsMenu"),ce.prototype),Ce(ce.prototype,"saveSnippet",[te],Object.getOwnPropertyDescriptor(ce.prototype,"saveSnippet"),ce.prototype),Ce(ce.prototype,"confirmUpdateSnippet",[ie],Object.getOwnPropertyDescriptor(ce.prototype,"confirmUpdateSnippet"),ce.prototype),Ce(ce.prototype,"confirmDeleteSnippet",[ne],Object.getOwnPropertyDescriptor(ce.prototype,"confirmDeleteSnippet"),ce.prototype),Ce(ce.prototype,"autosaveTask",[h.dropTask],Object.getOwnPropertyDescriptor(ce.prototype,"autosaveTask"),ce.prototype),Ce(ce.prototype,"saveTask",[re],Object.getOwnPropertyDescriptor(ce.prototype,"saveTask"),ce.prototype),Ce(ce.prototype,"beforeSaveTask",[h.task],Object.getOwnPropertyDescriptor(ce.prototype,"beforeSaveTask"),ce.prototype),Ce(ce.prototype,"updateSlugTask",[ae],Object.getOwnPropertyDescriptor(ce.prototype,"updateSlugTask"),ce.prototype),Ce(ce.prototype,"savePostTask",[se],Object.getOwnPropertyDescriptor(ce.prototype,"savePostTask"),ce.prototype),Ce(ce.prototype,"_savePostTask",[h.task],Object.getOwnPropertyDescriptor(ce.prototype,"_savePostTask"),ce.prototype),Ce(ce.prototype,"afterSave",[oe],Object.getOwnPropertyDescriptor(ce.prototype,"afterSave"),ce.prototype),Ce(ce.prototype,"saveTitleTask",[h.task],Object.getOwnPropertyDescriptor(ce.prototype,"saveTitleTask"),ce.prototype),Ce(ce.prototype,"generateSlugTask",[h.enqueueTask],Object.getOwnPropertyDescriptor(ce.prototype,"generateSlugTask"),ce.prototype),Ce(ce.prototype,"backgroundLoaderTask",[h.restartableTask],Object.getOwnPropertyDescriptor(ce.prototype,"backgroundLoaderTask"),ce.prototype),Te=Ce(ce.prototype,"_autosaveTask",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Ce(ce.prototype,"_timedSaveTask",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce)
e.default=Ie})),define("ghost-admin/controllers/editor/edit-loading",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="ui",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}},a=i.prototype,s="ui",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/controllers/error",["exports"],(function(e){function t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Controller{constructor(...e){super(...e),t(this,"stack",!1)}get error(){return this.model}get code(){return this.error.status>200?this.error.status:500}get message(){return 404===this.code?"Page not found":"error"!==this.error.statusText?this.error.statusText:"Internal Server Error"}}e.default=i})),define("ghost-admin/controllers/explore",["exports"],(function(e){var t,i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,n=Ember._action,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"explore",s,this),l(this,"router",o,this)}get exploreCredentials(){return this.model.findBy("slug","ghost-explore").adminKey.secret}get visibilityClass(){return this.explore.isIframeTransition?"explore iframe-explore-container":" explore fullscreen-explore-container"}closeConnect(){this.explore.isIframeTransition?(this.explore.sendRouteUpdate({path:"/explore"}),this.router.transitionTo("/explore")):this.router.transitionTo("/dashboard")}submitExploreSite(){const e=this.exploreCredentials,t=this.explore.apiUrl,i=new URLSearchParams
if(i.append("token",e),i.append("url",t),this.explore.isIframeTransition)this.explore.sendRouteUpdate({path:this.explore.submitRoute,queryParams:i.toString()}),setTimeout((()=>{this.explore.toggleExploreWindow(!0)}),500)
else{const e=new URL(`${this.explore.exploreUrl}${this.explore.submitRoute}`)
e.search=i,window.location=e.toString()}}},s=u(a.prototype,"explore",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"closeConnect",[n],Object.getOwnPropertyDescriptor(a.prototype,"closeConnect"),a.prototype),u(a.prototype,"submitExploreSite",[r],Object.getOwnPropertyDescriptor(a.prototype,"submitExploreSite"),a.prototype),a)
e.default=c})),define("ghost-admin/controllers/home",["exports"],(function(e){var t,i,n
function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(t=Ember._tracked,i=class extends Ember.Controller{constructor(...e){var t,i,a,s
super(...e),r(this,"queryParams",["firstStart"]),t=this,i="firstStart",s=this,(a=n)&&Object.defineProperty(t,i,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(s):void 0})}},s=i.prototype,o="firstStart",l=[t],u={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n=d,i)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/controllers/lexical-editor",["exports","@sentry/ember","ghost-admin/components/modals/editor/confirm-leave","ghost-admin/components/modals/delete-post","ghost-admin/components/editor/modals/delete-snippet","ghost-admin/models/post","ghost-admin/components/modals/limits/publish-limit","ghost-admin/components/editor/modals/re-authenticate","ghost-admin/components/editor/modals/update-snippet","ghost-admin/utils/bound-one-way","ghost-admin/config/environment","ghost-admin/utils/isNumber","moment-timezone","ghost-admin/services/notifications","ember-concurrency","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-ajax/errors","@tryghost/kg-converters"],(function(e,t,i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v){var y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me,he,be,ge,fe,ve,ye,we,ke,Ee,Pe,Oe,je,_e,Te,ze,xe,Se,Ce,Me,De,Ae,Ie
function Ne(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Le(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Re(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Ue="(Untitled)"
let Fe=["post.lexicalScratch","post.titleScratch","post.hasDirtyAttributes","post.tags.[]","post.isError"]
a.default.eachAttribute((function(e){Fe.push(`post.${e}`)}))
const Be={errors:{post:{published:{published:"Update failed",draft:"Saving failed",scheduled:"Scheduling failed"},draft:{published:"Publish failed",draft:"Saving failed",scheduled:"Scheduling failed"},scheduled:{scheduled:"Update failed",draft:"Unscheduling failed",published:"Publish failed"}}},success:{post:{published:{published:"Updated",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},draft:{published:"Published",draft:"Saved",scheduled:"Scheduled",sent:"Sent"},scheduled:{scheduled:"Updated",draft:"Unscheduled",published:"Published",sent:"Sent"},sent:{sent:"Updated"}}}}
let Ve=(y=Ember.inject.controller,w=Ember.inject.service,k=Ember.inject.service,E=Ember.inject.service,P=Ember.inject.service,O=Ember.inject.service,j=Ember.inject.service,_=Ember.inject.service,T=Ember.inject.service,z=Ember.inject.service,x=Ember.computed.alias("model"),S=(0,u.default)("post.isPublished"),C=(0,u.default)("post.isScheduled"),M=(0,h.taskGroup)().enqueue(),D=Ember.computed.mapBy("post.tags","name"),A=Ember.computed(...Fe),I=Ember.computed,N=Ember.computed("_snippets.@each.{name,isNew,mobiledoc,lexical}"),L=Ember.computed,R=Ember.computed("session.user.{isAdmin,isEditor}"),U=Ember.computed("_autosaveTask.isRunning","_timedSaveTask.isRunning","_revisionSaveTask.isRunning"),F=Ember.computed("post.isDraft"),B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=Ember._action,K=Ember._action,J=Ember._action,X=Ember._action,Z=Ember._action,Q=Ember._action,ee=Ember._action,te=Ember._action,ie=Ember._action,ne=Ember._action,re=Ember._action,ae=Ember._action,se=Ember._action,oe=Ember._action,le=(0,h.task)({group:"saveTasks"}),ue=(0,h.task)({group:"saveTasks"}),ce=(0,h.task)({group:"saveTasks"}),de=Ember._action,pe=Ember._action,me=(0,h.task)((function*(){if(this._canAutosave){if(this.get("post.isNew"))return this.autosaveTask.perform()
yield(0,h.timeout)(3e3),this.autosaveTask.perform()}})).restartable(),he=(0,h.task)((function*(){if(this._canAutosave)for(;"test"!==c.default.environment;)yield(0,h.timeout)(6e4),this.autosaveTask.perform()})).drop(),be=(0,h.task)((function*(){if(this._canAutosave)for(;"test"!==c.default.environment;)yield(0,h.timeout)(6e5),this.autosaveTask.perform({saveRevision:this._canAutosave})})).drop(),ge=class extends Ember.Controller{constructor(...e){super(...e),Ne(this,"application",fe,this),Ne(this,"feature",ve,this),Ne(this,"membersCountCache",ye,this),Ne(this,"modals",we,this),Ne(this,"notifications",ke,this),Ne(this,"router",Ee,this),Ne(this,"slugGenerator",Pe,this),Ne(this,"session",Oe,this),Ne(this,"settings",je,this),Ne(this,"ui",_e,this),Ne(this,"config",Te,this),Le(this,"shouldFocusTitle",!1),Le(this,"showSettingsMenu",!1),Le(this,"fromAnalytics",!1),Le(this,"wordCount",0),Le(this,"_leaveConfirmed",!1),Le(this,"_previousTagNames",null),Ne(this,"post",ze,this),Ne(this,"willPublish",xe,this),Ne(this,"willSchedule",Se,this),Ne(this,"saveTasks",Ce,this),Ne(this,"_tagNames",Me,this),Ne(this,"_autosaveTask",De,this),Ne(this,"_timedSaveTask",Ae,this),Ne(this,"_revisionSaveTask",Ie,this)}get hasDirtyAttributes(){return this._hasDirtyAttributes()}set hasDirtyAttributes(e){return e}get _snippets(){return this.store.peekAll("snippet")}get snippets(){return this._snippets.reject((e=>e.get("isNew"))).sort(((e,t)=>e.name.localeCompare(t.name))).filter((e=>null!==e.lexical)).map((e=>(e.value=JSON.stringify(e.lexical),e)))}get collections(){return this.store.peekAll("collection")}get canManageSnippets(){let{user:e}=this.session
return!(!e.get("isAdmin")&&!e.get("isEditor"))}get _autosaveRunning(){let e=this.get("_autosaveTask.isRunning"),t=this.get("_timedSaveTask.isRunning"),i=this.get("_revisionSaveTask.isRunning")
return e||t||i}get _canAutosave(){return"test"!==c.default.environment&&this.get("post.isDraft")}updateScratch(e){this.set("post.lexicalScratch",JSON.stringify(e)),this._autosaveTask.perform(),this._timedSaveTask.perform(),this._revisionSaveTask.perform()}updateTitleScratch(e){this.set("post.titleScratch",e)}setSaveType(e){"publish"===e?(this.set("willPublish",!0),this.set("willSchedule",!1)):"draft"===e?(this.set("willPublish",!1),this.set("willSchedule",!1)):"schedule"===e&&(this.set("willSchedule",!0),this.set("willPublish",!1))}save(e){return this.saveTask.perform(e)}cancelAutosave(){this._autosaveTask.cancelAll(),this._timedSaveTask.cancelAll(),this._revisionSaveTask.cancelAll()}leaveEditor(){let e=this.leaveEditorTransition
if(e)return this.reset(),e.retry()
this.notifications.showAlert(m.GENERIC_ERROR_MESSAGE,{type:"error"})}openDeletePostModal(){this.get("post.isNew")||this.modals.open(n.default,{post:this.post})}openUpgradeModal(e={}){this.modals.open(s.default,{message:e.message,details:e.details})}setKoenigEditor(e){this._koenig=e}updateWordCount(e){this.set("wordCount",e)}setFeatureImage(e){this.post.set("featureImage",e),this.post.isDraft&&this.autosaveTask.perform()}registerEditorAPI(e){this.editorAPI=e}clearFeatureImage(){this.post.set("featureImage",null),this.post.set("featureImageAlt",null),this.post.set("featureImageCaption",null),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageAlt(e){this.post.set("featureImageAlt",e),this.post.isDraft&&this.autosaveTask.perform()}setFeatureImageCaption(e){this.post.set("featureImageCaption",e),this.post.isDraft&&this.autosaveTask.perform()}toggleSettingsMenu(){this.set("showSettingsMenu",!this.showSettingsMenu)}closeSettingsMenu(){this.set("showSettingsMenu",!1)}saveNewSnippet(e){const t={name:e.name,lexical:JSON.parse(e.value),mobiledoc:{}},i=this.store.createRecord("snippet",t)
return i.save().then((()=>(this.notifications.closeAlerts("snippet.save"),this.notifications.showNotification(`Snippet saved as "${e.name}"`,{type:"success"}),i))).catch((e=>{throw i.errors.isEmpty||this.notifications.showAlert(`Snippet save failed: ${i.errors.messages.join(". ")}`,{type:"error",key:"snippet.save"}),i.rollbackAttributes(),e}))}async createSnippet(e){const t=e.name.trim().toLowerCase(),i=this.snippets.find((e=>e.name.toLowerCase()===t))
i?await this.confirmUpdateSnippet(i,{lexical:JSON.parse(e.value)}):await this.saveNewSnippet(e)}async confirmUpdateSnippet(e,t={}){await this.modals.open(l.default,{snippet:e,updatedProperties:t})}async confirmDeleteSnippet(e){await this.modals.open(r.default,{snippet:e})}*autosaveTask(e){if(!this.get("saveTask.isRunning"))return yield this.saveTask.perform({silent:!0,backgroundSave:!0,...e})}*saveTask(e={}){let t,i=this.get("post.status"),n=this.get("post.isNew")
const r={}
if(this.cancelAutosave(),e.backgroundSave&&!this.hasDirtyAttributes&&!e.leavingEditor&&!e.saveRevision)return
t=e.backgroundSave?"draft":this.get("post.pastScheduledTime")?this.willSchedule||this.willPublish?"published":"draft":this.willPublish&&!this.get("post.isScheduled")?"published":this.willSchedule&&!this.get("post.isPublished")?"scheduled":this.get("post.isSent")?"sent":"draft",this.set("post.status",t)
const a=!e.backgroundSave,s=e.leavingEditor;(a||s)&&(r.saveRevision=1),yield this.beforeSaveTask.perform(e)
try{let t=yield this._savePostTask.perform({...e,adapterOptions:r})
return t.set("statusScratch",null),this.notifications.clearAll(),e.silent||this._showSaveNotification(i,t.get("status"),!!n),n&&t.get("id")?(this.leaveEditorTransition||this.replaceRoute("lexical-editor.edit",t),!0):(this._revisionSaveTask.perform(),t)}catch(l){if(!this.session.isAuthenticated&&(yield this.modals.open(o.default),this.session.isAuthenticated))return void this.saveTask.perform(e)
if(this.set("post.status",i),void 0===l&&0===this.post.errors.length)return
if((0,g.isHostLimitError)(l))return this.post.rollbackAttributes(),void this.openUpgradeModal(l.payload.errors[0])
if(l&&!(0,f.isInvalidError)(l))return void this.send("error",l)
if(!e.silent){let e=l||this.get("post.errors.messages")
throw void this._showErrorAlert(i,this.get("post.status"),e)}return this.post}}*beforeSaveTask(e={}){e.backgroundSave,this.set("post.lexical",this.post.lexicalScratch||null),this.get("post.titleScratch").trim()||this.set("post.titleScratch",Ue),this.set("post.title",this.get("post.titleScratch")),this.set("post.customExcerpt",this.get("post.customExcerptScratch")),this.set("post.footerInjection",this.get("post.footerExcerptScratch")),this.set("post.headerInjection",this.get("post.headerExcerptScratch")),this.set("post.metaTitle",this.get("post.metaTitleScratch")),this.set("post.metaDescription",this.get("post.metaDescriptionScratch")),this.set("post.ogTitle",this.get("post.ogTitleScratch")),this.set("post.ogDescription",this.get("post.ogDescriptionScratch")),this.set("post.twitterTitle",this.get("post.twitterTitleScratch")),this.set("post.twitterDescription",this.get("post.twitterDescriptionScratch")),this.set("post.emailSubject",this.get("post.emailSubjectScratch")),this.get("post.slug")||(this.saveTitleTask.cancelAll(),yield this.generateSlugTask.perform())}*updateSlugTask(e){let t,i,n=this.get("post.slug")
if(t=e||n,t=t&&t.trim(),!t||n===t)return void this.set("slugValue",n)
if(i=yield this.slugGenerator.generateSlug("post",t),i===n)return
let r=i.split("-"),a=Number(r.pop())
if((0,d.default)(a)&&a>0&&n===r.join("-")&&i!==t)this.set("slugValue",n)
else if(this.set("post.slug",i),!this.get("post.isNew"))return yield this._savePostTask.perform()}*savePostTask(){try{return yield this._savePostTask.perform()}catch(e){if(void 0===e)return
if(e){let t=this.get("post.status")
this._showErrorAlert(t,t,e)}throw e}}*_savePostTask(e={}){let{post:i}=this
const n=this.post.emailOnly
Object.prototype.hasOwnProperty.call(e,"emailOnly")&&this.post.set("emailOnly",e.emailOnly)
const r=Date.now()
try{yield i.save(e),this.config.sentry_dsn&&Date.now()-r>2e3&&(0,t.captureMessage)("Successful Lexical save took > 2s",(t=>{t.setTag("save_time",Math.ceil((Date.now()-r)/1e3)),t.setTag("post_type",i.isPage?"page":"post"),t.setTag("save_revision",e.adapterOptions?.saveRevision),t.setTag("email_segment",e.adapterOptions?.emailSegment),t.setTag("save_revision",e.adapterOptions?.saveRevision),t.setTag("convert_to_lexical",e.adapterOptions?.convertToLexical)}))}catch(a){if(this.post.set("emailOnly",n),this.config.sentry_dsn&&Date.now()-r>2e3&&(0,t.captureMessage)("Failed Mobiledoc save took > 2s",(t=>{t.setTag("save_time",Math.ceil((Date.now()-r)/1e3)),t.setTag("post_type",i.isPage?"page":"post"),t.setTag("save_revision",e.adapterOptions?.saveRevision),t.setTag("email_segment",e.adapterOptions?.emailSegment),t.setTag("save_revision",e.adapterOptions?.saveRevision),t.setTag("convert_to_lexical",e.adapterOptions?.convertToLexical)})),(0,g.isServerUnreachableError)(a)){const[e,t]=this.post.changedAttributes().status||[this.post.status,this.post.status]
throw void this._showErrorAlert(e,t,a)}throw a}return this.afterSave(i),i}afterSave(e){this.notifications.closeAlerts("post.save"),e.updateTags(),this._previousTagNames=this._tagNames,e.lexicalScratch||e.set("lexicalScratch",e.get("lexical"))
let t=e.get("titleScratch")===e.get("title"),i=e.get("lexicalScratch")===e.get("lexical")
t&&i&&this.set("hasDirtyAttributes",!1)}*saveTitleTask(){let e=this.post,t=e.get("title"),i=e.get("titleScratch").trim()
t&&i&&i===t||!t&&!i||(this.set("hasDirtyAttributes",!0),(e.get("isNew")&&!t||t===Ue||t?.endsWith("(Copy)"))&&(yield this.generateSlugTask.perform()),this.get("post.isDraft")&&(yield this.autosaveTask.perform()),this.ui.updateDocumentTitle())}*generateSlugTask(){let e=this.get("post.titleScratch")
if(e!==Ue||!this.get("post.slug"))try{let t=yield this.slugGenerator.generateSlug("post",e)
Ember.isBlank(t)||this.set("post.slug",t)}catch(t){(0,g.isVersionMismatchError)(t)&&this.notifications.showAPIError(t)}}*backgroundLoaderTask(){yield this.store.query("snippet",{limit:"all"}),"page"===this.post.displayName&&this.feature.get("collections")&&this.feature.get("collectionsCard")&&(yield this.store.query("collection",{limit:"all"})),this.syncMobiledocSnippets()}async syncMobiledocSnippets(){const e=this.store.peekAll("snippet"),i=[]
e.forEach((e=>{if("string"==typeof e.lexical)try{e.lexical=JSON.parse(e.lexical),e.mobiledoc={},i.push(e.save())}catch(n){e.lexical=null,i.push(e.save()),console.error(n),this.config.sentry_dsn&&t.captureException(n,{tags:{lexical:!0}})}})),await Promise.all(i),e.forEach((e=>{if(!e.lexical||e.lexical.syncedAt&&p.default.utc(e.lexical.syncedAt).isBefore(e.updatedAtUTC)){const t=(0,v.mobiledocToLexical)(JSON.stringify(e.mobiledoc))
let i=JSON.parse(t).root.children
1===i.length&&"paragraph"===i[0].type&&(i=i[0].children)
const n={namespace:"KoenigEditor",nodes:i}
n.syncedAt=p.default.utc().toISOString(),e.lexical=n,e.save()}}))}setPost(e){e!==this.post?(this.reset(),this.set("post",e),this.backgroundLoaderTask.perform(),this.set("shouldFocusTitle",e.get("isNew")),e.set("titleScratch",e.get("title")),e.set("lexicalScratch",e.get("lexical")),this._previousTagNames=this._tagNames,window.onbeforeunload=()=>{if(this.hasDirtyAttributes)return"==============================\n\nHey there! It looks like you're in the middle of writing something and you haven't saved all of your content.\n\nSave before you go!\n\n=============================="}):this.set("shouldFocusTitle",e.get("isNew"))}async willTransition(e){let t=this.post
if(!t)return
if(this.saveTask.isRunning)return e.abort(),await this.saveTask.last,e.retry()
if(this.savePostTask.isRunning)return e.abort(),await this.savePostTask.last,e.retry()
if(this.updateSlugTask.isRunning)return e.abort(),await this.updateSlugTask.last,e.retry()
let n=this.hasDirtyAttributes,r=t.getProperties("isDeleted","isSaving","hasDirtyAttributes","isNew"),a=t.get("postRevisions").toArray(),s=a[a.length-1],o=!t.isNew&&t.lexical.replaceAll(this.config.blogUrl,"")!==s.lexical.replaceAll(this.config.blogUrl,""),l="lexical-editor.new"===this.router.currentRouteName&&"lexical-editor.edit"===e.targetName&&e.intent.contexts&&e.intent.contexts[0]&&e.intent.contexts[0].id===t.id,u=r.isDeleted&&(r.isSaving||!r.hasDirtyAttributes)
if(o)return e.abort(),this._autosaveRunning&&(this.cancelAutosave(),this.autosaveTask.cancelAll()),await this.autosaveTask.perform({leavingEditor:!0,backgroundSave:!1}),e.retry()
if(!this._leaveConfirmed&&!l&&!u&&n){if(e.abort(),this.saveTasks.isRunning)return await this.saveTasks.last,e.retry()
if(this._autosaveRunning)return this.cancelAutosave(),this.autosaveTask.cancelAll(),await this.autosaveTask.perform({leavingEditor:!0}),e.retry()
this.post&&Object.assign(this._leaveModalReason,{status:this.post.status}),console.log("showing leave editor modal",this._leaveModalReason)
return!0!==await this.modals.open(i.default)?void 0:(this._leaveConfirmed=!0,e.retry())}l||"lexical-editor.edit"===e.targetName||this.reset()}reset(){let e=this.post
this.cancelAutosave(),e&&(e.updateTags(),e.get("isNew")?e.deleteRecord():e.rollbackAttributes()),this._previousTagNames=[],this._leaveConfirmed=!1,this.set("post",null),this.set("hasDirtyAttributes",!1),this.set("shouldFocusTitle",!1),this.set("showSettingsMenu",!1),this.set("wordCount",null),window.onbeforeunload=null}_hasDirtyAttributes(){let e=this.post
if(!e)return!1
if(e.get("isError"))return this._leaveModalReason={reason:"isError",context:e.errors.messages},!0
let t=(this._tagNames||[]).join(", "),i=(this._previousTagNames||[]).join(", ")
if(t!==i)return this._leaveModalReason={reason:"tags are different",context:{currentTags:t,previousTags:i}},!0
if(e.titleScratch!==e.title)return this._leaveModalReason={reason:"title is different",context:{current:e.title,scratch:e.titleScratch}},!0
let n=e.get("lexical"),r=e.get("lexicalScratch")
if((r||n)&&r!==n)return this._leaveModalReason={reason:"lexical is different",context:{current:n,scratch:r}},!0
if(e.get("isNew")){let t=Object.keys(e.changedAttributes())
return t.length&&(this._leaveModalReason={reason:"post.changedAttributes.length > 0",context:e.changedAttributes()}),!!t.length}let{hasDirtyAttributes:a}=e
return a&&(this._leaveModalReason={reason:"post.hasDirtyAttributes === true",context:e.changedAttributes()}),a}_showSaveNotification(e,t,i){if("scheduled"===t)return this._showScheduledNotification(i)
let n,r,a,s=this.notifications,o=Be.success.post[e][t]
"published"!==t&&"scheduled"!==t||(r=Ember.String.capitalize(this.get("post.displayName")),a=this.get("post.url"),n=`<a href="${a}" target="_blank">View ${r}</a>`),s.showNotification(o,{type:"success",actions:n&&Ember.String.htmlSafe(n),delayed:i})}async _showScheduledNotification(e){let{publishedAtUTC:t,previewUrl:i,emailOnly:n,newsletter:r}=this.post,a=p.default.tz(t,this.settings.timezone),s=n?["Will be sent"]:["Will be published"]
if(r){const e=await this.membersCountCache.countString(this.post.fullRecipientFilter,{newsletter:r})
s.push(`${n?"":"and delivered "}to <span><strong>${e}</strong></span>`)}s.push(`on <span><strong>${a.format("MMM Do")}</strong></span>`),s.push(`at <span><strong>${a.format("HH:mm")}</strong>`),0===a.utcOffset()?s.push("(UTC)</span>"):s.push(`(UTC${a.format("Z").replace(/([+-])0/,"$1").replace(/:00/,"")})</span>`),s=Ember.String.htmlSafe(s.join(" "))
let o=Ember.String.htmlSafe(`<a href="${i}" target="_blank">View Preview</a>`)
return this.notifications.showNotification("Scheduled",{description:s,actions:o,type:"success",delayed:e})}_showErrorAlert(e,t,i,n){let r,a=Be.errors.post[e][t],s=this.notifications
if((0,g.isServerUnreachableError)(i))r="Unable to connect, please check your internet connection and try again"
else if(i&&(o=i,"[object String]"===toString.call(o)))r=i
else if(i&&Ember.isArray(i))r=i[0]
else{if(i&&i.payload&&i.payload.errors&&i.payload.errors[0].message)return this.notifications.showAPIError(i,{key:"post.save"})
r="Unknown Error"}var o
a+=`: ${r}`,a=Ember.String.htmlSafe(a),s.showAlert(a,{type:"error",delayed:n,key:"post.save"})}},fe=Re(ge.prototype,"application",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ve=Re(ge.prototype,"feature",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=Re(ge.prototype,"membersCountCache",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),we=Re(ge.prototype,"modals",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=Re(ge.prototype,"notifications",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=Re(ge.prototype,"router",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=Re(ge.prototype,"slugGenerator",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=Re(ge.prototype,"session",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),je=Re(ge.prototype,"settings",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=Re(ge.prototype,"ui",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=Re(ge.prototype,"config",[b.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=Re(ge.prototype,"post",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=Re(ge.prototype,"willPublish",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=Re(ge.prototype,"willSchedule",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=Re(ge.prototype,"saveTasks",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=Re(ge.prototype,"_tagNames",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re(ge.prototype,"hasDirtyAttributes",[A],Object.getOwnPropertyDescriptor(ge.prototype,"hasDirtyAttributes"),ge.prototype),Re(ge.prototype,"_snippets",[I],Object.getOwnPropertyDescriptor(ge.prototype,"_snippets"),ge.prototype),Re(ge.prototype,"snippets",[N],Object.getOwnPropertyDescriptor(ge.prototype,"snippets"),ge.prototype),Re(ge.prototype,"collections",[L],Object.getOwnPropertyDescriptor(ge.prototype,"collections"),ge.prototype),Re(ge.prototype,"canManageSnippets",[R],Object.getOwnPropertyDescriptor(ge.prototype,"canManageSnippets"),ge.prototype),Re(ge.prototype,"_autosaveRunning",[U],Object.getOwnPropertyDescriptor(ge.prototype,"_autosaveRunning"),ge.prototype),Re(ge.prototype,"_canAutosave",[F],Object.getOwnPropertyDescriptor(ge.prototype,"_canAutosave"),ge.prototype),Re(ge.prototype,"updateScratch",[B],Object.getOwnPropertyDescriptor(ge.prototype,"updateScratch"),ge.prototype),Re(ge.prototype,"updateTitleScratch",[V],Object.getOwnPropertyDescriptor(ge.prototype,"updateTitleScratch"),ge.prototype),Re(ge.prototype,"setSaveType",[H],Object.getOwnPropertyDescriptor(ge.prototype,"setSaveType"),ge.prototype),Re(ge.prototype,"save",[q],Object.getOwnPropertyDescriptor(ge.prototype,"save"),ge.prototype),Re(ge.prototype,"cancelAutosave",[$],Object.getOwnPropertyDescriptor(ge.prototype,"cancelAutosave"),ge.prototype),Re(ge.prototype,"leaveEditor",[Y],Object.getOwnPropertyDescriptor(ge.prototype,"leaveEditor"),ge.prototype),Re(ge.prototype,"openDeletePostModal",[W],Object.getOwnPropertyDescriptor(ge.prototype,"openDeletePostModal"),ge.prototype),Re(ge.prototype,"openUpgradeModal",[G],Object.getOwnPropertyDescriptor(ge.prototype,"openUpgradeModal"),ge.prototype),Re(ge.prototype,"setKoenigEditor",[K],Object.getOwnPropertyDescriptor(ge.prototype,"setKoenigEditor"),ge.prototype),Re(ge.prototype,"updateWordCount",[J],Object.getOwnPropertyDescriptor(ge.prototype,"updateWordCount"),ge.prototype),Re(ge.prototype,"setFeatureImage",[X],Object.getOwnPropertyDescriptor(ge.prototype,"setFeatureImage"),ge.prototype),Re(ge.prototype,"registerEditorAPI",[Z],Object.getOwnPropertyDescriptor(ge.prototype,"registerEditorAPI"),ge.prototype),Re(ge.prototype,"clearFeatureImage",[Q],Object.getOwnPropertyDescriptor(ge.prototype,"clearFeatureImage"),ge.prototype),Re(ge.prototype,"setFeatureImageAlt",[ee],Object.getOwnPropertyDescriptor(ge.prototype,"setFeatureImageAlt"),ge.prototype),Re(ge.prototype,"setFeatureImageCaption",[te],Object.getOwnPropertyDescriptor(ge.prototype,"setFeatureImageCaption"),ge.prototype),Re(ge.prototype,"toggleSettingsMenu",[ie],Object.getOwnPropertyDescriptor(ge.prototype,"toggleSettingsMenu"),ge.prototype),Re(ge.prototype,"closeSettingsMenu",[ne],Object.getOwnPropertyDescriptor(ge.prototype,"closeSettingsMenu"),ge.prototype),Re(ge.prototype,"saveNewSnippet",[re],Object.getOwnPropertyDescriptor(ge.prototype,"saveNewSnippet"),ge.prototype),Re(ge.prototype,"createSnippet",[ae],Object.getOwnPropertyDescriptor(ge.prototype,"createSnippet"),ge.prototype),Re(ge.prototype,"confirmUpdateSnippet",[se],Object.getOwnPropertyDescriptor(ge.prototype,"confirmUpdateSnippet"),ge.prototype),Re(ge.prototype,"confirmDeleteSnippet",[oe],Object.getOwnPropertyDescriptor(ge.prototype,"confirmDeleteSnippet"),ge.prototype),Re(ge.prototype,"autosaveTask",[h.dropTask],Object.getOwnPropertyDescriptor(ge.prototype,"autosaveTask"),ge.prototype),Re(ge.prototype,"saveTask",[le],Object.getOwnPropertyDescriptor(ge.prototype,"saveTask"),ge.prototype),Re(ge.prototype,"beforeSaveTask",[h.task],Object.getOwnPropertyDescriptor(ge.prototype,"beforeSaveTask"),ge.prototype),Re(ge.prototype,"updateSlugTask",[ue],Object.getOwnPropertyDescriptor(ge.prototype,"updateSlugTask"),ge.prototype),Re(ge.prototype,"savePostTask",[ce],Object.getOwnPropertyDescriptor(ge.prototype,"savePostTask"),ge.prototype),Re(ge.prototype,"_savePostTask",[h.task],Object.getOwnPropertyDescriptor(ge.prototype,"_savePostTask"),ge.prototype),Re(ge.prototype,"afterSave",[de],Object.getOwnPropertyDescriptor(ge.prototype,"afterSave"),ge.prototype),Re(ge.prototype,"saveTitleTask",[h.task],Object.getOwnPropertyDescriptor(ge.prototype,"saveTitleTask"),ge.prototype),Re(ge.prototype,"generateSlugTask",[h.enqueueTask],Object.getOwnPropertyDescriptor(ge.prototype,"generateSlugTask"),ge.prototype),Re(ge.prototype,"backgroundLoaderTask",[h.restartableTask],Object.getOwnPropertyDescriptor(ge.prototype,"backgroundLoaderTask"),ge.prototype),Re(ge.prototype,"syncMobiledocSnippets",[pe],Object.getOwnPropertyDescriptor(ge.prototype,"syncMobiledocSnippets"),ge.prototype),De=Re(ge.prototype,"_autosaveTask",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=Re(ge.prototype,"_timedSaveTask",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=Re(ge.prototype,"_revisionSaveTask",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge)
e.default=Ve})),define("ghost-admin/controllers/lexical-editor/edit-loading",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="ui",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}},a=i.prototype,s="ui",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/controllers/member",["exports","ghost-admin/components/members/modals/delete-member","ghost-admin/utils/bound-one-way","moment-timezone","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V
function H(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function q(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function $(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Y=["name","email","note"]
let W=(a=Ember.inject.controller,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,O=Ember._action,j=Ember._action,_=Ember._action,T=(0,r.task)({drop:!0}),z=class extends Ember.Controller{get fromAnalytics(){return this.postAnalytics?[this.postAnalytics]:null}constructor(){super(...arguments),H(this,"members",x,this),H(this,"session",S,this),H(this,"dropdown",C,this),H(this,"membersStats",M,this),H(this,"modals",D,this),H(this,"notifications",A,this),H(this,"router",I,this),H(this,"store",N,this),q(this,"queryParams",[{postAnalytics:"post"}]),H(this,"isLoading",L,this),H(this,"showImpersonateMemberModal",R,this),H(this,"modalLabel",U,this),H(this,"showLabelModal",F,this),q(this,"_previousLabels",null),q(this,"_previousNewsletters",null),H(this,"directlyFromAnalytics",B,this),H(this,"postAnalytics",V,this),this._availableLabels=this.store.peekAll("label")}get member(){return this.model}set member(e){this.model=e}get dirtyAttributes(){return this._hasDirtyAttributes()}get _labels(){return this.member.get("labels").map((e=>e.name))}get _newsletters(){return this.member.get("newsletters").map((e=>e.id))}get labelModalData(){return{label:this.modalLabel,labels:this.availableLabels}}get availableLabels(){let e=this._availableLabels.filter((e=>!e.isNew)).filter((e=>null!==e.id)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshiftObject({name:"All labels",slug:null}),e}get scratchMember(){let e=Ember.Object.create({member:this.member})
return Y.forEach((t=>Ember.defineProperty(e,t,(0,i.default)(`member.${t}`)))),e}get subscribedAt(){let e=(0,n.default)(this.member.createdAtUTC).from((0,n.default)())
return`${(0,n.default)(this.member.createdAtUTC).format("D MMM YYYY")} (${e})`}setInitialRelationshipValues(){this._previousLabels=this._labels,this._previousNewsletters=this._newsletters}toggleLabelModal(){this.showLabelModal=!this.showLabelModal}editLabel(e,t){t&&(t.preventDefault(),t.stopPropagation())
let i=this.availableLabels.findBy("slug",e)
this.modalLabel=i,this.showLabelModal=!this.showLabelModal}setProperty(e,t){this._saveMemberProperty(e,t)}confirmDeleteMember(){this.modals.open(t.default,{member:this.member,afterDelete:()=>{this.membersStats.invalidate(),this.members.refreshData(),this.transitionToRoute("members")}})}toggleImpersonateMemberModal(){this.showImpersonateMemberModal=!this.showImpersonateMemberModal}closeImpersonateMemberModal(){this.showImpersonateMemberModal=!1}save(){return this.saveTask.perform()}*saveTask(){let{member:e,scratchMember:t}=this,i=t.getProperties(Y)
Object.assign(e,i)
try{return yield e.save(),e.updateLabels(),this.members.refreshData(),this.setInitialRelationshipValues(),this.replaceRoute("member",e),e}catch(n){if(void 0===n)return
if(n.payload&&n.payload.errors)for(const t of n.payload.errors)"ValidationError"===t.type&&t.property&&(t.context||t.message)&&(e.errors.add(t.property,t.context||t.message),e.hasValidated.pushObject(t.property))
throw n}}*fetchMemberTask(e){this.isLoading=!0,this.member=yield this.store.queryRecord("member",{id:e,include:"tiers"}),this.setInitialRelationshipValues(),this.isLoading=!1}_saveMemberProperty(e,t){let i=this.member[e]
t&&"string"==typeof t&&(t=t.trim()),(!1===t||t||i)&&(this.member[e]=t)}_hasDirtyAttributes(){let e=this.member
if(!e||e.isDeleted||e.isDeleting)return!1
if((this._labels.sort()||[]).join(", ")!==(this._previousLabels.sort()||[]).join(", "))return!0
if((this._newsletters.sort()||[]).join(", ")!==(this._previousNewsletters.sort()||[]).join(", "))return!0
let{hasDirtyAttributes:t}=e
return t}},x=$(z.prototype,"members",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=$(z.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=$(z.prototype,"dropdown",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=$(z.prototype,"membersStats",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=$(z.prototype,"modals",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=$(z.prototype,"notifications",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=$(z.prototype,"router",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=$(z.prototype,"store",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=$(z.prototype,"isLoading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),R=$(z.prototype,"showImpersonateMemberModal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=$(z.prototype,"modalLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=$(z.prototype,"showLabelModal",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=$(z.prototype,"directlyFromAnalytics",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=$(z.prototype,"postAnalytics",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$(z.prototype,"setInitialRelationshipValues",[y],Object.getOwnPropertyDescriptor(z.prototype,"setInitialRelationshipValues"),z.prototype),$(z.prototype,"toggleLabelModal",[w],Object.getOwnPropertyDescriptor(z.prototype,"toggleLabelModal"),z.prototype),$(z.prototype,"editLabel",[k],Object.getOwnPropertyDescriptor(z.prototype,"editLabel"),z.prototype),$(z.prototype,"setProperty",[E],Object.getOwnPropertyDescriptor(z.prototype,"setProperty"),z.prototype),$(z.prototype,"confirmDeleteMember",[P],Object.getOwnPropertyDescriptor(z.prototype,"confirmDeleteMember"),z.prototype),$(z.prototype,"toggleImpersonateMemberModal",[O],Object.getOwnPropertyDescriptor(z.prototype,"toggleImpersonateMemberModal"),z.prototype),$(z.prototype,"closeImpersonateMemberModal",[j],Object.getOwnPropertyDescriptor(z.prototype,"closeImpersonateMemberModal"),z.prototype),$(z.prototype,"save",[_],Object.getOwnPropertyDescriptor(z.prototype,"save"),z.prototype),$(z.prototype,"saveTask",[T],Object.getOwnPropertyDescriptor(z.prototype,"saveTask"),z.prototype),$(z.prototype,"fetchMemberTask",[r.task],Object.getOwnPropertyDescriptor(z.prototype,"fetchMemberTask"),z.prototype),z)
e.default=W})),define("ghost-admin/controllers/members-activity",["exports","ghost-admin/helpers/member-fetcher","ghost-admin/helpers/members-event-filter","ember-could-get-used-to-this"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y
function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=class extends Ember.Controller{constructor(...e){super(...e),w(this,"router",m,this),w(this,"settings",h,this),w(this,"store",b,this),w(this,"feature",g,this),k(this,"queryParams",["excludedEvents","member"]),w(this,"excludedEvents",f,this),w(this,"member",v,this),w(this,"memberRecord",y,this)}get hiddenEvents(){const e=[]
return this.member||e.push(...i.EMAIL_EVENTS),e.push("aggregated_click_event"),"disabled"===this.settings.editorDefaultEmailRecipients&&e.push(...i.EMAIL_EVENTS,...i.NEWSLETTER_EVENTS),e}get fullExcludedEvents(){return(this.excludedEvents||"").split(",").concat(this.hiddenEvents)}changeExcludedEvents(e){this.router.transitionTo({queryParams:{excludedEvents:e}})}changeMember(e){this.router.transitionTo({queryParams:{member:e?.id}})}},m=E(p.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(p.prototype,"excludedEvents",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=E(p.prototype,"member",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E(p.prototype,"memberRecord",[n.use],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new t.default((()=>[this.member]))}}),E(p.prototype,"changeExcludedEvents",[c],Object.getOwnPropertyDescriptor(p.prototype,"changeExcludedEvents"),p.prototype),E(p.prototype,"changeMember",[d],Object.getOwnPropertyDescriptor(p.prototype,"changeMember"),p.prototype),p)
e.default=P})),define("ghost-admin/controllers/members",["exports","ghost-admin/components/members/modals/bulk-add-label","ghost-admin/components/members/modals/bulk-delete","ghost-admin/components/members/modals/bulk-remove-label","ghost-admin/components/members/modals/bulk-unsubscribe","ghost-admin/utils/ghost-paths","moment-timezone","ghost-admin/helpers/gh-pluralize","ghost-admin/decorators/inject","ghost-admin/helpers/reset-query-params","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l,u,c){var d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me,he,be,ge,fe,ve,ye,we,ke,Ee,Pe,Oe,je,_e,Te,ze
function xe(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function Se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ce(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Me=[{name:"All members",value:null},{name:"Free members",value:"false"},{name:"Paid members",value:"true"}]
let De=(d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,k=Ember._tracked,E=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=Ember._tracked,T=Ember._tracked,z=Ember._tracked,x=Ember._tracked,S=Ember._tracked,C=Ember._tracked,M=Ember._tracked,D=Ember._tracked,A=Ember._tracked,I=Ember._tracked,N=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=Ember._action,K=Ember._action,J=Ember._action,X=Ember._action,Z=Ember._action,Q=Ember._action,ee=(0,c.task)({restartable:!0}),te=(0,c.task)({restartable:!0}),ie=class extends Ember.Controller{get fromAnalytics(){return this.postAnalytics?[this.postAnalytics]:null}constructor(){super(...arguments),xe(this,"ajax",ne,this),xe(this,"ellaSparse",re,this),xe(this,"feature",ae,this),xe(this,"ghostPaths",se,this),xe(this,"membersStats",oe,this),xe(this,"modals",le,this),xe(this,"router",ue,this),xe(this,"store",ce,this),xe(this,"utils",de,this),xe(this,"settings",pe,this),xe(this,"config",me,this),Se(this,"queryParams",["label",{paidParam:"paid"},{searchParam:"search"},{orderParam:"order"},{filterParam:"filter"},{postAnalytics:"post"}]),xe(this,"members",he,this),xe(this,"searchParam",be,this),xe(this,"searchIsFocused",ge,this),xe(this,"filterParam",fe,this),xe(this,"softFilterParam",ve,this),xe(this,"paidParam",ye,this),xe(this,"label",we,this),xe(this,"orderParam",ke,this),xe(this,"modalLabel",Ee,this),xe(this,"showLabelModal",Pe,this),xe(this,"filters",Oe,this),xe(this,"softFilters",je,this),xe(this,"_availableLabels",_e,this),xe(this,"parseFilterParamCounter",Te,this),xe(this,"postAnalytics",ze,this),Se(this,"paidParams",Me),this._availableLabels=this.store.peekAll("label")}get listHeader(){let{searchParam:e,selectedLabel:t,members:i}=this
if(i.loading)return"Loading..."
if(e)return"Search result"
let n=(0,o.ghPluralize)(i.length,"member")
return t&&t.slug?i.length>1?`${n} match current filter`:`${n} matches current filter`:n}get hideSearchBar(){return!this.members.length&&!this.searchParam&&!this.searchIsFocused}get showingAll(){return!(this.searchParam||this.paidParam||this.label||this.filterParam||this.softFilterParam)}get availableOrders(){return this.feature.get("emailAnalytics")?[{name:"Newest",value:null},{name:"Open rate",value:"email_open_rate"}]:[]}get selectedOrder(){return this.availableOrders.find((e=>e.value===this.orderParam))}get availableLabels(){let e=this._availableLabels.filter((e=>!e.isNew)).filter((e=>null!==e.id)).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshiftObject({name:"All labels",slug:null}),e}get selectedLabel(){let{label:e,availableLabels:t}=this
return t.findBy("slug",e)}get labelModalData(){return{label:this.modalLabel,labels:this.availableLabels}}get selectedPaidParam(){return this.paidParams.findBy("value",this.paidParam)||{value:"!unknown"}}get isFiltered(){return!!(this.label||this.paidParam||this.searchParam||this.filterParam)}get availableFilters(){return this.softFilters.length?this.softFilters:this.filters}get filterColumns(){const e=this.availableFilters.flatMap((e=>e.properties?.getColumns?e.properties?.getColumns(e).map((t=>({label:e.properties.columnLabel,...t,name:e.type}))):e.properties?.columnLabel?[{name:e.type,label:e.properties.columnLabel,getValue:e.properties.getColumnValue?t=>e.properties.getColumnValue(t,e):null}]:[]))
return e.filter(((t,i)=>e.findIndex((e=>e.label===t.label))===i)).splice(0,2)}includeTierQuery(){return(this.filters.length?this.filters:this.softFilters).some((e=>"tier"===e.type))}getApiQueryObject({params:e,extraFilters:t=[]}={}){let{label:i,paidParam:n,searchParam:r,filterParam:a}=e||this
if(a){const e=/^\(newsletters\.slug:[^()]+[+,]email_disabled:[01]\)$/;(/^\(subscribed:(?:true|false)[+,]email_disabled:[01]\)$/.test(a)||e.test(a))&&(a=a.slice(1,-1))}let s=[]
s=s.concat(t),i&&s.push(`label:'${i}'`),null!==n&&("true"===n?s.push("status:-free"):s.push("status:free")),a&&s.push(a)
let o=r?{search:r}:{}
return Object.assign({},{filter:s.join("+")},o)}refreshData(){this.fetchMembersTask.perform(),this.fetchLabelsTask.perform(),this.membersStats.invalidate(),this.membersStats.fetchCounts(),this.membersStats.fetchMemberCount()}changeOrder(e){this.orderParam=e.value}applyFilter(e,t){this.softFilters=Ember.A([]),this.filterParam=e||null,this.filters=t}applyParsedFilter(e){this.softFilters=Ember.A([]),this.filters=e}applySoftFilter(e,t){this.softFilters=t,this.softFilterParam=e||null
let{label:i,paidParam:n,searchParam:r,orderParam:a}=this
this.fetchMembersTask.perform({label:i,paidParam:n,searchParam:r,orderParam:a,filterParam:e})}resetSoftFilter(){(this.softFilters.length>0||this.softFilterParam)&&(this.softFilters=Ember.A([]),this.softFilterParam=null,this.fetchMembersTask.perform())}resetFilter(){this.softFilters=Ember.A([]),this.softFilterParam=null,this.filters=Ember.A([]),this.filterParam=null,this.fetchMembersTask.perform()}search(e){this.searchTask.perform(e.target.value)}exportData(){let e=(0,a.default)().url.api("members/upload"),t=new URLSearchParams(this.getApiQueryObject())
t.set("limit","all"),this.utils.downloadFile(`${e}?${t.toString()}`)}changeLabel(e,t){t&&(t.preventDefault(),t.stopPropagation()),this.label=e.slug}editLabel(e,t){t&&(t.preventDefault(),t.stopPropagation())
let i=this.availableLabels.findBy("slug",e)
this.modalLabel=i,this.showLabelModal=!this.showLabelModal}toggleLabelModal(){this.showLabelModal=!this.showLabelModal}bulkAddLabel(){this.modals.open(t.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}bulkRemoveLabel(){this.modals.open(n.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}bulkUnsubscribe(){this.modals.open(r.default,{query:this.getApiQueryObject(),onComplete:this.resetAndReloadMembers})}resetAndReloadMembers(){this.store.unloadAll("member"),this.reload()}bulkDelete(){this.modals.open(i.default,{query:this.getApiQueryObject(),onComplete:()=>{this.store.unloadAll("member"),this.router.transitionTo("members.index",{queryParams:Object.assign((0,u.resetQueryParams)("members.index"))}),this.membersStats.invalidate(),this.membersStats.fetchCounts()}})}changePaidParam(e){this.paidParam=e.value}*searchTask(e){yield(0,c.timeout)(250),this.searchParam=e}*fetchLabelsTask(){yield this.store.query("label",{limit:"all"})}*fetchMembersTask(e){let{label:t,paidParam:i,searchParam:n,orderParam:r,filterParam:a}=void 0===e?this:e,o=new Date,l=!e||t!==this._lastLabel||i!==this._lastPaidParam||n!==this._lastSearchParam||r!==this._lastOrderParam||a!==this._lastFilterParam
if(this._lastLabel=t,this._lastPaidParam=i,this._lastSearchParam=n,this._lastOrderParam=r,this._lastFilterParam=a,!l&&this._startDate&&!(this._startDate-o>6e4))return this.members
this._startDate=o,this.members=yield this.ellaSparse.array(((t={},i={})=>{const n=this.getApiQueryObject({params:e,extraFilters:[`created_at:<='${s.default.utc(this._startDate).format("YYYY-MM-DD HH:mm:ss")}'`]}),a=r?`${r} desc`:"created_at desc"
return i=Object.assign({include:["labels","tiers"].join(","),order:a,limit:t.length,page:t.page},n,i),this.store.query("member",i).then((e=>({data:e,total:e.meta.pagination.total})))}),{limit:50})}resetFilters(e){e?.filterParam?(this.filterParam=e.filterParam,this.parseFilterParamCounter+=1):(this.filters=Ember.A([]),this.softFilterParam=null,this.softFilters=Ember.A([]))}reload(e){this.membersStats.invalidate(),this.membersStats.fetchCounts(),this.fetchMembersTask.perform(e)}},ne=Ce(ie.prototype,"ajax",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Ce(ie.prototype,"ellaSparse",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Ce(ie.prototype,"feature",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=Ce(ie.prototype,"ghostPaths",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=Ce(ie.prototype,"membersStats",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=Ce(ie.prototype,"modals",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=Ce(ie.prototype,"router",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=Ce(ie.prototype,"store",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=Ce(ie.prototype,"utils",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Ce(ie.prototype,"settings",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Ce(ie.prototype,"config",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Ce(ie.prototype,"members",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),be=Ce(ie.prototype,"searchParam",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ge=Ce(ie.prototype,"searchIsFocused",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=Ce(ie.prototype,"filterParam",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Ce(ie.prototype,"softFilterParam",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=Ce(ie.prototype,"paidParam",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=Ce(ie.prototype,"label",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=Ce(ie.prototype,"orderParam",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=Ce(ie.prototype,"modalLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=Ce(ie.prototype,"showLabelModal",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Oe=Ce(ie.prototype,"filters",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),je=Ce(ie.prototype,"softFilters",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),_e=Ce(ie.prototype,"_availableLabels",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ember.A([])}}),Te=Ce(ie.prototype,"parseFilterParamCounter",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ze=Ce(ie.prototype,"postAnalytics",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce(ie.prototype,"refreshData",[N],Object.getOwnPropertyDescriptor(ie.prototype,"refreshData"),ie.prototype),Ce(ie.prototype,"changeOrder",[L],Object.getOwnPropertyDescriptor(ie.prototype,"changeOrder"),ie.prototype),Ce(ie.prototype,"applyFilter",[R],Object.getOwnPropertyDescriptor(ie.prototype,"applyFilter"),ie.prototype),Ce(ie.prototype,"applyParsedFilter",[U],Object.getOwnPropertyDescriptor(ie.prototype,"applyParsedFilter"),ie.prototype),Ce(ie.prototype,"applySoftFilter",[F],Object.getOwnPropertyDescriptor(ie.prototype,"applySoftFilter"),ie.prototype),Ce(ie.prototype,"resetSoftFilter",[B],Object.getOwnPropertyDescriptor(ie.prototype,"resetSoftFilter"),ie.prototype),Ce(ie.prototype,"resetFilter",[V],Object.getOwnPropertyDescriptor(ie.prototype,"resetFilter"),ie.prototype),Ce(ie.prototype,"search",[H],Object.getOwnPropertyDescriptor(ie.prototype,"search"),ie.prototype),Ce(ie.prototype,"exportData",[q],Object.getOwnPropertyDescriptor(ie.prototype,"exportData"),ie.prototype),Ce(ie.prototype,"changeLabel",[$],Object.getOwnPropertyDescriptor(ie.prototype,"changeLabel"),ie.prototype),Ce(ie.prototype,"editLabel",[Y],Object.getOwnPropertyDescriptor(ie.prototype,"editLabel"),ie.prototype),Ce(ie.prototype,"toggleLabelModal",[W],Object.getOwnPropertyDescriptor(ie.prototype,"toggleLabelModal"),ie.prototype),Ce(ie.prototype,"bulkAddLabel",[G],Object.getOwnPropertyDescriptor(ie.prototype,"bulkAddLabel"),ie.prototype),Ce(ie.prototype,"bulkRemoveLabel",[K],Object.getOwnPropertyDescriptor(ie.prototype,"bulkRemoveLabel"),ie.prototype),Ce(ie.prototype,"bulkUnsubscribe",[J],Object.getOwnPropertyDescriptor(ie.prototype,"bulkUnsubscribe"),ie.prototype),Ce(ie.prototype,"resetAndReloadMembers",[X],Object.getOwnPropertyDescriptor(ie.prototype,"resetAndReloadMembers"),ie.prototype),Ce(ie.prototype,"bulkDelete",[Z],Object.getOwnPropertyDescriptor(ie.prototype,"bulkDelete"),ie.prototype),Ce(ie.prototype,"changePaidParam",[Q],Object.getOwnPropertyDescriptor(ie.prototype,"changePaidParam"),ie.prototype),Ce(ie.prototype,"searchTask",[ee],Object.getOwnPropertyDescriptor(ie.prototype,"searchTask"),ie.prototype),Ce(ie.prototype,"fetchLabelsTask",[c.task],Object.getOwnPropertyDescriptor(ie.prototype,"fetchLabelsTask"),ie.prototype),Ce(ie.prototype,"fetchMembersTask",[te],Object.getOwnPropertyDescriptor(ie.prototype,"fetchMembersTask"),ie.prototype),ie)
e.default=De})),define("ghost-admin/controllers/members/import",["exports","ghost-admin/helpers/reset-query-params"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,n=Ember.inject.controller,r=Ember._action,a=Ember._action,s=class extends Ember.Controller{constructor(...e){super(...e),u(this,"router",o,this),u(this,"members",l,this)}refreshMembers({label:e}={}){if(e){let i=Object.assign((0,t.resetQueryParams)("members.index"),{filter:`label:[${e.slug}]`})
this.router.transitionTo({queryParams:i})}this.members.refreshData()}close(){this.router.transitionTo("members")}},o=c(s.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"members",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"refreshMembers",[r],Object.getOwnPropertyDescriptor(s.prototype,"refreshMembers"),s.prototype),c(s.prototype,"close",[a],Object.getOwnPropertyDescriptor(s.prototype,"close"),s.prototype),s)
e.default=d})),define("ghost-admin/controllers/mentions",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{get mentionsInfinityModel(){return this.model.mentions}get post(){return this.model.post}}e.default=t})),define("ghost-admin/controllers/migrate",["exports"],(function(e){var t,i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(t=Ember.inject.service,i=Ember.inject.service,n=Ember._action,r=class extends Ember.Controller{constructor(...e){super(...e),o(this,"migrate",a,this),o(this,"router",s,this)}get visibilityClass(){return this.migrate.isIframeTransition?"migrate iframe-migrate-container":" migrate fullscreen-migrate-container"}closeMigrate(){this.router.transitionTo("/settings/labs")}},a=l(r.prototype,"migrate",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(r.prototype,"closeMigrate",[n],Object.getOwnPropertyDescriptor(r.prototype,"closeMigrate"),r.prototype),r)
e.default=u})),define("ghost-admin/controllers/offer",["exports","ghost-admin/components/modals/offers/archive","ghost-admin/components/modals/offers/unarchive","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/utils/currency","ghost-admin/decorators/inject","@tryghost/string","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l){var u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me
function he(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function be(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ge(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let fe=(u=Ember.inject.controller,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,k=Ember._tracked,E=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=(0,l.task)({drop:!0}),_=(0,l.task)({drop:!0}),T=(0,l.task)({drop:!0}),z=Ember._action,x=Ember._action,S=Ember._action,C=Ember._action,M=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,N=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=Ember._action,K=Ember._action,J=class extends Ember.Controller{constructor(){super(...arguments),he(this,"offers",X,this),he(this,"settings",Z,this),he(this,"store",Q,this),he(this,"modals",ee,this),he(this,"feature",te,this),he(this,"membersUtils",ie,this),he(this,"notifications",ne,this),he(this,"config",re,this),he(this,"cadences",ae,this),he(this,"tiers",se,this),he(this,"portalPreviewUrl",oe,this),he(this,"defaultSiteUrl",le,this),he(this,"durations",ue,this),he(this,"offertypes",ce,this),he(this,"defaultProps",de,this),he(this,"isDisplayTitleEdited",pe,this),he(this,"isOfferCodeEdited",me,this),be(this,"portalPreviewGuid",Date.now().valueOf()),void 0===this.isTesting&&(this.isTesting="test"===n.default.environment)}get offer(){return this.model}set offer(e){this.model=e}get scratchOffer(){return{...this.offer}}get isTrialOffer(){return"trial"===this.offer?.type}get isDiscountOffer(){return"trial"!==this.offer?.type}get cadence(){if(this.offer.tier&&this.offer.cadence){const e=this.tiers.findBy("id",this.offer.tier.id)
return`${this.offer.tier.id}-${this.offer.cadence}-${e?.currency}`}if(this.defaultProps){const e=this.tiers.findBy("id",this.defaultProps.tier.id)
return`${this.defaultProps.tier.id}-${this.defaultProps.cadence}-${e?.currency}`}return""}get isDiscountSectionDisabled(){return!this.offer.isNew}*fetchTiers(){this.tiers=yield this.store.query("tier",{filter:"type:paid+active:true",include:"monthly_price,yearly_price"}),this.tiers=this.tiers.filter((e=>e.monthlyPrice&&e.yearlyPrice))
const e=[]
this.tiers.forEach((t=>{let i,n
const r=t.currency
i=`${t.name} - Monthly`,n=`${t.name} - Yearly`,e.push({label:i,name:`${t.id}-month-${r}`}),e.push({label:n,name:`${t.id}-year-${r}`})})),this.cadences=e
const t=this.cadences[0]?.name,[,i,n]=(t||"").split("-")
this.updateDurations(i),this.offer&&!this.offer.tier?(this.defaultProps={},this.updateCadence(t,this.defaultProps),this.updatePortalPreview({forceRefresh:!1})):t&&(this.offertypes=[{label:"%",offertype:"percent"},{label:n.toUpperCase(),offertype:"fixed"}],this.updatePortalPreview({forceRefresh:!1}))}*copyOfferUrl(){return(0,r.default)(this.offerUrl),yield(0,l.timeout)(this.isTesting?50:500),!0}*saveTask(){let{offer:e}=this
!e.tier&&this.defaultProps&&(this.offer.tier={id:this.defaultProps?.tier.id},this.offer.cadence=this.defaultProps.cadence,this.offer.currency=this.defaultProps.currency)
try{return yield this.offer.validate(),yield e.save(),this.replaceRoute("offer",e),e}catch(t){t&&this.notifications.showAPIError(t,{key:"offer.save"})}}*fetchOfferTask(e){this.isLoading=!0,this.offer=yield this.store.queryRecord("offer",{id:e}),this.isLoading=!1}portalPreviewInserted(e){this.portalPreviewIframe=e,this.portalMessageListener||(this.portalMessageListener=e=>{["portal-ready","portal-preview-updated"].includes(e.data.type)&&e.data.payload?.height&&this.portalPreviewIframe?.parentNode&&(this.portalPreviewIframe.parentNode.style.height=`${e.data.payload.height}px`)},window.addEventListener("message",this.portalMessageListener,!0))}portalPreviewDestroyed(){this.portalPreviewIframe=null,this.portalMessageListener&&window.removeEventListener("message",this.portalMessageListener)}updatePortalPreview({forceRefresh:e}={forceRefresh:!1}){const t=new URL(this.membersUtils.getOfferPortalPreviewUrl({name:this.offer.name||"No Name",code:this.offer.code||"no-code",displayTitle:this.offer.displayTitle,displayDescription:this.offer.displayDescription,type:this.offer.type,cadence:this.offer.cadence||this.defaultProps?.cadence,amount:this.offer.amount,duration:this.offer.duration,durationInMonths:this.offer.durationInMonths,currency:this.offer.currency||this.defaultProps?.currency,status:this.offer.currency,tierId:this.offer?.tier?.id||this.defaultProps?.tier?.id}))
e&&(this.portalPreviewGuid=Date.now().valueOf()),t.searchParams.set("v",`${this.portalPreviewGuid}`),this.portalPreviewUrl=t}save(){return this.saveTask.perform()}setup(){this.fetchTiers.perform()}setProperty(e,t){this._updateOfferProperty(e,t)}validateProperty(e){this.offer.validate({property:e})}clearPropertyValidations(e){this.offer.errors.remove(e)}setDiscountType(e){if(!this.isDiscountSectionDisabled){const t=this.offer.amount||0
this._updateOfferProperty("type",e),"fixed"===this.offer.type&&""!==this.offer.amount?this.offer.amount=100*t:""!==this.offer.amount&&(this.offer.amount=t/100),this.validateProperty("amount"),this.updatePortalPreview({forceRefresh:!1})}}setDiscountAmount(e){let t=e.target.value
"fixed"===this.offer.type&&""!==t&&(t=100*parseFloat(t)),this._updateOfferProperty("amount",t)}setTrialDuration(e){let t=e.target.value
this._updateOfferProperty("amount",t)}setOfferName(e){this._updateOfferProperty("name",e.target.value),!this.isDisplayTitleEdited&&this.offer.isNew&&this._updateOfferProperty("displayTitle",e.target.value),!this.isOfferCodeEdited&&this.offer.isNew&&this._updateOfferProperty("code",(0,o.slugify)(e.target.value))}setPortalTitle(e){this.isDisplayTitleEdited=!0,this._updateOfferProperty("displayTitle",e.target.value)}setPortalDescription(e){this._updateOfferProperty("displayDescription",e.target.value)}setOfferCode(e){this.isOfferCodeEdited=!0,this._updateOfferProperty("code",e.target.value)}setDurationInMonths(e){this._updateOfferProperty("durationInMonths",e.target.value)}openConfirmArchiveModal(){this.offer.isNew||this.modals.open(t.default,{offer:this.offer})}openConfirmUnarchiveModal(){this.offer.isNew||this.modals.open(i.default,{offer:this.offer})}get offerUrl(){const e=this.offer?.code||""
if(e){return`${this.config.blogUrl}/${(0,o.slugify)(e)}`}return""}get displayCurrency(){const e=this.offer?.tier?.id
if(!e)return"$"
const t=this.tiers.findBy("id",e),i=t?.currency||"usd"
return(0,a.getSymbol)(i)}get currencyLength(){return this.displayCurrency.length}updateDurations(e){e&&("month"===e?this.durations=[{label:"First-payment",duration:"once"},{label:"Multiple-months",duration:"repeating"},{label:"Forever",duration:"forever"}]:(this.durations=[{label:"First-payment",duration:"once"},{label:"Forever",duration:"forever"}],"repeating"===this.offer.duration&&this._updateOfferProperty("duration","once")))}changeType(e){"trial"===e?(this._updateOfferProperty("type","trial"),this._updateOfferProperty("amount",7),this._updateOfferProperty("duration","trial"),this.validateProperty("amount")):(this._updateOfferProperty("type","percent"),this._updateOfferProperty("amount",0),this._updateOfferProperty("duration","once"),this.clearPropertyValidations("amount"))}updateCadence(e,t){if(t=t||this.offer,e){const[i,n,r]=e.split("-")
t.tier={id:i},t.cadence=n,t.currency=r,this.offertypes=[{label:"%",offertype:"percent"},{label:r.toUpperCase(),offertype:"fixed"}],this.updateDurations(n),this.updatePortalPreview({forceRefresh:!1})}}updateDuration(e){this._updateOfferProperty("duration",e)}_updateOfferProperty(e,t){let i=this.offer[e];(!1===t||t||i)&&(this.offer[e]=t,this.updatePortalPreview({forceRefresh:!1}))}},X=ge(J.prototype,"offers",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=ge(J.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=ge(J.prototype,"store",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=ge(J.prototype,"modals",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=ge(J.prototype,"feature",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=ge(J.prototype,"membersUtils",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=ge(J.prototype,"notifications",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=ge(J.prototype,"config",[s.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=ge(J.prototype,"cadences",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=ge(J.prototype,"tiers",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=ge(J.prototype,"portalPreviewUrl",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),le=ge(J.prototype,"defaultSiteUrl",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.config.blogUrl}}),ue=ge(J.prototype,"durations",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"Forever",duration:"forever"},{label:"First-payment",duration:"once"},{label:"Multiple-months",duration:"repeating"}]}}),ce=ge(J.prototype,"offertypes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{label:"%",offertype:"percent"},{label:"USD",offertype:"fixed"}]}}),de=ge(J.prototype,"defaultProps",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=ge(J.prototype,"isDisplayTitleEdited",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),me=ge(J.prototype,"isOfferCodeEdited",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ge(J.prototype,"fetchTiers",[j],Object.getOwnPropertyDescriptor(J.prototype,"fetchTiers"),J.prototype),ge(J.prototype,"copyOfferUrl",[_],Object.getOwnPropertyDescriptor(J.prototype,"copyOfferUrl"),J.prototype),ge(J.prototype,"saveTask",[T],Object.getOwnPropertyDescriptor(J.prototype,"saveTask"),J.prototype),ge(J.prototype,"fetchOfferTask",[l.task],Object.getOwnPropertyDescriptor(J.prototype,"fetchOfferTask"),J.prototype),ge(J.prototype,"portalPreviewInserted",[z],Object.getOwnPropertyDescriptor(J.prototype,"portalPreviewInserted"),J.prototype),ge(J.prototype,"portalPreviewDestroyed",[x],Object.getOwnPropertyDescriptor(J.prototype,"portalPreviewDestroyed"),J.prototype),ge(J.prototype,"updatePortalPreview",[S],Object.getOwnPropertyDescriptor(J.prototype,"updatePortalPreview"),J.prototype),ge(J.prototype,"save",[C],Object.getOwnPropertyDescriptor(J.prototype,"save"),J.prototype),ge(J.prototype,"setup",[M],Object.getOwnPropertyDescriptor(J.prototype,"setup"),J.prototype),ge(J.prototype,"setProperty",[D],Object.getOwnPropertyDescriptor(J.prototype,"setProperty"),J.prototype),ge(J.prototype,"validateProperty",[A],Object.getOwnPropertyDescriptor(J.prototype,"validateProperty"),J.prototype),ge(J.prototype,"clearPropertyValidations",[I],Object.getOwnPropertyDescriptor(J.prototype,"clearPropertyValidations"),J.prototype),ge(J.prototype,"setDiscountType",[N],Object.getOwnPropertyDescriptor(J.prototype,"setDiscountType"),J.prototype),ge(J.prototype,"setDiscountAmount",[L],Object.getOwnPropertyDescriptor(J.prototype,"setDiscountAmount"),J.prototype),ge(J.prototype,"setTrialDuration",[R],Object.getOwnPropertyDescriptor(J.prototype,"setTrialDuration"),J.prototype),ge(J.prototype,"setOfferName",[U],Object.getOwnPropertyDescriptor(J.prototype,"setOfferName"),J.prototype),ge(J.prototype,"setPortalTitle",[F],Object.getOwnPropertyDescriptor(J.prototype,"setPortalTitle"),J.prototype),ge(J.prototype,"setPortalDescription",[B],Object.getOwnPropertyDescriptor(J.prototype,"setPortalDescription"),J.prototype),ge(J.prototype,"setOfferCode",[V],Object.getOwnPropertyDescriptor(J.prototype,"setOfferCode"),J.prototype),ge(J.prototype,"setDurationInMonths",[H],Object.getOwnPropertyDescriptor(J.prototype,"setDurationInMonths"),J.prototype),ge(J.prototype,"openConfirmArchiveModal",[q],Object.getOwnPropertyDescriptor(J.prototype,"openConfirmArchiveModal"),J.prototype),ge(J.prototype,"openConfirmUnarchiveModal",[$],Object.getOwnPropertyDescriptor(J.prototype,"openConfirmUnarchiveModal"),J.prototype),ge(J.prototype,"updateDurations",[Y],Object.getOwnPropertyDescriptor(J.prototype,"updateDurations"),J.prototype),ge(J.prototype,"changeType",[W],Object.getOwnPropertyDescriptor(J.prototype,"changeType"),J.prototype),ge(J.prototype,"updateCadence",[G],Object.getOwnPropertyDescriptor(J.prototype,"updateCadence"),J.prototype),ge(J.prototype,"updateDuration",[K],Object.getOwnPropertyDescriptor(J.prototype,"updateDuration"),J.prototype),J)
e.default=fe})),define("ghost-admin/controllers/offers",["exports","ghost-admin/components/modals/offers/link","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const E=[{name:"Active",value:"active"},{name:"Archived",value:"archived"}]
let P=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._action,c=Ember._action,d=(0,i.task)({restartable:!0}),p=class extends Ember.Controller{constructor(){super(...arguments),y(this,"modals",m,this),y(this,"router",h,this),y(this,"membersUtils",b,this),y(this,"offers",g,this),y(this,"tiers",f,this),y(this,"type",v,this),w(this,"queryParams",["type"]),this.availableTypes=E}get filteredOffers(){return this.offers.filter((e=>{const t=this.tiers.find((t=>t.id===e.tier.id)),i="month"===e.cadence?t.monthlyPrice:t.yearlyPrice
return!!t&&t.active&&e.status===this.type&&!!i})).map((e=>{const t=this.tiers.find((t=>t.id===e.tier.id)),i="month"===e.cadence?t.monthlyPrice:t.yearlyPrice
return e.finalCurrency=e.currency||t.currency,e.originalPrice=i,"trial"!==e.type?e.updatedPrice="fixed"===e.type?i-e.amount:i-i*e.amount/100:e.updatedPrice=e.originalPrice,e}))}get offersExist(){return this.offers.length>0}get selectedType(){return this.type?E.find((e=>this.type===e.value)):E[0]}onTypeChange(e){this.type=e.value}openLinkDialog(e){this.advancedModal=this.modals.open(t.default,{offer:e})}*fetchOffersTask(){return this.tiers=yield this.store.query("tier",{filter:"type:paid",include:"monthly_price,yearly_price"}),this.offers=yield this.store.query("offer",{limit:"all"}),this.offers}},m=k(p.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(p.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(p.prototype,"membersUtils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=k(p.prototype,"offers",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=k(p.prototype,"tiers",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=k(p.prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"active"}}),k(p.prototype,"onTypeChange",[u],Object.getOwnPropertyDescriptor(p.prototype,"onTypeChange"),p.prototype),k(p.prototype,"openLinkDialog",[c],Object.getOwnPropertyDescriptor(p.prototype,"openLinkDialog"),p.prototype),k(p.prototype,"fetchOffersTask",[d],Object.getOwnPropertyDescriptor(p.prototype,"fetchOffersTask"),p.prototype),p)
e.default=P})),define("ghost-admin/controllers/pages-loading",["exports","ghost-admin/controllers/posts-loading"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.controller("pages"),n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"postsController",a,this),o(this,"ui",s,this)}},a=l(r.prototype,"postsController",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"ui",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/controllers/pages",["exports","ghost-admin/controllers/posts"],(function(e,t){var i,n,r,a
function s(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const l=[{name:"All pages",value:null},{name:"Draft pages",value:"draft"},{name:"Published pages",value:"published"},{name:"Scheduled pages",value:"scheduled"},{name:"Featured pages",value:"featured"}],u=[{name:"Newest first",value:null},{name:"Oldest first",value:"published_at asc"},{name:"Recently updated",value:"updated_at desc"}]
let c=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="router",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),s(this,"availableTypes",l),s(this,"availableOrders",u)}openEditor(e){this.router.transitionTo("editor.edit","page",e.get("id"))}},a=o(r.prototype,"router",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o(r.prototype,"openEditor",[n],Object.getOwnPropertyDescriptor(r.prototype,"openEditor"),r.prototype),r)
e.default=c})),define("ghost-admin/controllers/posts-loading",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.controller("posts"),n=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Controller{constructor(...e){super(...e),c(this,"postsController",s,this),c(this,"session",o,this),c(this,"ui",l,this),c(this,"config",u,this)}get availableTypes(){return this.postsController.availableTypes}get selectedType(){return this.postsController.selectedType}get selectedVisibility(){return this.postsController.selectedVisibility}get availableVisibilities(){return this.postsController.availableVisibilities}get availableTags(){return this.postsController.availableTags}get selectedTag(){return this.postsController.selectedTag}get availableAuthors(){return this.postsController.availableAuthors}get selectedAuthor(){return this.postsController.selectedAuthor}get availableOrders(){return this.postsController.availableOrders}get selectedOrder(){return this.postsController.selectedOrder}},s=d(a.prototype,"postsController",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"ui",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("ghost-admin/controllers/posts",["exports","ghost-admin/utils/selection-list","ghost-admin/helpers/reset-query-params","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C
function M(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function A(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const I=[{name:"All posts",value:null},{name:"Draft posts",value:"draft"},{name:"Published posts",value:"published"},{name:"Email only posts",value:"sent"},{name:"Scheduled posts",value:"scheduled"},{name:"Featured posts",value:"featured"}],N=[{name:"All access",value:null},{name:"Public",value:"public"},{name:"Members-only",value:"members"},{name:"Paid members-only",value:"paid"}],L=[{name:"Newest first",value:null},{name:"Oldest first",value:"published_at asc"},{name:"Recently updated",value:"updated_at desc"}]
let R=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=class extends Ember.Controller{constructor(){super(...arguments),M(this,"feature",k,this),M(this,"router",E,this),M(this,"session",P,this),M(this,"store",O,this),M(this,"config",j,this),D(this,"queryParams",["type","visibility","author","tag","order"]),M(this,"type",_,this),M(this,"visibility",T,this),M(this,"author",z,this),M(this,"tag",x,this),M(this,"order",S,this),M(this,"selectionList",C,this),D(this,"availableTypes",I),D(this,"availableVisibilities",N),D(this,"availableOrders",L),D(this,"_availableTags",this.store.peekAll("tag")),D(this,"_availableAuthors",this.store.peekAll("user")),D(this,"_hasLoadedTags",!1),D(this,"_hasLoadedAuthors",!1),Object.assign(this,i.DEFAULT_QUERY_PARAMS.posts)}get postsInfinityModel(){return this.model}get totalPosts(){return this.model.meta?.pagination?.total??0}get showingAll(){const{type:e,author:t,tag:i,visibility:n}=this
return!(e||n||t||i)}get selectedType(){return this.availableTypes.findBy("value",this.type)||{value:"!unknown"}}get selectedVisibility(){return this.availableVisibilities.findBy("value",this.visibility)||{value:"!unknown"}}get selectedOrder(){return this.availableOrders.findBy("value",this.order)||{value:"!unknown"}}get availableTags(){const e=this._availableTags.filter((e=>null!==e.get("id"))).sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0}))).toArray()
return e.unshift({name:"All tags",slug:null}),e}get selectedTag(){const e=this.tag
return this.availableTags.findBy("slug",e)||{slug:"!unknown"}}get availableAuthors(){const e=this._availableAuthors.toArray()
return e.unshift({name:"All authors",slug:null}),e}get selectedAuthor(){let e=this.author
return this.availableAuthors.findBy("slug",e)||{slug:"!unknown"}}changeType(e){this.type=e.value}changeVisibility(e){this.visibility=e.value}changeAuthor(e){this.author=e.slug}changeTag(e){this.tag=e.slug}changeOrder(e){this.order=e.value}openEditor(e){this.router.transitionTo("editor.edit","post",e.id)}},k=A(w.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=A(w.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=A(w.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=A(w.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=A(w.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=A(w.prototype,"type",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=A(w.prototype,"visibility",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=A(w.prototype,"author",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=A(w.prototype,"tag",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=A(w.prototype,"order",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=A(w.prototype,"selectionList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new t.default(this.postsInfinityModel)}}),A(w.prototype,"changeType",[h],Object.getOwnPropertyDescriptor(w.prototype,"changeType"),w.prototype),A(w.prototype,"changeVisibility",[b],Object.getOwnPropertyDescriptor(w.prototype,"changeVisibility"),w.prototype),A(w.prototype,"changeAuthor",[g],Object.getOwnPropertyDescriptor(w.prototype,"changeAuthor"),w.prototype),A(w.prototype,"changeTag",[f],Object.getOwnPropertyDescriptor(w.prototype,"changeTag"),w.prototype),A(w.prototype,"changeOrder",[v],Object.getOwnPropertyDescriptor(w.prototype,"changeOrder"),w.prototype),A(w.prototype,"openEditor",[y],Object.getOwnPropertyDescriptor(w.prototype,"openEditor"),w.prototype),w)
e.default=R})),define("ghost-admin/controllers/posts/analytics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{get post(){return this.model}}e.default=t})),define("ghost-admin/controllers/posts/debug",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{get post(){return this.model}}e.default=t})),define("ghost-admin/controllers/reset",["exports","ghost-admin/mixins/validation-engine","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P
function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let T=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=(0,n.task)({drop:!0}),h=class extends(Ember.Controller.extend(t.default)){constructor(...e){super(...e),O(this,"ghostPaths",b,this),O(this,"notifications",g,this),O(this,"session",f,this),O(this,"ajax",v,this),O(this,"config",y,this),O(this,"newPassword",w,this),O(this,"ne2Password",k,this),O(this,"token",E,this),O(this,"flowErrors",P,this),j(this,"validationType","reset")}get email(){return atob(this.token).split("|")[1]}clearData(){this.newPassword="",this.ne2Password="",this.token="",document.querySelector("form#reset")?.reset()}handleInput(e){this.flowErrors="",this.errors.clear(),this.hasValidated.addObjects(["newPassword","ne2Password"]),this[e.currentTarget.name]=e.target.value}*resetPasswordTask(){const{email:e,newPassword:t,ne2Password:i,token:n}=this,r=this.ghostPaths.url.api("authentication","password_reset")
this.flowErrors="",this.hasValidated.addObjects(["newPassword","ne2Password"])
try{yield this.validate()
try{let a=yield this.ajax.put(r,{data:{password_reset:[{newPassword:t,ne2Password:i,token:n}]}})
return this.notifications.showAlert(a.password_reset[0].message,{type:"warn",delayed:!0,key:"password.reset"}),this.session.authenticate("authenticator:cookie",e,t),!0}catch(a){this.notifications.showAPIError(a,{key:"password.reset"})}}catch(a){if(this.errors.errorsFor("newPassword").length&&(this.flowErrors=this.errors.errorsFor("newPassword")[0].message),this.errors.errorsFor("ne2Password").length&&(this.flowErrors=this.errors.errorsFor("ne2Password")[0].message),a&&0===this.errors.length)throw a}}},b=_(h.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_(h.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_(h.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(h.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(h.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(h.prototype,"newPassword",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),k=_(h.prototype,"ne2Password",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),E=_(h.prototype,"token",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=_(h.prototype,"flowErrors",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),_(h.prototype,"handleInput",[p],Object.getOwnPropertyDescriptor(h.prototype,"handleInput"),h.prototype),_(h.prototype,"resetPasswordTask",[m],Object.getOwnPropertyDescriptor(h.prototype,"resetPasswordTask"),h.prototype),h)
e.default=T})),define("ghost-admin/controllers/settings-x",["exports","ghost-admin/components/modals/settings/about"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"modals",s,this),l(this,"upgradeStatus",o,this)}openAbout(){this.advancedModal=this.modals.open(t.default)}},s=u(a.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"upgradeStatus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"openAbout",[r],Object.getOwnPropertyDescriptor(a.prototype,"openAbout"),a.prototype),a)
e.default=c})),define("ghost-admin/controllers/settings",["exports","ghost-admin/components/modals/settings/about"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"modals",s,this),l(this,"upgradeStatus",o,this)}openAbout(){this.advancedModal=this.modals.open(t.default)}},s=u(a.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"upgradeStatus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"openAbout",[r],Object.getOwnPropertyDescriptor(a.prototype,"openAbout"),a.prototype),a)
e.default=c})),define("ghost-admin/controllers/settings/analytics",["exports","ember-concurrency"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service,n=(0,t.task)({drop:!0}),r=class extends Ember.Controller{constructor(...e){var t,i,n,r
super(...e),t=this,i="settings",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}*saveSettings(){return yield this.settings.save()}},a=s(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"saveSettings",[n],Object.getOwnPropertyDescriptor(r.prototype,"saveSettings"),r.prototype),r)
e.default=o})),define("ghost-admin/controllers/settings/announcement-bar/index",["exports","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=Ember._action,c=class extends Ember.Controller{constructor(...e){super(...e),f(this,"customThemeSettings",d,this),f(this,"notifications",p,this),f(this,"settings",m,this),f(this,"themeManagement",h,this),f(this,"config",b,this),f(this,"previewSize",g,this)}get isDesktopPreview(){return"desktop"===this.previewSize}get isMobilePreview(){return"mobile"===this.previewSize}setPreviewSize(e){this.previewSize=e}saveFromKeyboard(){return document.activeElement.blur?.(),this.saveTask.perform()}*saveTask(){try{if(0!==this.settings.errors.length)return
return yield Promise.all([this.settings.save()]),!0}catch(e){if(e)throw this.notifications.showAPIError(e),e}}reset(){this.previewSize="desktop",this.themeManagement.setPreviewType("homepage")}},d=v(c.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(c.prototype,"previewSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),v(c.prototype,"setPreviewSize",[l],Object.getOwnPropertyDescriptor(c.prototype,"setPreviewSize"),c.prototype),v(c.prototype,"saveFromKeyboard",[u],Object.getOwnPropertyDescriptor(c.prototype,"saveFromKeyboard"),c.prototype),v(c.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"saveTask"),c.prototype),c)
e.default=y})),define("ghost-admin/controllers/settings/code-injection",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"notifications",s,this),l(this,"settings",o,this)}save(){this.saveTask.perform()}*saveTask(){let e=this.notifications
try{return yield this.settings.save()}catch(t){throw e.showAPIError(t,{key:"code-injection.save"}),t}}},s=u(a.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u(a.prototype,"save",[r],Object.getOwnPropertyDescriptor(a.prototype,"save"),a.prototype),u(a.prototype,"saveTask",[t.task],Object.getOwnPropertyDescriptor(a.prototype,"saveTask"),a.prototype),a)
e.default=c})),define("ghost-admin/controllers/settings/design",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t}))
define("ghost-admin/controllers/settings/design/change-theme",["exports"],(function(e){var t,i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(t=Ember.inject.service,i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._action,s=Ember._action,o=class extends Ember.Controller{constructor(...e){super(...e),p(this,"router",l,this),p(this,"store",u,this),p(this,"themeManagement",c,this),p(this,"showAdvanced",d,this),m(this,"themes",this.store.peekAll("theme")),m(this,"officialThemes",[{name:"Casper",category:"Blog",previewUrl:"https://demo.ghost.io/",ref:"default",image:"assets/img/themes/Casper-9a0ce71df3a1c589c1414ad2aa5b8aeb.png"},{name:"Headline",category:"News",url:"https://github.com/TryGhost/Headline",previewUrl:"https://headline.ghost.io",ref:"TryGhost/Headline",image:"assets/img/themes/Headline-f70eaf49b9fcae1ddfe3d4496d8be54d.png"},{name:"Edition",category:"Newsletter",url:"https://github.com/TryGhost/Edition",previewUrl:"https://edition.ghost.io/",ref:"TryGhost/Edition",image:"assets/img/themes/Edition-10111a2b8458168dcff81b7fb151be70.png"},{name:"Solo",category:"Blog",url:"https://github.com/TryGhost/Solo",previewUrl:"https://solo.ghost.io",ref:"TryGhost/Solo",image:"assets/img/themes/Solo-0292eb9ae0ca7b578cff50824d40cc86.png"},{name:"Taste",category:"Blog",url:"https://github.com/TryGhost/Taste",previewUrl:"https://taste.ghost.io",ref:"TryGhost/Taste",image:"assets/img/themes/Taste-a24d2a786900d9caff7e773ca0040991.png"},{name:"Episode",category:"Podcast",url:"https://github.com/TryGhost/Episode",previewUrl:"https://episode.ghost.io",ref:"TryGhost/Episode",image:"assets/img/themes/Episode-e4c86d1f75ef1d8a77791d7fd519fdd4.png"},{name:"Digest",category:"Newsletter",url:"https://github.com/TryGhost/Digest",previewUrl:"https://digest.ghost.io/",ref:"TryGhost/Digest",image:"assets/img/themes/Digest-698e78d8e8481daff8ae4a8647528dc9.png"},{name:"Bulletin",category:"Newsletter",url:"https://github.com/TryGhost/Bulletin",previewUrl:"https://bulletin.ghost.io/",ref:"TryGhost/Bulletin",image:"assets/img/themes/Bulletin-d66dec818ad0ba2965dd7eb3130c621c.png"},{name:"Alto",category:"Blog",url:"https://github.com/TryGhost/Alto",previewUrl:"https://alto.ghost.io",ref:"TryGhost/Alto",image:"assets/img/themes/Alto-0dfe76694ed222d6d96fc9c8db979a38.png"},{name:"Dope",category:"Magazine",url:"https://github.com/TryGhost/Dope",previewUrl:"https://dope.ghost.io",ref:"TryGhost/Dope",image:"assets/img/themes/Dope-d099dfca697adae16baa76f89520c5b3.png"},{name:"Wave",category:"Podcast",url:"https://github.com/TryGhost/Wave",previewUrl:"https://wave.ghost.io",ref:"TryGhost/Wave",image:"assets/img/themes/Wave-b98fadfd3ed16e8b2e383dd8e8e5dca2.png"},{name:"Edge",category:"Photography",url:"https://github.com/TryGhost/Edge",previewUrl:"https://edge.ghost.io",ref:"TryGhost/Edge",image:"assets/img/themes/Edge-1e5e0eec6941d7bdca02cebb66187357.png"},{name:"Dawn",category:"Newsletter",url:"https://github.com/TryGhost/Dawn",previewUrl:"https://dawn.ghost.io/",ref:"TryGhost/Dawn",image:"assets/img/themes/Dawn-302fbfdbc352098a256137159bd83dd8.png"},{name:"Ease",category:"Documentation",url:"https://github.com/TryGhost/Ease",previewUrl:"https://ease.ghost.io",ref:"TryGhost/Ease",image:"assets/img/themes/Ease-7075f809892f10c58892e15a57a4aae4.png"},{name:"Ruby",category:"Magazine",url:"https://github.com/TryGhost/Ruby",previewUrl:"https://ruby.ghost.io",ref:"TryGhost/Ruby",image:"assets/img/themes/Ruby-b896885448e0f28ca62c6dcd56c732aa.png"},{name:"London",category:"Photography",url:"https://github.com/TryGhost/London",previewUrl:"https://london.ghost.io",ref:"TryGhost/London",image:"assets/img/themes/London-4e042390da16fecef947f3a7001d03db.png"},{name:"Journal",category:"Newsletter",url:"https://github.com/TryGhost/Journal",previewUrl:"https://journal.ghost.io/",ref:"TryGhost/Journal",image:"assets/img/themes/Journal-07d35b2311501d2738bad1907ba2f7e1.png"}])}get themesList(){const e=this.themes.findBy("active",!0)
let t=this.officialThemes.map((t=>{const i=Object.assign({},t)
return"default"===t.ref&&(i.isDefault=!0),void 0!==e&&t.name.toLowerCase()===e.name&&(i.isActive=!0),i}))
t.sort(((e,t)=>t.isDefault?1:0))
const i=t.find((e=>e.isActive)),n=t.indexOf(i)
return n>0&&(t.splice(n,1),t.unshift(i)),t}startThemeUpload(e){e?.preventDefault(),this.themeManagement.upload({onActivationSuccess:()=>{this.router.transitionTo("settings.design")}})}toggleAdvanced(e){if(this.showAdvanced=!this.showAdvanced,this.showAdvanced){const t=e?.target.closest(".gh-main")
t&&(t.scrollTop=0)}}reset(){this.showAdvanced=!1}},l=h(o.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(o.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(o.prototype,"themeManagement",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(o.prototype,"showAdvanced",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),h(o.prototype,"startThemeUpload",[a],Object.getOwnPropertyDescriptor(o.prototype,"startThemeUpload"),o.prototype),h(o.prototype,"toggleAdvanced",[s],Object.getOwnPropertyDescriptor(o.prototype,"toggleAdvanced"),o.prototype),o)
e.default=b})),define("ghost-admin/controllers/settings/design/change-theme/install",["exports"],(function(e){var t,i,n,r,a
function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(t=Ember._tracked,i=Ember._tracked,n=class extends Ember.Controller{constructor(...e){super(...e),o(this,"queryParams",["source","ref"]),s(this,"source",r,this),s(this,"ref",a,this)}},r=l(n.prototype,"source",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a=l(n.prototype,"ref",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),n)
e.default=u})),define("ghost-admin/controllers/settings/design/index",["exports","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=Ember._action,c=class extends Ember.Controller{constructor(...e){super(...e),f(this,"customThemeSettings",d,this),f(this,"notifications",p,this),f(this,"settings",m,this),f(this,"themeManagement",h,this),f(this,"config",b,this),f(this,"previewSize",g,this)}get isDesktopPreview(){return"desktop"===this.previewSize}get isMobilePreview(){return"mobile"===this.previewSize}setPreviewSize(e){this.previewSize=e}saveFromKeyboard(){return document.activeElement.blur?.(),this.saveTask.perform()}*saveTask(){try{if(0!==this.settings.errors.length)return
return yield Promise.all([this.settings.save(),this.customThemeSettings.save()]),!0}catch(e){if(e)throw this.notifications.showAPIError(e),e}}reset(){this.previewSize="desktop",this.themeManagement.setPreviewType("homepage")}},d=v(c.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(c.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(c.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(c.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(c.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=v(c.prototype,"previewSize",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"desktop"}}),v(c.prototype,"setPreviewSize",[l],Object.getOwnPropertyDescriptor(c.prototype,"setPreviewSize"),c.prototype),v(c.prototype,"saveFromKeyboard",[u],Object.getOwnPropertyDescriptor(c.prototype,"saveFromKeyboard"),c.prototype),v(c.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(c.prototype,"saveTask"),c.prototype),c)
e.default=y})),define("ghost-admin/controllers/settings/general",["exports","ghost-admin/utils/password-generator","ghost-admin/components/gh-image-uploader","tracked-built-ins","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S
function C(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function M(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function D(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let A=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._tracked,m=Ember.computed("config.blogUrl","settings.publicHash"),h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=class extends Ember.Controller{constructor(...e){super(...e),C(this,"ghostPaths",P,this),C(this,"notifications",O,this),C(this,"session",j,this),C(this,"settings",_,this),C(this,"frontend",T,this),C(this,"ui",z,this),C(this,"config",x,this),C(this,"scratchValues",S,this),M(this,"imageExtensions",i.IMAGE_EXTENSIONS),M(this,"imageMimeTypes",i.IMAGE_MIME_TYPES)}get availableTimezones(){return this.config.availableTimezones}get privateRSSUrl(){return`${this.config.blogUrl}/${this.settings.publicHash}/rss`}save(){this.saveTask.perform()}setTimezone(e){this.settings.timezone=e.name}removeImage(e){this.settings[e]=""}triggerFileDialog(e){e?.target.closest(".gh-setting-action")?.querySelector('input[type="file"]')?.click()}imageUploaded(e,t){if(t[0])return this.settings[e]=t[0].url}toggleIsPrivate(e){let i=this.settings
i.isPrivate=e,i.errors.remove("password")
let n=i.changedAttributes()
e&&n.isPrivate?i.password=(0,t.default)(6)+Math.floor(1e3*Math.random()):n.password&&(i.password=n.password[0])}setScratchValue(e,t){this.scratchValues[e]=t}clearScratchValues(){this.scratchValues=new n.TrackedObject}_deleteTheme(){let e=this.store.peekRecord("theme",this.themeToDelete.name)
if(e)return e.destroyRecord().catch((e=>{this.notifications.showAPIError(e)}))}*saveTask(){let e=this.notifications
try{let e=this.settings.changedAttributes(),t=yield this.settings.save()
return this.clearScratchValues(),this.config.blogTitle=t.title,e.password&&this.frontend.loginIfNeeded(),this.ui.updateDocumentTitle(),t}catch(t){throw t&&e.showAPIError(t,{key:"settings.save"}),t}}saveViaKeyboard(e){e.preventDefault()
const t=document.activeElement
t?.blur(),Ember.run.schedule("actions",this,(function(){t?.focus(),this.saveTask.perform()}))}},P=D(E.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=D(E.prototype,"notifications",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=D(E.prototype,"session",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=D(E.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=D(E.prototype,"frontend",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=D(E.prototype,"ui",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=D(E.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=D(E.prototype,"scratchValues",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n.TrackedObject}}),D(E.prototype,"privateRSSUrl",[m],Object.getOwnPropertyDescriptor(E.prototype,"privateRSSUrl"),E.prototype),D(E.prototype,"save",[h],Object.getOwnPropertyDescriptor(E.prototype,"save"),E.prototype),D(E.prototype,"setTimezone",[b],Object.getOwnPropertyDescriptor(E.prototype,"setTimezone"),E.prototype),D(E.prototype,"removeImage",[g],Object.getOwnPropertyDescriptor(E.prototype,"removeImage"),E.prototype),D(E.prototype,"triggerFileDialog",[f],Object.getOwnPropertyDescriptor(E.prototype,"triggerFileDialog"),E.prototype),D(E.prototype,"imageUploaded",[v],Object.getOwnPropertyDescriptor(E.prototype,"imageUploaded"),E.prototype),D(E.prototype,"toggleIsPrivate",[y],Object.getOwnPropertyDescriptor(E.prototype,"toggleIsPrivate"),E.prototype),D(E.prototype,"setScratchValue",[w],Object.getOwnPropertyDescriptor(E.prototype,"setScratchValue"),E.prototype),D(E.prototype,"saveTask",[a.task],Object.getOwnPropertyDescriptor(E.prototype,"saveTask"),E.prototype),D(E.prototype,"saveViaKeyboard",[k],Object.getOwnPropertyDescriptor(E.prototype,"saveViaKeyboard"),E.prototype),E)
e.default=A})),define("ghost-admin/controllers/settings/history",["exports"],(function(e){var t,i,n,r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(t=Ember.inject.service,i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=class extends Ember.Controller{constructor(...e){super(...e),g(this,"router",c,this),g(this,"settings",d,this),g(this,"store",p,this),f(this,"queryParams",["excludedEvents","excludedResources","user"]),g(this,"excludedEvents",m,this),g(this,"excludedResources",h,this),g(this,"user",b,this)}get fullExcludedEvents(){return(this.excludedEvents||"").split(",")}get fullExcludedResources(){return(this.excludedResources||"").split(",")}get userRecord(){return this.user?this.store.findRecord("user",this.user,{reload:!0}):null}changeExcludedItems({excludedEvents:e,excludedResources:t}={}){this.router.transitionTo({queryParams:{excludedEvents:e,excludedResources:t}})}changeUser(e){this.router.transitionTo({queryParams:{user:e?.id}})}},c=v(u.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v(u.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=v(u.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=v(u.prototype,"excludedEvents",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=v(u.prototype,"excludedResources",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=v(u.prototype,"user",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v(u.prototype,"changeExcludedItems",[o],Object.getOwnPropertyDescriptor(u.prototype,"changeExcludedItems"),u.prototype),v(u.prototype,"changeUser",[l],Object.getOwnPropertyDescriptor(u.prototype,"changeUser"),u.prototype),u)
e.default=y})),define("ghost-admin/controllers/settings/integration",["exports","ghost-admin/components/settings/integrations/delete-integration-modal","ghost-admin/components/settings/integrations/delete-webhook-modal","ghost-admin/components/settings/integrations/regenerate-key-modal","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/components/gh-image-uploader","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l){var u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j
function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let x=(u=Ember.inject.service,c=Ember.inject.service,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=class extends Ember.Controller{constructor(){super(...arguments),_(this,"ghostPaths",E,this),_(this,"modals",P,this),_(this,"config",O,this),T(this,"imageExtensions",s.IMAGE_EXTENSIONS),T(this,"imageMimeTypes",s.IMAGE_MIME_TYPES),_(this,"regeneratedApiKey",j,this),void 0===this.isTesting&&(this.isTesting="test"===r.default.environment)}get integration(){return this.model}get apiUrl(){let e=window.location.origin,t=this.ghostPaths.subdir
return this.ghostPaths.url.join(e,t).replace(/\/$/,"")}get allWebhooks(){return this.store.peekAll("webhook")}get filteredWebhooks(){return this.allWebhooks.filter((e=>e.belongsTo("integration").id()===this.integration.id&&!e.isNew&&!e.isDeleted))}get iconImageStyle(){let e=this.integration.iconImage
if(e){let t=[`background-image: url(${e})`,"background-size: 50%","background-position: 50%","background-repeat: no-repeat"]
return Ember.String.htmlSafe(t.join("; "))}return Ember.String.htmlSafe("")}triggerIconFileDialog(e){e.preventDefault(),document.querySelector('input[type="file"][name="iconImage"]').click()}updateProperty(e,t){this.integration.set(e,t.target.value)}validateProperty(e){this.integration.validate({property:e})}setIconImage([e]){this.integration.set("iconImage",e.url)}save(){return this.saveTask.perform()}confirmIntegrationDeletion(e){return e?.preventDefault(),this.modals.open(t.default,{integration:this.integration})}async confirmRegenerateKey(e,t){t?.preventDefault(),this.regeneratedApiKey=null,this.regeneratedApiKey=await this.modals.open(n.default,{apiKey:e,integration:this.integration})}confirmWebhookDeletion(e,t){return t?.preventDefault(),this.modals.open(i.default,{webhook:e})}deleteWebhook(e){return e?.preventDefault(),this.webhookToDelete.destroyRecord()}*saveTask(){try{return yield this.integration.save()}catch(e){if(void 0===e)return!1
throw e}}*copyContentKey(){(0,a.default)(this.integration.contentKey.secret),yield(0,l.timeout)(this.isTesting?50:3e3)}*copyAdminKey(){(0,a.default)(this.integration.adminKey.secret),yield(0,l.timeout)(this.isTesting?50:3e3)}*copyApiUrl(){(0,a.default)(this.apiUrl),yield(0,l.timeout)(this.isTesting?50:3e3)}},E=z(k.prototype,"ghostPaths",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(k.prototype,"modals",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=z(k.prototype,"config",[o.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=z(k.prototype,"regeneratedApiKey",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z(k.prototype,"triggerIconFileDialog",[p],Object.getOwnPropertyDescriptor(k.prototype,"triggerIconFileDialog"),k.prototype),z(k.prototype,"updateProperty",[m],Object.getOwnPropertyDescriptor(k.prototype,"updateProperty"),k.prototype),z(k.prototype,"validateProperty",[h],Object.getOwnPropertyDescriptor(k.prototype,"validateProperty"),k.prototype),z(k.prototype,"setIconImage",[b],Object.getOwnPropertyDescriptor(k.prototype,"setIconImage"),k.prototype),z(k.prototype,"save",[g],Object.getOwnPropertyDescriptor(k.prototype,"save"),k.prototype),z(k.prototype,"confirmIntegrationDeletion",[f],Object.getOwnPropertyDescriptor(k.prototype,"confirmIntegrationDeletion"),k.prototype),z(k.prototype,"confirmRegenerateKey",[v],Object.getOwnPropertyDescriptor(k.prototype,"confirmRegenerateKey"),k.prototype),z(k.prototype,"confirmWebhookDeletion",[y],Object.getOwnPropertyDescriptor(k.prototype,"confirmWebhookDeletion"),k.prototype),z(k.prototype,"deleteWebhook",[w],Object.getOwnPropertyDescriptor(k.prototype,"deleteWebhook"),k.prototype),z(k.prototype,"saveTask",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"saveTask"),k.prototype),z(k.prototype,"copyContentKey",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"copyContentKey"),k.prototype),z(k.prototype,"copyAdminKey",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"copyAdminKey"),k.prototype),z(k.prototype,"copyApiUrl",[l.task],Object.getOwnPropertyDescriptor(k.prototype,"copyApiUrl"),k.prototype),k)
e.default=x})),define("ghost-admin/controllers/settings/integration/webhooks/edit",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t})),define("ghost-admin/controllers/settings/integration/webhooks/new",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Controller{}e.default=t})),define("ghost-admin/controllers/settings/integrations",["exports","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Controller{constructor(...e){super(...e),u(this,"settings",s,this),u(this,"store",o,this),u(this,"config",l,this),c(this,"_allIntegrations",this.store.peekAll("integration"))}get zapierDisabled(){return this.config.hostSettings?.limits?.customIntegrations?.disabled}get integrations(){return this._allIntegrations.reject((e=>e.isNew||"custom"!==e.type))}*fetchIntegrations(){return yield this.store.findAll("integration")}integrationModelHook(e,t,i,n){let r=this.store.peekAll("integration").findBy(e,t)
return r||this.fetchIntegrations.perform().then((r=>{let a=r.findBy(e,t)
if(!a){let e=n.intent.url.replace(/^\//,"")
return i.replaceWith("error404",{path:e,status:404})}return a}))}},s=d(a.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(a.prototype,"fetchIntegrations",[i.task],Object.getOwnPropertyDescriptor(a.prototype,"fetchIntegrations"),a.prototype),a)
e.default=p})),define("ghost-admin/controllers/settings/integrations/amp",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=Ember._action,s=(0,t.task)({drop:!0}),o=class extends Ember.Controller{constructor(...e){super(...e),c(this,"notifications",l,this),c(this,"settings",u,this)}update(e){this.settings.amp=e}save(){this.saveTask.perform()}*saveTask(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}}},l=d(o.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"update",[r],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),d(o.prototype,"save",[a],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),d(o.prototype,"saveTask",[s],Object.getOwnPropertyDescriptor(o.prototype,"saveTask"),o.prototype),o)
e.default=p})),define("ghost-admin/controllers/settings/integrations/firstpromoter",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=Ember._action,s=(0,t.task)({drop:!0}),o=class extends Ember.Controller{constructor(...e){super(...e),c(this,"notifications",l,this),c(this,"settings",u,this)}update(e){this.settings.firstpromoter=e}save(){this.saveTask.perform()}*saveTask(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}}},l=d(o.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"update",[r],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),d(o.prototype,"save",[a],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),d(o.prototype,"saveTask",[s],Object.getOwnPropertyDescriptor(o.prototype,"saveTask"),o.prototype),o)
e.default=p})),define("ghost-admin/controllers/settings/integrations/pintura",["exports","ghost-admin/config/environment","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O
function j(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T=["js"],z=["application/javascript"],x=["css"],S=["text/css"]
let C=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=(0,n.task)({drop:!0}),g=class extends Ember.Controller{get showUploadSettings(){return this.settings.pintura&&!this.config.pintura}constructor(){super(...arguments),j(this,"notifications",f,this),j(this,"settings",v,this),j(this,"utils",y,this),j(this,"config",w,this),j(this,"jsSuccess",k,this),j(this,"jsFailure",E,this),j(this,"cssSuccess",P,this),j(this,"cssFailure",O,this),this.jsExtension=T,this.jsMimeType=z,this.jsAccept=[...this.jsMimeType,...Array.from(this.jsExtension,(e=>"."+e))],this.cssExtension=x,this.cssMimeType=S,this.cssAccept=[...this.cssMimeType,...Array.from(this.cssExtension,(e=>"."+e))]}triggerFileDialog(e){e?.target.closest(".gh-setting-action")?.querySelector('input[type="file"]')?.click()}async fileUploadCompleted(e,[i]){let n=`${e}Success`,r=`${e}Failure`
if(!i||!i.url&&!i.fileName)return this[n]=!1,void(this[r]=!0)
this[n]=!0,this[r]=!1,window.setTimeout((()=>{this[n]=null,this[r]=null}),"test"===t.default.environment?100:5e3),"js"===e?this.settings.pinturaJsUrl=i.url:"css"===e&&(this.settings.pinturaCssUrl=i.url)}update(e){this.settings.pintura=e.target.checked}save(){this.saveTask.perform()}*saveTask(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}}},f=_(g.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(g.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(g.prototype,"utils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(g.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(g.prototype,"jsSuccess",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(g.prototype,"jsFailure",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(g.prototype,"cssSuccess",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=_(g.prototype,"cssFailure",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(g.prototype,"triggerFileDialog",[d],Object.getOwnPropertyDescriptor(g.prototype,"triggerFileDialog"),g.prototype),_(g.prototype,"fileUploadCompleted",[p],Object.getOwnPropertyDescriptor(g.prototype,"fileUploadCompleted"),g.prototype),_(g.prototype,"update",[m],Object.getOwnPropertyDescriptor(g.prototype,"update"),g.prototype),_(g.prototype,"save",[h],Object.getOwnPropertyDescriptor(g.prototype,"save"),g.prototype),_(g.prototype,"saveTask",[b],Object.getOwnPropertyDescriptor(g.prototype,"saveTask"),g.prototype),g)
e.default=C})),define("ghost-admin/controllers/settings/integrations/slack",["exports","ember-ajax/errors","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h
function b(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=(0,i.task)({drop:!0}),u=(0,i.task)({drop:!0}),c=class extends Ember.Controller{constructor(...e){super(...e),b(this,"ghostPaths",d,this),b(this,"ajax",p,this),b(this,"notifications",m,this),b(this,"settings",h,this)}get testNotificationDisabled(){return!this.settings.slackUrl}save(){this.saveTask.perform()}*saveTask(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){if(e)throw this.notifications.showAPIError(e),e}}*sendTestNotification(){let e=this.notifications,i=this.ghostPaths.url.api("slack","test")
try{return yield this.saveTask.perform(),yield this.ajax.post(i),e.showNotification("Test notification sent",{type:"info",key:"slack-test.send.success",description:"Check your Slack channel for the test message"}),!0}catch(n){if(n&&(e.showAPIError(n,{key:"slack-test:send"}),!(0,t.isInvalidError)(n)))throw n}}},d=g(c.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(c.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(c.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=g(c.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"save",[o],Object.getOwnPropertyDescriptor(c.prototype,"save"),c.prototype),g(c.prototype,"saveTask",[l],Object.getOwnPropertyDescriptor(c.prototype,"saveTask"),c.prototype),g(c.prototype,"sendTestNotification",[u],Object.getOwnPropertyDescriptor(c.prototype,"sendTestNotification"),c.prototype),c)
e.default=f})),define("ghost-admin/controllers/settings/integrations/unsplash",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._action,a=Ember._action,s=(0,t.task)({drop:!0}),o=class extends Ember.Controller{constructor(...e){super(...e),c(this,"notifications",l,this),c(this,"settings",u,this)}update(e){this.settings.unsplash=e}save(){this.saveTask.perform()}*saveTask(){try{return yield this.settings.validate(),yield this.settings.save()}catch(e){throw this.notifications.showAPIError(e),e}}},l=d(o.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"update",[r],Object.getOwnPropertyDescriptor(o.prototype,"update"),o.prototype),d(o.prototype,"save",[a],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),d(o.prototype,"saveTask",[s],Object.getOwnPropertyDescriptor(o.prototype,"saveTask"),o.prototype),o)
e.default=p})),define("ghost-admin/controllers/settings/integrations/zapier",["exports","ghost-admin/components/settings/integrations/regenerate-key-modal","ghost-admin/config/environment","ghost-admin/utils/copy-text-to-clipboard","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._action,u=class extends Ember.Controller{constructor(){super(...arguments),m(this,"ghostPaths",c,this),m(this,"modals",d,this),m(this,"regeneratedApiKey",p,this),void 0===this.isTesting&&(this.isTesting="test"===i.default.environment)}get integration(){return this.model}get apiUrl(){let e=window.location.origin,t=this.ghostPaths.subdir
return this.ghostPaths.url.join(e,t).replace(/\/$/,"")}async confirmRegenerateKey(e,i){i?.preventDefault(),this.regeneratedApiKey=null,this.regeneratedApiKey=await this.modals.open(t.default,{apiKey:e,integration:this.integration,internalIntegration:"zapier"})}*copyAdminKeyTask(e){e?.preventDefault(),(0,n.default)(this.integration.adminKey.secret),yield(0,r.timeout)(this.isTesting?50:3e3)}*copyApiUrlTask(e){e?.preventDefault(),(0,n.default)(this.apiUrl),yield(0,r.timeout)(this.isTesting?50:3e3)}},c=h(u.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"modals",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=h(u.prototype,"regeneratedApiKey",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h(u.prototype,"confirmRegenerateKey",[l],Object.getOwnPropertyDescriptor(u.prototype,"confirmRegenerateKey"),u.prototype),h(u.prototype,"copyAdminKeyTask",[r.task],Object.getOwnPropertyDescriptor(u.prototype,"copyAdminKeyTask"),u.prototype),h(u.prototype,"copyApiUrlTask",[r.task],Object.getOwnPropertyDescriptor(u.prototype,"copyApiUrlTask"),u.prototype),u)
e.default=b})),define("ghost-admin/controllers/settings/labs",["exports","ghost-admin/components/settings/labs/delete-all-content-modal","ghost-admin/components/modal-import-content","ghost-admin/config/environment","ghost-admin/services/ajax","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s){var o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A
function I(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function N(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function L(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Promise:R}=Ember.RSVP,U=["application/json","application/zip","application/x-zip-compressed"],F=["json"],B=["application/json"],V=["yaml"],H=["text/vnd.yaml","application/vnd.yaml","text/x-yaml","application/x-yaml"]
let q=(o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=(0,s.task)((function*(e){return this.set("redirectSuccess",e),this.set("redirectFailure",!e),yield(0,s.timeout)("test"===n.default.environment?100:5e3),this.set("redirectSuccess",null),this.set("redirectFailure",null),!0})).drop(),E=(0,s.task)((function*(e){return this.set("routesSuccess",e),this.set("routesFailure",!e),yield(0,s.timeout)("test"===n.default.environment?100:5e3),this.set("routesSuccess",null),this.set("routesFailure",null),!0})).drop(),P=class extends Ember.Controller{constructor(...e){super(...e),I(this,"ajax",O,this),I(this,"feature",j,this),I(this,"ghostPaths",_,this),I(this,"modals",T,this),I(this,"notifications",z,this),I(this,"session",x,this),I(this,"settings",S,this),I(this,"utils",C,this),I(this,"config",M,this),N(this,"importErrors",null),N(this,"importSuccessful",!1),N(this,"showEarlyAccessModal",!1),N(this,"submitting",!1),N(this,"uploadButtonText","Import"),N(this,"importMimeType",null),N(this,"redirectsFileExtensions",null),N(this,"redirectsFileMimeTypes",null),N(this,"yamlExtension",null),N(this,"yamlMimeType",null),N(this,"yamlAccept",null),I(this,"redirectUploadResult",D,this),I(this,"routesUploadResult",A,this)}init(){super.init(...arguments),this.importMimeType=U,this.redirectsFileExtensions=[...F,...V],this.redirectsFileMimeTypes=[...B,...H,".yaml"],this.yamlExtension=V,this.yamlMimeType=H,this.yamlAccept=[...this.yamlMimeType,...Array.from(this.yamlExtension,(e=>"."+e))]}onUpload(e){let t=new FormData,i=this.notifications,n=this.get("session.user.id"),a=this.get("ghostPaths.url").api("db")
return this.set("uploadButtonText","Importing"),this.set("importErrors",null),this.set("importSuccessful",!1),this._validate(e).then((()=>(t.append("importfile",e),this.ajax.post(a,{data:t,dataType:"json",cache:!1,contentType:!1,processData:!1})))).then((e=>{let t=this.store
this.set("importSuccessful",!0),e.problems&&this.set("importErrors",e.problems),t.unloadAll(),Ember.run.schedule("destroy",this,(()=>(this.session.populateUser({id:n}),i.showNotification("Import successful",{key:"import.upload.success"}),this.settings.reload().then((e=>{this.feature.fetch(),this.config.blogTitle=e.title})))))})).catch((e=>{throw(0,r.isUnsupportedMediaTypeError)(e)||(0,r.isRequestEntityTooLargeError)(e)?this.set("importErrors",[e]):e&&e.payload.errors&&Ember.isArray(e.payload.errors)?this.set("importErrors",e.payload.errors):this.set("importErrors",[{message:"Import failed due to an unknown error. Check the Web Inspector console and network tabs for errors."}]),e})).finally((()=>{this.set("uploadButtonText","Import")}))}importContent(){return this.modals.open(i.default)}downloadFile(e){this.utils.downloadFile(this.ghostPaths.url.api(e))}confirmDeleteAll(){return this.modals.open(t.default)}toggleEarlyAccessModal(){this.toggleProperty("showEarlyAccessModal")}triggerFileDialog(e){e?.target.closest(".gh-setting-action")?.querySelector('input[type="file"]')?.click()}_validate(e){if(""===e.type){let[,t]=/(?:\.([^.]+))?$/.exec(e.name)
return t&&"json"===t.toLowerCase()?new R(((t,i)=>{let n=new FileReader
n.onload=function(){let{result:e}=n
try{return JSON.parse(e),t()}catch(a){return i(new r.UnsupportedMediaTypeError)}},n.readAsText(e)})):Ember.RSVP.reject(new r.UnsupportedMediaTypeError)}let t=this.importMimeType
return!Ember.isBlank(t)&&e&&-1===t.indexOf(e.type)?Ember.RSVP.reject(new r.UnsupportedMediaTypeError):Ember.RSVP.resolve()}reset(){this.set("importErrors",null),this.set("importSuccessful",!1)}},O=L(P.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=L(P.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=L(P.prototype,"ghostPaths",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=L(P.prototype,"modals",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=L(P.prototype,"notifications",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=L(P.prototype,"session",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=L(P.prototype,"settings",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L(P.prototype,"utils",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=L(P.prototype,"config",[a.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L(P.prototype,"onUpload",[b],Object.getOwnPropertyDescriptor(P.prototype,"onUpload"),P.prototype),L(P.prototype,"importContent",[g],Object.getOwnPropertyDescriptor(P.prototype,"importContent"),P.prototype),L(P.prototype,"downloadFile",[f],Object.getOwnPropertyDescriptor(P.prototype,"downloadFile"),P.prototype),L(P.prototype,"confirmDeleteAll",[v],Object.getOwnPropertyDescriptor(P.prototype,"confirmDeleteAll"),P.prototype),L(P.prototype,"toggleEarlyAccessModal",[y],Object.getOwnPropertyDescriptor(P.prototype,"toggleEarlyAccessModal"),P.prototype),L(P.prototype,"triggerFileDialog",[w],Object.getOwnPropertyDescriptor(P.prototype,"triggerFileDialog"),P.prototype),D=L(P.prototype,"redirectUploadResult",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=L(P.prototype,"routesUploadResult",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P)
e.default=q})),define("ghost-admin/controllers/settings/labs/import",["exports"],(function(e){var t,i,n,r
function a(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(t=Ember.inject.service,i=Ember._action,n=class extends Ember.Controller{constructor(...e){var t,i,n,a
super(...e),t=this,i="router",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}close(){this.router.transitionTo("settings.labs")}},r=a(n.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a(n.prototype,"close",[i],Object.getOwnPropertyDescriptor(n.prototype,"close"),n.prototype),n)
e.default=s})),define("ghost-admin/controllers/settings/membership",["exports","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/config/environment","ghost-admin/utils/currency","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe,me,he,be,ge,fe,ve,ye
function we(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ke(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Ee(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const Pe=n.currencies.map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
let Oe=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,k=Ember._tracked,E=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=Ember._tracked,T=Ember._action,z=Ember._action,x=Ember._action,S=Ember._action,C=Ember._action,M=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,N=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=Ember._action,W=Ember._action,G=(0,a.task)({drop:!0}),K=(0,a.task)({drop:!0}),J=Ember._action,X=class extends Ember.Controller{constructor(...e){super(...e),we(this,"feature",Z,this),we(this,"membersUtils",Q,this),we(this,"modals",ee,this),we(this,"settings",te,this),we(this,"store",ie,this),we(this,"session",ne,this),we(this,"config",re,this),we(this,"showPortalSettings",ae,this),we(this,"showStripeConnect",se,this),we(this,"showTierModal",oe,this),we(this,"tier",le,this),we(this,"tiers",ue,this),we(this,"tierModel",ce,this),we(this,"paidSignupRedirect",de,this),we(this,"freeSignupRedirect",pe,this),we(this,"welcomePageURL",me,this),we(this,"stripeMonthlyAmount",he,this),we(this,"stripeYearlyAmount",be,this),we(this,"currency",ge,this),we(this,"stripePlanError",fe,this),we(this,"portalPreviewUrl",ve,this),ke(this,"portalPreviewGuid",Date.now().valueOf()),ke(this,"queryParams",["showPortalSettings","verifyEmail"]),we(this,"verifyEmail",ye,this)}get freeTier(){return this.tiers?.find((e=>"free"===e.type))}get paidTiers(){return this.tiers?.filter((e=>"paid"===e.type))}get allCurrencies(){return(0,n.getCurrencyOptions)()}get siteUrl(){return this.config.blogUrl}get selectedCurrency(){return Pe.findBy("value",this.currency)}get isConnectDisallowed(){const e=this.config.blogUrl
return"development"!==i.default.environment&&!/^https:/.test(e)}get hasChangedPrices(){if(this.tier){const e=this.tier.get("monthlyPrice"),t=this.tier.get("yearlyPrice")
if(e?.amount&&parseFloat(this.stripeMonthlyAmount)!==e.amount/100)return!0
if(t?.amount&&parseFloat(this.stripeYearlyAmount)!==t.amount/100)return!0}return!1}setup(){this.fetchTiers.perform(),this.updatePortalPreview()}get isDirty(){return this.settings.hasDirtyAttributes||this.hasChangedPrices}async membersSubscriptionAccessChanged(){const e=this.settings.changedAttributes().membersSignupAccess?.[0]
"none"===e?await this.switchFromNoneTask.perform():this.updatePortalPreview()}setStripePlansCurrency(e){const t=e.value
this.currency=t}setPaidSignupRedirect(e){this.paidSignupRedirect=e}setFreeSignupRedirect(e){this.freeSignupRedirect=e}setWelcomePageURL(e){this.welcomePageURL=e}validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")}validateFreeSignupRedirect(){return this._validateSignupRedirect(this.freeSignupRedirect,"membersFreeSignupRedirect")}validateWelcomePageURL(){const e=this.siteUrl
if(void 0!==this.welcomePageURL)if(this.welcomePageURL.href.startsWith(e)){const t=this.welcomePageURL.href.replace(e,"")
this.freeTier.welcomePageURL=t}else this.freeTier.welcomePageURL=this.welcomePageURL.href}validateStripePlans({updatePortalPreview:e=!0}={}){this.stripePlanError=void 0
try{const t=this.stripeYearlyAmount,i=this.stripeMonthlyAmount,r=(0,n.getSymbol)(this.currency)
if(!t||t<1||!i||i<1)throw new TypeError(`Subscription amount must be at least ${r}1.00`)
e&&this.updatePortalPreview()}catch(t){this.stripePlanError=t.message}}openStripeConnect(){this.stripeEnabledOnOpen=this.membersUtils.isStripeEnabled,this.showStripeConnect=!0}async closeStripeConnect(){this.stripeEnabledOnOpen!==this.membersUtils.isStripeEnabled&&await this.saveSettingsTask.perform({forceRefresh:!0}),this.showStripeConnect=!1}async openEditTier(e){this.tierModel=e,this.showTierModal=!0}async openNewTier(){this.tierModel=this.store.createRecord("tier"),this.showTierModal=!0}closeTierModal(){this.showTierModal=!1}openPortalSettings(){this.saveSettingsTask.perform(),this.showPortalSettings=!0}async closePortalSettings(){const e=this.settings.changedAttributes()
if(e&&Object.keys(e).length>0){await this.modals.open(t.default)&&(this.settings.rollbackAttributes(),this.showPortalSettings=!1,this.updatePortalPreview())}else this.showPortalSettings=!1,this.updatePortalPreview()}updatePortalPreview({forceRefresh:e}={forceRefresh:!1}){const t=Math.round(100*this.stripeMonthlyAmount),i=Math.round(100*this.stripeYearlyAmount)
let n=this.settings.portalPlans||[],r=n.includes("monthly"),a=n.includes("yearly")
const s=this.store.peekAll("tier"),o=s?.filter((e=>"public"===e.get("visibility")&&!0===e.get("active")&&"paid"===e.get("type"))).map((e=>e.id)),l=new URL(this.membersUtils.getPortalPreviewUrl({button:!1,monthlyPrice:t,yearlyPrice:i,portalTiers:o,currency:this.currency,isMonthlyChecked:r,isYearlyChecked:a,portalPlans:null}))
e&&(this.portalPreviewGuid=Date.now().valueOf()),l.searchParams.set("v",this.portalPreviewGuid),this.portalPreviewUrl=l}portalPreviewInserted(e){this.portalPreviewIframe=e,this.portalMessageListener||(this.portalMessageListener=e=>{if(this.showPortalSettings)return;["portal-ready","portal-preview-updated"].includes(e.data.type)&&e.data.payload?.height&&this.portalPreviewIframe?.parentNode&&(this.portalPreviewIframe.parentNode.style.height=`${e.data.payload.height}px`)},window.addEventListener("message",this.portalMessageListener,!0))}portalPreviewDestroyed(){this.portalPreviewIframe=null,this.portalMessageListener&&window.removeEventListener("message",this.portalMessageListener)}confirmTierSave(){return this.updatePortalPreview({forceRefresh:!0}),this.fetchTiers.perform()}*switchFromNoneTask(){return yield this.saveSettingsTask.perform({forceRefresh:!0})}setupPortalTier(e){if(e){const t=e.get("monthlyPrice"),i=e.get("yearlyPrice")
this.currency=e.get("currency"),t&&(this.stripeMonthlyAmount=t/100),i&&(this.stripeYearlyAmount=i/100),this.updatePortalPreview()}}*fetchTiers(){this.tiers=yield this.store.query("tier",{include:"monthly_price,yearly_price,benefits"}),this.tier=this.paidTiers.firstObject,this.setupPortalTier(this.tier)}*saveSettingsTask(e){if(0!==this.settings.errors.length)return
if(!this.settings.defaultContentVisibility)return
const t=yield this.settings.save()
return yield this.freeTier.save(),this.updatePortalPreview(e),t}async saveTier(){const e=this.settings.paidMembersEnabled
if(this.tier&&e){const e=Math.round(100*this.stripeMonthlyAmount),t=Math.round(100*this.stripeYearlyAmount)
this.tier.set("monthlyPrice",e),this.tier.set("yearlyPrice",t)
return await this.tier.save()}}reset(){this.settings.rollbackAttributes(),this.resetPrices(),this.showLeavePortalModal=!1,this.showPortalSettings=!1}resetPrices(){const e=this.tier.get("monthlyPrice"),t=this.tier.get("yearlyPrice")
this.stripeMonthlyAmount=e?e.amount/100:5,this.stripeYearlyAmount=t?t.amount/100:50}_validateSignupRedirect(e,t){const i=this.config.blogUrl
if(this.settings.errors.remove(t),this.settings.hasValidated.removeObject(t),null===e)return this.settings.errors.add(t,"Please enter a valid URL"),this.settings.hasValidated.pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(i)){const n=e.href.replace(i,"")
this.settings[t]=n}else this.settings[t]=e.href}},Z=Ee(X.prototype,"feature",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=Ee(X.prototype,"membersUtils",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=Ee(X.prototype,"modals",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=Ee(X.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=Ee(X.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=Ee(X.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=Ee(X.prototype,"config",[r.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=Ee(X.prototype,"showPortalSettings",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=Ee(X.prototype,"showStripeConnect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=Ee(X.prototype,"showTierModal",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=Ee(X.prototype,"tier",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=Ee(X.prototype,"tiers",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=Ee(X.prototype,"tierModel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),de=Ee(X.prototype,"paidSignupRedirect",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=Ee(X.prototype,"freeSignupRedirect",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=Ee(X.prototype,"welcomePageURL",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=Ee(X.prototype,"stripeMonthlyAmount",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),be=Ee(X.prototype,"stripeYearlyAmount",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),ge=Ee(X.prototype,"currency",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"usd"}}),fe=Ee(X.prototype,"stripePlanError",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ve=Ee(X.prototype,"portalPreviewUrl",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye=Ee(X.prototype,"verifyEmail",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee(X.prototype,"setup",[T],Object.getOwnPropertyDescriptor(X.prototype,"setup"),X.prototype),Ee(X.prototype,"membersSubscriptionAccessChanged",[z],Object.getOwnPropertyDescriptor(X.prototype,"membersSubscriptionAccessChanged"),X.prototype),Ee(X.prototype,"setStripePlansCurrency",[x],Object.getOwnPropertyDescriptor(X.prototype,"setStripePlansCurrency"),X.prototype),Ee(X.prototype,"setPaidSignupRedirect",[S],Object.getOwnPropertyDescriptor(X.prototype,"setPaidSignupRedirect"),X.prototype),Ee(X.prototype,"setFreeSignupRedirect",[C],Object.getOwnPropertyDescriptor(X.prototype,"setFreeSignupRedirect"),X.prototype),Ee(X.prototype,"setWelcomePageURL",[M],Object.getOwnPropertyDescriptor(X.prototype,"setWelcomePageURL"),X.prototype),Ee(X.prototype,"validatePaidSignupRedirect",[D],Object.getOwnPropertyDescriptor(X.prototype,"validatePaidSignupRedirect"),X.prototype),Ee(X.prototype,"validateFreeSignupRedirect",[A],Object.getOwnPropertyDescriptor(X.prototype,"validateFreeSignupRedirect"),X.prototype),Ee(X.prototype,"validateWelcomePageURL",[I],Object.getOwnPropertyDescriptor(X.prototype,"validateWelcomePageURL"),X.prototype),Ee(X.prototype,"validateStripePlans",[N],Object.getOwnPropertyDescriptor(X.prototype,"validateStripePlans"),X.prototype),Ee(X.prototype,"openStripeConnect",[L],Object.getOwnPropertyDescriptor(X.prototype,"openStripeConnect"),X.prototype),Ee(X.prototype,"closeStripeConnect",[R],Object.getOwnPropertyDescriptor(X.prototype,"closeStripeConnect"),X.prototype),Ee(X.prototype,"openEditTier",[U],Object.getOwnPropertyDescriptor(X.prototype,"openEditTier"),X.prototype),Ee(X.prototype,"openNewTier",[F],Object.getOwnPropertyDescriptor(X.prototype,"openNewTier"),X.prototype),Ee(X.prototype,"closeTierModal",[B],Object.getOwnPropertyDescriptor(X.prototype,"closeTierModal"),X.prototype),Ee(X.prototype,"openPortalSettings",[V],Object.getOwnPropertyDescriptor(X.prototype,"openPortalSettings"),X.prototype),Ee(X.prototype,"closePortalSettings",[H],Object.getOwnPropertyDescriptor(X.prototype,"closePortalSettings"),X.prototype),Ee(X.prototype,"updatePortalPreview",[q],Object.getOwnPropertyDescriptor(X.prototype,"updatePortalPreview"),X.prototype),Ee(X.prototype,"portalPreviewInserted",[$],Object.getOwnPropertyDescriptor(X.prototype,"portalPreviewInserted"),X.prototype),Ee(X.prototype,"portalPreviewDestroyed",[Y],Object.getOwnPropertyDescriptor(X.prototype,"portalPreviewDestroyed"),X.prototype),Ee(X.prototype,"confirmTierSave",[W],Object.getOwnPropertyDescriptor(X.prototype,"confirmTierSave"),X.prototype),Ee(X.prototype,"switchFromNoneTask",[a.task],Object.getOwnPropertyDescriptor(X.prototype,"switchFromNoneTask"),X.prototype),Ee(X.prototype,"fetchTiers",[G],Object.getOwnPropertyDescriptor(X.prototype,"fetchTiers"),X.prototype),Ee(X.prototype,"saveSettingsTask",[K],Object.getOwnPropertyDescriptor(X.prototype,"saveSettingsTask"),X.prototype),Ee(X.prototype,"reset",[J],Object.getOwnPropertyDescriptor(X.prototype,"reset"),X.prototype),X)
e.default=Oe})),define("ghost-admin/controllers/settings/navigation",["exports","ghost-admin/models/navigation-item","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j
function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let z=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=class extends Ember.Controller{constructor(...e){super(...e),_(this,"ghostPaths",v,this),_(this,"notifications",y,this),_(this,"session",w,this),_(this,"settings",k,this),_(this,"config",E,this),_(this,"dirtyAttributes",P,this),_(this,"newNavItem",O,this),_(this,"newSecondaryNavItem",j,this)}get blogUrl(){let e=this.config.blogUrl
return"/"!==e.slice(-1)?`${e}/`:e}save(){this.saveTask.perform()}addNavItem(e){return""===e.get("url")&&e.set("url","/"),e.validate().then((()=>{this.addNewNavItem(e)}))}deleteNavItem(e){if(!e)return;(e.isSecondary?this.settings.secondaryNavigation:this.settings.navigation).removeObject(e),this.dirtyAttributes=!0}updateLabel(e,t){t&&t.get("label")!==e&&(t.set("label",e),this.dirtyAttributes=!0)}updateUrl(e,t){if(t)return t.get("url")!==e&&(t.set("url",e),this.dirtyAttributes=!0),e}reset(){this.newNavItem=t.default.create({isNew:!0}),this.newSecondaryNavItem=t.default.create({isNew:!0,isSecondary:!0})}addNewNavItem(e){let i=e.isSecondary?this.settings.secondaryNavigation:this.settings.navigation
e.set("isNew",!1),i.pushObject(e),this.dirtyAttributes=!0,e.isSecondary?this.newSecondaryNavItem=t.default.create({isNew:!0,isSecondary:!0}):this.newNavItem=t.default.create({isNew:!0})}*saveTask(){let e=this.settings.navigation,t=this.settings.secondaryNavigation,i=this.notifications,n=[]
this.newNavItem.get("isBlank")||n.pushObject(this.send("addNavItem",this.newNavItem)),this.newSecondaryNavItem.get("isBlank")||n.pushObject(this.send("addNavItem",this.newSecondaryNavItem)),e.forEach((e=>{n.pushObject(e.validate())})),t.forEach((e=>{n.pushObject(e.validate())}))
try{return yield Ember.RSVP.all(n),this.dirtyAttributes&&(this.settings.navigation=[...this.settings.navigation],this.settings.secondaryNavigation=[...this.settings.secondaryNavigation]),this.dirtyAttributes=!1,yield this.settings.save()}catch(r){if(r)throw i.showAPIError(r),r}}},v=T(f.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=T(f.prototype,"notifications",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=T(f.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=T(f.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=T(f.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=T(f.prototype,"dirtyAttributes",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=T(f.prototype,"newNavItem",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t.default.create({isNew:!0})}}),j=T(f.prototype,"newSecondaryNavItem",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return t.default.create({isNew:!0,isSecondary:!0})}}),T(f.prototype,"save",[d],Object.getOwnPropertyDescriptor(f.prototype,"save"),f.prototype),T(f.prototype,"addNavItem",[p],Object.getOwnPropertyDescriptor(f.prototype,"addNavItem"),f.prototype),T(f.prototype,"deleteNavItem",[m],Object.getOwnPropertyDescriptor(f.prototype,"deleteNavItem"),f.prototype),T(f.prototype,"updateLabel",[h],Object.getOwnPropertyDescriptor(f.prototype,"updateLabel"),f.prototype),T(f.prototype,"updateUrl",[b],Object.getOwnPropertyDescriptor(f.prototype,"updateUrl"),f.prototype),T(f.prototype,"reset",[g],Object.getOwnPropertyDescriptor(f.prototype,"reset"),f.prototype),T(f.prototype,"saveTask",[n.task],Object.getOwnPropertyDescriptor(f.prototype,"saveTask"),f.prototype),f)
e.default=z})),define("ghost-admin/controllers/settings/newsletters",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,n=Ember._tracked,r=(0,t.task)({drop:!0}),a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"settings",s,this),u(this,"queryParams",["verifyEmail"]),l(this,"verifyEmail",o,this)}*saveSettings(){return yield this.settings.save()}},s=c(a.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"verifyEmail",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c(a.prototype,"saveSettings",[r],Object.getOwnPropertyDescriptor(a.prototype,"saveSettings"),a.prototype),a)
e.default=d})),define("ghost-admin/controllers/settings/staff/index",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._action,o=Ember._action,l=class extends Ember.Controller{constructor(...e){super(...e),m(this,"session",u,this),m(this,"store",c,this),m(this,"showInviteUserModal",d,this),m(this,"showResetAllPasswordsModal",p,this),h(this,"inviteOrder",["email"]),h(this,"userOrder",["name","email"]),h(this,"allInvites",this.store.peekAll("invite")),h(this,"allUsers",this.store.peekAll("user"))}get currentUser(){return this.model}get invites(){return this.allInvites.filter((e=>!e.isNew)).sortBy(...this.inviteOrder)}get activeUsers(){return this.allUsers.filter((e=>"inactive"!==e.status)).sortBy(...this.userOrder)}get suspendedUsers(){return this.allUsers.filter((e=>"inactive"===e.status)).sortBy(...this.userOrder)}toggleInviteUserModal(){this.showInviteUserModal=!this.showInviteUserModal}toggleResetAllPasswordsModal(){this.showResetAllPasswordsModal=!this.showResetAllPasswordsModal}*backgroundUpdateTask(){let e=this.fetchUsersTask.perform(),t=this.fetchInvitesTask.perform()
try{yield Ember.RSVP.all([e,t])}catch(i){this.send("error",i)}}*fetchUsersTask(){yield this.store.query("user",{limit:"all"})}*fetchInvitesTask(){if(!this.currentUser.isAuthorOrContributor)return yield this.store.query("role",{limit:"all"}),yield this.store.query("invite",{limit:"all"})}},u=b(l.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(l.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(l.prototype,"showInviteUserModal",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=b(l.prototype,"showResetAllPasswordsModal",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b(l.prototype,"toggleInviteUserModal",[s],Object.getOwnPropertyDescriptor(l.prototype,"toggleInviteUserModal"),l.prototype),b(l.prototype,"toggleResetAllPasswordsModal",[o],Object.getOwnPropertyDescriptor(l.prototype,"toggleResetAllPasswordsModal"),l.prototype),b(l.prototype,"backgroundUpdateTask",[t.task],Object.getOwnPropertyDescriptor(l.prototype,"backgroundUpdateTask"),l.prototype),b(l.prototype,"fetchUsersTask",[t.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchUsersTask"),l.prototype),b(l.prototype,"fetchInvitesTask",[t.task],Object.getOwnPropertyDescriptor(l.prototype,"fetchInvitesTask"),l.prototype),l)
e.default=g})),define("ghost-admin/controllers/settings/staff/user-loading",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="session",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}},a=i.prototype,s="session",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/controllers/settings/staff/user",["exports","ghost-admin/components/settings/staff/modals/delete-user","ghost-admin/components/settings/staff/modals/regenerate-staff-token","ghost-admin/components/settings/staff/modals/select-role","ghost-admin/components/settings/staff/modals/suspend-user","ghost-admin/components/settings/staff/modals/transfer-ownership","ghost-admin/components/settings/staff/modals/unsuspend-user","ghost-admin/components/settings/staff/modals/upload-image","ghost-admin/utils/copy-text-to-clipboard","ghost-admin/utils/isNumber","ghost-admin/utils/window-proxy","tracked-built-ins","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l,u,c,d,p,m){var h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le,ue,ce,de,pe
function me(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function he(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let be=(h=Ember.inject.service,b=Ember.inject.service,g=Ember.inject.service,f=Ember.inject.service,v=Ember.inject.service,y=Ember.inject.service,w=Ember.inject.service,k=Ember.inject.service,E=Ember._tracked,P=Ember._tracked,O=Ember._tracked,j=Ember._tracked,_=Ember._tracked,T=Ember._action,z=Ember._action,x=Ember._action,S=Ember._action,C=Ember._action,M=Ember._action,D=Ember._action,A=Ember._action,I=Ember._action,N=Ember._action,L=Ember._action,R=Ember._action,U=Ember._action,F=Ember._action,B=Ember._action,V=Ember._action,H=Ember._action,q=Ember._action,$=Ember._action,Y=(0,m.taskGroup)({enqueue:!0}),W=(0,m.task)({group:"saveHandlers"}),G=(0,m.task)({group:"saveHandlers"}),K=Ember._action,J=Ember._action,X=class extends Ember.Controller{constructor(...e){super(...e),me(this,"ajax",Z,this),me(this,"ghostPaths",Q,this),me(this,"membersUtils",ee,this),me(this,"modals",te,this),me(this,"notifications",ie,this),me(this,"session",ne,this),me(this,"slugGenerator",re,this),me(this,"utils",ae,this),me(this,"config",se,this),me(this,"dirtyAttributes",oe,this),me(this,"personalToken",le,this),me(this,"personalTokenRegenerated",ue,this),me(this,"scratchValues",ce,this),me(this,"slugValue",de,this),me(this,"saveHandlers",pe,this)}get user(){return this.model}get currentUser(){return this.session.user}get isOwnProfile(){return this.currentUser.id===this.user.id}get isAdminUserOnOwnProfile(){return this.currentUser.isAdminOnly&&this.isOwnProfile}get isAdminUserOnOwnerProfile(){return this.currentUser.isAdminOnly&&this.user.isOwnerOnly}get canChangeEmail(){return!this.isAdminUserOnOwnerProfile}get canChangePassword(){return!this.isAdminUserOnOwnerProfile}get canMakeOwner(){return this.currentUser.isOwnerOnly&&!this.isOwnProfile&&this.user.isAdminOnly&&!this.user.isSuspended}get canToggleMemberAlerts(){return this.currentUser.isOwnerOnly||this.isAdminUserOnOwnProfile}get rolesDropdownIsVisible(){return this.currentUser.isAdmin&&!this.isOwnProfile&&!this.user.isOwnerOnly}get userActionsAreVisible(){return this.deleteUserActionIsVisible||this.canMakeOwner}get deleteUserActionIsVisible(){return!this.isOwnProfile&&!!(this.currentUser.isAdmin&&!this.user.isOwnerOnly||this.currentUser.isEditor&&this.user.isAuthorOrContributor)}setModelProperty(e,t){const i=t.target.value
this.user[e]=i}validateModelProperty(e){this.user.validate({property:e})}clearModelErrors(e){this.user.hasValidated.removeObject(e),this.user.errors.remove(e)}setSlugValue(e){this.slugValue=e.target.value}async deleteUser(){await this.modals.open(t.default,{user:this.model})}async suspendUser(){await this.modals.open(r.default,{user:this.model,saveTask:this.saveTask})}async unsuspendUser(){await this.modals.open(s.default,{user:this.model,saveTask:this.saveTask})}async transferOwnership(){await this.modals.open(a.default,{user:this.model})}async regenerateStaffToken(){const e=await this.modals.open(i.default)
e&&(this.personalToken=e,this.personalTokenRegenerated=!0)}async selectRole(){const e=await this.modals.open(n.default,{currentRole:this.model.role})
e&&(this.user.role=e,this.dirtyAttributes=!0)}async changeCoverImage(){await this.modals.open(o.default,{model:this.model,modelProperty:"coverImage"})}async changeProfileImage(){await this.modals.open(o.default,{model:this.model,modelProperty:"profileImage"})}setScratchValue(e,t){this.scratchValues[e]=t}reset(){this.user.rollbackAttributes(),this.user.password="",this.user.newPassword="",this.user.ne2Password="",this.slugValue=this.user.slug,this.dirtyAttributes=!1,this.clearScratchValues()}toggleCommentNotifications(e){this.user.commentNotifications=e.target.checked}toggleMentionNotifications(e){this.user.mentionNotifications=e.target.checked}toggleMilestoneNotifications(e){this.user.milestoneNotifications=e.target.checked}toggleDonationNotifications(e){this.user.donationNotifications=e.target.checked}toggleMemberEmailAlerts(e,t){"free-signup"===e?this.user.freeMemberSignupNotification=t.target.checked:"paid-started"===e?this.user.paidSubscriptionStartedNotification=t.target.checked:"paid-canceled"===e&&(this.user.paidSubscriptionCanceledNotification=t.target.checked)}*updateSlugTask(e){let t=e.target.value,i=this.user.slug
if(t=t||i,t=t.trim(),!t||i===t)return this.slugValue=i,!0
let n=yield this.slugGenerator.generateSlug("user",t)
if(n===i)return!0
let r=n.split("-"),a=Number(r.pop())
return(0,u.default)(a)&&a>0&&i===r.join("-")&&n!==t?(this.slugValue=i,!0):(this.slugValue=n,this.dirtyAttributes=!0,!0)}*saveTask(){let e,t=this.user,i=this.slugValue
t.slug!==i&&(e=!0,t.slug=i)
try{if(t=yield t.save(),this.clearScratchValues(),e){let e=window.location.hash.split("/")
e[e.length-1]=t.get("slug"),e=e.join("/"),c.default.replaceState({path:e},"",e)}return this.dirtyAttributes=!1,this.notifications.closeAlerts("user.update"),t}catch(n){n&&this.notifications.showAPIError(n,{key:"user.update"})}}*saveNewPasswordTask(){try{const e=yield this.user.saveNewPasswordTask.perform()
return document.querySelector("#password-reset")?.reset(),e}catch(e){e&&this.notifications.showAPIError(e,{key:"user.update"})}}submitPasswordForm(e){e.preventDefault(),this._blurAndTrigger((()=>this.saveNewPasswordTask.perform()))}saveViaKeyboard(e){e.preventDefault(),this._blurAndTrigger((()=>this.saveTask.perform()))}*copyContentKeyTask(){(0,l.default)(this.personalToken),yield(0,m.timeout)(this.isTesting?50:3e3)}clearScratchValues(){this.scratchValues=new d.TrackedObject}_blurAndTrigger(e){const t=document.activeElement
t?.blur(),Ember.run.schedule("actions",this,(function(){t?.focus(),e()}))}},Z=he(X.prototype,"ajax",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=he(X.prototype,"ghostPaths",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=he(X.prototype,"membersUtils",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=he(X.prototype,"modals",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=he(X.prototype,"notifications",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=he(X.prototype,"session",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=he(X.prototype,"slugGenerator",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=he(X.prototype,"utils",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=he(X.prototype,"config",[p.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=he(X.prototype,"dirtyAttributes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),le=he(X.prototype,"personalToken",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=he(X.prototype,"personalTokenRegenerated",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ce=he(X.prototype,"scratchValues",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new d.TrackedObject}}),de=he(X.prototype,"slugValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he(X.prototype,"setModelProperty",[T],Object.getOwnPropertyDescriptor(X.prototype,"setModelProperty"),X.prototype),he(X.prototype,"validateModelProperty",[z],Object.getOwnPropertyDescriptor(X.prototype,"validateModelProperty"),X.prototype),he(X.prototype,"clearModelErrors",[x],Object.getOwnPropertyDescriptor(X.prototype,"clearModelErrors"),X.prototype),he(X.prototype,"setSlugValue",[S],Object.getOwnPropertyDescriptor(X.prototype,"setSlugValue"),X.prototype),he(X.prototype,"deleteUser",[C],Object.getOwnPropertyDescriptor(X.prototype,"deleteUser"),X.prototype),he(X.prototype,"suspendUser",[M],Object.getOwnPropertyDescriptor(X.prototype,"suspendUser"),X.prototype),he(X.prototype,"unsuspendUser",[D],Object.getOwnPropertyDescriptor(X.prototype,"unsuspendUser"),X.prototype),he(X.prototype,"transferOwnership",[A],Object.getOwnPropertyDescriptor(X.prototype,"transferOwnership"),X.prototype),he(X.prototype,"regenerateStaffToken",[I],Object.getOwnPropertyDescriptor(X.prototype,"regenerateStaffToken"),X.prototype),he(X.prototype,"selectRole",[N],Object.getOwnPropertyDescriptor(X.prototype,"selectRole"),X.prototype),he(X.prototype,"changeCoverImage",[L],Object.getOwnPropertyDescriptor(X.prototype,"changeCoverImage"),X.prototype),he(X.prototype,"changeProfileImage",[R],Object.getOwnPropertyDescriptor(X.prototype,"changeProfileImage"),X.prototype),he(X.prototype,"setScratchValue",[U],Object.getOwnPropertyDescriptor(X.prototype,"setScratchValue"),X.prototype),he(X.prototype,"reset",[F],Object.getOwnPropertyDescriptor(X.prototype,"reset"),X.prototype),he(X.prototype,"toggleCommentNotifications",[B],Object.getOwnPropertyDescriptor(X.prototype,"toggleCommentNotifications"),X.prototype),he(X.prototype,"toggleMentionNotifications",[V],Object.getOwnPropertyDescriptor(X.prototype,"toggleMentionNotifications"),X.prototype),he(X.prototype,"toggleMilestoneNotifications",[H],Object.getOwnPropertyDescriptor(X.prototype,"toggleMilestoneNotifications"),X.prototype),he(X.prototype,"toggleDonationNotifications",[q],Object.getOwnPropertyDescriptor(X.prototype,"toggleDonationNotifications"),X.prototype),he(X.prototype,"toggleMemberEmailAlerts",[$],Object.getOwnPropertyDescriptor(X.prototype,"toggleMemberEmailAlerts"),X.prototype),pe=he(X.prototype,"saveHandlers",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he(X.prototype,"updateSlugTask",[W],Object.getOwnPropertyDescriptor(X.prototype,"updateSlugTask"),X.prototype),he(X.prototype,"saveTask",[G],Object.getOwnPropertyDescriptor(X.prototype,"saveTask"),X.prototype),he(X.prototype,"saveNewPasswordTask",[m.task],Object.getOwnPropertyDescriptor(X.prototype,"saveNewPasswordTask"),X.prototype),he(X.prototype,"submitPasswordForm",[K],Object.getOwnPropertyDescriptor(X.prototype,"submitPasswordForm"),X.prototype),he(X.prototype,"saveViaKeyboard",[J],Object.getOwnPropertyDescriptor(X.prototype,"saveViaKeyboard"),X.prototype),he(X.prototype,"copyContentKeyTask",[m.task],Object.getOwnPropertyDescriptor(X.prototype,"copyContentKeyTask"),X.prototype),X)
e.default=be})),define("ghost-admin/controllers/settings/tier",["exports","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D
function A(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let N=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=Ember._action,w=Ember._action,k=Ember._action,E=Ember._action,P=Ember._action,O=(0,i.task)({restartable:!0}),j=class extends Ember.Controller{constructor(...e){super(...e),A(this,"membersUtils",_,this),A(this,"settings",T,this),A(this,"config",z,this),A(this,"showLeaveSettingsModal",x,this),A(this,"showPriceModal",S,this),A(this,"priceModel",C,this),A(this,"showUnsavedChangesModal",M,this),A(this,"paidSignupRedirect",D,this)}get siteUrl(){return this.config.blogUrl}get tier(){return this.model}get stripePrices(){return(this.model.stripePrices||[]).map((e=>({...e,amount:e.amount/100}))).sort(((e,t)=>e.amount-t.amount)).sort(((e,t)=>e.currency.localeCompare(t.currency,void 0,{ignorePunctuation:!0}))).sort(((e,t)=>e.active===t.active?0:e.active?-1:1))}get noOfPrices(){return(this.tier.stripePrices||[]).length}toggleUnsavedChangesModal(e){let t=this.leaveScreenTransition
if(!e&&this.showUnsavedChangesModal)return this.leaveScreenTransition=null,void(this.showUnsavedChangesModal=!1)
if(!t||e.targetName===t.targetName){if(this.leaveScreenTransition=e,this.saveTask.isRunning)return this.saveTask.last.then((()=>{e.retry()}))
this.showUnsavedChangesModal=!0}}leaveScreen(){return this.tier.rollbackAttributes(),this.leaveScreenTransition.retry()}async openEditPrice(e){this.priceModel=e,this.showPriceModal=!0}async openNewPrice(){this.priceModel=null,this.showPriceModal=!0}async archivePrice(e){e.active=!1,e.amount=100*e.amount,this.send("savePrice",e)}async activatePrice(e){e.active=!0,e.amount=100*e.amount,this.send("savePrice",e)}openStripeConnect(){alert("Update to use stripe-connect modal (see memberships screen)")}async confirmLeave(){this.settings.rollbackAttributes(),this.showLeaveSettingsModal=!1,this.leaveSettingsTransition.retry()}cancelLeave(){this.showLeaveSettingsModal=!1,this.leaveSettingsTransition=null}save(){return this.saveTask.perform()}savePrice(e){const t=this.tier.stripePrices.map((t=>t.id===e.id?Ember.Object.create({...e,active:!!e.active}):{...t,active:!!t.active}))
e.id||t.push(Ember.Object.create({...e,active:!!e.active})),this.tier.set("stripePrices",t),this.saveTask.perform()}closePriceModal(){this.showPriceModal=!1}setPaidSignupRedirect(e){this.paidSignupRedirect=e}validatePaidSignupRedirect(){return this._validateSignupRedirect(this.paidSignupRedirect,"membersPaidSignupRedirect")}*saveTask(){if(this.send("validatePaidSignupRedirect"),this.tier.validate(),0!==this.tier.get("errors").length)return
if(0!==this.settings.errors.length)return
yield this.settings.save()
const e=yield this.tier.save()
return this.showPriceModal&&this.closePriceModal(),e}_validateSignupRedirect(e,t){if(this.settings.errors.remove(t),this.settings.hasValidated.removeObject(t),null===e)return this.settings.errors.add(t,"Please enter a valid URL"),this.settings.hasValidated.pushObject(t),!1
if(void 0!==e)if(e.href.startsWith(this.siteUrl)){const i=e.href.replace(this.siteUrl,"")
this.settings[t]=i}else this.settings[t]=e.href}},_=I(j.prototype,"membersUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(j.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(j.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(j.prototype,"showLeaveSettingsModal",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),S=I(j.prototype,"showPriceModal",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C=I(j.prototype,"priceModel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=I(j.prototype,"showUnsavedChangesModal",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D=I(j.prototype,"paidSignupRedirect",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(j.prototype,"toggleUnsavedChangesModal",[c],Object.getOwnPropertyDescriptor(j.prototype,"toggleUnsavedChangesModal"),j.prototype),I(j.prototype,"leaveScreen",[d],Object.getOwnPropertyDescriptor(j.prototype,"leaveScreen"),j.prototype),I(j.prototype,"openEditPrice",[p],Object.getOwnPropertyDescriptor(j.prototype,"openEditPrice"),j.prototype),I(j.prototype,"openNewPrice",[m],Object.getOwnPropertyDescriptor(j.prototype,"openNewPrice"),j.prototype),I(j.prototype,"archivePrice",[h],Object.getOwnPropertyDescriptor(j.prototype,"archivePrice"),j.prototype),I(j.prototype,"activatePrice",[b],Object.getOwnPropertyDescriptor(j.prototype,"activatePrice"),j.prototype),I(j.prototype,"openStripeConnect",[g],Object.getOwnPropertyDescriptor(j.prototype,"openStripeConnect"),j.prototype),I(j.prototype,"confirmLeave",[f],Object.getOwnPropertyDescriptor(j.prototype,"confirmLeave"),j.prototype),I(j.prototype,"cancelLeave",[v],Object.getOwnPropertyDescriptor(j.prototype,"cancelLeave"),j.prototype),I(j.prototype,"save",[y],Object.getOwnPropertyDescriptor(j.prototype,"save"),j.prototype),I(j.prototype,"savePrice",[w],Object.getOwnPropertyDescriptor(j.prototype,"savePrice"),j.prototype),I(j.prototype,"closePriceModal",[k],Object.getOwnPropertyDescriptor(j.prototype,"closePriceModal"),j.prototype),I(j.prototype,"setPaidSignupRedirect",[E],Object.getOwnPropertyDescriptor(j.prototype,"setPaidSignupRedirect"),j.prototype),I(j.prototype,"validatePaidSignupRedirect",[P],Object.getOwnPropertyDescriptor(j.prototype,"validatePaidSignupRedirect"),j.prototype),I(j.prototype,"saveTask",[O],Object.getOwnPropertyDescriptor(j.prototype,"saveTask"),j.prototype),j)
e.default=N})),define("ghost-admin/controllers/settings/tiers",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,n=Ember._tracked,r=Ember._tracked,a=Ember._action,s=class extends Ember.Controller{constructor(){super(...arguments),d(this,"settings",o,this),d(this,"config",l,this),d(this,"iconStyle",u,this),d(this,"showFreeMembershipModal",c,this),this.iconStyle=this.setIconStyle()}get tiers(){return this.model.sortBy("name")}setIconStyle(){let e=this.config.icon
return e||(e="https://static.ghost.org/v4.0.0/images/ghost-orb-2.png"),Ember.String.htmlSafe(`background-image: url(${e})`)}closeFreeMembershipModal(){this.showFreeMembershipModal=!1}},o=p(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"iconStyle",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=p(s.prototype,"showFreeMembershipModal",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p(s.prototype,"closeFreeMembershipModal",[a],Object.getOwnPropertyDescriptor(s.prototype,"closeFreeMembershipModal"),s.prototype),s)
e.default=m})),define("ghost-admin/controllers/setup",["exports","ghost-admin/mixins/validation-engine","ghost-admin/decorators/inject","ember-ajax/errors","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r,a){var s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j
function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function z(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let x=(s=Ember.inject.controller,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember._action,m=Ember._action,h=(0,a.task)((function*(){return yield this._passwordSetup()})),b=(0,a.task)((function*(e,t){this.session.skipAuthSuccessHandler=!0
try{return yield this.session.authenticate(e,...t),this.errors.remove("session"),!0}catch(i){if(i&&i.payload&&i.payload.errors){if((0,r.isVersionMismatchError)(i))return this.notifications.showAPIError(i)
i.payload.errors.forEach((e=>{e.message=Ember.String.htmlSafe(e.message)})),this.set("flowErrors",i.payload.errors[0].message.string)}else this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"session.authenticate.failed"})
return!1}})),g=class extends(Ember.Controller.extend(t.default)){constructor(...e){super(...e),_(this,"application",f,this),_(this,"ajax",v,this),_(this,"ghostPaths",y,this),_(this,"notifications",w,this),_(this,"router",k,this),_(this,"session",E,this),_(this,"config",P,this),T(this,"validationType","setup"),T(this,"blogCreated",!1),T(this,"blogTitle",null),T(this,"email",""),T(this,"flowErrors",""),T(this,"name",null),T(this,"password",null),_(this,"setupTask",O,this),_(this,"authenticate",j,this)}setup(){this.setupTask.perform()}preValidate(e){if(this.get(e))return this.validate({property:e})}_passwordSetup(){let e=["blogTitle","name","email","password"],t=this.getProperties(e),i=this.blogCreated?"put":"post"
return this.set("flowErrors",""),this.hasValidated.addObjects(e),this.validate().then((()=>{let e=this.get("ghostPaths.url").api("authentication","setup")
return this.ajax[i](e,{data:{setup:[{name:t.name,email:t.email,password:t.password,blogTitle:t.blogTitle}]}}).then((e=>(this.config.blogTitle=t.blogTitle,this.get("session.isAuthenticated")?this._afterAuthentication(e):(this.session.skipAuthSuccessHandler=!0,this.session.authenticate("authenticator:cookie",t.email,t.password).then((()=>(this.set("blogCreated",!0),this._afterAuthentication(e)))).catch((e=>{this._handleAuthenticationError(e)})))))).catch((e=>{this._handleSaveError(e)}))})).catch((()=>{this.set("flowErrors","Please fill out every field correctly to set up your site.")}))}_handleSaveError(e){if((0,n.isInvalidError)(e)){let[t]=e.payload.errors
this.set("flowErrors",[t.message,t.context].join(" "))}else this.notifications.showAPIError(e,{key:"setup.blog-details"})}_handleAuthenticationError(e){if(e&&e.payload&&e.payload.errors){let[t]=e.payload.errors
this.set("flowErrors",[t.message,t.context].join(" "))}else this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"setup.authenticate.failed"})}async _afterAuthentication(){return await this.session.handleAuthentication(),this.router.transitionTo("setup.done")}},f=z(g.prototype,"application",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=z(g.prototype,"ajax",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=z(g.prototype,"ghostPaths",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=z(g.prototype,"notifications",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=z(g.prototype,"router",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=z(g.prototype,"session",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=z(g.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z(g.prototype,"setup",[p],Object.getOwnPropertyDescriptor(g.prototype,"setup"),g.prototype),z(g.prototype,"preValidate",[m],Object.getOwnPropertyDescriptor(g.prototype,"preValidate"),g.prototype),O=z(g.prototype,"setupTask",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=z(g.prototype,"authenticate",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g)
e.default=x})),define("ghost-admin/controllers/setup/done",["exports","ember-concurrency"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P
function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function _(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const T={casper:["description","color","coverImage"],edition:["description","color","coverImage"],dawn:["description","color","icon"],dope:["description","color","logo"],bulletin:["description","color","logo"],alto:["description","color","logo"],journal:["description","color","logo"],wave:["description","color","logo","coverImage"],edge:["description","color","logo"],ease:["description","color","logo","coverImage"],ruby:["description","color","logo","coverImage"],london:["description","color","logo"],digest:["description","color","logo"]}
let z=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=(0,t.task)({drop:!0}),m=class extends Ember.Controller{constructor(){super(...arguments),O(this,"modals",h,this),O(this,"router",b,this),O(this,"settings",g,this),O(this,"store",f,this),O(this,"themeManagement",v,this),O(this,"descriptionVisible",y,this),O(this,"colorVisible",w,this),O(this,"logoVisible",k,this),O(this,"iconVisible",E,this),O(this,"coverImageVisible",P,this),j(this,"themes",null),j(this,"themeProperties",["description","color","coverImage"]),this.initThemeProperties.perform()}*initThemeProperties(){this.themes=yield this.store.peekAll("theme"),Ember.isEmpty(this.themes)&&(this.themes=yield this.store.findAll("theme"))
const e=this.themes.findBy("active",!0)
e&&T[e.name]&&(this.themeProperties=T[e.name]),this.descriptionVisible=this.themeProperties.includes("description"),this.logoVisible=this.themeProperties.includes("logo"),this.iconVisible=this.themeProperties.includes("icon"),this.colorVisible=this.themeProperties.includes("color"),this.coverImageVisible=this.themeProperties.includes("coverImage")}*saveAndContinueTask(){yield this.settings.save(),this.router.transitionTo("home")}},h=_(m.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=_(m.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=_(m.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=_(m.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=_(m.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=_(m.prototype,"descriptionVisible",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=_(m.prototype,"colorVisible",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=_(m.prototype,"logoVisible",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=_(m.prototype,"iconVisible",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_(m.prototype,"coverImageVisible",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_(m.prototype,"initThemeProperties",[p],Object.getOwnPropertyDescriptor(m.prototype,"initThemeProperties"),m.prototype),_(m.prototype,"saveAndContinueTask",[t.task],Object.getOwnPropertyDescriptor(m.prototype,"saveAndContinueTask"),m.prototype),m)
e.default=z})),define("ghost-admin/controllers/signin",["exports","ghost-admin/mixins/validation-engine","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S
function C(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function M(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function D(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let A=(a=Ember.inject.controller,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._action,g=Ember._action,f=(0,r.task)({drop:!0}),v=(0,r.task)({drop:!0}),y=class extends(Ember.Controller.extend(t.default)){constructor(...e){super(...e),C(this,"application",w,this),C(this,"ajax",k,this),C(this,"ghostPaths",E,this),C(this,"notifications",P,this),C(this,"session",O,this),C(this,"settings",j,this),C(this,"config",_,this),C(this,"submitting",T,this),C(this,"loggingIn",z,this),C(this,"flowErrors",x,this),C(this,"passwordResetEmailSent",S,this),M(this,"validationType","signin"),M(this,"authProperties",["identification","password"])}get signin(){return this.model}handleInput(e){this.signin[e.target.name]=e.target.value}validateProperty(e){return this.validate({property:e})}*authenticateTask(e,t){try{return yield this.session.authenticate(e,...t).then((()=>!0))}catch(i){if((0,n.isVersionMismatchError)(i))return this.notifications.showAPIError(i)
if(this.signin.errors.clear(),i&&i.payload&&i.payload.errors){let[e]=i.payload.errors
e.message=Ember.String.htmlSafe(e.message||""),e.context=Ember.String.htmlSafe(e.context||""),this.flowErrors=e.context.string||e.message.string,"TooManyRequestsError"===e.type&&(this.flowErrors=e.message.string),"PasswordResetRequiredError"===e.type&&(this.passwordResetEmailSent=!0),e.context.string.match(/user with that email/i)&&this.signin.errors.add("identification",""),e.context.string.match(/password is incorrect/i)&&this.signin.errors.add("password","")}else console.error(i),this.notifications.showAlert("There was a problem on the server.",{type:"error",key:"session.authenticate.failed"})
return!1}}*validateAndAuthenticateTask(){let e=this.signin
this.flowErrors="",this.hasValidated.addObjects(this.authProperties)
try{return yield this.validate({property:"signin"}),yield this.authenticateTask.perform("authenticator:cookie",[e.identification,e.password])}catch(t){this.flowErrors="Please fill out the form to sign in."}}*forgotPasswordTask(){let e=this.signin.identification,t=this.ghostPaths.url.api("authentication","password_reset"),i=this.notifications
this.flowErrors="",this.hasValidated.addObject("identification")
try{return yield this.validate({property:"forgotPassword"}),yield this.ajax.post(t,{data:{password_reset:[{email:e}]}}),i.showAlert("Please check your email for instructions.",{type:"info",key:"forgot-password.send.success"}),!0}catch(r){if(!r)return this.flowErrors="We need your email address to reset your password!"
if((0,n.isVersionMismatchError)(r))return i.showAPIError(r)
if(r&&r.payload&&r.payload.errors&&Ember.isArray(r.payload.errors)){let[{message:e}]=r.payload.errors
this.flowErrors=e,e.match(/no user|not found/)&&this.signin.errors.add("identification","")}else i.showAPIError(r,{defaultErrorText:"There was a problem with the reset, please try again.",key:"forgot-password.send"})}}},w=D(y.prototype,"application",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D(y.prototype,"ajax",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=D(y.prototype,"ghostPaths",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D(y.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=D(y.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=D(y.prototype,"settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=D(y.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=D(y.prototype,"submitting",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=D(y.prototype,"loggingIn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=D(y.prototype,"flowErrors",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=D(y.prototype,"passwordResetEmailSent",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),D(y.prototype,"handleInput",[b],Object.getOwnPropertyDescriptor(y.prototype,"handleInput"),y.prototype),D(y.prototype,"validateProperty",[g],Object.getOwnPropertyDescriptor(y.prototype,"validateProperty"),y.prototype),D(y.prototype,"authenticateTask",[f],Object.getOwnPropertyDescriptor(y.prototype,"authenticateTask"),y.prototype),D(y.prototype,"validateAndAuthenticateTask",[v],Object.getOwnPropertyDescriptor(y.prototype,"validateAndAuthenticateTask"),y.prototype),D(y.prototype,"forgotPasswordTask",[r.task],Object.getOwnPropertyDescriptor(y.prototype,"forgotPasswordTask"),y.prototype),y)
e.default=A})),define("ghost-admin/controllers/signup",["exports","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let j=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,c=Ember._action,d=Ember._action,p=Ember._action,m=Ember._action,h=(0,n.task)({drop:!0}),b=class extends Ember.Controller{constructor(...e){super(...e),P(this,"ajax",g,this),P(this,"ghostPaths",f,this),P(this,"notifications",v,this),P(this,"session",y,this),P(this,"settings",w,this),P(this,"config",k,this),P(this,"flowErrors",E,this)}get signupDetails(){return this.model}validate(e){return this.signupDetails.validate({property:e})}setSignupProperty(e,t){const i=t.target.value
this.signupDetails[e]=i}trimSignupProperty(e,t){const i=t.target.value.trim()
this.signupDetails[e]=i}submit(e){e.preventDefault(),this.signupTask.perform()}*signupTask(){this.flowErrors="",this.signupDetails.hasValidated.addObjects(["name","email","password","token"])
try{yield this.signupDetails.validate(),yield this._completeInvitation()
try{yield this._authenticateWithPassword()}catch(e){this.notifications.showAPIError(e,{key:"signup.complete"})}return!0}catch(e){return e?(Ember.isArray(e?.payload?.errors)?((0,i.isVersionMismatchError)(e)&&this.notifications.showAPIError(e),this.flowErrors=e.payload.errors[0].message):this.notifications.showAPIError(e,{key:"signup.complete"}),!1):(this.flowErrors="Please fill out the form to complete your signup",!1)}}_completeInvitation(){const e=this.ghostPaths.url.api("authentication","invitation"),t=this.signupDetails
return this.ajax.post(e,{dataType:"json",data:{invitation:[{name:t.name,email:t.email,password:t.password,token:t.token}]}})}_authenticateWithPassword(){const{email:e,password:t}=this.signupDetails
return this.session.authenticate("authenticator:cookie",e,t)}},g=O(b.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=O(b.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=O(b.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=O(b.prototype,"session",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=O(b.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=O(b.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=O(b.prototype,"flowErrors",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O(b.prototype,"validate",[c],Object.getOwnPropertyDescriptor(b.prototype,"validate"),b.prototype),O(b.prototype,"setSignupProperty",[d],Object.getOwnPropertyDescriptor(b.prototype,"setSignupProperty"),b.prototype),O(b.prototype,"trimSignupProperty",[p],Object.getOwnPropertyDescriptor(b.prototype,"trimSignupProperty"),b.prototype),O(b.prototype,"submit",[m],Object.getOwnPropertyDescriptor(b.prototype,"submit"),b.prototype),O(b.prototype,"signupTask",[h],Object.getOwnPropertyDescriptor(b.prototype,"signupTask"),b.prototype),b)
e.default=j})),define("ghost-admin/controllers/site",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.computed.alias("model"),i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="guid",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}},a=i.prototype,s="guid",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r}))
define("ghost-admin/controllers/tag",["exports","ghost-admin/components/tags/delete-tag-modal","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=(0,i.task)({drop:!0}),l=class extends Ember.Controller{constructor(...e){super(...e),p(this,"modals",u,this),p(this,"notifications",c,this),p(this,"router",d,this)}get tag(){return this.model}confirmDeleteTag(){return this.modals.open(t.default,{tag:this.model})}*saveTask(){let{tag:e}=this
try{if(0!==e.get("errors").length)return
return yield e.save(),this.replaceRoute("tag",e),e}catch(t){t&&this.notifications.showAPIError(t,{key:"tag.save"})}}},u=m(l.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"confirmDeleteTag",[s],Object.getOwnPropertyDescriptor(l.prototype,"confirmDeleteTag"),l.prototype),m(l.prototype,"saveTask",[o],Object.getOwnPropertyDescriptor(l.prototype,"saveTask"),l.prototype),l)
e.default=h})),define("ghost-admin/controllers/tags",["exports"],(function(e){var t,i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(t=Ember.inject.service,i=Ember._tracked,n=Ember._action,r=Ember._action,a=class extends Ember.Controller{constructor(...e){super(...e),l(this,"router",s,this),u(this,"queryParams",["type"]),l(this,"type",o,this)}get tags(){return this.model}get filteredTags(){return this.tags.filter((e=>!(e.isNew||this.type&&e.visibility!==this.type)))}get sortedTags(){return this.filteredTags.sort(((e,t)=>e.name.localeCompare(t.name,void 0,{ignorePunctuation:!0})))}changeType(e){this.type=e}newTag(){this.router.transitionTo("tag.new")}},s=c(a.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"type",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"public"}}),c(a.prototype,"changeType",[n],Object.getOwnPropertyDescriptor(a.prototype,"changeType"),a.prototype),c(a.prototype,"newTag",[r],Object.getOwnPropertyDescriptor(a.prototype,"newTag"),a.prototype),a)
e.default=d})),define("ghost-admin/controllers/websockets",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="feature",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}init(){super.init(...arguments)}},a=i.prototype,s="feature",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/controllers/whatsnew",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Controller{constructor(...e){var t,i,r,a
super(...e),t=this,i="whatsNew",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}},a=i.prototype,s="whatsNew",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/data-adapter",["exports","@ember-data/debug"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/decorators/inject",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.inject=function(...e){let t,i
!function(e){let[t,i,n]=e
return 3===e.length&&("function"==typeof t||"object"==typeof t&&null!==t)&&"string"==typeof i&&("object"==typeof n&&null!==n||void 0===n)}(e)?"string"==typeof e[0]&&(i=e[0]):t=e
const n=Ember.computed({get:function(e){return(Ember.getOwner(this)||this.container).lookup(`${i||e}:main`)},set(e,t){Ember.defineProperty(this,e,null,t)}})
return t?n(t[0],t[1],t[2]):n}})),define("ghost-admin/errors/email-failed-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Error{constructor(e){super(e),this.name="EmailFailedError"}}e.default=t})),define("ghost-admin/errors/member-import-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Error{constructor({message:e,context:t,type:i="error"}){super(e),this.name="MemberImportError",this.context=t,this.type=i}}e.default=t})),define("ghost-admin/helpers/-base",["exports","ember-moment/helpers/-base.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/-element",["exports","ember-element-helper/helpers/-element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/accent-color-background",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="config",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute(){const e=this.config.accent_color
return Ember.String.htmlSafe(`background: ${e};`)}},a=i.prototype,s="config",o=[t.inject],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/activity-feed-fetcher",["exports","moment-timezone","ember-could-get-used-to-this","tracked-built-ins","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C
function M(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function D(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const A="showPrevious",I="showNext"
let N=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._action,v=Ember._action,y=class extends i.Resource{constructor(...e){super(...e),M(this,"ajax",w,this),M(this,"ghostPaths",k,this),M(this,"store",E,this),M(this,"data",P,this),M(this,"isLoading",O,this),M(this,"isError",j,this),M(this,"errorMessage",_,this),M(this,"hasReachedStart",T,this),M(this,"hasReachedEnd",z,this),M(this,"shownEvents",x,this),M(this,"totalEvents",S,this),M(this,"eventsBookmarks",C,this)}get value(){return{isLoading:this.isLoading,isError:this.isError,errorMessage:this.errorMessage,data:this.data,loadNextPage:this.loadNextPage,loadPreviousPage:this.loadPreviousPage,hasReachedStart:this.hasReachedStart,hasReachedEnd:this.hasReachedEnd,totalEvents:this.totalEvents,shownEvents:this.shownEvents,previousEvents:this.getAmountOfPreviousEvents()}}getAmountOfPreviousEvents(){return this.shownEvents-this.data.length+1}async setup(){let e=`data.created_at:<'${t.default.utc().format("YYYY-MM-DD HH:mm:ss")}'`
this.eventsBookmarks.push(e),this.args.named.filter&&(e+=`+${this.args.named.filter}`)
try{await this.loadEventsTask.perform({filter:e},I)}catch(i){if(!(0,r.didCancel)(i))throw i}}loadNextPage(){if(this.hasReachedEnd)return
const e=this.data[this.data.length-1],i=t.default.utc(e.data.created_at).format("YYYY-MM-DD HH:mm:ss")
let n=`(data.created_at:<'${i}',(data.created_at:'${i}'+id:<'${e.data.id}'))`
this.eventsBookmarks.push(n),this.args.named.filter&&(n+=`+${this.args.named.filter}`),this.loadEventsTask.perform({filter:n},I)}loadPreviousPage(){if(this.hasReachedStart)return
this.eventsBookmarks.pop()
let e=this.eventsBookmarks[this.eventsBookmarks.length-1]
this.args.named.filter&&(e+=`+${this.args.named.filter}`),this.shownEvents=this.shownEvents-this.data.length,this.loadEventsTask.perform({filter:e},A)}updateState(e,t){this.data.length&&(this.totalEvents||(this.totalEvents=e.pagination.total),t===I&&(this.shownEvents=this.shownEvents+this.data.length),this.hasReachedStart=this.totalEvents===e.pagination.total,this.hasReachedEnd=this.shownEvents===this.totalEvents,this.shownEvents<this.totalEvents&&this.data.length<this.args.named.pageSize&&(this.hasReachedEnd=!0))}*loadEventsTask(e,t){try{this.isLoading=!0
const i=this.ghostPaths.url.api("members/events"),n=Object.assign({},e,{limit:this.args.named.pageSize}),{events:r,meta:a}=yield this.ajax.request(i,{data:n})
this.data=r,this.updateState(a,t)}catch(i){this.isError=!0
const e=i.payload?.errors?.[0]?.message
e&&(this.errorMessage=e),console.error(i)}finally{this.isLoading=!1}}},w=D(y.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=D(y.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=D(y.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=D(y.prototype,"data",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n.TrackedArray([])}}),O=D(y.prototype,"isLoading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=D(y.prototype,"isError",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=D(y.prototype,"errorMessage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=D(y.prototype,"hasReachedStart",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),z=D(y.prototype,"hasReachedEnd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),x=D(y.prototype,"shownEvents",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=D(y.prototype,"totalEvents",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=D(y.prototype,"eventsBookmarks",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),D(y.prototype,"loadNextPage",[f],Object.getOwnPropertyDescriptor(y.prototype,"loadNextPage"),y.prototype),D(y.prototype,"loadPreviousPage",[v],Object.getOwnPropertyDescriptor(y.prototype,"loadPreviousPage"),y.prototype),D(y.prototype,"loadEventsTask",[r.task],Object.getOwnPropertyDescriptor(y.prototype,"loadEventsTask"),y.prototype),y)
e.default=N})),define("ghost-admin/helpers/and",["exports","ember-truth-helpers/helpers/and"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"and",{enumerable:!0,get:function(){return t.and}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/app-version",["exports","ghost-admin/config/environment","ember-cli-app-version/utils/regexp"],(function(e,t,i){function n(e,n={}){const r=t.default.APP.version
let a=n.versionOnly||n.hideSha,s=n.shaOnly||n.hideVersion,o=null
return a&&(n.showExtended&&(o=r.match(i.versionExtendedRegExp)),o||(o=r.match(i.versionRegExp))),s&&(o=r.match(i.shaRegExp)),o?o[0]:r}Object.defineProperty(e,"__esModule",{value:!0}),e.appVersion=n,e.default=void 0
var r=Ember.Helper.helper(n)
e.default=r})),define("ghost-admin/helpers/assign",["exports","ember-assign-helper/helpers/assign"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"assign",{enumerable:!0,get:function(){return t.assign}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/author-names",["exports"],(function(e){function t([e]){if(e&&!Ember.isEmpty(e))return e.mapBy("name").join(", ")}Object.defineProperty(e,"__esModule",{value:!0}),e.authorNames=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("ghost-admin/helpers/background-image-style",["exports"],(function(e){function t([e]){if(e){let t=encodeURI(decodeURI(e))
return Ember.String.htmlSafe(`background-image: url(${t});`)}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.backgroundImageStyle=t,e.default=void 0
var i=Ember.Helper.helper(t)
e.default=i})),define("ghost-admin/helpers/camelize",["exports","ember-cli-string-helpers/helpers/camelize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"camelize",{enumerable:!0,get:function(){return t.camelize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/cancel-all",["exports","ember-concurrency/helpers/cancel-all"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/capitalize-first-letter",["exports"],(function(e){function t(e){return"string"!=typeof e||0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1)}Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=t,e.default=void 0
var i=Ember.Helper.helper((([e])=>t(e)))
e.default=i})),define("ghost-admin/helpers/capitalize",["exports","ember-cli-string-helpers/helpers/capitalize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"capitalize",{enumerable:!0,get:function(){return t.capitalize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/card-menu-items",["exports","koenig-editor/helpers/card-menu-items"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/classify",["exports","ember-cli-string-helpers/helpers/classify"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"classify",{enumerable:!0,get:function(){return t.classify}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/clean-basic-html",["exports","koenig-editor/helpers/clean-basic-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/compute",["exports","ember-composable-helpers/helpers/compute"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"compute",{enumerable:!0,get:function(){return t.compute}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/currency-symbol",["exports","ghost-admin/utils/currency"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){var t,i,n,a
super(...e),t=this,i="feature",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}compute([e]){return e?(0,t.getSymbol)(e):""}},s=n.prototype,o="feature",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/helpers/dasherize",["exports","ember-cli-string-helpers/helpers/dasherize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"dasherize",{enumerable:!0,get:function(){return t.dasherize}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/element",["exports","ember-element-helper/helpers/element"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/ember-power-calendar-day-classes",["exports","ember-power-calendar/helpers/ember-power-calendar-day-classes"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerCalendarDayClasses",{enumerable:!0,get:function(){return t.emberPowerCalendarDayClasses}})})),define("ghost-admin/helpers/ember-power-select-is-group",["exports","ember-power-select/helpers/ember-power-select-is-group"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsGroup",{enumerable:!0,get:function(){return t.emberPowerSelectIsGroup}})}))
define("ghost-admin/helpers/ember-power-select-is-selected",["exports","ember-power-select/helpers/ember-power-select-is-selected"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"emberPowerSelectIsSelected",{enumerable:!0,get:function(){return t.emberPowerSelectIsSelected}})})),define("ghost-admin/helpers/enable-developer-experiments",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="config",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute(){return this.config.enableDeveloperExperiments}},a=i.prototype,s="config",o=[t.inject],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})})),define("ghost-admin/helpers/eq",["exports","ember-truth-helpers/helpers/eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"equal",{enumerable:!0,get:function(){return t.equal}})})),define("ghost-admin/helpers/event-name",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.AVAILABLE_EVENTS=void 0,e.eventName=i
const t=[{event:"site.changed",name:"Site changed (rebuild)",group:"Global"},{event:"post.added",name:"Post created",group:"Posts"},{event:"post.deleted",name:"Post deleted",group:"Posts"},{event:"post.edited",name:"Post updated",group:"Posts"},{event:"post.published",name:"Post published",group:"Posts"},{event:"post.published.edited",name:"Published post updated",group:"Posts"},{event:"post.unpublished",name:"Post unpublished",group:"Posts"},{event:"post.scheduled",name:"Post scheduled",group:"Posts"},{event:"post.unscheduled",name:"Post unscheduled",group:"Posts"},{event:"post.tag.attached",name:"Tag added to post",group:"Posts"},{event:"post.tag.detached",name:"Tag removed from post",group:"Posts"},{event:"page.added",name:"Page created",group:"Pages"},{event:"page.deleted",name:"Page deleted",group:"Pages"},{event:"page.edited",name:"Page updated",group:"Pages"},{event:"page.published",name:"Page published",group:"Pages"},{event:"page.published.edited",name:"Published page updated",group:"Pages"},{event:"page.unpublished",name:"Page unpublished",group:"Pages"},{event:"page.tag.attached",name:"Tag added to page",group:"Pages"},{event:"page.tag.detached",name:"Tag removed from page",group:"Pages"},{event:"tag.added",name:"Tag created",group:"Tags"},{event:"tag.edited",name:"Tag updated",group:"Tags"},{event:"tag.deleted",name:"Tag deleted",group:"Tags"},{event:"member.added",name:"Member added",group:"Members"},{event:"member.edited",name:"Member updated",group:"Members"},{event:"member.deleted",name:"Member deleted",group:"Members"}]
function i([e]){let i=t.findBy("event",e)
return i?i.name:e}e.AVAILABLE_EVENTS=t
var n=Ember.Helper.helper(i)
e.default=n})),define("ghost-admin/helpers/feature",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="feature",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute([e]){return this.feature.get(e)}},a=i.prototype,s="feature",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/first-name",["exports"],(function(e){function t([e=""]){return e.split(" ")[0]}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.firstName=t
var i=Ember.Helper.helper(t)
e.default=i})),define("ghost-admin/helpers/format-number",["exports"],(function(e){function t(e,t){if(""!==e&&null!=e)return Number(e).toLocaleString(void 0,t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatNumber=t
var i=Ember.Helper.helper((function([e]){return t(e)}))
e.default=i})),define("ghost-admin/helpers/full-email-address",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="config",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute([e=""]){return e.indexOf("@")>-1?e:`${e}@${this.config.emailDomain}`}},a=i.prototype,s="config",o=[t.inject],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/get-setting",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="settings",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute([e=""]){return this.settings[e]}},a=i.prototype,s="settings",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/gh-count-characters",["exports"],(function(e){function t(e){if(!e||!e.length)return
let t=document.createElement("span"),i=e[0]||"",{length:n}=Array.from(i)
return t.className="word-count",t.style.color=n>180?"#f05230":"#45C32E",t.innerHTML=200-n,Ember.String.htmlSafe(t.outerHTML)}Object.defineProperty(e,"__esModule",{value:!0}),e.countCharacters=t,e.default=void 0
var i=Ember.Helper.helper((function(e){return t(e)}))
e.default=i})),define("ghost-admin/helpers/gh-count-down-characters",["exports"],(function(e){function t(e){if(!e||e.length<2)return
let t=document.createElement("span"),[i,n]=e,{length:r}=Array.from(i||"")
return t.className="word-count",r>n?(t.style.color="#E25440",t.style.fontWeight="bold"):(t.style.color="#30CF43",t.style.fontWeight="bold"),t.innerHTML=r,Ember.String.htmlSafe(t.outerHTML)}Object.defineProperty(e,"__esModule",{value:!0}),e.countDownCharacters=t,e.default=void 0
var i=Ember.Helper.helper((function(e){return t(e)}))
e.default=i})),define("ghost-admin/helpers/gh-count-down-html-characters",["exports","ghost-admin/helpers/gh-count-down-characters"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function(e){let[i,n]=e
return i||(i=""),i=i.replace(/<[^>]*>?/gm,""),i=i.replace(/&nbsp;/g," "),i=i.replace(/&amp;/g,"&"),i=i.replace(/&quot;/g,'"'),i=i.replace(/&lt;/g,"<"),i=i.replace(/&gt;/g,">"),(0,t.countDownCharacters)([i,n])}))
e.default=i})),define("ghost-admin/helpers/gh-format-post-time",["exports","moment-timezone"],(function(e,t){var i,n,r
function a(e,{timezone:i="etc/UTC",format:n,draft:r,scheduled:a,published:s}){if(r)return(0,t.default)(e).from(t.default.utc())
let o=t.default.tz(e,i)
if(n)return o.format(n)
let l,u=t.default.tz(t.default.utc(),i)
if(l=0===o.utcOffset()?"(UTC)":`(UTC${o.format("Z").replace(/([+-])0/,"$1").replace(/:00/,"")})`,Math.abs(u.diff(o,"hours"))<=12)return o.from(u)
if(o.isSame(u,"day")){let e=o.format(`HH:mm [${l}] [Today]`)
return a?`at ${e}`:e}if(s&&o.isSame(u.clone().subtract(1,"days").startOf("day"),"day"))return o.format(`HH:mm [${l}] [Yesterday]`)
if(a&&o.isSame(u.clone().add(1,"days").startOf("day"),"day"))return o.format(`[at] HH:mm [${l}] [tomorrow]`)
let c=a?`[at] HH:mm [${l}] [on] DD MMM YYYY`:"DD MMM YYYY"
return o.format(c)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.formatPostTime=a
let s=(i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}compute([e],t){return a(e,Object.assign({},t,{timezone:this.settings.timezone}))}},o=n.prototype,l="settings",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/helpers/gh-pluralize",["exports","ghost-admin/helpers/format-number","ember-inflector"],(function(e,t,i){function n(e,n,{withoutCount:r}={}){let a=[]
return Ember.isBlank(e)||!0===r||a.push((0,t.formatNumber)(e)),Ember.isBlank(e)?a.push((0,i.pluralize)(n)):a.push((0,i.pluralize)(e,n,{withoutCount:!0})),a.join(" ")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghPluralize=n
var r=Ember.Helper.helper((function([e,t],{"without-count":i}={}){return n(e,t,{withoutCount:i})}))
e.default=r})),define("ghost-admin/helpers/gh-price-amount",["exports","ghost-admin/helpers/format-number"],(function(e,t){function i(e,{cents:i=!0}={}){if(e){let n=i?e/100:Math.round(e/100)
return n%1==0?(0,t.formatNumber)(n):(0,t.formatNumber)(Math.round(100*n)/100,{minimumFractionDigits:2})}return 0}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghPriceAmount=i
var n=Ember.Helper.helper((function([e],t={}){return i(e,t)}))
e.default=n})),define("ghost-admin/helpers/gh-user-can-admin",["exports"],(function(e){function t(e){return!!e[0].get("isAdmin")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.ghUserCanAdmin=t
var i=Ember.Helper.helper((function(e){return t(e)}))
e.default=i})),define("ghost-admin/helpers/gt",["exports","ember-truth-helpers/helpers/gt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gt",{enumerable:!0,get:function(){return t.gt}})})),define("ghost-admin/helpers/gte",["exports","ember-truth-helpers/helpers/gte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"gte",{enumerable:!0,get:function(){return t.gte}})})),define("ghost-admin/helpers/hex-adjust",["exports","@tryghost/color-utils"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e],{s:i=0,l:n=0}={}){let r=(0,t.Color)(e)
return 0!==i&&(r=r.saturationl(r.saturationl()+i)),0!==n&&(r=r.lightness(r.lightness()+n)),r.hex()}))
e.default=i})),define("ghost-admin/helpers/hex-contrast",["exports","@tryghost/color-utils"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e]){return(0,t.textColorForBackgroundColor)((0,t.Color)(e)).hex()}))
e.default=i})),define("ghost-admin/helpers/highlighted-text",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.highlightedText=i
const{Handlebars:t}=Ember
function i([e,i]){let n=i.replace(new RegExp(/\W/gi),"\\$&"),r=new RegExp(n,"ig"),a=e.match(r)||[],s=e.split(r),o=""
return s.forEach(((e,i)=>{o+=t.Utils.escapeExpression(e),a[i]&&(o+=`<span class="highlight">${t.Utils.escapeExpression(a[i])}</span>`)})),Ember.String.htmlSafe(o)}var n=Ember.Helper.helper(i)
e.default=n})),define("ghost-admin/helpers/history-event-fetcher",["exports","moment-timezone","ember-could-get-used-to-this","tracked-built-ins","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E
function P(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function O(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function j(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let _=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._action,h=class extends i.Resource{constructor(...e){super(...e),P(this,"ajax",b,this),P(this,"ghostPaths",g,this),P(this,"store",f,this),P(this,"data",v,this),P(this,"isLoading",y,this),P(this,"isError",w,this),P(this,"errorMessage",k,this),P(this,"hasReachedEnd",E,this),O(this,"cursor",null)}get value(){return{isLoading:this.isLoading,isError:this.isError,errorMessage:this.errorMessage,data:this.data,loadNextPage:this.loadNextPage,hasReachedEnd:this.hasReachedEnd}}async setup(){this.cursor=t.default.utc().format("YYYY-MM-DD HH:mm:ss")
let e=`created_at:<'${this.cursor}'`
this.args.named.filter&&(e+=`+${this.args.named.filter}`)
try{await this.loadEventsTask.perform({filter:e})}catch(i){if(!(0,r.didCancel)(i))throw i}}loadNextPage(){const e=this.data[this.data.length-1]
if(!e?.created_at)return void(this.hasReachedEnd=!0)
const i=t.default.utc(e.created_at).format("YYYY-MM-DD HH:mm:ss")
if(i===this.cursor)return void(this.hasReachedEnd=!0)
this.cursor=i
let n=`created_at:<'${this.cursor}'`
this.args.named.filter&&(n+=`+${this.args.named.filter}`),this.loadEventsTask.perform({filter:n})}*loadEventsTask(e){try{this.isLoading=!0
const t=this.ghostPaths.url.api("actions"),i=Object.assign({},e,{include:"actor,resource",limit:this.args.named.pageSize}),{actions:n}=yield this.ajax.request(t,{data:i})
n.length<i.limit&&(this.hasReachedEnd=!0)
let r=1
n.reverse().forEach(((e,t)=>{const i=n[t+1]||null;(i||!i&&n[t-1].skip)&&(i&&e.resource_id===i.resource_id&&e.event===i.event?(e.skip=!0,r+=1):r>1&&(e.count=r.toString(),r=1)),e.context=JSON.parse(e.context)})),this.data.push(...n.reverse())}catch(t){this.isError=!0
const e=t.payload?.errors?.[0]?.message
e&&(this.errorMessage=e),console.error(t)}finally{this.isLoading=!1}}},b=j(h.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j(h.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=j(h.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=j(h.prototype,"data",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n.TrackedArray([])}}),y=j(h.prototype,"isLoading",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=j(h.prototype,"isError",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=j(h.prototype,"errorMessage",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=j(h.prototype,"hasReachedEnd",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j(h.prototype,"loadNextPage",[m],Object.getOwnPropertyDescriptor(h.prototype,"loadNextPage"),h.prototype),j(h.prototype,"loadEventsTask",[r.task],Object.getOwnPropertyDescriptor(h.prototype,"loadEventsTask"),h.prototype),h)
e.default=_})),define("ghost-admin/helpers/history-event-filter",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Helper{compute(e,{excludedEvents:t=[],excludedResources:i=[],user:n=""}){const r=new Set,a=new Set
t.length&&t.forEach((e=>r.add(e))),i.length&&i.forEach((e=>a.add(e)))
let s=[]
const o=Array.from(r).reject(Ember.isBlank)
o.length>0&&s.push(`event:-[${o.join(",")}]`)
const l=Array.from(a).concat(["label"]).reject(Ember.isBlank)
return l.length>0&&s.push(`resource_type:-[${l.join(",")}]`),n&&s.push(`actor_id:${n}`),s.join("+")}}e.default=t})),define("ghost-admin/helpers/html-safe",["exports","ember-cli-string-helpers/helpers/html-safe"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"htmlSafe",{enumerable:!0,get:function(){return t.htmlSafe}})})),define("ghost-admin/helpers/humanize-recipient-filter",["exports","ember-inflector"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Helper.helper((function([e=""]){const i=e.split(",")
if(i.includes("status:free")&&i.includes("status:-free"))return"All subscribers"
let n=[]
i.includes("status:free")?n.push("Free subscribers"):i.includes("status:-free")&&n.push("Paid subscribers")
const r=/labels:\[(.*?)\]/,a=/label:(.*?)(?:,|$)/g
if(r.test(e)){const[,i]=e.match(r),a=i.split(",")
n.push(`${(0,t.pluralize)(a.length,"Label",{withoutCount:!0})}: ${a.map(Ember.String.capitalize).join(", ")}`)}else if(a.test(e)){e.match(a)
const i=[...e.matchAll(a)].map((([,e])=>e))
n.push(`${(0,t.pluralize)(i.length,"Label",{withoutCount:!0})}: ${i.map(Ember.String.capitalize).join(", ")}`)}const s=/products:\[(.*?)\]/,o=/product:(.*?)(?:,|$)/g
if(s.test(e)){const[,i]=e.match(s),r=i.split(",")
n.push(`${(0,t.pluralize)(r.length,"Product",{withoutCount:!0})}: ${r.map(Ember.String.capitalize).join(", ")}`)}else if(o.test(e)){e.match(o)
const i=[...e.matchAll(o)].map((([,e])=>e))
n.push(`${(0,t.pluralize)(i.length,"Product",{withoutCount:!0})}: ${i.map(Ember.String.capitalize).join(", ")}`)}return n.length?n.join(" & "):e}))
e.default=i})),define("ghost-admin/helpers/humanize-setting-key",["exports","ember-cli-string-helpers/helpers/humanize"],(function(e,t){function i([e]){let i=(0,t.humanize)([e])
return["API","CTA","RSS"].forEach((e=>{const t=new RegExp(`(^| )(${e})( |$)`,"gi")
i=i.replace(t,`$1${e}$3`)})),i}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.humanizeSettingKey=i
var n=Ember.Helper.helper(i)
e.default=n})),define("ghost-admin/helpers/humanize",["exports","ember-cli-string-helpers/helpers/humanize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"humanize",{enumerable:!0,get:function(){return t.humanize}})})),define("ghost-admin/helpers/if-key",["exports","ember-keyboard/helpers/if-key.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/integration-icon-style",["exports"],(function(e){function t([e]){if(e.iconImage){let t=`background-image:url(${e.iconImage});background-size:36px;`
return Ember.String.htmlSafe(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.integrationLogoStyle=t
var i=Ember.Helper.helper(t)
e.default=i}))
define("ghost-admin/helpers/is-after",["exports","ember-moment/helpers/is-after.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-array",["exports","ember-truth-helpers/helpers/is-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isArray",{enumerable:!0,get:function(){return t.isArray}})})),define("ghost-admin/helpers/is-before",["exports","ember-moment/helpers/is-before.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-between",["exports","ember-moment/helpers/is-between.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-empty",["exports","ember-truth-helpers/helpers/is-empty"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-equal",["exports","ember-truth-helpers/helpers/is-equal"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"isEqual",{enumerable:!0,get:function(){return t.isEqual}})})),define("ghost-admin/helpers/is-moment-today",["exports","moment-timezone"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}compute([e]){const i=(0,t.default)().tz(this.settings.timezone)
return t.default.tz(e,this.settings.timezone).isSame(i,"day")}},s=n.prototype,o="settings",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/helpers/is-same-or-after",["exports","ember-moment/helpers/is-same-or-after.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-same-or-before",["exports","ember-moment/helpers/is-same-or-before.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/is-same",["exports","ember-moment/helpers/is-same.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/join",["exports","ember-composable-helpers/helpers/join"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/kg-style",["exports","koenig-editor/helpers/kg-style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"kgStyle",{enumerable:!0,get:function(){return t.kgStyle}})})),define("ghost-admin/helpers/lf-lock-model",["exports","liquid-fire/helpers/lf-lock-model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lfLockModel",{enumerable:!0,get:function(){return t.lfLockModel}})})),define("ghost-admin/helpers/lf-or",["exports","liquid-fire/helpers/lf-or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lfOr",{enumerable:!0,get:function(){return t.lfOr}})})),define("ghost-admin/helpers/loc",["exports","@ember/string/helpers/loc"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"loc",{enumerable:!0,get:function(){return t.loc}})})),define("ghost-admin/helpers/lowercase",["exports","ember-cli-string-helpers/helpers/lowercase"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lowercase",{enumerable:!0,get:function(){return t.lowercase}})})),define("ghost-admin/helpers/lt",["exports","ember-truth-helpers/helpers/lt"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lt",{enumerable:!0,get:function(){return t.lt}})})),define("ghost-admin/helpers/lte",["exports","ember-truth-helpers/helpers/lte"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"lte",{enumerable:!0,get:function(){return t.lte}})})),define("ghost-admin/helpers/member-fetcher",["exports","ember-could-get-used-to-this"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var u=(i=Ember.inject.service,n=Ember._tracked,r=class extends t.Resource{constructor(...e){super(...e),o(this,"store",a,this),o(this,"loadedMember",s,this)}get value(){return this.loadedMember}async setup(){const[e]=this.args.positional
if(!e)return
const t=await this.store.findRecord("member",e)
this.loadedMember=t}},a=l(r.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"loadedMember",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),r)
e.default=u})),define("ghost-admin/helpers/members-count-fetcher",["exports","ember-could-get-used-to-this","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=class extends t.Resource{constructor(...e){super(...e),c(this,"membersCountCache",o,this),c(this,"session",l,this),c(this,"count",u,this)}get value(){return{isLoading:this.fetchMembersTask.isRunning,count:this.count}}setup(){const e=this.args.named.query||{}
this._query=e,this.fetchMembersTask.perform({query:e})}update(){if(this.args.named.query!==this._query){const e=this.args.named.query||{}
this._query=e,this.fetchMembersTask.perform({query:e})}}*fetchMembersTask({query:e}={}){if(!this.session.user.isAdmin)return void(this.count=null)
const t=yield this.membersCountCache.count(e)
this.count=t}},o=d(s.prototype,"membersCountCache",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(s.prototype,"count",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d(s.prototype,"fetchMembersTask",[i.task],Object.getOwnPropertyDescriptor(s.prototype,"fetchMembersTask"),s.prototype),s)
e.default=p})),define("ghost-admin/helpers/members-event-fetcher",["exports","moment-timezone","ember-could-get-used-to-this","tracked-built-ins","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_
function T(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function z(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function x(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let S=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._action,g=class extends i.Resource{constructor(...e){super(...e),T(this,"ajax",f,this),T(this,"ghostPaths",v,this),T(this,"store",y,this),T(this,"feature",w,this),T(this,"data",k,this),T(this,"isLoading",E,this),T(this,"isError",P,this),T(this,"errorMessage",O,this),T(this,"hasReachedEnd",j,this),T(this,"hasMultipleNewsletters",_,this),z(this,"cursor",null)}get value(){return{isLoading:this.isLoading,isError:this.isError,errorMessage:this.errorMessage,data:this.data,loadNextPage:this.loadNextPage,hasReachedEnd:this.hasReachedEnd,hasMultipleNewsletters:this.hasMultipleNewsletters}}async setup(){this.cursor=t.default.utc().format("YYYY-MM-DD HH:mm:ss")
let e=`data.created_at:<'${this.cursor}'`
this.args.named.filter&&(e+=`+${this.args.named.filter}`)
try{await this.loadEventsTask.perform({filter:e}),await this.loadMultipleNewslettersTask.perform()}catch(i){if(!(0,r.didCancel)(i))throw i}}loadNextPage(){const e=this.data[this.data.length-1]
if(!e?.data?.created_at)return void(this.hasReachedEnd=!0)
const i=t.default.utc(e.data.created_at).format("YYYY-MM-DD HH:mm:ss")
if(i===this.cursor)return void(this.hasReachedEnd=!0)
this.cursor=i
let n=`data.created_at:<'${this.cursor}'`
this.args.named.filter&&(n+=`+${this.args.named.filter}`),this.loadEventsTask.perform({filter:n})}*loadMultipleNewslettersTask(){try{const e=(yield this.store.query("newsletter",{filter:"status:active",include:"none",limit:1})).meta.pagination.total
this.hasMultipleNewsletters=e>1}catch(e){this.hasMultipleNewsletters=!0,console.error(e)}}*loadEventsTask(e){try{this.isLoading=!0
const t=this.ghostPaths.url.api("members/events"),i=Object.assign({},e,{limit:this.args.named.pageSize}),{events:n}=yield this.ajax.request(t,{data:i})
n.length<i.limit&&(this.hasReachedEnd=!0),this.data.push(...n)}catch(t){this.isError=!0
const e=t.payload?.errors?.[0]?.message
e&&(this.errorMessage=e),console.error(t)}finally{this.isLoading=!1}}},f=x(g.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=x(g.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=x(g.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=x(g.prototype,"feature",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=x(g.prototype,"data",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new n.TrackedArray([])}}),E=x(g.prototype,"isLoading",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=x(g.prototype,"isError",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=x(g.prototype,"errorMessage",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=x(g.prototype,"hasReachedEnd",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=x(g.prototype,"hasMultipleNewsletters",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x(g.prototype,"loadNextPage",[b],Object.getOwnPropertyDescriptor(g.prototype,"loadNextPage"),g.prototype),x(g.prototype,"loadMultipleNewslettersTask",[r.task],Object.getOwnPropertyDescriptor(g.prototype,"loadMultipleNewslettersTask"),g.prototype),x(g.prototype,"loadEventsTask",[r.task],Object.getOwnPropertyDescriptor(g.prototype,"loadEventsTask"),g.prototype),g)
e.default=S})),define("ghost-admin/helpers/members-event-filter",["exports"],(function(e){var t,i,n,r,a
function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.NEWSLETTER_EVENTS=e.EMAIL_EVENTS=void 0
const l=["email_sent_event","email_delivered_event","email_opened_event","email_failed_event","email_complaint_event"]
e.EMAIL_EVENTS=l
const u=["newsletter_event"]
e.NEWSLETTER_EVENTS=u
let c=(t=Ember.inject.service,i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){super(...e),s(this,"settings",r,this),s(this,"feature",a,this)}compute(e,{excludedEvents:t=[],includeEvents:i=null,member:n="",post:r="",excludeEmailEvents:a=!1}){const s=new Set
"disabled"===this.settings.editorDefaultEmailRecipients&&[...l,...u].forEach((e=>s.add(e))),"off"===this.settings.commentsEnabled&&s.add("comment_event"),a&&l.forEach((e=>s.add(e))),t.length&&t.forEach((e=>s.add(e)))
let o=[]
const c=Array.from(s).reject(Ember.isBlank)
return null!==i?o.push(`type:[${i.join(",")}]`):c.length>0&&o.push(`type:-[${c.join(",")}]`),n&&o.push(`data.member_id:${n}`),r&&o.push(`data.post_id:${r}`),o.join("+")}},r=o(n.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(n.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=c})),define("ghost-admin/helpers/moment-add",["exports","ember-moment/helpers/moment-add.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-calendar",["exports","ember-moment/helpers/moment-calendar.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-diff",["exports","ember-moment/helpers/moment-diff.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-duration",["exports","ember-moment/helpers/moment-duration.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-format",["exports","ember-moment/helpers/moment-format.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-from-now",["exports","ember-moment/helpers/moment-from-now.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-from",["exports","ember-moment/helpers/moment-from.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-site-tz",["exports","moment-timezone"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}compute([e]){return t.default.tz(e,this.settings.timezone)}},s=n.prototype,o="settings",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a}))
define("ghost-admin/helpers/moment-subtract",["exports","ember-moment/helpers/moment-subtract.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to-date",["exports","ember-moment/helpers/moment-to-date.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to-now",["exports","ember-moment/helpers/moment-to-now.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment-to",["exports","ember-moment/helpers/moment-to.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/moment",["exports","ember-moment/helpers/moment.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/most-recently-updated",["exports","moment-timezone"],(function(e,t){function i(e){const i=[...e||[]]
return(i||[]).sort(((e,i)=>{const n=(0,t.default)(e.updatedAtUTC||e.updatedAt||e.updated_at)
return(0,t.default)(i.updatedAtUTC||i.updatedAt||i.updated_at).valueOf()-n.valueOf()})),i[0]||null}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.mostRecentlyUpdated=i
var n=Ember.Helper.helper((function([e=[]]){return i(e)}))
e.default=n})),define("ghost-admin/helpers/noop",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function(){return()=>{}}))
e.default=t})),define("ghost-admin/helpers/not-eq",["exports","ember-truth-helpers/helpers/not-eq"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"notEqualHelper",{enumerable:!0,get:function(){return t.notEqualHelper}})})),define("ghost-admin/helpers/not",["exports","ember-truth-helpers/helpers/not"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"not",{enumerable:!0,get:function(){return t.not}})})),define("ghost-admin/helpers/now",["exports","ember-moment/helpers/now.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/on-key",["exports","ember-keyboard/helpers/on-key.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/one-way-select/contains",["exports","ember-one-way-select/helpers/one-way-select/contains"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"contains",{enumerable:!0,get:function(){return t.contains}}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/optional",["exports","ember-composable-helpers/helpers/optional"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return t.optional}})})),define("ghost-admin/helpers/or",["exports","ember-truth-helpers/helpers/or"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"or",{enumerable:!0,get:function(){return t.or}})})),define("ghost-admin/helpers/parse-history-event",["exports","ghost-admin/config/environment"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends Ember.Helper{constructor(...e){var t,i,n,a
super(...e),t=this,i="ghostPaths",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}compute([e]){const i=function(e){let t=e.resource_type
"api_key"===t?t="API key":"setting"===t?t="settings":"product"===t&&(t="tier")
"post"===t&&e.context?.type&&(t=e.context?.type)
let i=e.event
"edited"===e.event&&e.context.action_name&&(i=e.context.action_name)
if(e.context.count&&e.context.count>1)return`${e.context.count} ${t}s ${i}`
return`${t} ${i}`}(e),n=function(e){switch(e.event){case"added":return"plus-large"
case"edited":return"pen"
case"deleted":return"trash"}return"info"}(e),r=function(e){if("setting"===e.resource_type&&e.context?.group&&e.context?.key)return{first:e.context.group,second:e.context.key}
return null}(e),a=function(e){let t=e.resource_type
if("deleted"!==e.event)switch(e.resource_type){case"page":case"post":return e.resource&&e.resource.id?("post"===t&&e.context?.type&&(t=e.context?.type),{route:"editor.edit",models:[t,e.resource.id]}):null
case"integration":return e.resource&&e.resource.id?{route:"settings.integration",models:[e.resource.id]}:null
case"offer":return e.resource&&e.resource.id?{route:"offer",models:[e.resource.id]}:null
case"tag":return e.resource&&e.resource.slug?{route:"tag",models:[e.resource.slug]}:null
case"product":return{route:"settings.membership",models:null}
case"user":return e.resource&&e.resource.slug?{route:"settings.staff.user",models:[e.resource.slug]}:null}return null}(e),s=p(e),o=function(e){const t=p(e)
if(!t)return null
switch(e.actor_type){case"integration":return t.id?{route:"settings.integration",models:[t.id]}:null
case"user":return t.slug?{route:"settings.staff.user",models:[t.slug]}:null}return null}(e),l=function(e,t){let i=`${t}/img/user-image-639a88b784fb5f10964be8b975ca9fdf.png`
if(!e.actor.id||!e.actor.image)return i
return e.actor.image}(e,t.default.cdnUrl?"":this.ghostPaths.assetRoot.replace(/\/$/,""))
return{contextResource:r,linkTarget:a,actionIcon:n,action:i,actor:s,actorIcon:l,actorLinkTarget:o,original:e,isBulkAction:!!e.context.count}}},s=n.prototype,o="ghostPaths",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
function p(e){return e.actor.id?e.actor:null}e.default=a})),define("ghost-admin/helpers/parse-member-event",["exports","moment-timezone","ghost-admin/utils/currency","ghost-admin/helpers/gh-pluralize"],(function(e,t,i,n){var r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=class extends Ember.Helper{constructor(...e){super(...e),d(this,"feature",l,this),d(this,"utils",u,this),d(this,"membersUtils",c,this)}compute([e,i]){const n=e.data.member?e.data.member.name||e.data.member.email:e.data.name||e.data.email||"",r=this.getIcon(e),a=this.getAction(e,i),s=this.getInfo(e),o=this.getDescription(e),l=this.getJoin(e),u=this.getObject(e),c=this.getURL(e),d=this.getRoute(e),p=(0,t.default)(e.data.created_at),m=this.getSource(e)
return{memberId:e.data.member_id??e.data.member?.id,member:e.data.member,emailId:e.data.email_id,email:e.data.email,icon:r,subject:n,action:a,join:l,object:u,source:m,info:s,description:o,url:c,route:d,timestamp:p}}getIcon(e){let t
return"login_event"===e.type&&(t="logged-in"),"payment_event"===e.type&&(t="subscriptions"),"newsletter_event"===e.type&&(t=e.data.subscribed?"subscribed-to-email":"unsubscribed-from-email"),"subscription_event"===e.type&&(t="subscriptions","canceled"===e.data.type&&(t="canceled-subscription")),("signup_event"===e.type||"subscription_event"===e.type&&"created"===e.data.type&&e.data.signup)&&(t="signed-up"),"email_opened_event"===e.type&&(t="opened-email"),"email_sent_event"===e.type&&(t="sent-email"),"email_delivered_event"===e.type&&(t="received-email"),"email_failed_event"===e.type&&(t="email-delivery-failed"),"email_complaint_event"===e.type&&(t="email-delivery-spam"),"comment_event"===e.type&&(t="comment"),"click_event"!==e.type&&"aggregated_click_event"!==e.type||(t="click"),"feedback_event"===e.type&&(t=1===e.data.score?"more-like-this":"less-like-this"),"donation_event"===e.type&&(t="subscriptions"),"event-"+t}getAction(e,t){if("signup_event"===e.type||"subscription_event"===e.type&&"created"===e.data.type&&e.data.signup)return"signed up"
if("login_event"===e.type)return"logged in"
if("payment_event"===e.type)return"made payment"
if("newsletter_event"===e.type){let i="newsletter"
return t&&e.data.newsletter&&e.data.newsletter.name&&(i=e.data.newsletter.name),e.data.subscribed?"subscribed to "+i:"unsubscribed from "+i}return"subscription_event"===e.type?"created"===e.data.type?"started paid subscription":"updated"===e.data.type?"changed paid subscription":"canceled"===e.data.type?"canceled paid subscription":"reactivated"===e.data.type?"reactivated paid subscription":"expired"===e.data.type?"ended paid subscription":"changed paid subscription":"email_opened_event"===e.type?"opened email":"email_sent_event"===e.type?"sent email":"email_delivered_event"===e.type?"received email":"email_failed_event"===e.type?"bounced email":"email_complaint_event"===e.type?"email flagged as spam":"comment_event"===e.type?e.data.parent?"replied to comment":"commented":"click_event"===e.type?"clicked link in email":"aggregated_click_event"===e.type?e.data.count.clicks<=1?"clicked link in email":`clicked ${(0,n.ghPluralize)(e.data.count.clicks,"link")} in email`:"feedback_event"===e.type?1===e.data.score?"more like this":"less like this":"donation_event"===e.type?"Made a one-time payment":void 0}getJoin(){return"â€“"}getObject(e){return"signup_event"!==e.type&&"subscription_event"!==e.type&&"donation_event"!==e.type||!e.data.attribution?.title?"comment_event"===e.type&&e.data.post?e.data.post.title:"click_event"!==e.type&&"feedback_event"!==e.type||!e.data.post?"":e.data.post.title:e.data.attribution.title}getSource(e){return e.data?.attribution?.referrer_source?{name:e.data.attribution.referrer_source,url:e.data.attribution.referrer_url??null}:null}getInfo(e){if("subscription_event"===e.type){let t=(0,i.getNonDecimal)(e.data.mrr_delta,e.data.currency)
if(0===t)return
const n=(0,i.getSymbol)(e.data.currency)
if("created"===e.data.type){const i=t>0?"":"-"
return`${this.membersUtils.hasMultipleTiers?e.data.tierName??"Paid":"Paid"} ${i}${n}${Math.abs(t)}/month`}return`MRR ${t>0?"+":"-"}${n}${Math.abs(t)}`}if("signup_event"===e.type&&this.membersUtils.paidMembersEnabled)return"Free"
if("donation_event"===e.type){return(0,i.getSymbol)(e.data.currency)+(0,i.getNonDecimal)(e.data.amount,e.data.currency)}}getDescription(e){if("click_event"===e.type){try{return this.utils.cleanTrackedUrl(e.data.link.to,!0)}catch(t){}return e.data.link.to}}getURL(e){return["comment_event","click_event","feedback_event"].includes(e.type)&&e.data.post?e.data.post.url:["signup_event","subscription_event","donation_event"].includes(e.type)&&e.data.attribution&&e.data.attribution.url?e.data.attribution.url:void 0}getRoute(e){return["comment_event","click_event","feedback_event"].includes(e.type)&&e.data.post?{name:"posts.analytics",model:e.data.post.id}:["signup_event","subscription_event"].includes(e.type)&&"post"===e.data.attribution_type?{name:"posts.analytics",model:e.data.attribution_id}:void 0}},l=p(o.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"utils",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(o.prototype,"membersUtils",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o)
e.default=m})),define("ghost-admin/helpers/perform",["exports","ember-concurrency/helpers/perform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/pick",["exports","ember-composable-helpers/helpers/pick"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"pick",{enumerable:!0,get:function(){return t.pick}})})),define("ghost-admin/helpers/pluralize",["exports","ember-inflector/lib/helpers/pluralize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/helpers/post-author-names",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function([e]){return(e?.authors||[]).map((e=>e.name||e.email)).join(", ")}))
e.default=t})),define("ghost-admin/helpers/power-calendar-format-date",["exports","ember-power-calendar/helpers/power-calendar-format-date"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"powerCalendarFormatDate",{enumerable:!0,get:function(){return t.powerCalendarFormatDate}})})),define("ghost-admin/helpers/publish-options",["exports","ghost-admin/utils/publish-options","ember-could-get-used-to-this","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let v=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=class extends i.Resource{constructor(...e){super(...e),g(this,"limit",c,this),g(this,"session",d,this),g(this,"settings",p,this),g(this,"store",m,this),g(this,"config",h,this),g(this,"publishOptions",b,this)}get value(){return this.publishOptions}setup(){const e=this.args.positional[0]
this._post=e,this.publishOptions=this._createPublishOptions(e)}update(){const e=this.args.positional[0]
e!==this._post&&(this.publishOptions=this._createPublishOptions(e))}_createPublishOptions(e){const{config:i,limit:n,settings:r,store:a}=this
return new t.default({config:i,limit:n,post:e,settings:r,store:a,user:this.session.user})}},c=f(u.prototype,"limit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=f(u.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f(u.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=f(u.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=f(u.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=f(u.prototype,"publishOptions",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=v})),define("ghost-admin/helpers/query-selector",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){const t=document.querySelector(e)
t||console.warn(`{{query-selector}} could not find an element matching "${e}"`)
return t}})),define("ghost-admin/helpers/reset-query-params",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.DEFAULT_QUERY_PARAMS=void 0,e.resetQueryParams=i
const t={posts:{type:null,visibility:null,author:null,tag:null,order:null},pages:{type:null,visibility:null,author:null,tag:null,order:null},"members.index":{label:null,paid:null,search:null,filter:null,order:null},"members-activity":{excludedEvents:null,member:null},"settings.history":{excludedEvents:null,excludedResources:null,user:null}}
function i(e,i){return Object.assign({},t[e],i)}e.DEFAULT_QUERY_PARAMS=t
var n=Ember.Helper.helper((function(e){return i(...e)}))
e.default=n})),define("ghost-admin/helpers/sanitize-html",["exports","koenig-editor/helpers/sanitize-html"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"sanitizeHtml",{enumerable:!0,get:function(){return t.sanitizeHtml}})})),define("ghost-admin/helpers/set-has",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Helper.helper((function([e,t]){return e.has(t)}))
e.default=t})),define("ghost-admin/helpers/set-query-params",["exports"],(function(e){function t([e],t){if(e)try{const i=new URL(e)
for(const e of Object.keys(t))i.searchParams.set(e,t[e])
return i.href}catch(i){return console.error(i),e}return""}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.setQueryParams=t
var i=Ember.Helper.helper(t)
e.default=i})),define("ghost-admin/helpers/singularize",["exports","ember-inflector/lib/helpers/singularize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/helpers/site-icon-style",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="config",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute(){const e=this.config.icon||"https://static.ghost.org/v4.0.0/images/ghost-orb-2.png"
return Ember.String.htmlSafe(`background-image: url(${e})`)}},a=i.prototype,s="config",o=[t.inject],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/svg-jar",["exports","ember-svg-jar/helpers/svg-jar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"svgJar",{enumerable:!0,get:function(){return t.svgJar}})}))
define("ghost-admin/helpers/task",["exports","ember-concurrency/helpers/task"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/titleize",["exports","ember-cli-string-helpers/helpers/titleize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"titleize",{enumerable:!0,get:function(){return t.titleize}})})),define("ghost-admin/helpers/toggle-action",["exports","ember-composable-helpers/helpers/toggle-action"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/toggle-feature",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Helper{constructor(...e){var t,i,r,a
super(...e),t=this,i="feature",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}compute([e]){return()=>{const t=!!this.feature.get(e)
this.feature.set(e,!t)}}},a=i.prototype,s="feature",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/helpers/toggle",["exports","ember-composable-helpers/helpers/toggle"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"toggle",{enumerable:!0,get:function(){return t.toggle}})})),define("ghost-admin/helpers/trim",["exports","ember-cli-string-helpers/helpers/trim"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"trim",{enumerable:!0,get:function(){return t.trim}})})),define("ghost-admin/helpers/truncate",["exports","ember-cli-string-helpers/helpers/truncate"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"truncate",{enumerable:!0,get:function(){return t.truncate}})})),define("ghost-admin/helpers/ui-btn-span",["exports","ghost-admin/helpers/ui-btn"],(function(e,t){function i([e],i){return(0,t.btnStyles)(Object.assign({},{style:e},i)).span}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.uiBtnSpan=i
var n=Ember.Helper.helper(i)
e.default=n})),define("ghost-admin/helpers/ui-btn",["exports"],(function(e){function t(e={}){let t="dib midgrey btn-base br3 ba b--lightgrey-l1 pointer glow",i="f8 fw5 tracked-2 dib pt0 pb0 tc"
if(e.style){switch(e.style){case"outline-white":case"outline-white--s":t="bg-transparent dib white btn-base br3 ba b--white-60 pointer highlight-white",i="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"outline-blue":case"outline-blue--s":t="bg-transparent dib blue btn-base br3 ba b--lightgrey pointer glow",i="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"blue":case"blue--s":t="dib bw0 white br3 btn-base btn-blue pointer",i="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"green":case"green--s":t="dib bw0 white br3 btn-base btn-green pointer",i="f8 fw5 tracked-2 dib pt0 pb0 tc"
break
case"red":case"red--s":t="dib bw0 white br3 btn-base btn-red pointer",i="f8 fw5 tracked-2 dib pt0 pb0 tc"}"--s"===e.style.substr(e.style.length-3)&&(t=`${t} btn-small`)}return e.class&&(t=`${t} ${e.class}`),t=`sans-serif ${t} flex-shrink-0`,i=`${i} inline-flex items-center`,{button:t,span:i}}function i([e],i){return t(Object.assign({},{style:e},i)).button}Object.defineProperty(e,"__esModule",{value:!0}),e.btnStyles=t,e.default=void 0,e.uiBtn=i
var n=Ember.Helper.helper(i)
e.default=n})),define("ghost-admin/helpers/ui-text",["exports"],(function(e){function t([e]){let t=""
switch(e){case"h1":t="f-subheadline fw7 tracked-3 lh-heading ma0 pa0"
break
case"h2":t="f2 fw6 tracked-2 tracked-3 lh-title ma0 pa0"
break
case"h3":t="f5 fw6 tracked-2 lh-title ma0 pa0"
break
case"h4":t="f7 fw6 tracked-2 lh-copy ma0 pa0"
break
case"h5":t="f8 fw6 tracked-2 lh-copy ma0 pa0"
break
case"h6":t="f-small ttu fw4 tracked-3 lh-copy ma0 pa0"
break
case"tl":t="f6 fw3 lh-copy tracked-1 ma0 pa0"
break
case"t":t="f7 fw3 lh-copy tracked-1 ma0 pa0"
break
case"ts":t="f8 fw3 lh-copy tracked-2 ma0 pa0"
break
case"txs":t="f-small fw3 lh-copy tracked-3 ma0 pa0"}return t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.uiText=t
var i=Ember.Helper.helper(t)
e.default=i})),define("ghost-admin/helpers/underscore",["exports","ember-cli-string-helpers/helpers/underscore"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"underscore",{enumerable:!0,get:function(){return t.underscore}})})),define("ghost-admin/helpers/unix",["exports","ember-moment/helpers/unix.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/uppercase",["exports","ember-cli-string-helpers/helpers/uppercase"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"uppercase",{enumerable:!0,get:function(){return t.uppercase}})})),define("ghost-admin/helpers/utc",["exports","ember-moment/helpers/utc.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/helpers/w",["exports","ember-cli-string-helpers/helpers/w"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"w",{enumerable:!0,get:function(){return t.w}})})),define("ghost-admin/helpers/xor",["exports","ember-truth-helpers/helpers/xor"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"xor",{enumerable:!0,get:function(){return t.xor}})})),define("ghost-admin/initializers/app-version",["exports","ember-cli-app-version/initializer-factory","ghost-admin/config/environment"],(function(e,t,i){let n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i.default.APP&&(n=i.default.APP.name,r=i.default.APP.version)
var a={name:"App Version",initialize:(0,t.default)(n,r)}
e.default=a})),define("ghost-admin/initializers/container-debug-adapter",["exports","ember-resolver/resolvers/classic/container-debug-adapter"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"container-debug-adapter",initialize(){(arguments[1]||arguments[0]).register("container-debug-adapter:main",t.default)}}
e.default=i})),define("ghost-admin/initializers/coordinator-setup",["exports","ghost-admin/models/coordinator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i={name:"setup coordinator",initialize:function(){let e=arguments[1]||arguments[0]
e.register("drag:coordinator",t.default),e.inject("component","coordinator","drag:coordinator")}}
e.default=i})),define("ghost-admin/initializers/ember-cli-mirage",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-cli-mirage",initialize(){}}
e.default=t})),define("ghost-admin/initializers/ember-concurrency",["exports","ember-concurrency/initializers/ember-concurrency"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/initializers/ember-data-data-adapter",["exports","@ember-data/debug/setup"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/initializers/ember-data",["exports","ember-data","ember-data/setup-container"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n={name:"ember-data",initialize:i.default}
e.default=n})),define("ghost-admin/initializers/ember-simple-auth",["exports","ember-simple-auth/configuration","ghost-admin/config/environment","ghost-admin/utils/ghost-paths","ember-simple-auth/initializers/setup-session"],(function(e,t,i,n,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var a={name:"ember-simple-auth",initialize(e){let a=i.default["ember-simple-auth"]||{}
a.rootURL=(0,n.default)().adminRoot,t.default.load(a),(0,r.default)(e)}}
e.default=a})),define("ghost-admin/initializers/export-application-global",["exports","ghost-admin/config/environment"],(function(e,t){function i(){var e=arguments[1]||arguments[0]
if(!1!==t.default.exportApplicationGlobal){var i
if("undefined"!=typeof window)i=window
else if("undefined"!=typeof global)i=global
else{if("undefined"==typeof self)return
i=self}var n,r=t.default.exportApplicationGlobal
n="string"==typeof r?r:Ember.String.classify(t.default.modulePrefix),i[n]||(i[n]=e,e.reopen({willDestroy:function(){this._super.apply(this,arguments),delete i[n]}}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=i
var n={name:"export-application-global",initialize:i}
e.default=n})),define("ghost-admin/initializers/hide-loading-screen",["exports","ghost-admin/instance-initializers/hide-loading-screen"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=r
const i=/^([0-9]+)\.([0-9]+)\.([0-9]+)(?:(?:-(alpha|beta)\.([0-9]+)(?:\.([0-9]+))?)?)?(?:\+(canary))?(?:\.([0-9abcdef]+))?(?:-([A-Za-z0-9.-]+))?(?:\+([A-Za-z0-9.-]+))?$/.exec(Ember.VERSION),n=parseInt(i[1],10)<2&&parseInt(i[2],10)<12
function r(){if(n){let[e,i]=arguments
t.default.initialize(e,i)}}var a={name:"hide-loading-screen",initialize:r}
e.default=a})),define("ghost-admin/initializers/liquid-fire",["exports","liquid-fire/velocity-ext"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
e.default={name:"liquid-fire",initialize:function(){}}})),define("ghost-admin/initializers/trailing-hash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let t=Ember.HashLocation.extend({formatURL(){let e=this._super(...arguments)
return e.indexOf("?")>0?e.replace(/([^/])\?/,"$1/?"):e.replace(/\/?$/,"/")}})
var i={name:"registerTrailingHashLocation",initialize(e){e.register("location:trailing-hash",t)}}
e.default=i})),define("ghost-admin/initializers/upgrade-status",["exports"],(function(e){function t(e){e.inject("route","upgradeStatus","service:upgrade-status")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=t
var i={name:"upgrade-status",initialize:t}
e.default=i})),define("ghost-admin/initializers/usable-function-manager",["exports","ember-could-get-used-to-this/initializers/usable-function-manager"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})}))
define("ghost-admin/initializers/viewport-config",["exports","ember-in-viewport/initializers/viewport-config"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/instance-initializers/config",["exports","@tryghost/timezone-data","tracked-built-ins"],(function(e,t,i){function n(e){const n=new i.TrackedObject({})
Object.defineProperty(n,"availableTimezones",{get:()=>t.default,enumerable:!0}),Object.defineProperty(n,"blogDomain",{get(){return this.blogUrl.replace(/^https?:\/\//,"").replace(/\/?$/,"")},enumerable:!0}),Object.defineProperty(n,"emailDomain",{get(){const e=(this.blogDomain||"").match(new RegExp("^([^/:?#]+)(?:[/:?#]|$)","i")),t=e&&e[1]||""
return t.startsWith("www.")?t.replace(/^(www)\.(?=[^/]*\..{2,5})/,""):t},enumerable:!0}),Object.defineProperty(n,"getSiteUrl",{value:function(e){const t=new URL(this.blogUrl),i=`${t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`}${e.replace(/^\//,"")}`
return`${t.origin}${i}`}}),e.register("config:main",n,{instantiate:!1})}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=n
var r={name:"config",initialize:n}
e.default=r})),define("ghost-admin/instance-initializers/ella-sparse-array",["exports","ember-ella-sparse/instance-initializers/ella-sparse-array"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/instance-initializers/ember-data",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-data",initialize(){}}
e.default=t})),define("ghost-admin/instance-initializers/ember-simple-auth",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={name:"ember-simple-auth",initialize(){}}
e.default=t})),define("ghost-admin/instance-initializers/hide-loading-screen",["exports","ghost-admin/config/environment"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.initialize=n
const i=t.default["ember-load"]||{}
function n(){let e=arguments[1]||arguments[0],t=arguments[1]?arguments[0]:e.container
if(Ember.View){(t.lookupFactory?t.lookupFactory("view:application"):e.resolveRegistration("view:application")).reopen({didInsertElement(){this._super(...arguments)
let e=i.loadingIndicatorClass||"ember-load-indicator"
document.querySelectorAll(`.${e}`).forEach((e=>e.remove()))}})}}var r={name:"hide-loading-screen-instance",initialize:n}
e.default=r})),define("ghost-admin/instance-initializers/sentry-performance",["exports","@sentry/ember/instance-initializers/sentry-performance"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"initialize",{enumerable:!0,get:function(){return t.initialize}})})),define("ghost-admin/mixins/body-event-listener",["exports","jquery"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Mixin.create({bodyElementSelector:"html",bodyClick:function(){return this},init(){return this._super(...arguments),Ember.run.next(this,this._setupDocumentHandlers)},willDestroy(){return this._super(...arguments),this._removeDocumentHandlers()},_setupDocumentHandlers(){if(!this._clickHandler)return this._clickHandler=e=>this.bodyClick(e),(0,t.default)(this.bodyElementSelector).on("click",this._clickHandler)},_removeDocumentHandlers(){(0,t.default)(this.bodyElementSelector).off("click",this._clickHandler),this._clickHandler=null},click:e=>e.stopPropagation()})
e.default=i})),define("ghost-admin/mixins/dropdown-mixin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Mixin.create(Ember.Evented,{classNameBindings:["isOpen:open:closed"],isOpen:!1,click(e){return this._super(e),e.stopPropagation()}})
e.default=t})),define("ghost-admin/mixins/shortcuts-route",["exports","ghost-admin/mixins/shortcuts"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Mixin.create(t.default,{activate(){this._super(...arguments),this.registerShortcuts()},deactivate(){this._super(...arguments),this.removeShortcuts()}})
e.default=i})),define("ghost-admin/mixins/shortcuts",["exports","ghost-admin/utils/shortcuts"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,key.filter=function(){return!0},key.setScope("default")
var i=Ember.Mixin.create({registerShortcuts(){let e=this.shortcuts
Object.keys(e).forEach((i=>{let n,r=e[i].scope||"default",a=e[i]
"string"!==Ember.typeOf(a)&&(n=a.options,a=a.action),t.register(i),key(i,r,(e=>{e.preventDefault(),Ember.run(this,(function(){this.send(a,n)}))}))}))},removeShortcuts(){let e=this.shortcuts
Object.keys(e).forEach((i=>{let n=e[i].scope||"default"
t.unregister(i),key.unbind(i,n)}))},willDestroy(){this._super(...arguments),this.removeShortcuts()}})
e.default=i})),define("ghost-admin/mixins/text-input",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t={13:"Enter",9:"Tab"}
var i=Ember.Mixin.create({attributeBindings:["autofocus"],selectOnClick:!1,shouldFocus:!1,stopEnterKeyDownPropagation:!1,constructor(){this._super(...arguments),this._isIOS=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},autofocus:Ember.computed((function(){return!!this.shouldFocus&&(!this._isIOS&&"autofocus")})),didInsertElement(){this._super(...arguments),this._focus()},click(e){this.selectOnClick&&e.currentTarget.select()},input(e){this["on-input"]?.(e)},keyDown(e){if(13===e.keyCode&&this.stopEnterKeyDownPropagation)return e.stopPropagation(),!0
9===e.keyCode&&"function"==typeof this.get("keyEvents.Tab")&&e.preventDefault(),this._super(...arguments)},keyPress(e){13===e.keyCode&&"function"==typeof this.get("keyEvents.Enter")&&e.preventDefault(),this._super(...arguments)},keyUp(e){if(e.keyCode){let t=this._getMethodFromKeyCode(e.keyCode),i=this.get(`keyEvents.${t}`)
i&&i(e.target.value)}},_focus(){this.shouldFocus&&!this._isIOS&&this.element.focus()},_getMethodFromKeyCode:e=>t[e.toString()]})
e.default=i})),define("ghost-admin/mixins/validation-engine",["exports","ghost-admin/validators/collection","ghost-admin/validators/custom-view","ember-data","ghost-admin/validators/integration","ghost-admin/validators/invite-user","ghost-admin/validators/label","ghost-admin/validators/member","@ember-data/model","ghost-admin/validators/nav-item","ghost-admin/validators/newsletter","ghost-admin/validators/offer","ghost-admin/validators/post","ghost-admin/validators/reset","ghost-admin/validators/setting","ghost-admin/validators/setup","ghost-admin/validators/signin","ghost-admin/validators/signup","ghost-admin/validators/snippet","ghost-admin/validators/tag-settings","ghost-admin/validators/tier-benefit-item","ghost-admin/validators/tier","ghost-admin/validators/user","ghost-admin/validators/webhook"],(function(e,t,i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Errors:O}=n.default
var j=Ember.Mixin.create({validators:null,errors:null,hasValidated:null,init(){this._super(...arguments),this.set("errors",O.create()),this.set("hasValidated",Ember.A()),this.validators={customView:i.default,inviteUser:a.default,navItem:u.default,tierBenefitItem:w.default,post:p.default,reset:m.default,setting:h.default,setup:b.default,signin:g.default,signup:f.default,tag:y.default,collection:t.default,user:E.default,member:o.default,integration:r.default,webhook:P.default,label:s.default,snippet:v.default,tier:k.default,offer:d.default,newsletter:c.default}},validate(e){let t,i,n,r=this
return(e=e||{}).model?r=e.model:this instanceof l.default?r=this:this.model&&(r=this.model),i=this.validationType||r.validationType,n=this.get(`validators.${i}`)||r.validators[i],t=this.hasValidated,e.validationType=i,new Ember.RSVP.Promise(((a,s)=>{let o
return i&&n?(e.property?(t.addObject(e.property),r.errors.remove(e.property)):r.errors.clear(),o=n.check(r,e.property),o?a():s()):s([`The validator specified, "${i}", did not exist!`])}))},save(e){let{_super:t}=this
return(e=e||{}).wasSave=!0,this.isDeleted?this._super(...arguments):this.validate(e).then((()=>("function"==typeof this.beforeSave&&this.beforeSave(),t.call(this,e)))).catch((e=>{if(e&&!Ember.isArray(e))throw e
return Ember.RSVP.reject(e)}))},actions:{validate(e){this.validate({property:e})}}})
e.default=j})),define("ghost-admin/mixins/validation-state",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Mixin.create({errors:null,property:"",hasValidated:Ember.A(),hasError:!1,setHasError(){let e=this.property,t=this.errors,i=this.hasValidated
e||!t||t.get("isEmpty")?i&&i.includes(e)?!t||Ember.isEmpty(t.errorsFor(e))?this.set("hasError",!1):this.set("hasError",!0):this.set("hasError",!1):this.set("hasError",!0)},hasErrorObserver:Ember.on("init",Ember.observer("errors.[]","property","hasValidated.[]",(function(){Ember.run.once(this,"setHasError")})))})
e.default=t})),define("ghost-admin/models/action",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({resourceId:(0,t.attr)("string"),resourceType:(0,t.attr)("string"),actorId:(0,t.attr)("string"),actorType:(0,t.attr)("string"),event:(0,t.attr)("string"),context:(0,t.attr)("json-string"),createdAtUTC:(0,t.attr)("moment-utc")})
e.default=i})),define("ghost-admin/models/api-key",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({type:(0,t.attr)("string"),secret:(0,t.attr)("string"),lastSeenAtUTC:(0,t.attr)("moment-utc"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),integration:(0,t.belongsTo)("integration")})
e.default=i})),define("ghost-admin/models/base",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({get _meta(){return this._internalModel.type.___meta}})
e.default=i})),define("ghost-admin/models/collection",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"collection",title:(0,t.attr)("string"),slug:(0,t.attr)("string"),description:(0,t.attr)("string"),type:(0,t.attr)("string",{defaultValue:"manual"}),filter:(0,t.attr)("string"),featureImage:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),count:(0,t.attr)("raw"),posts:(0,t.attr)("raw"),postIds:Ember.computed("posts",(function(){return this.posts&&this.posts.length?this.posts.map((e=>e.id)):[]})),feature:Ember.inject.service()})
e.default=n})),define("ghost-admin/models/coordinator",["exports","ghost-admin/models/obj-hash"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Object.extend(Ember.Evented,{objectMap:Ember.computed((function(){return t.default.create()})),getObject:function(e,t){t=t||{}
var i=this.get("objectMap").getObj(e)
return i.ops.source&&i.ops.source.sendAction("action",i.obj),i.ops.target&&i.ops.target.sendAction("action",i.obj),this.trigger("objectMoved",{obj:i.obj,source:i.ops.source,target:t.target}),i.obj},setObject:function(e,t){return t=t||{},this.get("objectMap").add({obj:e,ops:t})}})
e.default=i})),define("ghost-admin/models/custom-theme-setting-list",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({customThemeSettings:(0,t.hasMany)("custom-theme-setting")})
e.default=i})),define("ghost-admin/models/custom-theme-setting",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({key:(0,t.attr)("string"),type:(0,t.attr)("string"),description:(0,t.attr)("string"),options:(0,t.attr)(),default:(0,t.attr)("string"),value:(0,t.attr)(),group:(0,t.attr)("string"),visibility:(0,t.attr)("string"),visible:(0,t.attr)("boolean",{defaultValue:!0})})
e.default=i})),define("ghost-admin/models/email",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({error:(0,t.attr)("string"),html:(0,t.attr)("string"),plaintext:(0,t.attr)("string"),stats:(0,t.attr)("json-string"),status:(0,t.attr)("string"),subject:(0,t.attr)("string"),submittedAtUTC:(0,t.attr)("moment-utc"),uuid:(0,t.attr)("string"),recipientFilter:(0,t.attr)("string"),emailCount:(0,t.attr)("number",{defaultValue:0}),deliveredCount:(0,t.attr)("number",{defaultValue:0}),openedCount:(0,t.attr)("number",{defaultValue:0}),failedCount:(0,t.attr)("number",{defaultValue:0}),trackOpens:(0,t.attr)("boolean"),trackClicks:(0,t.attr)("boolean"),feedbackEnabled:(0,t.attr)("boolean"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("string"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("string"),post:(0,t.belongsTo)("post"),isSuccess:Ember.computed.equal("status","submitted"),isFailure:Ember.computed.equal("status","failed"),openRate:Ember.computed("emailCount","openedCount",(function(){let{emailCount:e,openedCount:t}=this
return 0===e?0:Math.round(t/e*100)})),retry(){return this.store.adapterFor("email").retry(this)}})
e.default=i})),define("ghost-admin/models/integration",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"integration",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),type:(0,t.attr)("string"),iconImage:(0,t.attr)("string"),description:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),apiKeys:(0,t.hasMany)("api-key",{embedded:"always",async:!1}),webhooks:(0,t.hasMany)("webhook",{embedded:"always",async:!1}),adminKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","admin")})),contentKey:Ember.computed("apiKeys.[]",(function(){return this.apiKeys.findBy("type","content")}))})
e.default=n})),define("ghost-admin/models/invite",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({token:(0,t.attr)("string"),email:(0,t.attr)("string"),expires:(0,t.attr)("number"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),status:(0,t.attr)("string"),role:(0,t.belongsTo)("role",{async:!1}),ajax:Ember.inject.service(),ghostPaths:Ember.inject.service(),resend(){let e={email:this.email,role_id:this.role.id},t=this.get("ghostPaths.url").api("invites")
return this.ajax.del(`${t}${this.id}`).then((()=>this.ajax.post(t,{data:JSON.stringify({invites:[e]}),contentType:"application/json"})))}})
e.default=i})),define("ghost-admin/models/label",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"label",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),count:(0,t.attr)("raw"),feature:Ember.inject.service()})
e.default=n})),define("ghost-admin/models/member-subscription",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({customer:"customer_id",subscription:"subscription_id",plan:"plan_id",status:"subscription status",name:'plan nickname e.g. "Monthly"',interval:'how often plan charges e.g "month", "year"',amount:"amount in smallest denomination e.g. cents, so value for 5 dollars would be 500",currency:"e.g. usd",last4:"last four digits of card OR null",validUntil:"epoch timestamp of when current interval ends IN SECONDS"})
e.default=t})),define("ghost-admin/models/member-tier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({name:"Name of the tier",slug:"Slug for the tier"})
e.default=t})),define("ghost-admin/models/member",["exports","@ember-data/model","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend(i.default,{validationType:"member",name:(0,t.attr)("string"),email:(0,t.attr)("string"),note:(0,t.attr)("string"),status:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),lastSeenAtUTC:(0,t.attr)("moment-utc"),subscriptions:(0,t.attr)("member-subscription"),attribution:(0,t.attr)(),subscribed:(0,t.attr)("boolean",{defaultValue:!0}),comped:(0,t.attr)("boolean",{defaultValue:!1}),geolocation:(0,t.attr)("json-string"),emailCount:(0,t.attr)("number",{defaultValue:0}),emailOpenedCount:(0,t.attr)("number",{defaultValue:0}),emailOpenRate:(0,t.attr)("number"),avatarImage:(0,t.attr)("string"),tiers:(0,t.attr)("member-tier"),newsletters:(0,t.hasMany)("newsletter",{embedded:"always",async:!1}),emailSuppression:(0,t.attr)(),labels:(0,t.hasMany)("label",{embedded:"always",async:!1}),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),updateLabels(){let e=this.labels,t=e.filterBy("id",null)
e.removeObjects(t),t.invoke("deleteRecord")},fetchSigninUrl:(0,n.task)((function*(){let e=this.get("ghostPaths.url").api("members",this.id,"signin_urls")
return(yield this.ajax.request(e)).member_signin_urls[0]})).drop()})
e.default=r})),define("ghost-admin/models/mention",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({source:(0,t.attr)("string"),target:(0,t.attr)("string"),timestamp:(0,t.attr)("date"),resource:(0,t.attr)(),sourceTitle:(0,t.attr)("string"),sourceSiteTitle:(0,t.attr)("string"),sourceAuthor:(0,t.attr)("string"),sourceExcerpt:(0,t.attr)("string"),sourceFavicon:(0,t.attr)("string"),sourceFeaturedImage:(0,t.attr)("string"),payload:(0,t.attr)(),mentions:(0,t.attr)()})
e.default=i})),define("ghost-admin/models/navigation-item",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Object.extend(t.default,{label:"",url:"",isNew:!1,isSecondary:!1,validationType:"navItem",isComplete:Ember.computed("label","url",(function(){let{label:e,url:t}=this
return!Ember.isBlank(e)&&!Ember.isBlank(t)})),isBlank:Ember.computed("label","url",(function(){let{label:e,url:t}=this
return Ember.isBlank(e)&&Ember.isBlank(t)}))})
e.default=i}))
define("ghost-admin/models/newsletter",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee
function te(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ie(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function ne(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let re=(n=(0,t.attr)({defaultValue:"newsletter"}),r=(0,t.attr)({defaultValue:"active"}),a=(0,t.attr)({defaultValue:!0}),s=(0,t.attr)({defaultValue:"members"}),o=(0,t.attr)({defaultValue:0}),l=(0,t.attr)({defaultValue:!0}),u=(0,t.attr)({defaultValue:!0}),c=(0,t.attr)({defaultValue:!0}),d=(0,t.attr)({defaultValue:!0}),p=(0,t.attr)({defaultValue:!0}),m=(0,t.attr)({defaultValue:!0}),h=(0,t.attr)({defaultValue:!1}),b=(0,t.attr)({defaultValue:!1}),g=(0,t.attr)({defaultValue:"sans_serif"}),f=(0,t.attr)({defaultValue:"center"}),v=(0,t.attr)({defaultValue:!0}),y=(0,t.attr)({defaultValue:"sans_serif"}),w=(0,t.attr)({defaultValue:"light"}),k=(0,t.attr)({defaultValue:null}),E=(0,t.attr)({defaultValue:null}),P=(0,t.attr)({defaultValue:!0}),O=class extends(t.default.extend(i.default)){constructor(...e){super(...e),ie(this,"validationType","newsletter"),te(this,"name",j,this),te(this,"slug",_,this),te(this,"description",T,this),te(this,"senderName",z,this),te(this,"senderEmail",x,this),te(this,"senderReplyTo",S,this),te(this,"status",C,this),te(this,"subscribeOnSignup",M,this),te(this,"visibility",D,this),te(this,"sortOrder",A,this),te(this,"feedbackEnabled",I,this),te(this,"headerImage",N,this),te(this,"showHeaderIcon",L,this),te(this,"showHeaderTitle",R,this),te(this,"showHeaderName",U,this),te(this,"showPostTitleSection",F,this),te(this,"showCommentCta",B,this),te(this,"showSubscriptionDetails",V,this),te(this,"showLatestPosts",H,this),te(this,"titleFontCategory",q,this),te(this,"titleAlignment",$,this),te(this,"showFeatureImage",Y,this),te(this,"bodyFontCategory",W,this),te(this,"backgroundColor",G,this),te(this,"borderColor",K,this),te(this,"titleColor",J,this),te(this,"footerContent",X,this),te(this,"showBadge",Z,this)
te(this,"count",Q,this),te(this,"_meta",ee,this)}get recipientFilter(){const e=[`newsletters.slug:${this.slug}`,"email_disabled:0"]
return"paid"===this.visibility&&e.push("status:-free"),e.join("+")}},j=ne(O.prototype,"name",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=ne(O.prototype,"slug",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=ne(O.prototype,"description",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=ne(O.prototype,"senderName",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=ne(O.prototype,"senderEmail",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=ne(O.prototype,"senderReplyTo",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=ne(O.prototype,"status",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=ne(O.prototype,"subscribeOnSignup",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=ne(O.prototype,"visibility",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=ne(O.prototype,"sortOrder",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=ne(O.prototype,"feedbackEnabled",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=ne(O.prototype,"headerImage",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=ne(O.prototype,"showHeaderIcon",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=ne(O.prototype,"showHeaderTitle",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=ne(O.prototype,"showHeaderName",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=ne(O.prototype,"showPostTitleSection",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=ne(O.prototype,"showCommentCta",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=ne(O.prototype,"showSubscriptionDetails",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=ne(O.prototype,"showLatestPosts",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=ne(O.prototype,"titleFontCategory",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=ne(O.prototype,"titleAlignment",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=ne(O.prototype,"showFeatureImage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=ne(O.prototype,"bodyFontCategory",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=ne(O.prototype,"backgroundColor",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=ne(O.prototype,"borderColor",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=ne(O.prototype,"titleColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=ne(O.prototype,"footerContent",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=ne(O.prototype,"showBadge",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=ne(O.prototype,"count",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=ne(O.prototype,"_meta",[t.attr],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O)
e.default=re})),define("ghost-admin/models/notification",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({custom:(0,t.attr)("boolean"),dismissible:(0,t.attr)("boolean"),key:(0,t.attr)("string"),message:(0,t.attr)("string"),status:(0,t.attr)("string"),type:(0,t.attr)("string")})
e.default=i})),define("ghost-admin/models/obj-hash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({contentLength:0,length:Ember.computed.alias("contentLength"),init:function(){this._super(),this.content={}},add:function(e){var t=this.generateId()
return this.get("content")[t]=e,this.incrementProperty("contentLength"),t},getObj:function(e){var t=this.get("content")[e]
if(!t)throw"no obj for key "+e
return t},generateId:function(){var e=1e12*Math.random()
return e=""+(e=parseInt(e))},keys:function(){var e=[]
for(var t in this.get("content"))e.push(t)
return Ember.A(e)}})
e.default=t})),define("ghost-admin/models/offer",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"offer",name:(0,t.attr)("string"),code:(0,t.attr)("string"),cadence:(0,t.attr)("string"),status:(0,t.attr)("string",{defaultValue:"active"}),tier:(0,t.attr)(),stripeCouponId:(0,t.attr)("string"),redemptionCount:(0,t.attr)("number"),currency:(0,t.attr)("string"),type:(0,t.attr)("string",{defaultValue:"percent"}),amount:(0,t.attr)("number"),duration:(0,t.attr)("string",{defaultValue:"once"}),durationInMonths:(0,t.attr)("number"),displayTitle:(0,t.attr)("string"),displayDescription:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc")})
e.default=n})),define("ghost-admin/models/page",["exports","ghost-admin/models/post"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({displayName:"page"})
e.default=i})),define("ghost-admin/models/post-revision",["exports","@ember-data/model"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w
function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(i=(0,t.attr)("string"),n=(0,t.attr)("string"),r=(0,t.attr)("string"),a=(0,t.attr)("string"),s=(0,t.attr)("string"),o=(0,t.attr)("string"),l=(0,t.attr)("moment-utc"),u=(0,t.belongsTo)("user"),c=(0,t.attr)("string"),d=class extends t.default{constructor(...e){super(...e),k(this,"lexical",p,this),k(this,"title",m,this),k(this,"featureImage",h,this),k(this,"featureImageAlt",b,this),k(this,"featureImageCaption",g,this),k(this,"reason",f,this),k(this,"createdAt",v,this),k(this,"author",y,this),k(this,"postStatus",w,this)}},p=E(d.prototype,"lexical",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=E(d.prototype,"title",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(d.prototype,"featureImage",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(d.prototype,"featureImageAlt",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(d.prototype,"featureImageCaption",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(d.prototype,"reason",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(d.prototype,"createdAt",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(d.prototype,"author",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=E(d.prototype,"postStatus",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d)
e.default=P})),define("ghost-admin/models/post",["exports","@ember-data/model","ghost-admin/mixins/validation-engine","ghost-admin/utils/bound-one-way","moment-timezone","koenig-editor/components/koenig-editor","ghost-admin/decorators/inject"],(function(e,t,i,n,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Comparable:o}=Ember
var l=t.default.extend(o,i.default,{session:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),clock:Ember.inject.service(),settings:Ember.inject.service(),membersUtils:Ember.inject.service(),config:(0,s.inject)(),displayName:"post",validationType:"post",count:(0,t.attr)(),sentiment:(0,t.attr)(),createdAtUTC:(0,t.attr)("moment-utc"),excerpt:(0,t.attr)("string"),customExcerpt:(0,t.attr)("string"),featured:(0,t.attr)("boolean",{defaultValue:!1}),canonicalUrl:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string",{defaultValue:""}),codeinjectionHead:(0,t.attr)("string",{defaultValue:""}),customTemplate:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),emailSubject:(0,t.attr)("string"),html:(0,t.attr)("string"),visibility:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),metaTitle:(0,t.attr)("string"),mobiledoc:(0,t.attr)("json-string",{defaultValue:e=>e.feature.lexicalEditor?null:JSON.parse(JSON.stringify(a.BLANK_DOC))}),lexical:(0,t.attr)("string",{defaultValue:e=>e.feature.lexicalEditor?'{"root":{"children":[{"children":[],"direction":null,"format":"","indent":0,"type":"paragraph","version":1}],"direction":null,"format":"","indent":0,"type":"root","version":1}}':null}),plaintext:(0,t.attr)("string"),publishedAtUTC:(0,t.attr)("moment-utc"),slug:(0,t.attr)("string"),status:(0,t.attr)("string",{defaultValue:"draft"}),title:(0,t.attr)("string",{defaultValue:""}),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),url:(0,t.attr)("string"),uuid:(0,t.attr)("string"),emailSegment:(0,t.attr)("members-segment-string",{defaultValue:null}),emailOnly:(0,t.attr)("boolean",{defaultValue:!1}),featureImage:(0,t.attr)("string"),featureImageAlt:(0,t.attr)("string"),featureImageCaption:(0,t.attr)("string"),showTitleAndFeatureImage:(0,t.attr)("boolean",{defaultValue:!0}),authors:(0,t.hasMany)("user",{embedded:"always",async:!1}),createdBy:(0,t.belongsTo)("user",{async:!0}),email:(0,t.belongsTo)("email",{async:!1}),newsletter:(0,t.belongsTo)("newsletter",{embedded:"always",async:!1}),publishedBy:(0,t.belongsTo)("user",{async:!0}),tags:(0,t.hasMany)("tag",{embedded:"always",async:!1}),postRevisions:(0,t.hasMany)("post_revisions",{embedded:"always",async:!1}),primaryAuthor:Ember.computed.reads("authors.firstObject"),primaryTag:Ember.computed.reads("tags.firstObject"),scratch:null,lexicalScratch:null,titleScratch:null,statusScratch:null,publishedAtBlogDate:"",publishedAtBlogTime:"",canonicalUrlScratch:(0,n.default)("canonicalUrl"),customExcerptScratch:(0,n.default)("customExcerpt"),codeinjectionFootScratch:(0,n.default)("codeinjectionFoot"),codeinjectionHeadScratch:(0,n.default)("codeinjectionHead"),metaDescriptionScratch:(0,n.default)("metaDescription"),metaTitleScratch:(0,n.default)("metaTitle"),ogDescriptionScratch:(0,n.default)("ogDescription"),ogTitleScratch:(0,n.default)("ogTitle"),twitterDescriptionScratch:(0,n.default)("twitterDescription"),twitterTitleScratch:(0,n.default)("twitterTitle"),tiers:(0,t.attr)("member-tier"),emailSubjectScratch:(0,n.default)("emailSubject"),isPublished:Ember.computed.equal("status","published"),isDraft:Ember.computed.equal("status","draft"),internalTags:Ember.computed.filterBy("tags","isInternal",!0),isScheduled:Ember.computed.equal("status","scheduled"),isSent:Ember.computed.equal("status","sent"),isPost:Ember.computed.equal("displayName","post"),isPage:Ember.computed.equal("displayName","page"),hasEmail:Ember.computed("email","emailOnly",(function(){return null!==this.email||this.emailOnly})),willEmail:Ember.computed("isScheduled","newsletter","email",(function(){return this.isScheduled&&!!this.newsletter&&!this.email})),hasBeenEmailed:Ember.computed("isPost","isSent","isPublished","email",(function(){return this.isPost&&(this.isSent||this.isPublished)&&this.email&&"failed"!==this.email.status})),didEmailFail:Ember.computed("isPost","isSent","isPublished","email.status",(function(){return this.isPost&&(this.isSent||this.isPublished)&&this.email&&"failed"===this.email.status})),showAudienceFeedback:Ember.computed("sentiment",(function(){return this.feature.get("audienceFeedback")&&void 0!==this.sentiment})),showEmailOpenAnalytics:Ember.computed("hasBeenEmailed","isSent","isPublished",(function(){return this.hasBeenEmailed&&!this.session.user.isContributor&&"none"!==this.settings.membersSignupAccess&&"disabled"!==this.settings.editorDefaultEmailRecipients&&this.hasBeenEmailed&&this.email.trackOpens&&this.settings.emailTrackOpens})),showEmailClickAnalytics:Ember.computed("hasBeenEmailed","isSent","isPublished","email",(function(){return this.hasBeenEmailed&&!this.session.user.isContributor&&"none"!==this.settings.membersSignupAccess&&"disabled"!==this.settings.editorDefaultEmailRecipients&&(this.isSent||this.isPublished)&&this.email.trackClicks&&this.settings.emailTrackClicks})),showAttributionAnalytics:Ember.computed("isPage","emailOnly","isPublished","membersUtils.isMembersInviteOnly","settings.membersTrackSources",(function(){return(this.isPage||!this.emailOnly)&&this.isPublished&&this.settings.membersTrackSources&&!this.membersUtils.isMembersInviteOnly&&!this.session.user.isContributor})),showPaidAttributionAnalytics:Ember.computed.and("showAttributionAnalytics","membersUtils.paidMembersEnabled"),hasAnalyticsPage:Ember.computed("isPost","showEmailOpenAnalytics","showEmailClickAnalytics","showAttributionAnalytics",(function(){return this.isPost&&this.session.user.isAdmin&&(this.showEmailOpenAnalytics||this.showEmailClickAnalytics||this.showAttributionAnalytics)})),previewUrl:Ember.computed("uuid","ghostPaths.url","config.blogUrl",(function(){let e=this.config.blogUrl,t=this.uuid
return t?this.get("ghostPaths.url").join(e,"p",t):""})),isFeedbackEnabledForEmail:Ember.computed.reads("email.feedbackEnabled"),isPublic:Ember.computed("visibility",(function(){return"public"===this.visibility})),visibilitySegment:Ember.computed("visibility","isPublic","tiers",(function(){if(this.isPublic)return"paid"===this.settings.defaultContentVisibility?"status:-free":"status:free,status:-free"
if("members"===this.visibility)return"status:free,status:-free"
if("paid"===this.visibility)return"status:-free"
if("tiers"===this.visibility&&this.tiers){return this.tiers.map((e=>`tier:${e.slug}`)).join(",")}return this.visibility})),fullRecipientFilter:Ember.computed("newsletter.recipientFilter","emailSegment",(function(){return this.newsletter?`${this.newsletter.recipientFilter}+(${this.emailSegment})`:this.emailSegment})),pastScheduledTime:Ember.computed("isScheduled","publishedAtUTC","clock.second",(function(){if(this.isScheduled){let e=r.default.utc(),t=(this.publishedAtUTC||e).diff(e,"hours",!0)<0
return this.get("clock.second"),t}return!1})),publishedAtBlogTZ:Ember.computed("publishedAtBlogDate","publishedAtBlogTime","settings.timezone",{get(){return this._getPublishedAtBlogTZ()},set(e,t){let i=t?(0,r.default)(t):null
return this._setPublishedAtBlogStrings(i),this._getPublishedAtBlogTZ()}}),clickRate:Ember.computed("email.emailCount","count.clicks",(function(){return this.email&&this.email.emailCount&&this.count&&this.count.clicks?Math.round(this.count.clicks/this.email.emailCount*100):0})),_getPublishedAtBlogTZ(){let e=this.publishedAtUTC,t=this.publishedAtBlogDate,i=this.publishedAtBlogTime,n=this.settings.timezone
if(!e&&Ember.isBlank(t)&&Ember.isBlank(i))return null
if(t&&i){let a=r.default.tz(`${t} ${i}`,n)
return e&&0===a.diff(e.clone().startOf("minutes"))?e:a}return r.default.tz(this.publishedAtUTC,n)},_setPublishedAtBlogTZ:Ember.on("init",Ember.observer("publishedAtUTC","settings.timezone",(function(){let e=this.publishedAtUTC
this._setPublishedAtBlogStrings(e)}))),_setPublishedAtBlogStrings(e){if(e){let t=this.settings.timezone,i=r.default.tz(e,t)
this.set("publishedAtBlogDate",i.format("YYYY-MM-DD")),this.set("publishedAtBlogTime",i.format("HH:mm"))}else this.set("publishedAtBlogDate",""),this.set("publishedAtBlogTime","")},updateTags(){let e=this.tags,t=e.filterBy("id",null)
e.removeObjects(t),t.invoke("deleteRecord")},isAuthoredByUser(e){return this.authors.includes(e)},compare(e,t){let i,n,r,a,s=e.get("updatedAtUTC"),o=t.get("updatedAtUTC")
return e.get("isNew")||!s?-1:t.get("isNew")||!o?1:(i=Ember.compare(e.get("id"),t.get("id")),r=function(e,t){let i=e.get("status"),n=t.get("status")
return i||n?!i&&n?-1:!n&&i?1:"scheduled"!==i||"draft"!==n&&"published"!==n?"scheduled"!==n||"draft"!==i&&"published"!==i?Ember.compare(i.valueOf(),n.valueOf()):1:-1:0}(e,t),a=Ember.compare(s.valueOf(),o.valueOf()),n=function(e,t){let i=e.get("publishedAtUTC"),n=t.get("publishedAtUTC")
return i||n?!i&&n?-1:!n&&i?1:Ember.compare(i.valueOf(),n.valueOf()):0}(e,t),0===r?0===n?0===a?-1*i:-1*a:-1*n:r)},beforeSave(){let e=this.publishedAtBlogTZ,t=e?e.utc():null
this.set("publishedAtUTC",t)}})
e.default=l})),define("ghost-admin/models/role",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({name:(0,t.attr)("string"),description:(0,t.attr)("string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),lowerCaseName:Ember.computed("name",(function(){return(this.name||"").toLocaleLowerCase()}))})
e.default=i})),define("ghost-admin/models/setting",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"setting",title:(0,t.attr)("string"),description:(0,t.attr)("string"),logo:(0,t.attr)("string"),coverImage:(0,t.attr)("string"),icon:(0,t.attr)("string"),accentColor:(0,t.attr)("string"),locale:(0,t.attr)("string"),timezone:(0,t.attr)("string",{defaultValue:"Etc/UTC"}),codeinjectionHead:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string"),facebook:(0,t.attr)("facebook-url-user"),twitter:(0,t.attr)("twitter-url-user"),labs:(0,t.attr)("string"),navigation:(0,t.attr)("navigation-settings"),secondaryNavigation:(0,t.attr)("navigation-settings",{isSecondary:!0}),isPrivate:(0,t.attr)("boolean"),publicHash:(0,t.attr)("string"),password:(0,t.attr)("string"),slackUrl:(0,t.attr)("string"),slackUsername:(0,t.attr)("string"),amp:(0,t.attr)("boolean"),ampGtagId:(0,t.attr)("string"),firstpromoter:(0,t.attr)("boolean"),firstpromoterId:(0,t.attr)("string"),unsplash:(0,t.attr)("boolean"),metaTitle:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),mailgunApiKey:(0,t.attr)("string"),mailgunDomain:(0,t.attr)("string"),mailgunBaseUrl:(0,t.attr)("string"),portalButton:(0,t.attr)("boolean"),portalName:(0,t.attr)("boolean"),portalPlans:(0,t.attr)("json-string"),portalProducts:(0,t.attr)("json-string"),portalButtonStyle:(0,t.attr)("string"),portalButtonIcon:(0,t.attr)("string"),portalButtonSignupText:(0,t.attr)("string"),portalSignupTermsHtml:(0,t.attr)("string"),portalSignupCheckboxRequired:(0,t.attr)("boolean"),sharedViews:(0,t.attr)("string"),announcementContent:(0,t.attr)("string"),announcementBackground:(0,t.attr)("string"),announcementVisibility:(0,t.attr)("json-string"),emailTrackOpens:(0,t.attr)("boolean"),emailTrackClicks:(0,t.attr)("boolean"),outboundLinkTagging:(0,t.attr)("boolean"),membersTrackSources:(0,t.attr)("boolean"),membersSignupAccess:(0,t.attr)("string"),defaultContentVisibility:(0,t.attr)("string"),defaultContentVisibilityTiers:(0,t.attr)("json-string"),membersSupportAddress:(0,t.attr)("string"),membersMonthlyPriceId:(0,t.attr)("string"),membersYearlyPriceId:(0,t.attr)("string"),stripeSecretKey:(0,t.attr)("string"),stripePublishableKey:(0,t.attr)("string"),stripePlans:(0,t.attr)("json-string"),stripeConnectIntegrationToken:(0,t.attr)("string"),stripeConnectPublishableKey:(0,t.attr)("string"),stripeConnectSecretKey:(0,t.attr)("string"),stripeConnectLivemode:(0,t.attr)("boolean"),stripeConnectDisplayName:(0,t.attr)("string"),stripeConnectAccountId:(0,t.attr)("string"),membersEnabled:(0,t.attr)("boolean"),paidMembersEnabled:(0,t.attr)("boolean"),membersInviteOnly:(0,t.attr)("boolean"),commentsEnabled:(0,t.attr)(),editorDefaultEmailRecipients:(0,t.attr)("string"),editorDefaultEmailRecipientsFilter:(0,t.attr)("members-segment-string"),emailVerificationRequired:(0,t.attr)("boolean"),pintura:(0,t.attr)("boolean"),pinturaJsUrl:(0,t.attr)("string"),pinturaCssUrl:(0,t.attr)("string"),donationsEnabled:(0,t.attr)("boolean"),donationsCurrency:(0,t.attr)("string"),donationsSuggestedAmount:(0,t.attr)("number"),recommendationsEnabled:(0,t.attr)("boolean"),_meta:(0,t.attr)()})
e.default=n})),define("ghost-admin/models/snippet",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"snippet",name:(0,t.attr)("string"),mobiledoc:(0,t.attr)("json-string"),lexical:(0,t.attr)("json-string"),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc")})
e.default=n})),define("ghost-admin/models/tag",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"tag",name:(0,t.attr)("string"),slug:(0,t.attr)("string"),description:(0,t.attr)("string"),metaTitle:(0,t.attr)("string"),metaDescription:(0,t.attr)("string"),twitterImage:(0,t.attr)("string"),twitterTitle:(0,t.attr)("string"),twitterDescription:(0,t.attr)("string"),ogImage:(0,t.attr)("string"),ogTitle:(0,t.attr)("string"),ogDescription:(0,t.attr)("string"),codeinjectionHead:(0,t.attr)("string"),codeinjectionFoot:(0,t.attr)("string"),canonicalUrl:(0,t.attr)("string"),accentColor:(0,t.attr)("string"),featureImage:(0,t.attr)("string"),visibility:(0,t.attr)("string",{defaultValue:"public"}),createdAtUTC:(0,t.attr)("moment-utc"),updatedAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedBy:(0,t.attr)("number"),count:(0,t.attr)("raw"),isInternal:Ember.computed.equal("visibility","internal"),isPublic:Ember.computed.equal("visibility","public"),feature:Ember.inject.service(),updateVisibility(){this.set("visibility",/^#.?/.test(this.name)?"internal":"public")},save(){return this.get("changedAttributes.name")&&!this.isDeleted&&this.updateVisibility(),this._super(...arguments)}})
e.default=n})),define("ghost-admin/models/theme",["exports","@ember-data/model"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.extend({active:(0,t.attr)("boolean"),gscanErrors:(0,t.attr)("raw",{defaultValue:()=>[]}),name:(0,t.attr)("string"),package:(0,t.attr)("raw"),templates:(0,t.attr)("raw",{defaultValue:()=>[]}),warnings:(0,t.attr)("raw",{defaultValue:()=>[]}),customTemplates:Ember.computed("templates.[]",(function(){return(this.templates||[]).filter((function(e){return Ember.isBlank(e.slug)}))})),slugTemplates:Ember.computed("templates.[]",(function(){return(this.templates||[]).filter((function(e){return!Ember.isBlank(e.slug)}))})),codedWarnings:Ember.computed("warnings.[]",(function(){const e={}
return this.warnings.forEach((t=>{e[t.code]||(e[t.code]=[]),e[t.code].push(t)})),e})),codedErrors:Ember.computed("gscanErrors.[]",(function(){const e={}
return this.gscanErrors.forEach((t=>{e[t.code]||(e[t.code]=[]),e[t.code].push(t)})),e})),codedErrorsAndWarnings:Ember.computed("codedErrors.[]","codedWarnings.[]",(function(){const e={}
return Object.keys(this.codedErrors).forEach((t=>{e[t]||(e[t]=[]),e[t]=[...e[t],...this.codedErrors[t]]})),Object.keys(this.codedWarnings).forEach((t=>{e[t]||(e[t]=[]),e[t]=[...e[t],...this.codedWarnings[t]]})),e})),hasPageBuilderFeature(e){const t=this.codedErrorsAndWarnings
return!t["GS110-NO-MISSING-PAGE-BUILDER-USAGE"]||!t["GS110-NO-MISSING-PAGE-BUILDER-USAGE"].some((t=>t.failures.some((({message:t})=>t.includes(`@page.${e}`)))))},activate(){return this.store.adapterFor(this.constructor.modelName).activate(this).then((()=>(this.store.peekAll("theme").filterBy("active",!0).forEach((e=>{e!==this&&this.store.push({data:{id:e.id,type:"theme",attributes:{active:!1}}})})),this)))}})
e.default=i})),define("ghost-admin/models/tier-benefit-item",["exports","ghost-admin/mixins/validation-engine"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=Ember.Object.extend(t.default,{name:"",isNew:!1,validationType:"tierBenefitItem",isComplete:Ember.computed("name",(function(){let{name:e}=this
return!Ember.isBlank(e)})),isBlank:Ember.computed("name",(function(){let{name:e}=this
return Ember.isBlank(e)}))})
e.default=i})),define("ghost-admin/models/tier",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"tier",name:(0,t.attr)("string"),description:(0,t.attr)("string"),active:(0,t.attr)("boolean"),slug:(0,t.attr)("string"),welcomePageURL:(0,t.attr)("string"),visibility:(0,t.attr)("string",{defaultValue:"none"}),type:(0,t.attr)("string",{defaultValue:"paid"}),currency:(0,t.attr)("string"),monthlyPrice:(0,t.attr)("number"),yearlyPrice:(0,t.attr)("number"),trialDays:(0,t.attr)("number",{defaultValue:0}),benefits:(0,t.attr)("tier-benefits")})
e.default=n})),define("ghost-admin/models/user",["exports","ghost-admin/models/base","ghost-admin/mixins/validation-engine","ghost-admin/config/environment","@ember-data/model","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var o=t.default.extend(i.default,{validationType:"user",name:(0,r.attr)("string"),slug:(0,r.attr)("string"),email:(0,r.attr)("string"),profileImage:(0,r.attr)("string"),coverImage:(0,r.attr)("string"),bio:(0,r.attr)("string"),website:(0,r.attr)("string"),location:(0,r.attr)("string"),accessibility:(0,r.attr)("string"),status:(0,r.attr)("string"),metaTitle:(0,r.attr)("string"),metaDescription:(0,r.attr)("string"),lastLoginUTC:(0,r.attr)("moment-utc"),createdAtUTC:(0,r.attr)("moment-utc"),createdBy:(0,r.attr)("number"),updatedAtUTC:(0,r.attr)("moment-utc"),updatedBy:(0,r.attr)("number"),roles:(0,r.hasMany)("role",{embedded:"always",async:!1}),count:(0,r.attr)("raw"),facebook:(0,r.attr)("facebook-url-user"),twitter:(0,r.attr)("twitter-url-user"),tour:(0,r.attr)("json-string"),commentNotifications:(0,r.attr)(),freeMemberSignupNotification:(0,r.attr)(),paidSubscriptionStartedNotification:(0,r.attr)(),paidSubscriptionCanceledNotification:(0,r.attr)(),mentionNotifications:(0,r.attr)(),milestoneNotifications:(0,r.attr)(),donationNotifications:(0,r.attr)(),ghostPaths:Ember.inject.service(),ajax:Ember.inject.service(),session:Ember.inject.service(),notifications:Ember.inject.service(),config:(0,a.inject)(),isContributor:Ember.computed.equal("role.name","Contributor"),isAuthor:Ember.computed.equal("role.name","Author"),isEditor:Ember.computed.equal("role.name","Editor"),isAdminOnly:Ember.computed.equal("role.name","Administrator"),isOwnerOnly:Ember.computed.equal("role.name","Owner"),isAdmin:Ember.computed.or("isOwnerOnly","isAdminOnly"),isAuthorOrContributor:Ember.computed.or("isAuthor","isContributor"),isLoggedIn:Ember.computed("id","session.user.id",(function(){return this.id===this.get("session.user.id")})),isActive:Ember.computed("status",(function(){return["active","warn-1","warn-2","warn-3","warn-4","locked"].indexOf(this.status)>-1})),isSuspended:Ember.computed.equal("status","inactive"),isLocked:Ember.computed.equal("status","locked"),role:Ember.computed("roles",{get(){return this.get("roles.firstObject")},set(e,t){return this.roles.clear(),this.roles.pushObject(t),t}}),profileImageUrl:Ember.computed("ghostPaths.assetRoot","profileImage",(function(){let e=(n.default.cdnUrl?"":this.ghostPaths.assetRoot.replace(/\/$/,""))+"/img/user-image-639a88b784fb5f10964be8b975ca9fdf.png"
return this.profileImage||e})),coverImageUrl:Ember.computed("ghostPaths.assetRoot","coverImage",(function(){let e=(n.default.cdnUrl?"":this.ghostPaths.assetRoot.replace(/\/$/,""))+"/img/user-cover-e8f42b12b5fcba292a8b5dfa81e13dd2.png"
return this.coverImage||e})),saveNewPasswordTask:(0,s.task)((function*(){const e=this.isLoggedIn?"ownPasswordChange":"passwordChange"
try{yield this.validate({property:e})}catch(t){return}try{let e=this.ghostPaths.url.api("users","password")
return yield this.ajax.put(e,{data:{password:[{user_id:this.id,oldPassword:this.password,newPassword:this.newPassword,ne2Password:this.ne2Password}]}}),this.password="",this.newPassword="",this.ne2Password="",this.notifications.showNotification("Password updated",{type:"success",key:"user.change-password.success"}),this.errors.remove("ne2Password"),!0}catch(i){this.notifications.showAPIError(i,{key:"user.change-password"})}})).drop()})
e.default=o})),define("ghost-admin/models/webhook",["exports","@ember-data/model","ghost-admin/mixins/validation-engine"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.extend(i.default,{validationType:"webhook",name:(0,t.attr)("string"),event:(0,t.attr)("string"),targetUrl:(0,t.attr)("string"),secret:(0,t.attr)("string"),lastTriggeredAtUTC:(0,t.attr)("moment-utc"),createdAtUTC:(0,t.attr)("moment-utc"),createdBy:(0,t.attr)("number"),updatedAtUTC:(0,t.attr)("moment-utc"),updatedBy:(0,t.attr)("number"),integration:(0,t.belongsTo)("integration")})
e.default=n})),define("ghost-admin/modifiers/autofocus",["exports","ember-modifier"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=(0,t.modifier)((e=>e.focus()),{eager:!1})
e.default=i})),define("ghost-admin/modifiers/basic-dropdown-trigger",["exports","ember-basic-dropdown/modifiers/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/css-transition",["exports","ember-css-transitions/modifiers/css-transition"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/did-insert",["exports","@ember/render-modifiers/modifiers/did-insert"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/did-update",["exports","@ember/render-modifiers/modifiers/did-update"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/in-viewport",["exports","ember-in-viewport/modifiers/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/movable",["exports","ember-modifier"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,n=Ember._action,r=Ember._action,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(e,t){var i,n,r,a
super(e,t),i=this,n="dropdown",a=this,(r=l)&&Object.defineProperty(i,n,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0}),u(this,"moveThreshold",3),u(this,"active",!1),u(this,"currentX",void 0),u(this,"currentY",void 0),u(this,"initialX",void 0),u(this,"initialY",void 0),u(this,"xOffset",0),u(this,"yOffset",0),u(this,"cleanup",(()=>{this.removeEventListeners(),this.removeResizeObserver(),this.enableSelection()})),Ember._registerDestructor(this,this.cleanup)}modify(e,t,i){this.didSetup||(this.elem=e,this.addStartEventListeners(),i.adjustOnResize&&(this._resizeObserver=new ResizeObserver((()=>{if(void 0===this.currentX||void 0===this.currentY)return
const{x:t,y:n}=i.adjustOnResize(e,{x:this.currentX,y:this.currentY})
t===this.currentX&&n===this.currentY||(this.currentX=t,this.initialX=t,this.xOffset=t,this.currentY=n,this.initialY=n,this.yOffset=n,this.setTranslate(t,n))})),this._resizeObserver.observe(e)),this.didSetup=!0)}addStartEventListeners(){this.elem.addEventListener("touchstart",this.dragStart,!1),this.elem.addEventListener("mousedown",this.dragStart,!1)}removeStartEventListeners(){this.elem.removeEventListener("touchstart",this.dragStart,!1),this.elem.removeEventListener("mousedown",this.dragStart,!1)}addActiveEventListeners(){window.addEventListener("touchend",this.dragEnd,{capture:!0,passive:!1}),window.addEventListener("touchmove",this.drag,{capture:!0,passive:!1}),window.addEventListener("mouseup",this.dragEnd,{capture:!0,passive:!1}),window.addEventListener("mousemove",this.drag,{capture:!0,passive:!1})}removeActiveEventListeners(){window.removeEventListener("touchend",this.dragEnd,{capture:!0,passive:!1}),window.removeEventListener("touchmove",this.drag,{capture:!0,passive:!1}),window.removeEventListener("mouseup",this.dragEnd,{capture:!0,passive:!1}),window.removeEventListener("mousemove",this.drag,{capture:!0,passive:!1}),setTimeout((()=>{window.removeEventListener("click",this.cancelClick,{capture:!0,passive:!1})}),1)}removeEventListeners(){this.removeStartEventListeners(),this.removeActiveEventListeners()}removeResizeObserver(){this._resizeObserver?.disconnect()}dragStart(e){if("touchstart"===e.type||0===e.button){"touchstart"===e.type?(this.initialX=e.touches[0].clientX-this.xOffset,this.initialY=e.touches[0].clientY-this.yOffset):(this.initialX=e.clientX-this.xOffset,this.initialY=e.clientY-this.yOffset)
for(const t of e.path||e.composedPath()){if(t.matches("input, .ember-basic-dropdown-trigger"))break
if(t===this.elem){this.addActiveEventListeners()
break}}}}drag(e){let t,i
e.preventDefault(),"touchmove"===e.type?(t=e.touches[0].clientX,i=e.touches[0].clientY):(t=e.clientX,i=e.clientY),this.active||(Math.abs(Math.abs(this.initialX-t)-Math.abs(this.xOffset))>this.moveThreshold||Math.abs(Math.abs(this.initialY-i)-Math.abs(this.yOffset))>this.moveThreshold)&&(this.dropdown.closeDropdowns(),this.disableScroll(),this.disableSelection(),this.disablePointerEvents(),this.active=!0),this.active&&(this.currentX=t-this.initialX,this.currentY=i-this.initialY,this.xOffset=this.currentX,this.yOffset=this.currentY,this.setTranslate(this.currentX,this.currentY))}dragEnd(e){e.preventDefault(),e.stopPropagation(),this.active=!1,this.initialX=this.currentX,this.initialY=this.currentY,this.removeActiveEventListeners(),this.enableScroll(),this.enableSelection(),setTimeout((()=>{this.enablePointerEvents()}),5)}cancelClick(e){e.preventDefault(),e.stopPropagation()}setTranslate(e,t){this.elem.style.transform=`translate3d(${e}px, ${t}px, 0)`}disableScroll(){this.originalOverflow=this.elem.style.overflow,this.elem.style.overflow="hidden"}enableScroll(){this.elem.style.overflow=this.originalOverflow}disableSelection(){window.getSelection().removeAllRanges()
const e=document.createElement("style")
e.id=`stylesheet-${Ember.guidFor(this)}`,document.head.appendChild(e),e.sheet.insertRule("* { user-select: none !important; }",0)}enableSelection(){const e=document.getElementById(`stylesheet-${Ember.guidFor(this)}`)
e?.remove()}disablePointerEvents(){this.elem.style.pointerEvents="none",window.addEventListener("click",this.cancelClick,{capture:!0,passive:!1})}enablePointerEvents(){this.elem.style.pointerEvents="",window.removeEventListener("click",this.cancelClick,{capture:!0,passive:!1})}},l=c(o.prototype,"dropdown",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(o.prototype,"dragStart",[n],Object.getOwnPropertyDescriptor(o.prototype,"dragStart"),o.prototype),c(o.prototype,"drag",[r],Object.getOwnPropertyDescriptor(o.prototype,"drag"),o.prototype),c(o.prototype,"dragEnd",[a],Object.getOwnPropertyDescriptor(o.prototype,"dragEnd"),o.prototype),c(o.prototype,"cancelClick",[s],Object.getOwnPropertyDescriptor(o.prototype,"cancelClick"),o.prototype),o)
e.default=d})),define("ghost-admin/modifiers/on-key",["exports","ember-keyboard/modifiers/on-key.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/on-resize",["exports","ember-modifier"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(i=Ember.inject.service,n=class extends t.default{constructor(e,t){var i,n,s,o
super(e,t),i=this,n="resizeDetector",o=this,(s=r)&&Object.defineProperty(i,n,{enumerable:s.enumerable,configurable:s.configurable,writable:s.writable,value:s.initializer?s.initializer.call(o):void 0}),a(this,"cleanup",(()=>{this.resizeDetector.teardown(this.elem,this.callback)})),Ember._registerDestructor(this,this.cleanup)}modify(e,[t]){this.didSetup||(this.elem=e,this.callback=t,this.resizeDetector.setup(e,t),this.didSetup=!0)}},o=n.prototype,l="resizeDetector",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/modifiers/on-scroll",["exports","ember-modifier"],(function(e,t){var i,n
function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember._action,n=class extends t.default{constructor(e,t){super(e,t),r(this,"cleanup",(()=>{this.scrollContainer?.removeEventListener("scroll",this.onScroll,{passive:!0})})),Ember._registerDestructor(this,this.cleanup)}modify(e,[t],i){this.elem=e,this.callback=t,this.scrollContainer=e,i.scrollContainer&&(this.scrollContainer=e.closest(i.scrollContainer)),this.scrollContainer?.addEventListener("scroll",this.onScroll,{passive:!0})}onScroll(e){this.callback(this.elem,this.scrollContainer,e)}},s=n.prototype,o="onScroll",l=[i],u=Object.getOwnPropertyDescriptor(n.prototype,"onScroll"),c=n.prototype,d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/modifiers/ratio-zoom",["exports","ember-modifier"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(e,t){super(e,t),i(this,"element",null),i(this,"ratio",1),i(this,"resizeHandler",null),i(this,"cleanup",(()=>{this.removeResizeEventListener()})),Ember._registerDestructor(this,this.cleanup)}modify(e,t,{zoomed:i,ratio:n}){this.element=e,this.ratio=n,i&&this.setZoomedSize()}setZoomedSize(){const{element:e,ratio:t}=this
e.style.width="100%",e.style.height="100%"
const i=e.getBoundingClientRect()
let n={width:i.height/t,height:i.height},r={width:i.width,height:i.width*t},a=null
a=t<=1?r.height>i.height?n:r:n.width>i.width?r:n,e.style.width=`${a.width}px`,e.style.height=`${a.height}px`,this.addResizeEventListener()}handleResize(){Ember.run.throttle(this,this.setZoomedSize,100)}addResizeEventListener(){this.resizeHandler||(this.resizeHandler=Ember.run.bind(this,this.handleResize),window.addEventListener("resize",this.resizeHandler))}removeResizeEventListener(){this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler),this.resizeHandler=null)}}e.default=n})),define("ghost-admin/modifiers/react-render",["exports","ember-modifier","react","react-dom/client"],(function(e,t,i,n){function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends t.default{constructor(e,t){super(e,t),r(this,"cleanup",(()=>{this.root&&this.root.unmount()})),Ember._registerDestructor(this,this.cleanup)}modify(e,[t],{props:r}){this.root||(this.root=(0,n.createRoot)(e)),this.root.render(i.default.createElement(t,{...r}))}}e.default=a})),define("ghost-admin/modifiers/scroll-into-view",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,i.modifier)(((e,[i=!0],{offset:n=0,useViewport:r=!0})=>{if(i){const i=(0,t.default)(e)
if(r){const t=e.getBoundingClientRect(),r=i.getBoundingClientRect()
t.top
if(t.bottom>r.bottom){let e=Math.abs(r.bottom-t.bottom)
if(t.top-e<n){e-=Math.abs(t.top-e-2*n)}const a=i.scrollTop+e+n
i.scrollTo({top:a,behavior:"smooth"})}}if(!r){const t=e.offsetTop<i.scrollTop,r=i.scrollTop+i.offsetHeight<e.offsetTop+e.offsetHeight
if(t){const t=e.offsetTop-n
i.scrollTo({top:t,behavior:"smooth"})}if(r){const t=e.offsetTop-i.offsetHeight+e.offsetHeight+n
i.scrollTo({top:t,behavior:"smooth"})}}}}),{eager:!1})
e.default=n})),define("ghost-admin/modifiers/scroll-to",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,i.modifier)(((e,i,{when:n=!0})=>{n&&setTimeout((()=>{const i=(0,t.default)(e),n=e.offsetTop
i.scrollTo({top:n,behavior:"smooth"})}),200)}),{eager:!1})
e.default=n}))
define("ghost-admin/modifiers/scroll-top",["exports","ghost-admin/utils/get-scroll-parent","ember-modifier"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=(0,i.modifier)((e=>{(0,t.default)(e).scrollTop=0}),{eager:!1})
e.default=n})),define("ghost-admin/modifiers/select-on-click",["exports","ember-modifier"],(function(e,t){var i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(i=Ember._action,n=class extends t.default{modify(e){e.addEventListener("click",this.onClick),Ember._registerDestructor(this,(()=>{e.removeEventListener("click",this.onClick)}))}onClick(e){e.currentTarget.select()}},a=n.prototype,s="onClick",o=[i],l=Object.getOwnPropertyDescriptor(n.prototype,"onClick"),u=n.prototype,c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/modifiers/style",["exports","ember-style-modifier/modifiers/style"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/modifiers/validation-status",["exports","ember-modifier"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{modify(e,t,{errors:i,property:n,hasValidated:r,errorClass:a="error",successClass:s="success"}){const o=this.hasError(i,n,r)
let l=""
n&&!r?.includes(n)||(l=o?a:s),e.classList.remove(a),e.classList.remove(s),l&&e.classList.add(l)}hasError(e,t,i){return!(t||!e||e.get("isEmpty"))||!(!i||!i.includes(t))&&!(!e||Ember.isEmpty(e.errorsFor(t)))}}e.default=i})),define("ghost-admin/modifiers/will-destroy",["exports","@ember/render-modifiers/modifiers/will-destroy"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/router",["exports","ghost-admin/config/environment","ghost-admin/utils/ghost-paths"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=Ember.Router.extend({location:t.default.locationType,rootURL:(0,i.default)().adminRoot})
n.map((function(){this.route("home",{path:"/"}),this.route("setup"),this.route("setup.done",{path:"/setup/done"}),this.route("signin"),this.route("signout"),this.route("signup",{path:"/signup/:token"}),this.route("reset",{path:"/reset/:token"}),this.route("whatsnew"),this.route("site"),this.route("dashboard"),this.route("launch"),this.route("pro",(function(){this.route("pro-sub",{path:"/*sub"})})),this.route("posts"),this.route("posts.analytics",{path:"/posts/analytics/:post_id"}),this.route("posts.mentions",{path:"/posts/analytics/:post_id/mentions"}),this.route("posts.debug",{path:"/posts/analytics/:post_id/debug"}),this.route("pages"),this.route("editor",(function(){this.route("new",{path:":type"}),this.route("edit",{path:":type/:post_id"})})),this.route("lexical-editor",{path:"editor-beta"},(function(){this.route("new",{path:":type"}),this.route("edit",{path:":type/:post_id"})})),this.route("lexicalsandbox"),this.route("tags"),this.route("tag.new",{path:"/tags/new"}),this.route("tag",{path:"/tags/:tag_slug"}),this.route("collections"),this.route("collection.new",{path:"/collections/new"}),this.route("collection",{path:"/collections/:collection_slug"}),this.route("settings-x",(function(){this.route("settings-x",{path:"/*sub"})})),this.route("settings"),this.route("settings.general",{path:"/settings/general"}),this.route("settings.membership",{path:"/settings/members"})
this.route("settings.code-injection",{path:"/settings/code-injection"}),this.route("settings.history",{path:"/settings/history"}),this.route("settings.analytics",{path:"/settings/analytics"}),this.route("settings.announcement-bar",{path:"/settings/announcement-bar"},(function(){})),this.route("websockets"),this.route("settings.members-email",{path:"/settings/members-email"}),this.route("settings.newsletters",{path:"/settings/newsletters"},(function(){this.route("new-newsletter",{path:"new"}),this.route("edit-newsletter",{path:":newsletter_id"})})),this.route("settings.design",{path:"/settings/design"},(function(){this.route("change-theme",(function(){this.route("view",{path:":theme_name"}),this.route("install")})),this.route("no-theme")})),this.route("settings.theme-install",{path:"/settings/theme/install"}),this.route("settings.staff",{path:"/settings/staff"},(function(){this.route("user",{path:":user_slug"})})),this.route("explore",(function(){this.route("connect"),this.route("explore-sub",{path:"/*sub"},(function(){this.route("explore-query",{path:"/*query"})}))})),this.route("settings.integrations",{path:"/settings/integrations"},(function(){this.route("new")})),this.route("settings.integration",{path:"/settings/integrations/:integration_id"},(function(){this.route("webhooks.new",{path:"webhooks/new"}),this.route("webhooks.edit",{path:"webhooks/:webhook_id"})})),this.route("settings.integrations.slack",{path:"/settings/integrations/slack"}),this.route("settings.integrations.amp",{path:"/settings/integrations/amp"}),this.route("settings.integrations.firstpromoter",{path:"/settings/integrations/firstpromoter"}),this.route("settings.integrations.pintura",{path:"/settings/integrations/pintura"}),this.route("settings.integrations.unsplash",{path:"/settings/integrations/unsplash"}),this.route("settings.integrations.zapier",{path:"/settings/integrations/zapier"}),this.route("settings.navigation",{path:"/settings/navigation"}),this.route("settings.labs",{path:"/settings/labs"},(function(){this.route("import")})),this.route("migrate"),this.route("members",(function(){this.route("import")})),this.route("member.new",{path:"/members/new"}),this.route("member",{path:"/members/:member_id"}),this.route("members-activity"),this.route("offers"),this.route("offer.new",{path:"/offers/new"}),this.route("offer",{path:"/offers/:offer_id"}),this.route("error404",{path:"/*path"})
this.route("designsandbox"),this.route("mentions")}))
var r=n
e.default=r})),define("ghost-admin/routes/admin",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="session",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}beforeModel(){if(super.beforeModel(...arguments),!this.session.user.isAdmin)return this.transitionTo("home")}},s=n.prototype,o="session",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/application",["exports","ember-simple-auth/configuration","react","react-dom","ghost-admin/mixins/shortcuts-route","ghost-admin/utils/ctrl-or-cmd","ghost-admin/utils/window-proxy","@sentry/ember","ghost-admin/components/admin-x/settings","ghost-admin/decorators/inject","ember-ajax/errors","ghost-admin/services/ajax"],(function(e,t,i,n,r,a,s,o,l,u,c,d){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p={esc:{action:"closeMenus",scope:"default"}}
p[`${a.default}+s`]={action:"save",scope:"all"},window.React=i.default,window.ReactDOM=n.default
var m=Ember.Route.extend(r.default,{ajax:Ember.inject.service(),configManager:Ember.inject.service(),feature:Ember.inject.service(),ghostPaths:Ember.inject.service(),notifications:Ember.inject.service(),router:Ember.inject.service(),session:Ember.inject.service(),settings:Ember.inject.service(),ui:Ember.inject.service(),whatsNew:Ember.inject.service(),billing:Ember.inject.service(),shortcuts:p,routeAfterAuthentication:"home",init(){this._super(...arguments),this.router.on("routeDidChange",(()=>{this.notifications.displayDelayed()})),this.ui.initBodyDragHandlers()},config:(0,u.inject)(),async beforeModel(){return await this.session.setup(),this.prepareApp()},async afterModel(e,t){this._super(...arguments),this.get("session.isAuthenticated")&&(this.session.appLoadTransition=t),this._appLoaded=!0},actions:{closeMenus(){this.ui.closeMenus()},didTransition(){this.session.appLoadTransition=null,this.send("closeMenus")},authorizationFailed(){s.default.replaceLocation(t.default.rootURL)},save:function(){return this},error(e,t){if((0,c.isUnauthorizedError)(e))return!1
if((0,c.isNotFoundError)(e)){t&&t.abort()
let e=t.to,i=this.router,n=[]
for(let t of Object.keys(e.params))n.push(e.params[t])
let r=i.urlFor(e.name,...n).replace(/^#\//,"").replace(/^\//,"").replace(/^ghost\//,"")
return this.replaceWith("error404",r)}return(!(0,d.isVersionMismatchError)(e)||(t&&t.abort(),this.upgradeStatus.requireUpgrade(),!this._appLoaded))&&((!(0,d.isMaintenanceError)(e)||(t&&t.abort(),this.upgradeStatus.maintenanceAlert(),!this._appLoaded))&&!(((0,c.isAjaxError)(e)||e&&e.payload&&Ember.isArray(e.payload.errors))&&(this.notifications.showAPIError(e),!t)))}},willDestroy(){this.ui.cleanupBodyDragHandlers()},async prepareApp(){if(await this.configManager.fetchUnauthenticated(),this.config.sentry_dsn&&(0,o.InitSentryForEmber)({dsn:this.config.sentry_dsn,environment:this.config.sentry_env,release:`ghost@${this.config.version}`,beforeSend:e=>(e.tags=e.tags||{},e.tags.shown_to_user=e.tags.shown_to_user||!1,e.tags.grammarly=!!document.querySelector("[data-gr-ext-installed]"),e),ignoreErrors:[/^TransitionAborted$/]}),this.session.isAuthenticated){try{await this.session.populateUser()}catch(e){await this.session.invalidate()}await this.session.postAuthPreparation()}this.config.hostSettings?.forceUpgrade&&this.billing.openBillingWindow(this.router.currentURL,"/pro"),setTimeout(l.importSettings,1e3)}})
e.default=m})),define("ghost-admin/routes/authenticated",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Route{constructor(...e){var t,i,r,a
super(...e),t=this,i="session",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}async beforeModel(e){this.session.requireAuthentication(e,"signin")}},a=i.prototype,s="session",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/routes/collection",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),d(this,"modals",l,this),d(this,"router",u,this),d(this,"session",c,this),p(this,"_requiresBackgroundRefresh",!0)}beforeModel(){if(super.beforeModel(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")}model(e){return this._requiresBackgroundRefresh=!1,e.collection_slug?this.store.queryRecord("collection",{slug:e.collection_slug}):this.store.createRecord("collection")}serialize(e){return{collection_slug:e.get("slug")}}setupController(e,t){super.setupController(...arguments),this._requiresBackgroundRefresh&&t.reload()}deactivate(){this._requiresBackgroundRefresh=!0,this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.controller.model.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.model?.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}},l=m(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),o)
e.default=h})),define("ghost-admin/routes/collection/new",["exports","ghost-admin/routes/collection"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","collection"),i(this,"templateName","collection")}}e.default=n})),define("ghost-admin/routes/collections",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{beforeModel(){if(super.beforeModel(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")}model(){let e=this.store.query("collection",{limit:"all",include:"count.posts"}),t=this.store.peekAll("collection")
return 0===this.store.peekAll("collection").get("length")?e.then((()=>t)):t}buildRouteInfoMetadata(){return{titleToken:"Collections"}}}e.default=i})),define("ghost-admin/routes/dashboard",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{async beforeModel(){return super.beforeModel(...arguments),this.session.user.isContributor?this.transitionTo("posts"):this.session.user.isAdmin?void 0:this.transitionTo("site")}buildRouteInfoMetadata(){return{mainClasses:["gh-main-wide"]}}setupController(){super.setupController(...arguments)}model(){return this.controllerFor("dashboard").loadSiteStatusTask.perform()}}e.default=i})),define("ghost-admin/routes/designsandbox",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a
function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(i=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),s(this,"store",r,this),s(this,"config",a,this)}beforeModel(){if(super.beforeModel(...arguments),!this.config.enableDeveloperExperiments)return this.transitionTo("home")}model(){return this.store.queryRecord("post",{limit:1,order:"published_at DESC"})}},r=o(n.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(n.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=l})),define("ghost-admin/routes/editor",["exports","jquery","ghost-admin/routes/authenticated"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=i.default.extend({feature:Ember.inject.service(),notifications:Ember.inject.service(),ui:Ember.inject.service(),classNames:["editor"],beforeModel(e){if(this.feature.lexicalEditor){const{name:t}=e.to,{type:i,post_id:n}=e.to.params
if("editor.new"===t)return this.router.transitionTo("lexical-editor.new",i)
if("editor.edit"===t)return this.router.transitionTo("lexical-editor.edit",i,n)}},activate(){this._super(...arguments),this.ui.set("isFullScreen",!0)},setupController(e,t,i){"posts.analytics"===i.from?.name&&"editor.new"!==i.to?.name&&(e.fromAnalytics=!0)},resetController(e){e.fromAnalytics=!1},deactivate(){this._super(...arguments),this.ui.set("isFullScreen",!1)},actions:{save(){this._blurAndScheduleAction((function(){this.controller.send("save")}))},authorizationFailed(){},willTransition(e){if(this.get("upgradeStatus.isRequired"))return this._super(...arguments)
this.controller.willTransition(e)}},buildRouteInfoMetadata(){return{titleToken:()=>this.get("controller.post.title")||"Editor",bodyClasses:["gh-body-fullscreen"],mainClasses:["gh-main-white"]}},_blurAndScheduleAction(e){let i=(0,t.default)(document.activeElement)
i.is('input[type="text"]')&&i.trigger("focusout"),Ember.run.scheduleOnce("actions",this,e)}})
e.default=n})),define("ghost-admin/routes/editor/edit",["exports","ghost-admin/routes/authenticated","ghost-admin/decorators/inject","ember-inflector"],(function(e,t,i,n){var r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(r=Ember.inject.service,a=class extends t.default{constructor(...e){super(...e),l(this,"router",s,this),l(this,"config",o,this)}beforeModel(e){if(super.beforeModel(...arguments),"replace"!==e.urlMethod){let e=this.controllerFor("editor")
e.set("post",null),e.reset()}}async model(e,t){let{type:i,post_id:n}=e
if(!["post","page"].includes(i)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}let r={id:n}
const a=(await this.store.query(i,r)).firstObject
return a.lexical?this.router.transitionTo("lexical-editor.edit",a):a}afterModel(e){super.afterModel(...arguments)
const t=this.session.user,i=(0,n.pluralize)(e.constructor.modelName)
return t.isAuthorOrContributor&&!e.isAuthoredByUser(t)||t.isContributor&&!e.isDraft?this.replaceWith(i):void 0}serialize(e){return{type:e.constructor.modelName,post_id:e.id}}setupController(e,t){this.controllerFor("editor").setPost(t)}},s=u(a.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(a.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=c})),define("ghost-admin/routes/editor/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{beforeModel(){super.beforeModel(...arguments),this.replaceWith("editor.new","post")}}e.default=i})),define("ghost-admin/routes/editor/new",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"feature",a,this),o(this,"router",s,this)}beforeModel(e){if(super.beforeModel(...arguments),this.feature.lexicalEditor)return this.transitionTo("lexical-editor.new",e.to.params.type)}model(e,t){let{type:i}=e
if(!["post","page"].includes(i)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}return this.store.createRecord(i,{authors:[this.session.user]})}setupController(e,t){this.controllerFor("editor").setPost(t)}buildRouteInfoMetadata(){return{mainClasses:["editor-new"]}}},a=l(r.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/error404",["exports"],(function(e){function t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Route{constructor(...e){super(...e),t(this,"controllerName","error"),t(this,"templateName","error")}model(){return{status:404}}buildRouteInfoMetadata(){return{titleToken:"Error"}}}e.default=i})),define("ghost-admin/routes/explore",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="store",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}model(){return this.store.findAll("integration")}},s=n.prototype,o="store",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/explore/connect",["exports","ghost-admin/routes/explore/index"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","explore")}beforeModel(){this.explore.toggleExploreWindow(!1)}}e.default=n})),define("ghost-admin/routes/explore/explore-sub",["exports","ghost-admin/routes/explore/index"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","explore")}}e.default=n})),define("ghost-admin/routes/explore/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),p(this,"explore",l,this),p(this,"store",u,this),p(this,"router",c,this),p(this,"feature",d,this)}beforeModel(e){if(super.beforeModel(...arguments),"true"===e.to?.queryParams?.new)return this.explore.isIframeTransition=!1,this.router.transitionTo("explore.connect")
"index"===e.to?.localName&&(this.explore.isIframeTransition=!0,this.explore.openExploreWindow())}model(){return this.store.findAll("integration")}willTransition(e){let t=!1
if(e){let i="string"==typeof e.to?e.to:e.intent?e.intent.url:""
if(i?.includes("/explore"))if(t=!0,this.explore.isIframeTransition=t,i?.includes("/explore/submit")){if(!(Object.keys(this?.explore?.siteData).length>=1))return e.abort(),this.router.transitionTo("explore.connect")
this.controllerFor("explore").submitExploreSite()}else{let e=i.replace(/explore\//,"")
e="/"===e?"/explore/":e,i?.includes("/explore/about")&&(window.open(`${this.explore.exploreUrl}about/`,"_blank").focus(),e="/explore/"),this.explore.sendRouteUpdate({path:e})}}this.explore.toggleExploreWindow(t)}buildRouteInfoMetadata(){return{titleToken:"Explore"}}},l=m(o.prototype,"explore",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(o.prototype,"feature",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),o)
e.default=h})),define("ghost-admin/routes/home",["exports"],(function(e){var t,i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,n=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"feature",a,this),l(this,"modals",s,this),l(this,"router",o,this)}beforeModel(e){if(super.beforeModel(...arguments),"true"===e.to?.queryParams?.firstStart)return this.router.transitionTo("setup.done")
this.router.transitionTo("dashboard")}resetController(e){e.firstStart=!1}},a=u(r.prototype,"feature",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"modals",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/routes/lexical-editor",["exports","jquery","ghost-admin/routes/authenticated","ghost-admin/decorators/inject"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=i.default.extend({feature:Ember.inject.service(),notifications:Ember.inject.service(),router:Ember.inject.service(),ui:Ember.inject.service(),classNames:["editor"],config:(0,n.inject)(),beforeModel(){if(!this.config.editor?.url)return this.router.transitionTo("posts")},activate(){this._super(...arguments),this.ui.set("isFullScreen",!0)},setupController(e,t,i){"posts.analytics"===i.from?.name&&(e.fromAnalytics=!0)},resetController(e){e.fromAnalytics=!1},deactivate(){this._super(...arguments),this.ui.set("isFullScreen",!1)},actions:{save(){this._blurAndScheduleAction((function(){this.controller.send("save")}))},authorizationFailed(){this.controller.send("toggleReAuthenticateModal")},willTransition(e){if(this.get("upgradeStatus.isRequired"))return this._super(...arguments)
this.controller.willTransition(e)}},buildRouteInfoMetadata(){return{titleToken:()=>this.get("controller.post.title")||"Editor",bodyClasses:["gh-body-fullscreen"],mainClasses:["gh-main-white"]}},_blurAndScheduleAction(e){let i=(0,t.default)(document.activeElement)
i.is('input[type="text"]')&&i.trigger("focusout"),Ember.run.scheduleOnce("actions",this,e)}})
e.default=r})),define("ghost-admin/routes/lexical-editor/edit",["exports","ghost-admin/routes/authenticated","ember-inflector"],(function(e,t,i){var n,r,a
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(n=Ember.inject.service,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="feature",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}beforeModel(e){if(super.beforeModel(...arguments),"replace"!==e.urlMethod){let e=this.controllerFor("lexical-editor")
e.set("post",null),e.reset()}}async model(e,t){let{type:i,post_id:n}=e
if(!["post","page"].includes(i)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}let r={id:n}
let a=(await this.store.query(i,r)).firstObject
if(a.mobiledoc){if(!this.feature.get("lexicalEditor"))return this.replaceWith("editor.edit",a)
a=await a.save({adapterOptions:{convertToLexical:1}})}return a}afterModel(e){super.afterModel(...arguments)
const t=this.session.user,n=(0,i.pluralize)(e.constructor.modelName)
return t.isAuthorOrContributor&&!e.isAuthoredByUser(t)||t.isContributor&&!e.isDraft?this.replaceWith(n):void 0}serialize(e){return{type:e.constructor.modelName,post_id:e.id}}setupController(e,t){this.controllerFor("lexical-editor").setPost(t)}},o=r.prototype,l="feature",u=[n],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),a=p,r)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/routes/lexical-editor/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{beforeModel(){super.beforeModel(...arguments),this.replaceWith("lexical-editor.new","post")}}e.default=i})),define("ghost-admin/routes/lexical-editor/new",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{model(e,t){let{type:i}=e
if(!["post","page"].includes(i)){let e=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:e,status:404})}return this.store.createRecord(i,{authors:[this.session.user]})}setupController(e,t){this.controllerFor("lexical-editor").setPost(t)}buildRouteInfoMetadata(){return{mainClasses:["editor-new"]}}}e.default=i})),define("ghost-admin/routes/member",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(){super(...arguments),p(this,"feature",u,this),p(this,"modals",c,this),p(this,"router",d,this),m(this,"queryParams",{postAnalytics:{refreshModel:!1}}),m(this,"_requiresBackgroundRefresh",!0),this.router.on("routeWillChange",(e=>{this.closeImpersonateModal(e)}))}model(e){return this._requiresBackgroundRefresh=!1,e.member_id?this.store.queryRecord("member",{id:e.member_id,include:"tiers"}):this.store.createRecord("member")}setupController(e,t,i){super.setupController(...arguments),e.setInitialRelationshipValues(),this._requiresBackgroundRefresh&&e.fetchMemberTask.perform(t.id),e.directlyFromAnalytics=!1,"posts.analytics"===i.from?.name&&(e.directlyFromAnalytics=!0)}resetController(e,t){super.resetController(...arguments),t&&e.postAnalytics&&(e.set("postAnalytics",null),e.set("directlyFromAnalytics",!1))}deactivate(){this._requiresBackgroundRefresh=!0,this.confirmModal=null,this.hasConfirmed=!1}save(){this.controller.save()}async willTransition(e){let t=this.controller.dirtyAttributes
if(!this.confirmModal&&!this.hasConfirmed&&t){e.abort(),this.controller.saveTask?.isRunning&&(await this.controller.saveTask.last,e.retry())
if(await this.confirmUnsavedChanges())return this.controller.model.rollbackAttributes(),this.hasConfirmed=!0,e.retry()}}async confirmUnsavedChanges(){return this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal}closeImpersonateModal(e){if(e.from&&e.from.name===this.routeName&&e.targetName){let{controller:t}=this
t.closeImpersonateMemberModal(e)}}titleToken(){return this.controller.member.name}},u=h(l.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"save",[s],Object.getOwnPropertyDescriptor(l.prototype,"save"),l.prototype),h(l.prototype,"willTransition",[o],Object.getOwnPropertyDescriptor(l.prototype,"willTransition"),l.prototype),l)
e.default=b})),define("ghost-admin/routes/member/new",["exports","ghost-admin/routes/member"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","member"),i(this,"templateName","member")}}e.default=n}))
define("ghost-admin/routes/members-activity",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildRouteInfoMetadata(){return{titleToken:"Activity",mainClasses:["gh-main-fullwidth"]}}}e.default=i})),define("ghost-admin/routes/members",["exports","ghost-admin/routes/admin"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"store",a,this),o(this,"feature",s,this),l(this,"queryParams",{label:{refreshModel:!0},searchParam:{refreshModel:!0,replace:!0},paidParam:{refreshModel:!0},orderParam:{refreshModel:!0},filterParam:{refreshModel:!0},postAnalytics:{refreshModel:!1}})}beforeModel(){super.beforeModel(...arguments)}model(e){return this.controllerFor("members").resetFilters(e),this.controllerFor("members").fetchMembersTask.perform(e)}setupController(e){super.setupController(...arguments),e.fetchLabelsTask.perform()}resetController(e,t,i){super.resetController(...arguments),e.postAnalytics&&(e.set("postAnalytics",null),i?.to?.name?.startsWith("member")||e.set("filterParam",null))}buildRouteInfoMetadata(){return{titleToken:"Members",mainClasses:["gh-main-fullwidth"]}}},a=u(r.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/routes/members/import",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{}e.default=i})),define("ghost-admin/routes/mentions",["exports","ghost-admin/routes/authenticated","ember-infinity/lib/infinity-model"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,r=class extends i.default{constructor(...e){super(...e),m(this,"mentionUtils",a,this)}async afterInfinityModel(e){return await this.mentionUtils.loadGroupedMentions(e)}},a=b(r.prototype,"mentionUtils",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r),f=(s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=class extends t.default{constructor(...e){super(...e),m(this,"store",c,this),m(this,"feature",d,this),m(this,"infinity",p,this),h(this,"perPage",10)}beforeModel(){if(super.beforeModel(...arguments),!this.feature.webmentions)return this.transitionTo("dashboard")}model(e){const t={perPage:this.perPage,startingPage:1,order:"created_at desc",perPageParam:"limit",totalPagesParam:"meta.pagination.pages",countParam:"meta.pagination.total"}
let i
return e.post_id?t.filter=`resource_id:${e.post_id}+resource_type:post`:(t.unique=!0,i=g),Ember.RSVP.hash({mentions:this.infinity.model("mention",t,i),post:e.post_id?this.store.findRecord("post",e.post_id):null})}},c=b(u.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"infinity",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u)
e.default=f})),define("ghost-admin/routes/migrate",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"feature",a,this),o(this,"session",s,this)}beforeModel(){if(super.beforeModel(...arguments),!this.session.user.isAdmin)return this.transitionTo("home")}},a=l(r.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/offer",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"router",u,this),d(this,"_requiresBackgroundRefresh",!0)}model(e){return this._requiresBackgroundRefresh=!1,e.offer_id?this.store.queryRecord("offer",{id:e.offer_id}):this.store.createRecord("offer")}setupController(e,t){super.setupController(...arguments),this._requiresBackgroundRefresh&&e.fetchOfferTask.perform(t.id)}deactivate(){this.controller.offer.rollbackAttributes(),this._requiresBackgroundRefresh=!0}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
return await this.confirmUnsavedChanges()?(this.controller.model.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.model?.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.save()}titleToken(){return this.controller.offer.name}},l=p(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),p(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=m})),define("ghost-admin/routes/offer/new",["exports","ghost-admin/routes/offer"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,s
super(...e),t=this,i="membersUtils",s=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0}),a(this,"controllerName","offer"),a(this,"templateName","offer")}beforeModel(){if(!this.membersUtils.hasActiveTiers)return this.replaceWith("offers")}},o=n.prototype,l="membersUtils",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/routes/offers",["exports","ghost-admin/routes/admin"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"store",a,this),o(this,"feature",s,this),l(this,"queryParams",{type:{refreshModel:!0}})}beforeModel(){super.beforeModel(...arguments)}model(e){return this.controllerFor("offers").fetchOffersTask.perform(e)}setupController(){super.setupController(...arguments)}buildRouteInfoMetadata(){return{titleToken:"Offers"}}},a=u(r.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/routes/pages",["exports","ghost-admin/routes/posts"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,s
super(...e),t=this,i="feature",s=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0}),a(this,"modelName","page")}buildRouteInfoMetadata(){return{titleToken:"Pages"}}},o=n.prototype,l="feature",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/routes/posts",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(){super(...arguments),c(this,"infinity",o,this),c(this,"router",l,this),c(this,"feature",u,this),d(this,"queryParams",{type:{refreshModel:!0},visibility:{refreshModel:!0},author:{refreshModel:!0},tag:{refreshModel:!0},order:{refreshModel:!0}}),d(this,"modelName","post"),d(this,"perPage",30),this.router.on("routeWillChange",(e=>{if(e.to&&("posts"===this.routeName||"pages"===this.routeName)){let t=e.to.find((e=>e.name===this.routeName))
e.from&&e.from.name===this.routeName&&t&&e.method("replace")}}))}model(e){const t=this.session.user
let i={},n={tag:e.tag,visibility:e.visibility}
Ember.assign(n,this._getTypeFilters(e.type)),"featured"===e.type&&(n.featured=!0),t.isAuthor||t.isContributor?n.authors=t.slug:e.author&&(n.authors=e.author)
let r=this._filterString(n)
Ember.isBlank(r)||(i.filter=r),Ember.isBlank(e.order)||(i.order=e.order)
let a=this.perPage,s=Ember.assign({perPage:a,startingPage:1},{perPageParam:"limit",totalPagesParam:"meta.pagination.pages"},i)
return this.infinity.model(this.modelName,s)}setupController(e,t){super.setupController(...arguments),e._hasLoadedTags||this.store.query("tag",{limit:"all"}).then((()=>{e._hasLoadedTags=!0})),this.session.user.isAuthorOrContributor||e._hasLoadedAuthors||this.store.query("user",{limit:"all"}).then((()=>{e._hasLoadedAuthors=!0})),e.selectionList&&(this.session.user.isAuthorOrContributor&&(e.selectionList.enabled=!1),e.selectionList.infinityModel=t,e.selectionList.clearSelection())}queryParamsDidChange(){let e=document.querySelector(".content-list")
e&&(e.scrollTop=0),super.actions.queryParamsDidChange.call(this,...arguments)}buildRouteInfoMetadata(){return{titleToken:"Posts"}}_getTypeFilters(e){let t="[draft,scheduled,published,sent]"
switch(e){case"draft":t="draft"
break
case"published":t="published"
break
case"scheduled":t="scheduled"
break
case"sent":t="sent"}return{status:t}}_filterString(e){return Object.keys(e).map((t=>{let i=e[t]
if(!Ember.isBlank(i))return`${t}:${e[t]}`})).compact().join("+")}},o=p(s.prototype,"infinity",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(s.prototype,"queryParamsDidChange",[a],Object.getOwnPropertyDescriptor(s.prototype,"queryParamsDidChange"),s.prototype),s)
e.default=m})),define("ghost-admin/routes/posts/analytics",["exports","ghost-admin/routes/authenticated","ember-inflector"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{model(e){let{post_id:t}=e,i={id:t,include:["tags","authors","authors.roles","email","tiers","newsletter","count.conversions","count.clicks","sentiment","count.positive_feedback","count.negative_feedback"].join(",")}
return this.store.query("post",i).then((e=>e.get("firstObject")))}afterModel(e){super.afterModel(...arguments)
const t=this.session.user,n=(0,i.pluralize)(e.constructor.modelName)
return t.isAuthorOrContributor&&!e.isAuthoredByUser(t)||t.isContributor&&!e.isDraft?this.replaceWith(n):void 0}serialize(e){return{post_id:e.id}}}e.default=n})),define("ghost-admin/routes/posts/debug",["exports","ghost-admin/routes/authenticated","ember-inflector"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{model(e){let{post_id:t}=e,i={id:t,include:["tags","authors","authors.roles","email","tiers","newsletter"].join(",")}
return this.store.query("post",i).then((e=>e.get("firstObject")))}afterModel(e){super.afterModel(...arguments)
const t=this.session.user,n=(0,i.pluralize)(e.constructor.modelName)
return t.isAuthorOrContributor&&!e.isAuthoredByUser(t)||t.isContributor&&!e.isDraft?this.replaceWith(n):void 0}serialize(e){return{post_id:e.id}}}e.default=n})),define("ghost-admin/routes/posts/mentions",["exports","ghost-admin/routes/mentions"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","mentions"),i(this,"templateName","mentions")}}e.default=n})),define("ghost-admin/routes/pro",["exports","ghost-admin/routes/authenticated","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),c(this,"billing",o,this),c(this,"session",l,this),c(this,"config",u,this),d(this,"queryParams",{action:{refreshModel:!0}})}beforeModel(e){if(super.beforeModel(...arguments),!this.session.user.isOwnerOnly&&!this.config.hostSettings?.forceUpgrade)return this.transitionTo("home")
this.billing.previousTransition=e}model(e){e.action&&(this.billing.action=e.action),this.billing.toggleProWindow(!0)}willTransition(e){let t=!1
if(e){let i="string"==typeof e.to?e.to:e.intent?e.intent.url:""
i?.includes("/pro")&&(t=!0)}this.billing.toggleProWindow(t)}buildRouteInfoMetadata(){return{titleToken:"Ghost(Pro)"}}},o=p(s.prototype,"billing",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(s.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(s.prototype,"willTransition"),s.prototype),s)
e.default=m})),define("ghost-admin/routes/reset",["exports","ghost-admin/routes/unauthenticated"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"notifications",a,this),o(this,"session",s,this)}beforeModel(){this.session.isAuthenticated&&this.notifications.showAlert("You can't reset your password while you're signed in.",{type:"warn",delayed:!0,key:"password.reset.signed-in"}),super.beforeModel(...arguments)}setupController(e,t){e.token=t.token}deactivate(){super.deactivate(...arguments),this.controller.clearData()}},a=l(r.prototype,"notifications",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings-x",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let d=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=class extends t.default{constructor(...e){super(...e),u(this,"session",s,this),u(this,"ui",o,this),u(this,"modals",l,this)}beforeModel(){if(super.beforeModel(...arguments),!this.config.adminX?.url)return this.router.transitionTo("settings")}activate(){super.activate(...arguments),this.ui.set("isFullScreen",!0)}deactivate(){super.deactivate(...arguments),this.ui.set("isFullScreen",!1)}},s=c(a.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"ui",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(a.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=d})),define("ghost-admin/routes/settings",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="session",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}},s=n.prototype,o="session",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/settings/analytics",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"modals",u,this),p(this,"settings",c,this),p(this,"config",d,this)}model(){return Ember.RSVP.hash({settings:this.settings.reload()})}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}reloadSettings(){return this.settings.reload()}buildRouteInfoMetadata(){return{titleToken:"Settings - Analytics"}}},u=m(l.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(l.prototype,"willTransition"),l.prototype),m(l.prototype,"reloadSettings",[o],Object.getOwnPropertyDescriptor(l.prototype,"reloadSettings"),l.prototype),l)
e.default=h})),define("ghost-admin/routes/settings/announcement-bar",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w
function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember._action,p=class extends t.default{constructor(...e){super(...e),k(this,"customThemeSettings",m,this),k(this,"feature",h,this),k(this,"modals",b,this),k(this,"settings",g,this),k(this,"themeManagement",f,this),k(this,"ui",v,this),k(this,"session",y,this),k(this,"store",w,this)}model(){return this.themeManagement.updatePreviewHtmlTask.perform(),Promise.all([this.settings.reload(),this.customThemeSettings.load(),this.store.findAll("theme")])}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}activate(){this.ui.contextualNavMenu="announcement-bar"}deactivate(){this.ui.contextualNavMenu=null,this.confirmModal=null,this.hasConfirmed=!1}buildRouteInfoMetadata(){return{titleToken:"Settings - Announcement bar",mainClasses:["gh-main-fullwidth"]}}willTransition(e){if(this.hasConfirmed)return!0
e.abort(),this.confirmUnsavedChanges().then((t=>{if(!0===t)return this.hasConfirmed=!0,e.retry()}))}confirmUnsavedChanges(){return this.settings.hasDirtyAttributes?(this.confirmModal||(this.confirmModal=this.modals.open(i.default).then((e=>(!0===e&&this.settings.rollbackAttributes(),e))).finally((()=>{this.confirmModal=null}))),this.confirmModal):Promise.resolve(!0)}},m=E(p.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(p.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(p.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=E(p.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=E(p.prototype,"themeManagement",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=E(p.prototype,"ui",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=E(p.prototype,"session",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=E(p.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E(p.prototype,"willTransition",[d],Object.getOwnPropertyDescriptor(p.prototype,"willTransition"),p.prototype),p)
e.default=P})),define("ghost-admin/routes/settings/code-injection",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){return this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Settings - Code injection"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/design",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let k=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=class extends t.default{constructor(...e){super(...e),y(this,"customThemeSettings",d,this),y(this,"feature",p,this),y(this,"modals",m,this),y(this,"settings",h,this),y(this,"themeManagement",b,this),y(this,"ui",g,this),y(this,"session",f,this),y(this,"store",v,this)}model(){return this.themeManagement.updatePreviewHtmlTask.perform(),Promise.all([this.settings.reload(),this.customThemeSettings.load(),this.store.findAll("theme")])}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}activate(){this.ui.contextualNavMenu="design"}deactivate(){this.ui.contextualNavMenu=null}buildRouteInfoMetadata(){return{titleToken:"Settings - Design",mainClasses:["gh-main-fullwidth"]}}},d=w(c.prototype,"customThemeSettings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=w(c.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=w(c.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=w(c.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=w(c.prototype,"themeManagement",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=w(c.prototype,"ui",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w(c.prototype,"session",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w(c.prototype,"store",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c)
e.default=k})),define("ghost-admin/routes/settings/design/change-theme",["exports","ghost-admin/routes/admin"],(function(e,t){var i,n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(i=Ember.inject.service,n=Ember._action,r=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="store",r=this,(n=a)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}model(){return this.store.findAll("theme")}willTransition(){this.controllerFor("settings.design.change-theme").reset()}},a=s(r.prototype,"store",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s(r.prototype,"willTransition",[n],Object.getOwnPropertyDescriptor(r.prototype,"willTransition"),r.prototype),r)
e.default=o})),define("ghost-admin/routes/settings/design/change-theme/install",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/design/install-theme"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"router",u,this)}redirect(e,t){const{source:i,ref:n}=t.to.queryParams||{}
i&&n||this.transitionTo("settings.design.change-theme")}didTransition(){const e=this.controllerFor("settings.design.change-theme.install"),t=this.controllerFor("settings.design.change-theme").officialThemes.findBy("ref",e.ref)
this.installModal=this.modals.open(i.default,{theme:t,ref:e.ref,onSuccess:()=>{this.showingSuccessModal=!0,this.router.transitionTo("settings.design")}},{beforeClose:this.beforeModalClose})}deactivate(){this.installModal&&!this.showingSuccessModal&&this.installModal.close()}beforeModalClose(){this.showingSuccessModal||this.transitionTo("settings.design.change-theme"),this.showingSuccessModal=!1,this.installModal=null}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"didTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"didTransition"),o.prototype),d(o.prototype,"beforeModalClose",[s],Object.getOwnPropertyDescriptor(o.prototype,"beforeModalClose"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/design/change-theme/view",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/design/view-theme"],(function(e,t,i){var n,r,a,s
function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="modals",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),o(this,"themeModal",null)}model(e,t){const i=this.controllerFor("settings.design.change-theme").officialThemes.find((t=>t.name===e.theme_name))
if(i)return i
const n=t.intent.url.replace(/^\//,"")
return this.replaceWith("error404",{path:n,status:404})}setupController(e,t){this.themeModal?.close(),this.themeModal=this.modals.open(i.default,{theme:t},{beforeClose:this.beforeModalClose})}deactivate(){this.isLeaving=!0,this.themeModal?.close(),this.isLeaving=!1,this.themeModal=null}beforeModalClose(){this.themeModal&&!this.isLeaving&&this.router.transitionTo("settings.design.change-theme")}},s=l(a.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(a.prototype,"beforeModalClose",[r],Object.getOwnPropertyDescriptor(a.prototype,"beforeModalClose"),a.prototype),a)
e.default=u})),define("ghost-admin/routes/settings/design/index",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let g=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),m(this,"customThemeSettings",u,this),m(this,"modals",c,this),m(this,"settings",d,this),m(this,"store",p,this),h(this,"confirmModal",null),h(this,"hasConfirmed",!1),h(this,"themes",this.store.peekAll("theme"))}afterModel(){if(super.afterModel(...arguments),void 0===this.themes.findBy("active",!0))return this.transitionTo("settings.design.no-theme")}willTransition(e){if(this.hasConfirmed)return!0
e.abort(),this.confirmUnsavedChanges().then((t=>{if(!0===t)return this.hasConfirmed=!0,e.retry()}))}deactivate(){this.confirmModal=null,this.hasConfirmed=!1,this.controllerFor("settings.design.index").reset()}confirmUnsavedChanges(){return this.settings.hasDirtyAttributes||this.customThemeSettings.isDirty?(this.confirmModal||(this.confirmModal=this.modals.open(i.default).then((e=>(!0===e&&(this.settings.rollbackAttributes(),this.customThemeSettings.rollback()),e))).finally((()=>{this.confirmModal=null}))),this.confirmModal):Promise.resolve(!0)}},u=b(l.prototype,"customThemeSettings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=b(l.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(l.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(l.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(l.prototype,"willTransition",[o],Object.getOwnPropertyDescriptor(l.prototype,"willTransition"),l.prototype),l)
e.default=g})),define("ghost-admin/routes/settings/design/no-theme",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,s
super(...e),t=this,i="store",s=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0}),a(this,"themes",this.store.peekAll("theme"))}afterModel(){if(super.afterModel(...arguments),void 0!==this.themes.findBy("active",!0))return this.transitionTo("settings.design.index")}},o=n.prototype,l="store",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/routes/settings/general",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"modals",u,this),p(this,"settings",c,this),p(this,"config",d,this)}model(){return Ember.RSVP.hash({settings:this.settings.reload()})}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}reloadSettings(){return this.settings.reload()}buildRouteInfoMetadata(){return{titleToken:"Settings - General"}}},u=m(l.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(l.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m(l.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(l.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(l.prototype,"willTransition"),l.prototype),m(l.prototype,"reloadSettings",[o],Object.getOwnPropertyDescriptor(l.prototype,"reloadSettings"),l.prototype),l)
e.default=h})),define("ghost-admin/routes/settings/history",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildRouteInfoMetadata(){return{titleToken:"History log"}}}e.default=i})),define("ghost-admin/routes/settings/integration",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"router",u,this)}model(e,t){return this.controllerFor("settings.integrations").integrationModelHook("id",e.integration_id,this,t)}resetController(e){e.regeneratedApiKey=null}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.controller.model.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.model?.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Settings - Integrations"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integration/webhooks/edit",["exports","ghost-admin/routes/admin","ghost-admin/components/settings/integrations/webhook-form-modal"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"modals",o,this),u(this,"router",l,this),c(this,"webhook",null),c(this,"modal",null)}get integration(){return this.modelFor("settings.integration")}model(e){return this.integration.webhooks.findBy("id",e.webhook_id)}setupController(e,t){this.webhook=t,this.modal=this.modals.open(i.default,{webhook:this.webhook},{beforeClose:this.beforeModalClose})}deactivate(){this.webhook?.errors.clear(),this.webhook?.rollbackAttributes(),this.isLeaving=!0,this.modal?.close(),this.modal=null,this.isLeaving=!1}beforeModalClose(){this.modal&&!this.isLeaving&&this.router.transitionTo("settings.integration",this.integration)}},o=d(s.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"beforeModalClose",[a],Object.getOwnPropertyDescriptor(s.prototype,"beforeModalClose"),s.prototype),s)
e.default=p}))
define("ghost-admin/routes/settings/integration/webhooks/new",["exports","ghost-admin/routes/admin","ghost-admin/components/settings/integrations/webhook-form-modal"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=class extends t.default{constructor(...e){super(...e),u(this,"modals",o,this),u(this,"router",l,this),c(this,"webhook",null),c(this,"modal",null)}get integration(){return this.modelFor("settings.integration")}model(){this.webhook=this.store.createRecord("webhook",{integration:this.integration}),this.modal=this.modals.open(i.default,{webhook:this.webhook},{beforeClose:this.beforeModalClose})}deactivate(){this.webhook?.errors.clear(),this.webhook?.rollbackAttributes(),this.isLeaving=!0,this.modal?.close(),this.modal=null,this.isLeaving=!1}beforeModalClose(){this.modal&&!this.isLeaving&&this.router.transitionTo("settings.integration",this.integration)}},o=d(s.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(s.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(s.prototype,"beforeModalClose",[a],Object.getOwnPropertyDescriptor(s.prototype,"beforeModalClose"),s.prototype),s)
e.default=p})),define("ghost-admin/routes/settings/integrations",["exports","ghost-admin/routes/admin"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="settings",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}setupController(e){e.fetchIntegrations.perform()}buildRouteInfoMetadata(){return{titleToken:"Settings - Integrations"}}},s=n.prototype,o="settings",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/settings/integrations/amp",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"AMP"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integrations/firstpromoter",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){return this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"FirstPromoter"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integrations/new",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/limits/custom-integration","ghost-admin/components/modals/new-custom-integration"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"limit",u,this),p(this,"modals",c,this),p(this,"router",d,this),m(this,"modal",null)}async model(){if(this.limit.limiter?.isLimited("customIntegrations"))try{await this.limit.limiter.errorIfWouldGoOverLimit("customIntegrations")}catch(e){return void(this.modal=this.modals.open(i.default,{message:e.message},{beforeClose:this.beforeModalClose}))}this.modal=this.modals.open(n.default,{},{beforeClose:this.beforeModalClose})}deactivate(){this.isLeaving=!0,this.modal?.close(),this.modal=null,this.isLeaving=!1}beforeModalClose(){this.modal&&!this.isLeaving&&this.router.transitionTo("settings.integrations")}},u=h(l.prototype,"limit",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"beforeModalClose",[o],Object.getOwnPropertyDescriptor(l.prototype,"beforeModalClose"),l.prototype),l)
e.default=b})),define("ghost-admin/routes/settings/integrations/pintura",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){return this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Pintura"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integrations/slack",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Slack"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integrations/unsplash",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){this.settings.reload()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.settings.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Unsplash"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/integrations/zapier",["exports","ghost-admin/routes/admin","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"router",a,this),o(this,"config",s,this)}beforeModel(){if(super.beforeModel(...arguments),this.config.hostSettings?.limits?.customIntegrations?.disabled)return this.transitionTo("settings.integrations")}model(e,t){return this.controllerFor("settings.integrations").integrationModelHook("slug","zapier",this,t)}resetController(e){e.regeneratedApiKey=null}buildRouteInfoMetadata(){return{titleToken:"Zapier"}}},a=l(r.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/labs",["exports","ghost-admin/routes/admin"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"settings",a,this),o(this,"notifications",s,this)}model(){return this.settings.reload()}resetController(e,t){t&&e.reset()}buildRouteInfoMetadata(){return{titleToken:"Settings - Labs"}}},a=l(r.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"notifications",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/labs/import",["exports","ghost-admin/routes/admin","ghost-admin/components/modal-import-content"],(function(e,t,i){var n,r,a,s
function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,r=Ember._action,a=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="modals",r=this,(n=s)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0}),o(this,"importModal",null)}setupController(){this.importModal?.close(),this.importModal=this.modals.open(i.default,{},{className:"fullscreen-modal fullscreen-modal-action fullscreen-modal-import-content",beforeClose:this.beforeModalClose})}async beforeModalClose(){return this.router.transitionTo("settings.labs"),!0}},s=l(a.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(a.prototype,"beforeModalClose",[r],Object.getOwnPropertyDescriptor(a.prototype,"beforeModalClose"),a.prototype),a)
e.default=u})),define("ghost-admin/routes/settings/members-email",["exports","ghost-admin/routes/admin"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{beforeModel(){return this.replaceWith("settings.newsletters")}}e.default=i})),define("ghost-admin/routes/settings/membership",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/components/modals/settings/verify-email"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=class extends t.default{constructor(...e){super(...e),p(this,"notifications",u,this),p(this,"settings",c,this),p(this,"modals",d,this),m(this,"queryParams",{verifyEmail:{replace:!0}})}beforeModel(e){super.beforeModel(...arguments),"success"===e.to.queryParams?.supportAddressUpdate&&this.notifications.showAlert("Support email address has been updated",{type:"success",key:"members.settings.support-address.updated"})}model(){this.settings.reload()}afterModel(e,t){if(t.to.queryParams.verifyEmail)return this.modals.open(n.default,{token:t.to.queryParams.verifyEmail}),t.abort(),this.transitionTo("settings.membership",{queryParams:{verifyEmail:null}})}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.controller.reset(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.isDirty||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}buildRouteInfoMetadata(){return{titleToken:"Settings - Membership"}}resetController(e,t){t&&e.reset()}},u=h(l.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"modals",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(l.prototype,"willTransition",[o],Object.getOwnPropertyDescriptor(l.prototype,"willTransition"),l.prototype),l)
e.default=b})),define("ghost-admin/routes/settings/navigation",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(n=Ember.inject.service,r=Ember.inject.service,a=Ember._action,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),c(this,"modals",l,this),c(this,"settings",u,this)}model(){this.settings.reload()}setupController(){this.controller.reset()}deactivate(){this.confirmModal=null,this.hasConfirmed=!1,this.controller.reset()}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.settings.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.dirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}save(){this.controller.send("save")}buildRouteInfoMetadata(){return{titleToken:"Settings - Navigation"}}},l=d(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(o.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d(o.prototype,"willTransition",[a],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),d(o.prototype,"save",[s],Object.getOwnPropertyDescriptor(o.prototype,"save"),o.prototype),o)
e.default=p})),define("ghost-admin/routes/settings/newsletters",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/components/modals/newsletters/verify-newsletter-email"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._action,u=class extends t.default{constructor(...e){super(...e),h(this,"feature",c,this),h(this,"modals",d,this),h(this,"notifications",p,this),h(this,"settings",m,this),b(this,"queryParams",{verifyEmail:{replace:!0}}),b(this,"confirmModal",null),b(this,"hasConfirmed",!1)}model(){return this.settings.reload()}afterModel(e,t){if(t.to.queryParams.verifyEmail)return this.modals.open(n.default,{token:t.to.queryParams.verifyEmail}),t.abort(),this.transitionTo("settings.newsletters",{queryParams:{verifyEmail:null}})}willTransition(e){if(this.hasConfirmed)return!0
e.abort(),this.confirmUnsavedChanges().then((t=>{if(t)return this.hasConfirmed=!0,e.retry()}))}deactivate(){this.confirmModal=null,this.hasConfirmed=!1}confirmUnsavedChanges(){return this.settings.hasDirtyAttributes?(this.confirmModal||(this.confirmModal=this.modals.open(i.default).then((e=>(!0===e&&this.settings.rollbackAttributes(),e))).finally((()=>{this.confirmModal=null}))),this.confirmModal):Promise.resolve(!0)}buildRouteInfoMetadata(){return{titleToken:"Settings - Email newsletter"}}},c=g(u.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(u.prototype,"modals",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(u.prototype,"notifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(u.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(u.prototype,"willTransition",[l],Object.getOwnPropertyDescriptor(u.prototype,"willTransition"),u.prototype),u)
e.default=f})),define("ghost-admin/routes/settings/newsletters/edit-newsletter",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/confirm-unsaved-changes","ghost-admin/components/modals/newsletters/edit"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember._action,l=Ember._action,u=Ember._action,c=class extends t.default{constructor(...e){super(...e),h(this,"modals",d,this),h(this,"router",p,this),h(this,"store",m,this),b(this,"newsletterModal",null)}model(e){return this.store.find("newsletter",e.newsletter_id)}setupController(e,t){this.newsletterModal?.close(),this.newsletterModal=this.modals.open(n.default,{newsletter:t,afterSave:this.afterSave},{beforeClose:this.beforeModalClose})}afterSave(){this.router.transitionTo("settings.newsletters")}deactivate(){this.isLeaving=!0,this.newsletterModal?.close(),this.isLeaving=!1,this.newsletterModal=null,this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
return await this.confirmUnsavedChanges()?(this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){const e=this.newsletterModal?._data.newsletter
return!e?.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).then((t=>(!0===t&&e.rollbackAttributes(),t))).finally((()=>{this.confirmModal=null})),this.confirmModal)}async beforeModalClose(){return!(!await this.confirmUnsavedChanges()||this.isLeaving)&&(this.router.transitionTo("settings.newsletters"),!0)}},d=g(c.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=g(c.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=g(c.prototype,"store",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g(c.prototype,"afterSave",[o],Object.getOwnPropertyDescriptor(c.prototype,"afterSave"),c.prototype),g(c.prototype,"willTransition",[l],Object.getOwnPropertyDescriptor(c.prototype,"willTransition"),c.prototype),g(c.prototype,"beforeModalClose",[u],Object.getOwnPropertyDescriptor(c.prototype,"beforeModalClose"),c.prototype),c)
e.default=f})),define("ghost-admin/routes/settings/newsletters/new-newsletter",["exports","ghost-admin/routes/admin","ghost-admin/components/modals/limits/multiple-newsletters","ghost-admin/components/modals/newsletters/new"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g
function f(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function v(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function y(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let w=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember._action,c=Ember._action,d=class extends t.default{constructor(...e){super(...e),f(this,"modals",p,this),f(this,"router",m,this),f(this,"settings",h,this),f(this,"store",b,this),f(this,"limit",g,this),v(this,"newsletterModal",null)}async beforeModel(){try{await this.limit.limiter.errorIfWouldGoOverLimit("newsletters")}catch(e){if("HostLimitError"===e.errorType)return this.modals.open(i.default,{message:e.message}),this.replaceWith("settings.newsletters")
throw e}}model(){return this.store.createRecord("newsletter")}setupController(e,t){this.newsletterModal?.close(),this.newsletterModal=this.modals.open(n.default,{newsletter:t,afterSave:this.afterSave},{beforeClose:this.beforeModalClose})}afterSave(){this.router.transitionTo("settings.newsletters")}deactivate(){this.isLeaving=!0,this.newsletterModal?.close(),this.isLeaving=!1}async beforeModalClose(){this.isLeaving||this.router.transitionTo("settings.newsletters")}},p=y(d.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=y(d.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y(d.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=y(d.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y(d.prototype,"limit",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y(d.prototype,"afterSave",[u],Object.getOwnPropertyDescriptor(d.prototype,"afterSave"),d.prototype),y(d.prototype,"beforeModalClose",[c],Object.getOwnPropertyDescriptor(d.prototype,"beforeModalClose"),d.prototype),d)
e.default=w})),define("ghost-admin/routes/settings/staff/index",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(i=Ember.inject.service,n=Ember.inject.service,r=class extends t.default{constructor(...e){super(...e),o(this,"infinity",a,this),o(this,"session",s,this)}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(e.isAuthorOrContributor)return this.transitionTo("settings.staff.user",e)}model(){return this.session.user}setupController(e){super.setupController(...arguments),e.backgroundUpdateTask.perform()}buildRouteInfoMetadata(){return{titleToken:"Staff"}}},a=l(r.prototype,"infinity",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=u})),define("ghost-admin/routes/settings/staff/user",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(n=Ember.inject.service,r=Ember._action,a=Ember._action,s=class extends t.default{constructor(...e){var t,i,n,r
super(...e),t=this,i="modals",r=this,(n=o)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}model(e){return this.store.queryRecord("user",{slug:e.user_slug,include:"count.posts"})}afterModel(e){super.afterModel(...arguments)
const t=this.session.user
let i=e.id===t.id,n=t.isAuthorOrContributor,r=t.isEditor
n&&!i?this.transitionTo("settings.staff.user",t):!r||i||e.isAuthorOrContributor||this.transitionTo("settings.staff"),i&&this.store.queryRecord("api-key",{id:"me"}).then((e=>{this.controller.personalToken=e.id+":"+e.secret,this.controller.personalTokenRegenerated=!1}))}serialize(e){return{user_slug:e.get("slug")}}setupController(e,t){e.model=t,e.reset()}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.controller.reset(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.model.hasDirtyAttributes&&!this.controller.dirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}deactivate(){this.confirmModal=null,this.hasConfirmed=!1,this.controller.reset()}didTransition(){this.modelFor("settings.staff.user").get("errors").clear()}buildRouteInfoMetadata(){return{titleToken:"Staff - User"}}},o=l(s.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l(s.prototype,"willTransition",[r],Object.getOwnPropertyDescriptor(s.prototype,"willTransition"),s.prototype),l(s.prototype,"didTransition",[a],Object.getOwnPropertyDescriptor(s.prototype,"didTransition"),s.prototype),s)
e.default=u})),define("ghost-admin/routes/settings/theme-install",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{redirect(e,t){this.transitionTo("settings.design.change-theme.install",{queryParams:t.to.queryParams})}}e.default=t})),define("ghost-admin/routes/setup",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Route{constructor(...e){super(...e),c(this,"ghostPaths",s,this),c(this,"session",o,this),c(this,"ajax",l,this),c(this,"config",u,this)}beforeModel(){if(super.beforeModel(...arguments),this.session.isAuthenticated)return this.transitionTo("home")
let e=this.ghostPaths.url.api("authentication","setup")
return this.ajax.request(e).then((e=>{let[t]=e.setup
if(t.status)return this.transitionTo("signin")
{let e=this.controllerFor("setup")
t.title&&e.set("blogTitle",t.title.replace(/&apos;/gim,"'")),t.name&&e.set("name",t.name.replace(/&apos;/gim,"'")),t.email&&e.set("email",t.email)}}))}deactivate(){super.deactivate(...arguments),this.controllerFor("setup").set("password","")}buildRouteInfoMetadata(){return{titleToken:"Setup",bodyClasses:["unauthenticated-route"],mainClasses:["gh-main-white"]}}},s=d(a.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"ajax",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("ghost-admin/routes/setup/done",["exports"],(function(e){var t,i,n,r,a
function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let l=(t=Ember.inject.service,i=Ember.inject.service,n=class extends Ember.Route{constructor(...e){super(...e),s(this,"settings",r,this),s(this,"themeManagement",a,this)}model(){this.themeManagement.setPreviewType("homepage"),this.themeManagement.updatePreviewHtmlTask.perform()}deactivate(){this.settings.rollbackAttributes()}},r=o(n.prototype,"settings",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=o(n.prototype,"themeManagement",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n)
e.default=l})),define("ghost-admin/routes/setup/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends Ember.Route{beforeModel(){super.beforeModel(...arguments),this.transitionTo("setup.one")}}e.default=t})),define("ghost-admin/routes/signin",["exports","ember-data","ghost-admin/routes/unauthenticated"],(function(e,t,i){var n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{Errors:d}=t.default
let p=(n=Ember._tracked,r=Ember._tracked,s=c((a=class{constructor(){l(this,"identification",s,this),l(this,"password",o,this),u(this,"errors",d.create())}}).prototype,"identification",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o=c(a.prototype,"password",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),a)
const m=function(){return new p}
class h extends i.default{model(){return m()}deactivate(){super.deactivate(...arguments),this.controllerFor("signin").model=m()}buildRouteInfoMetadata(){return Object.assign(super.buildRouteInfoMetadata(),{titleToken:"Sign In"})}}e.default=h})),define("ghost-admin/routes/signout",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="notifications",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}afterModel(){this.notifications.clearAll(),this.session.invalidate()}buildRouteInfoMetadata(){return{titleToken:"Sign Out"}}},s=n.prototype,o="notifications",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/signup",["exports","ghost-admin/routes/unauthenticated","ghost-admin/mixins/validation-engine","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w
function k(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function E(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function P(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let O=(r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=class extends(Ember.Object.extend(i.default)){constructor(...e){super(...e),k(this,"name",l,this),k(this,"email",u,this),k(this,"password",c,this),E(this,"token",""),E(this,"blogTitle",""),E(this,"validationType","signup")}},l=P(o.prototype,"name",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),u=P(o.prototype,"email",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),c=P(o.prototype,"password",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),o),j=(d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=class extends t.default{constructor(...e){super(...e),k(this,"ghostPaths",g,this),k(this,"notifications",f,this),k(this,"session",v,this),k(this,"ajax",y,this),k(this,"config",w,this)}beforeModel(){this.session.isAuthenticated&&this.notifications.showAlert("You need to sign out to register as a new user.",{type:"warn",delayed:!0,key:"signup.create.already-authenticated"}),super.beforeModel(...arguments)}model(e){let t,i,n=O.create(),r=/^(?:[A-Za-z0-9_-]{4})*(?:[A-Za-z0-9_-]{2}|[A-Za-z0-9_-]{3})?$/
return new Promise((a=>{if(!r.test(e.token))return this.notifications.showAlert("Invalid token.",{type:"error",delayed:!0,key:"signup.create.invalid-token"}),void a(this.transitionTo("signin"))
i=atob(e.token),t=i.split("|")[1],n.email="",n.token=e.token
let s=this.ghostPaths.url.api("authentication","invitation")
this.ajax.request(s,{dataType:"json",data:{email:t}}).then((e=>{if(e&&e.invitation&&!1===e.invitation[0].valid)return this.notifications.showAlert("The invitation does not exist or is no longer valid.",{type:"warn",delayed:!0,key:"signup.create.invalid-invitation"}),void a(this.transitionTo("signin"))
n.blogTitle=this.config.blogTitle,a(n)})).catch((()=>{a(n)}))}))}deactivate(){super.deactivate(...arguments)
const e=this.controllerFor("signup").signupDetails
e.email="",e.password="",e.token=""}},g=P(b.prototype,"ghostPaths",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=P(b.prototype,"notifications",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=P(b.prototype,"session",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=P(b.prototype,"ajax",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=P(b.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b)
e.default=j})),define("ghost-admin/routes/site",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{model(){return(new Date).valueOf()}buildRouteInfoMetadata(){return{titleToken:"Site"}}}e.default=i})),define("ghost-admin/routes/tag",["exports","ghost-admin/routes/authenticated","ghost-admin/components/modals/confirm-unsaved-changes"],(function(e,t,i){var n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function m(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let h=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=class extends t.default{constructor(...e){super(...e),d(this,"modals",l,this),d(this,"router",u,this),d(this,"session",c,this),p(this,"_requiresBackgroundRefresh",!0)}beforeModel(){if(super.beforeModel(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")}model(e){return this._requiresBackgroundRefresh=!1,e.tag_slug?this.store.queryRecord("tag",{slug:e.tag_slug}):this.store.createRecord("tag")}serialize(e){return{tag_slug:e.get("slug")}}setupController(e,t){super.setupController(...arguments),this._requiresBackgroundRefresh&&t.reload()}deactivate(){this._requiresBackgroundRefresh=!0,this.confirmModal=null,this.hasConfirmed=!1}async willTransition(e){if(this.hasConfirmed)return!0
if(e.abort(),this.confirmModal)return
this.controller.saveTask?.isRunning&&await this.controller.saveTask.last
return await this.confirmUnsavedChanges()?(this.controller.model.rollbackAttributes(),this.hasConfirmed=!0,e.retry()):void 0}async confirmUnsavedChanges(){return!this.controller.model?.hasDirtyAttributes||(this.confirmModal=this.modals.open(i.default).finally((()=>{this.confirmModal=null})),this.confirmModal)}},l=m(o.prototype,"modals",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=m(o.prototype,"router",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=m(o.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m(o.prototype,"willTransition",[s],Object.getOwnPropertyDescriptor(o.prototype,"willTransition"),o.prototype),o)
e.default=h})),define("ghost-admin/routes/tag/new",["exports","ghost-admin/routes/tag"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"controllerName","tag"),i(this,"templateName","tag")}}e.default=n})),define("ghost-admin/routes/tags",["exports","ghost-admin/routes/authenticated"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"queryParams",{type:{refreshModel:!0,replace:!0}})}beforeModel(){if(super.beforeModel(...arguments),this.session.user.isAuthorOrContributor)return this.transitionTo("home")}model(){let e=this.store.query("tag",{limit:"all",include:"count.posts"}),t=this.store.peekAll("tag")
return 0===this.store.peekAll("tag").get("length")?e.then((()=>t)):t}buildRouteInfoMetadata(){return{titleToken:"Tags"}}}e.default=n}))
define("ghost-admin/routes/unauthenticated",["exports"],(function(e){var t,i,n,r,a,s,o
function l(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(t=Ember.inject.service,i=Ember.inject.service,n=Ember.inject.service,r=class extends Ember.Route{constructor(...e){super(...e),l(this,"ajax",a,this),l(this,"ghostPaths",s,this),l(this,"session",o,this)}beforeModel(){let e=this.ghostPaths.url.api("authentication","setup")
return this.ajax.request(e).then((e=>{let[t]=e.setup
if(!0===t.status)return this.session.prohibitAuthentication("home")
this.transitionTo("setup")}))}buildRouteInfoMetadata(){return{bodyClasses:["unauthenticated-route"]}}},a=u(r.prototype,"ajax",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=u(r.prototype,"session",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/routes/websockets",["exports","ghost-admin/routes/authenticated"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="session",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}beforeModel(){super.beforeModel(...arguments)
const e=this.session.user
if(!e.isAdmin)return this.transitionTo("settings.staff.user",e)}},s=n.prototype,o="session",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/routes/whatsnew",["exports","ghost-admin/routes/authenticated"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{buildRouteInfoMetadata(){return{titleToken:"What's new?"}}}e.default=i})),define("ghost-admin/serializers/-default",["exports","@ember-data/serializer/json"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/-json-api",["exports","@ember-data/serializer/json-api"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/-rest",["exports","@ember-data/serializer/rest"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/serializers/action",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{createdAtUTC:{key:"created_at"}})}}e.default=n})),define("ghost-admin/serializers/api-key",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{lastSeenAtUTC:{key:"last_seen_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/application",["exports","@ember-data/serializer/rest","ember-inflector"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{extractMeta(e,t){let i=super.extractMeta(...arguments)
return t.___meta=i,i}serialize(){let e=super.serialize(...arguments)
return delete e.created_by,delete e.updated_by,e}serializeIntoHash(e,t,n,r){(r=r||{}).includeId=!0
let a=(0,i.pluralize)(t.modelName),s=this.serialize(n,r)
e[a]=[s]}keyForAttribute(e){return Ember.String.decamelize(e)}keyForRelationship(e,t,i){let n="serialize"===i?Ember.String.underscore:Ember.String.camelize
if("belongsTo"===t&&!e.match(/(Id|By)$/)){return`${n(e)}_id`}return n(e)}normalizeQueryRecordResponse(e,t,n){const r=this.keyForAttribute(t.modelName),a=(0,i.pluralize)(r)
return n[a]&&"setting"!==r&&(n[r]=n[a][0],delete n[a]),super.normalizeQueryRecordResponse(...arguments)}}e.default=n})),define("ghost-admin/serializers/custom-theme-setting-list",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),n(this,"attrs",{customThemeSettings:{embedded:"always"}})}serializeIntoHash(e,t,i,n){const r=this.serialize(i,n)
Object.assign(e,r)}normalizeSingleResponse(e,t,i,n,r){const a={customThemeSettingLists:[Object.assign({id:0},i)]}
return super.normalizeSingleResponse(e,t,a,n,r)}}e.default=r})),define("ghost-admin/serializers/email",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"},submittedAtUTC:{key:"submitted_at"}})}}e.default=n})),define("ghost-admin/serializers/integration",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),n(this,"attrs",{apiKeys:{embedded:"always"},webhooks:{embedded:"always"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=r})),define("ghost-admin/serializers/invite",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/label",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{constructor(...e){super(...e),n(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}serialize(){let e=super.serialize(...arguments)
return delete e.count,e}normalizeResponse(e,t,n,r,a){if("queryRecord"===a){let e=t.modelName,r=(0,i.pluralize)(e)
n[r]&&(n[e]=n[r][0],delete n[r])}return super.normalizeResponse(...arguments)}}e.default=r})),define("ghost-admin/serializers/member",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),n(this,"attrs",{createdAtUTC:{key:"created_at"},lastSeenAtUTC:{key:"last_seen_at"},labels:{embedded:"always"},newsletters:{embedded:"always"}})}serialize(){let e=super.serialize(...arguments)
return delete e.stripe,delete e.geolocation,delete e.status,delete e.last_seen_at,delete e.comped,e.name=e.name||"",e.note=e.note||"",e}}e.default=r})),define("ghost-admin/serializers/newsletter",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{normalizeResponse(){const e=super.normalizeResponse(...arguments)
return e.meta&&e.data.attributes&&(e.data.attributes._meta=e.meta),e}serialize(){const e=super.serialize(...arguments)
return delete e._meta,e}}e.default=i})),define("ghost-admin/serializers/notification",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{key:{key:"location"}})}}e.default=n})),define("ghost-admin/serializers/page",["exports","ghost-admin/serializers/post"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{serialize(){let e=super.serialize(...arguments)
return delete e.email_subject,delete e.send_email_when_published,delete e.email_recipient_filter,delete e.email_only,delete e.email_id,delete e.email,null===e.visibility&&(delete e.visibility,delete e.visibility_filter,delete e.tiers),"tiers"===e.visibility&&delete e.visibility_filter,"tiers"!==e.visibility||e.tiers?.length||(delete e.visibility,delete e.tiers),e}}e.default=i})),define("ghost-admin/serializers/post-revision",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),n(this,"attrs",{author:{embedded:"always"},lexical:{key:"lexical"},title:{key:"title"},createdAt:{key:"created_at"},postStatus:{key:"post_status"},reason:{key:"reason"},featureImage:{key:"feature_image"},featureImageAlt:{key:"feature_image_alt"},featureImageCaption:{key:"feature_image_caption"},postIdLocal:{key:"post_id"}})}}e.default=r})),define("ghost-admin/serializers/post",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),n(this,"attrs",{authors:{embedded:"always"},tags:{embedded:"always"},publishedAtUTC:{key:"published_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"},email:{embedded:"always"},newsletter:{embedded:"always"},postRevisions:{embedded:"always"}})}serialize(e){let t=super.serialize(...arguments)
return delete t.author_id,delete t.uuid,delete t.url,delete t.send_email_when_published,delete t.email_recipient_filter,delete t.email,delete t.newsletter,delete t.author,"page"!==e.modelName&&delete t.show_title_and_feature_image,null===t.visibility&&(delete t.visibility,delete t.visibility_filter,delete t.tiers),"tiers"===t.visibility&&delete t.visibility_filter,"tiers"!==t.visibility||t.tiers?.length||(delete t.visibility,delete t.tiers),t}}e.default=r})),define("ghost-admin/serializers/role",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/setting",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{serializeIntoHash(e,t,n,r){(r=r||{}).includeId=!1
let a=(0,i.pluralize)(t.modelName),s=Object.keys(n.record.changedAttributes()).length>0?this.serialize(n,r):[],o=[]
delete s.id,delete s._meta,Object.keys(s).forEach((e=>{o.push({key:e,value:s[e]})})),e[a]=o}serializeAttribute(e,t,i,n){(e.record.get("isNew")||e.record.changedAttributes()[i])&&super.serializeAttribute(e,t,i,n)}normalizeArrayResponse(e,t,i,n,r){let a={settings:[this._extractObjectFromArrayPayload(i)]}
return super.normalizeArrayResponse(e,t,a,n,r)}normalizeSingleResponse(e,t,i,n,r){let a={setting:this._extractObjectFromArrayPayload(i)}
return super.normalizeSingleResponse(e,t,a,n,r)}_extractObjectFromArrayPayload(e){let t={id:"0"}
return e.settings.forEach((e=>{t[e.key]=e.value})),e.meta&&(t._meta=e.meta),t}}e.default=n})),define("ghost-admin/serializers/snippet",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/serializers/tag",["exports","ghost-admin/serializers/application","ember-inflector"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends t.default{constructor(...e){super(...e),n(this,"attrs",{createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}serialize(){let e=super.serialize(...arguments)
return delete e.count,e}normalizeResponse(e,t,n,r,a){if("queryRecord"===a){let e=t.modelName,r=(0,i.pluralize)(e)
n[r]&&(n[e]=n[r][0],delete n[r])}return super.normalizeResponse(...arguments)}}e.default=r})),define("ghost-admin/serializers/theme",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"primaryKey","name"),i(this,"attrs",{gscanErrors:{key:"errors"}})}}e.default=n})),define("ghost-admin/serializers/tier",["exports","ghost-admin/serializers/application"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{serialize(){let e=super.serialize(...arguments)
return e?.monthly_price&&(e.monthly_price=Math.round(e.monthly_price)),e?.yearly_price&&(e.yearly_price=Math.round(e.yearly_price)),e}}e.default=i})),define("ghost-admin/serializers/user",["exports","ghost-admin/serializers/application","@ember-data/serializer/rest","ember-inflector"],(function(e,t,i,n){function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class a extends(t.default.extend(i.EmbeddedRecordsMixin)){constructor(...e){super(...e),r(this,"attrs",{roles:{embedded:"always"},lastLoginUTC:{key:"last_seen"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}extractSingle(e,t,i){let r=this.keyForAttribute(t.modelName),a=(0,n.pluralize)(t.modelName)
return i[r]=i[a][0],delete i[a],super.extractSingle(...arguments)}}e.default=a})),define("ghost-admin/serializers/webhook",["exports","ghost-admin/serializers/application"],(function(e,t){function i(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{constructor(...e){super(...e),i(this,"attrs",{lastTriggeredAtUTC:{key:"last_triggered_at"},createdAtUTC:{key:"created_at"},updatedAtUTC:{key:"updated_at"}})}}e.default=n})),define("ghost-admin/services/-ensure-registered",["exports","@embroider/util/services/ensure-registered"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/ajax",["exports","ember-ajax/services/ajax","ghost-admin/config/environment","moment-timezone","semver/functions/coerce","semver/functions/lt","ember-ajax/errors","@sentry/ember","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r,a,s,o,l,u){var c,d,p,m,h,b
function g(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function f(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.VersionMismatchError=e.UnsupportedMediaTypeError=e.ThemeValidationError=e.ServerUnreachableError=e.RequestEntityTooLargeError=e.MaintenanceError=e.HostLimitError=e.EmailError=e.DataImportError=e.AcceptedResponse=void 0,e.getErrorCode=function(e){if((0,s.isAjaxError)(e)&&e.payload&&e.payload.errors&&Array.isArray(e.payload.errors)&&e.payload.errors.length>0)return e.payload.errors[0].code||null
return null},e.isAcceptedResponse=U,e.isDataImportError=P,e.isEmailError=L,e.isHostLimitError=I,e.isMaintenanceError=C,e.isRequestEntityTooLargeError=T,e.isServerUnreachableError=j,e.isThemeValidationError=D,e.isUnsupportedMediaTypeError=x,e.isVersionMismatchError=k
const y=/\/ghost\/api\//
class w extends s.AjaxError{constructor(e){super(e,"API server is running a newer version of Ghost, please upgrade.")}}function k(e,t){return(0,s.isAjaxError)(e)?e instanceof w:"VersionMismatchError"===Ember.get(t||{},"errors.firstObject.type")}e.VersionMismatchError=w
class E extends s.AjaxError{constructor(e){super(e,"he server encountered an error whilst importing data.")}}function P(e,t){return(0,s.isAjaxError)(e)?e instanceof E:"DataImportError"===Ember.get(t||{},"errors.firstObject.type")}e.DataImportError=E
class O extends s.AjaxError{constructor(e){super(e,"Server was unreachable")}}function j(e){return(0,s.isAjaxError)(e)?e instanceof O:0===e||"0"===e}e.ServerUnreachableError=O
class _ extends s.AjaxError{constructor(e){super(e,"Request is larger than the maximum file size the server allows")}}function T(e){return(0,s.isAjaxError)(e)?e instanceof _:413===e}e.RequestEntityTooLargeError=_
class z extends s.AjaxError{constructor(e){super(e,"Request contains an unknown or unsupported file type.")}}function x(e){return(0,s.isAjaxError)(e)?e instanceof z:415===e}e.UnsupportedMediaTypeError=z
class S extends s.AjaxError{constructor(e){super(e,"Ghost is currently undergoing maintenance, please wait a moment then retry.")}}function C(e){return(0,s.isAjaxError)(e)?e instanceof S:503===e}e.MaintenanceError=S
class M extends s.AjaxError{constructor(e){super(e,"Theme is not compatible or contains errors.")}}function D(e,t){return(0,s.isAjaxError)(e)?e instanceof M:"ThemeValidationError"===Ember.get(t||{},"errors.firstObject.type")}e.ThemeValidationError=M
class A extends s.AjaxError{constructor(e){super(e,"A hosting plan limit was reached or exceeded.")}}function I(e,t){return(0,s.isAjaxError)(e)?e instanceof A:"HostLimitError"===Ember.get(t||{},"errors.firstObject.type")}e.HostLimitError=A
class N extends s.AjaxError{constructor(e){super(e,"Please verify your email settings")}}function L(e,t){return(0,s.isAjaxError)(e)?e instanceof N:"EmailError"===Ember.get(t||{},"errors.firstObject.type")}e.EmailError=N
class R{constructor(e){this.data=e}}function U(e){return 202===e}e.AcceptedResponse=R
let F=(c=Ember.inject.service,d=Ember.inject.service,p=class extends t.default{constructor(...e){super(...e),g(this,"session",m,this),g(this,"upgradeStatus",h,this),g(this,"config",b,this),f(this,"skipSessionDeletion",!1)}get headers(){return{"X-Ghost-Version":i.default.APP.version,"App-Pragma":"no-cache"}}init(){super.init(...arguments),void 0===this.isTesting&&(this.isTesting="test"===i.default.environment)}async _makeRequest(e){var t;(t=e.contentType)&&!Ember.isNone(t)&&0===t.indexOf("application/json")&&"GET"!==e.type&&"object"==typeof e.data&&(e.data=JSON.stringify(e.data)),e.withCredentials=!0,this.isTesting&&(e.headers["X-Test-User"]=this.session.user?.id)
let i=!1,r=null,a=0,s=new Date,l=0
const c=[500,1e3],d=[this.isServerUnreachableError,this.isMaintenanceError],p=()=>{const e={errorName:r,attempts:a,totalSeconds:(0,n.default)().diff((0,n.default)(s),"seconds")}
return this._responseServer&&(e.server=this._responseServer),e},m=super._makeRequest.bind(this)
for(;l<=15e3&&!i;)try{const t=await m(e)
return i=!0,0!==a&&this.config.sentry_dsn&&(0,o.captureMessage)("Request took multiple attempts",{extra:p()}),t}catch(h){if(r=h.response?.constructor?.name,l=new Date-s,this.isTesting)throw h
if(!(d.some((e=>e(h.response)))&&l<=15e3))throw a>0&&this.config.sentry_dsn?((0,o.captureMessage)("Request failed after multiple attempts",{extra:p()}),h):h
await(0,u.timeout)(c[a]||c[c.length-1]),a+=1}}handleResponse(e,t,n,o){if(t["content-version"]){const e=(0,r.default)(t["content-version"]),n=(0,r.default)(i.default.APP.version);(0,a.default)(n,e)&&(this.upgradeStatus.refreshRequired=!0)}if(this.isVersionMismatchError(e,t,n))return new w(n)
if(this.isServerUnreachableError(e,t,n))return new O(n)
if(this.isRequestEntityTooLargeError(e,t,n))return new _(n)
if(this.isUnsupportedMediaTypeError(e,t,n))return new z(n)
if(this.isMaintenanceError(e,t,n))return new S(n)
if(this.isThemeValidationError(e,t,n))return new M(n)
if(this.isHostLimitError(e,t,n))return new A(n)
if(this.isEmailError(e,t,n))return new N(n)
if(this.isAcceptedResponse(e))return new R(n)
let l=y.test(o.url),u=this.get("session.isAuthenticated"),c=this.isUnauthorizedError(e,t,n),d=(0,s.isForbiddenError)(e,t,n)
return l&&(this._responseServer=t.server),u&&l&&(c||d&&"Authorization failed"===n.errors?.[0].message)&&(this.skipSessionDeletion=!0,this.session.invalidate()),super.handleResponse(...arguments)}normalizeErrorResponse(e,t,i){if(i&&"object"==typeof i){let e=i.error||i.errors||i.message||void 0
e&&(Ember.isArray(e)||(e=[e]),i.errors=e.map((function(e){return"string"==typeof e?{message:e}:e})))}return super.normalizeErrorResponse(e,t,i)}isVersionMismatchError(e,t,i){return k(e,i)}isServerUnreachableError(e){return j(e)}isRequestEntityTooLargeError(e){return T(e)}isUnsupportedMediaTypeError(e){return x(e)}isDataImportError(e){return P(e)}isMaintenanceError(e,t,i){return C(e)}isThemeValidationError(e,t,i){return D(e,i)}isHostLimitError(e,t,i){return I(e,i)}isEmailError(e,t,i){return L(e,i)}isAcceptedResponse(e){return U(e)}},m=v(p.prototype,"session",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=v(p.prototype,"upgradeStatus",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=v(p.prototype,"config",[l.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p)
F.reopen({contentType:"application/json; charset=UTF-8"})
var B=F
e.default=B}))
define("ghost-admin/services/billing",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y
function w(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function k(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function E(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let P=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=class extends Ember.Service{constructor(){super(...arguments),w(this,"ghostPaths",d,this),w(this,"router",p,this),w(this,"store",m,this),w(this,"config",h,this),k(this,"billingRouteRoot","#/pro"),w(this,"billingWindowOpen",b,this),w(this,"subscription",g,this),w(this,"previousRoute",f,this),w(this,"action",v,this),w(this,"ownerUser",y,this),this.config.hostSettings?.billing?.url&&window.addEventListener("message",(e=>{e&&e.data&&e.data.route&&this.handleRouteChangeInIframe(e.data.route)}))}handleRouteChangeInIframe(e){if(this.billingWindowOpen){let t=this.billingRouteRoot
"/"!==e&&(t+=e),window.location.hash!==t&&window.history.replaceState(window.history.state,"",t)}}getIframeURL(){this.getOwnerUser()
let e=this.config.hostSettings?.billing?.url
if(window.location.hash&&window.location.hash.includes(this.billingRouteRoot)){let t=window.location.hash.replace(this.billingRouteRoot,"")
t&&(e+=t)}return e}async getOwnerUser(){if(!this.ownerUser){let e=this.store.peekAll("user").findBy("isOwnerOnly",!0)
e||(await this.store.findAll("user",{reload:!0}),e=this.store.peekAll("user").findBy("isOwnerOnly",!0)),this.ownerUser=e}return this.ownerUser}sendRouteUpdate(){const e=this.action
e&&("checkout"===e&&this.getBillingIframe().contentWindow.postMessage({query:"routeUpdate",response:this.checkoutRoute},"*"),this.action=null)}toggleProWindow(e){this.billingWindowOpen&&e&&!this.action||(this.sendRouteUpdate(),this.billingWindowOpen=e)}openBillingWindow(e,t){this.getOwnerUser(),this.billingWindowOpen||(this.previousRoute=e,window.location.hash=t||"/pro",this.sendRouteUpdate(),this.router.transitionTo(t||"/pro"))}getBillingIframe(){return document.getElementById("billing-frame")}},d=E(c.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=E(c.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=E(c.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=E(c.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=E(c.prototype,"billingWindowOpen",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=E(c.prototype,"subscription",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=E(c.prototype,"previousRoute",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=E(c.prototype,"action",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E(c.prototype,"ownerUser",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),c)
e.default=P})),define("ghost-admin/services/clock",["exports","ghost-admin/config/environment","moment-timezone"],(function(e,t,i){function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class r extends Ember.Service{constructor(...e){super(...e),n(this,"second",null),n(this,"minute",null),n(this,"hour",null)}init(){super.init(...arguments),this.tick()}tick(){let e=(0,i.default)().utc()
this.setProperties({second:e.seconds(),minute:e.minutes(),hour:e.hours()}),"test"!==t.default.environment&&Ember.run.later((()=>{this.tick()}),1e3)}}e.default=r})),define("ghost-admin/services/config-manager",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let p=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(...e){super(...e),c(this,"ajax",s,this),c(this,"ghostPaths",o,this),c(this,"session",l,this),c(this,"config",u,this)}fetch(){let e=[]
return e.push(this.fetchUnauthenticated()),this.session.isAuthenticated&&e.push(this.fetchAuthenticated()),Ember.RSVP.all(e)}async fetchUnauthenticated(){const e=this.ghostPaths.url.api("site"),{site:t}=await this.ajax.request(e)
t.blogUrl=t.url.replace(/\/$/,""),t.blogTitle=t.title,delete t.url,delete t.title,Ember.setProperties(this.config,t)}async fetchAuthenticated(){const e=this.ghostPaths.url.api("config"),{config:t}=await this.ajax.request(e)
Ember.setProperties(this.config,t)}},s=d(a.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=d(a.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=d(a.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=d(a.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=p})),define("ghost-admin/services/cookies",["exports","ember-cookies/services/cookies"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/services/custom-theme-settings",["exports","@tryghost/nql","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=class extends Ember.Service{constructor(...e){super(...e),c(this,"store",o,this),c(this,"settings",l,this),c(this,"settingGroups",u,this),d(this,"_hasLoaded",!1),d(this,"KNOWN_GROUPS",[{key:"homepage",name:"Homepage",icon:"house",previewType:"homepage"},{key:"post",name:"Post",icon:"post",previewType:"post"}])}get isDirty(){return!!this.settings.find((e=>e.hasDirtyAttributes))}get keyValueObject(){const e={}
return this.settings.forEach((t=>{e[t.key]=this._isSettingVisible(t)?t.value:null})),e}load(){return this.loadTask.perform()}reload(){return this._hasLoaded=!1,this.loadTask.perform()}*loadTask(){if(this.hasLoaded)return this.settings
Ember.run((()=>this.store.unloadAll("custom-theme-setting")))
const e=yield this.store.findAll("custom-theme-setting")
return this.settings=e,this.settingGroups=this._buildSettingGroups(e),this.updateSettingsVisibility(),this._hasLoaded=!0,this.settings}save(){return this.saveTask.perform()}*saveTask(){if(Ember.isEmpty(this.settings))return this.settings
const e=this.store.createRecord("custom-theme-setting-list",{customThemeSettings:this.settings})
return yield e.save(),this.store.unloadRecord(e),this.settings}rollback(){this.settings.forEach((e=>e.rollbackAttributes()))}updateSettingsVisibility(){this.settings.forEach((e=>{e.visible=this._isSettingVisible(e)}))}_buildSettingGroups(e){if(!e||!e.length)return[]
const t=this.KNOWN_GROUPS.map((e=>e.key)),i=[],n=e.filter((e=>!t.includes(e.group)))
return n.length&&i.push({key:"site-wide",name:"Site-wide",icon:"view-site",settings:n}),this.KNOWN_GROUPS.forEach((t=>{const n=e.filter((e=>e.group===t.key))
n.length&&i.push(Object.assign({},t,{settings:n}))})),i}_isSettingVisible(e){if(!e.visibility)return!0
const i=this.settings.reduce(((e,{key:t,value:i})=>({...e,[t]:i})),{})
return(0,t.default)(e.visibility).queryJSON(i)}},o=p(s.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),u=p(s.prototype,"settingGroups",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(s.prototype,"loadTask",[i.task],Object.getOwnPropertyDescriptor(s.prototype,"loadTask"),s.prototype),p(s.prototype,"saveTask",[i.task],Object.getOwnPropertyDescriptor(s.prototype,"saveTask"),s.prototype),s)
e.default=m})),define("ghost-admin/services/custom-views",["exports","ghost-admin/components/modals/custom-view-form","ghost-admin/mixins/validation-engine","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const g=["midgrey","blue","green","red","teal","purple","yellow","orange","pink"],f=Ember.Object.extend(i.default,{validationType:"customView",name:"",route:"",color:"",filter:null,isNew:!1,isDefault:!1,init(){this._super(...arguments),this.filter||(this.filter={}),this.color||(this.color=g[Math.floor(Math.random()*g.length)])},toJSON(){return{name:this.name,route:this.route,color:this.color,filter:this.filter}}}),v=[{route:"posts",name:"Drafts",color:"midgrey",icon:"pen",filter:{type:"draft"}},{route:"posts",name:"Scheduled",color:"midgrey",icon:"clock",filter:{type:"scheduled"}},{route:"posts",name:"Published",color:"midgray",icon:"published-post",filter:{type:"published"}}].map((e=>f.create(Object.assign({},e,{isDefault:!0}))))
let y=function(e,t){let i=Object.getOwnPropertyNames(e),n=Object.getOwnPropertyNames(t)
if(i.length!==n.length)return!1
for(let r=0;r<i.length;r++){let n=i[r]
if(e[n]!==t[n])return!1}return!0},w=function(e,t){return e.route===t.route&&y(e.filter,t.filter)},k=(r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._action,u=class extends Ember.Service{constructor(...e){super(...e),h(this,"modals",c,this),h(this,"router",d,this),h(this,"session",p,this),h(this,"settings",m,this)}get viewList(){let{settings:e,session:t}=this
if(!t.isAuthenticated||!t.user)return[]
let i=JSON.parse(e.sharedViews||"[]")
i=Ember.isArray(i)?i:[]
const n=[]
return t.user.isContributor||n.push(...v),n.push(...i.map((e=>f.create(e)))),n}*saveViewTask(e){yield e.validate()
const{viewList:t}=this
if(t.find((t=>t.route===e.route&&t.name.trim().toLowerCase()===e.name.trim().toLowerCase()&&!y(t.filter,e.filter))))return e.errors.add("name","Has already been used"),e.hasValidated.pushObject("name"),e.invalidate(),!1
let i=t.find((t=>w(t,e)))
return i?t.replace(t.indexOf(i),1,[e]):t.push(e),yield this._saveViewSettings(t),e.set("isNew",!1),e}*deleteViewTask(e){const{viewList:t}=this
let i=t.find((t=>w(t,e)))
if(i&&!i.isDefault)return t.removeObject(i),yield this._saveViewSettings(t),!0}get availableColors(){return g}get forPosts(){return this.viewList.filter((e=>"posts"===e.route))}get forPages(){return this.viewList.filter((e=>"pages"===e.route))}get activeView(){if(this.router.currentRoute)return this.findView(this.router.currentRouteName,this.router.currentRoute.queryParams)}findView(e,t){let i=e.replace(/_loading$/,"")
return this.viewList.find((e=>e.route===i&&y(e.filter,t)))}newView(){return f.create({isNew:!0,route:this.router.currentRouteName,filter:this.router.currentRoute.queryParams})}editView(){const e=f.create(this.activeView||this.newView())
return this.modals.open(t.default,{customView:e})}async _saveViewSettings(e){let t=e.reject((e=>e.isDefault)).map((e=>e.toJSON()))
return this.settings.sharedViews=JSON.stringify(t),this.settings.save()}},c=b(u.prototype,"modals",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=b(u.prototype,"router",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=b(u.prototype,"session",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b(u.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b(u.prototype,"saveViewTask",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"saveViewTask"),u.prototype),b(u.prototype,"deleteViewTask",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"deleteViewTask"),u.prototype),b(u.prototype,"editView",[l],Object.getOwnPropertyDescriptor(u.prototype,"editView"),u.prototype),u)
e.default=k})),define("ghost-admin/services/dashboard-mocks",["exports"],(function(e){var t,i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j
function _(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function T(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let z=(t=Ember._tracked,i=Ember._tracked,n=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=class extends Ember.Service{constructor(...e){super(...e),_(this,"enabled",h,this),_(this,"generateDays",b,this),_(this,"siteStatus",g,this),_(this,"memberCountStats",f,this),_(this,"mrrStats",v,this),_(this,"paidMembersByCadence",y,this),_(this,"paidMembersByTier",w,this),_(this,"membersLastSeen30d",k,this),_(this,"membersLastSeen7d",E,this),_(this,"newsletterSubscribers",P,this),_(this,"emailsSent30d",O,this),_(this,"emailOpenRateStats",j,this)}async waitRandom(){return new Promise((e=>{setTimeout((()=>{e()}),100+1e3*Math.random())}))}async loadSiteStatus(){null===this.siteStatus&&(await this.waitRandom(),this.siteStatus={hasPaidTiers:!0,hasMultipleTiers:!0,newslettersEnabled:!0,membersEnabled:!0})}_updateGrow(e){const t=Math.round(Math.random()*(e.growRate-e.shrinkOffset))
return e.growPeriod?(e.growCount+=1,e.growCount>e.growLength&&(e.growPeriod=!1,e.growCount=0,e.growLength=Math.floor(Math.random()*e.maxPeriod)+20)):(e.growCount+=1,e.growCount>e.growLength&&(e.growPeriod=!0,e.growCount=0,e.growLength=Math.floor(Math.random()*e.maxPeriod)+20)),e.growPeriod?e.growRate<e.maxGrowRate&&(e.growRate*=e.increaseSpeed):e.growRate>2&&(e.growRate*=e.decreaseSpeed),t}updateMockedData({days:e}){const t=e,i=new Date
i.setDate(i.getDate()-t+1)
const n=[]
let r=Math.floor(90*Math.random()),a={value:0,growPeriod:!0,growCount:0,growLength:3+Math.floor(7*Math.random()),growRate:10,shrinkOffset:3,maxGrowRate:200,increaseSpeed:1.04,decreaseSpeed:.99,maxPeriod:180},s={growPeriod:!1,growCount:0,growLength:Math.floor(30*Math.random()),growRate:1,shrinkOffset:4,maxGrowRate:50,increaseSpeed:1.03,decreaseSpeed:.99,maxPeriod:60},o={growPeriod:!1,growCount:0,growLength:Math.floor(60*Math.random()),growRate:1,shrinkOffset:2,maxGrowRate:50,increaseSpeed:1.04,decreaseSpeed:.99,maxPeriod:180},l={growPeriod:!1,growCount:0,growLength:Math.floor(7*Math.random()),growRate:1,shrinkOffset:4,maxGrowRate:10,increaseSpeed:1.03,decreaseSpeed:.99,maxPeriod:60},u={growPeriod:!0,growCount:0,growLength:Math.floor(30*Math.random()),growRate:20,shrinkOffset:2,maxGrowRate:200,increaseSpeed:1.02,decreaseSpeed:.99,maxPeriod:90}
this.memberAttributionStats=[]
for(let h=0;h<t;h++){const e=new Date(i.getTime())
if(e.setDate(e.getDate()+h),0===h){n.push({date:e.toISOString().split("T")[0],free:0,tier1:0,tier2:0,paid:0,comped:0,paidSubscribed:0,paidCanceled:0})
continue}const t=n[n.length-1]
let c=Math.max(0,this._updateGrow(a))
const d=Math.min(t.tier1,Math.max(0,this._updateGrow(s))),p=Math.max(0,this._updateGrow(o)),m=Math.min(t.tier2,Math.max(0,this._updateGrow(l)))
let b=Math.max(0,this._updateGrow(u))
r-=1,r<=0&&(r=Math.floor(900*Math.random()),b+=Math.floor(20*Math.random()*h),c+=Math.floor(20*Math.random()*h),u.growPeriod=!0,u.growLength=Math.floor(5*Math.random()),u.growRate=b,a.growPeriod=!0,a.growLength=0,s.growLength=14,s.growPeriod=!1)
const g=Math.max(0,t.tier1+c-d),f=Math.max(0,t.tier2+p-m)
n.push({date:e.toISOString().split("T")[0],free:t.free+b,tier1:g,tier2:f,paid:g+f,comped:0,paidSubscribed:c+p,paidCanceled:d+m})
let v=["Twitter","Ghost Network","Product Hunt","Direct","Ghost Newsletter","Rediverge Newsletter","Reddit","The Lever Newsletter","The Browser Newsletter","Green Newsletter","Yellow Newsletter","Brown Newsletter","Red Newsletter"]
const y=!0,w=!0,k=!1,E=!0
!0||(v=v.slice(0,5)),k||(this.memberAttributionStats.push({date:e.toISOString().split("T")[0],source:v[Math.floor(Math.random()*v.length)],signups:w?Math.floor(50*Math.random()):0,paidConversions:y?Math.floor(30*Math.random()):0}),E&&this.memberAttributionStats.push({date:e.toISOString().split("T")[0],source:null,signups:w?Math.floor(5*Math.random()):0,paidConversions:y?Math.floor(3*Math.random()):0}))}0===n.length&&n.push({date:(new Date).toISOString().split("T")[0],free:0,paid:0,comped:0,paidSubscribed:0,paidCanceled:0}),this.memberCountStats=n,this.subscriptionCountStats=n.map((e=>{const t=e.paidSubscribed-e.paidCanceled
return{date:e.date,count:e.paid,positiveDelta:e.paidSubscribed,negativeDelta:e.paidCanceled,signups:t<0?0:t,cancellations:Math.floor(.3*t)?Math.floor(.3*t):0}}))
const c=n[n.length-1],d=(c.paid,c.free,c.comped,c.paid),p=c.free+c.comped,m=Math.random()
this.paidMembersByCadence={year:Math.floor(d*m),month:Math.floor(d*(1-m))},this.paidMembersByTier=[{tier:{name:"Bronze tier"},members:Math.floor(.6*d)},{tier:{name:"Silver tier"},members:Math.floor(.25*d)},{tier:{name:"Gold tier"},members:Math.floor(.15*d)}],this.newsletterSubscribers={paid:Math.floor(.9*d),free:Math.floor(.5*p),total:Math.floor(.9*d)+Math.floor(.5*p)},this.emailsSent30d=Math.floor(123*e/90),this.membersLastSeen7d=Math.round(Math.random()*p/2),this.membersLastSeen30d=this.membersLastSeen7d+Math.round(Math.random()*p/2),this.emailOpenRateStats=[],e>=7&&this.emailOpenRateStats.push({subject:"ðŸ’¸ The best way to get paid to create",openRate:58,submittedAt:new Date}),e>=28&&this.emailOpenRateStats.push({subject:"ðŸŽ’How to start a blog and make money",openRate:42,submittedAt:new Date},{subject:"How to turn your amateur blogging into a real business",openRate:89,submittedAt:new Date},{subject:"ðŸ’¸ The best way to get paid to create",openRate:58,submittedAt:new Date}),e>=40&&this.emailOpenRateStats.push({subject:"ðŸŽ’How to start a blog and make money",openRate:42,submittedAt:new Date},{subject:"How to turn your amateur blogging into a real business",openRate:70,submittedAt:new Date},{subject:"ðŸŽ’How to start a blog and make money",openRate:90,submittedAt:new Date},{subject:"How to turn your amateur blogging into a real business",openRate:89,submittedAt:new Date}),this.mrrStats=n.map((e=>({date:e.date,mrr:501*e.tier1+2500*e.tier2,currency:"usd"})))}},h=T(m.prototype,"enabled",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=T(m.prototype,"generateDays",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),g=T(m.prototype,"siteStatus",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=T(m.prototype,"memberCountStats",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=T(m.prototype,"mrrStats",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=T(m.prototype,"paidMembersByCadence",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=T(m.prototype,"paidMembersByTier",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=T(m.prototype,"membersLastSeen30d",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T(m.prototype,"membersLastSeen7d",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=T(m.prototype,"newsletterSubscribers",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=T(m.prototype,"emailsSent30d",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=T(m.prototype,"emailOpenRateStats",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m)
e.default=z})),define("ghost-admin/services/dashboard-stats",["exports","moment-timezone","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$
function Y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function W(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let K=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._tracked,v=Ember._tracked,y=Ember._tracked,w=Ember._tracked,k=Ember._tracked,E=Ember._tracked,P=Ember._tracked,O=class extends Ember.Service{constructor(...e){super(...e),Y(this,"dashboardMocks",j,this),Y(this,"store",_,this),Y(this,"ajax",T,this),Y(this,"ghostPaths",z,this),Y(this,"membersCountCache",x,this),Y(this,"settings",S,this),Y(this,"membersUtils",C,this),Y(this,"siteStatus",M,this),Y(this,"memberCountStats",D,this),Y(this,"subscriptionCountStats",A,this),Y(this,"mrrStats",I,this),Y(this,"paidMembersByCadence",N,this),Y(this,"paidMembersByTier",L,this),Y(this,"membersLastSeen30d",R,this),Y(this,"memberAttributionStats",U,this),Y(this,"membersLastSeen7d",F,this),Y(this,"newsletterSubscribers",B,this),Y(this,"emailsSent30d",V,this),Y(this,"emailOpenRateStats",H,this),Y(this,"chartDays",q,this),Y(this,"lastSeenFilterStatus",$,this),W(this,"paidTiers",null)}get activePaidTiers(){return this.paidTiers?this.paidTiers.filter((e=>e.active)):null}get memberCounts(){if(!this.memberCountStats)return null
const e=this.memberCountStats[this.memberCountStats.length-1]
return{total:e.paid+e.comped+e.free,paid:e.paid+e.comped,free:e.free}}get currentMRR(){if(!this.mrrStats)return null
return this.mrrStats[this.mrrStats.length-1].mrr}get memberCountsTrend(){if(!this.memberCountStats)return null
if("all"===this.chartDays)return null
const e=(0,t.default)().add(-this.chartDays,"days").format("YYYY-MM-DD")
for(let t=this.memberCountStats.length-1;t>=0;t-=1){const i=this.memberCountStats[t]
if(i.date<=e)return{total:i.paid+i.comped+i.free,paid:i.paid+i.comped,free:i.free}}return{total:0,paid:0,free:0}}get memberSourceAttributionCounts(){return this.memberAttributionStats?this.memberAttributionStats.filter((e=>"all"===this.chartDays||e.date>=(0,t.default)().add(-this.chartDays,"days").format("YYYY-MM-DD"))).reduce(((e,t)=>{const i=t.source??"",n=e.find((e=>e.source===i))
return n?(n.signups+=t.signups||0,n.paidConversions+=t.paidConversions||0):e.push({source:i,signups:t.signups||0,paidConversions:t.paidConversions||0}),e}),[]).sort(((e,t)=>t.signups-e.signups)):[]}get currentMRRTrend(){if(!this.mrrStats)return null
if("all"===this.chartDays)return null
const e=(0,t.default)().add(-this.chartDays,"days").format("YYYY-MM-DD")
for(let t=this.mrrStats.length-1;t>=0;t-=1){const i=this.mrrStats[t]
if(i.date<=e)return i.mrr}return 0}get filledMemberCountStats(){if(null===this.memberCountStats)return null
return this.fillMissingDates(this.memberCountStats,{paid:0,free:0,comped:0,paidCanceled:0,paidSubscribed:0,signups:0,cancellations:0},(function(e){return{paid:e.paid,free:e.free,comped:e.comped,paidCanceled:0,paidSubscribed:0,signups:0,cancellations:0}}),this.chartDays)}get filledMrrStats(){if(null===this.mrrStats)return null
return this.fillMissingDates(this.mrrStats,{mrr:0},(function(e){return{mrr:e.mrr}}),this.chartDays)}get filledSubscriptionCountStats(){if(!this.subscriptionCountStats)return null
return this.fillMissingDates(this.subscriptionCountStats,{positiveDelta:0,negativeDelta:0,count:0,signups:0,cancellations:0},(function(e){return{count:e.count,positiveDelta:0,negativeDelta:0,signups:0,cancellations:0}}),this.chartDays)}loadSiteStatus(){return this._loadSiteStatus.isRunning?this._loadSiteStatus.last:this._loadSiteStatus.perform()}*_loadSiteStatus(){if(this.siteStatus=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.loadSiteStatus(),void(this.siteStatus={...this.dashboardMocks.siteStatus})
this.membersUtils.paidMembersEnabled&&(yield this.loadPaidTiers())
const e=this.membersUtils.paidMembersEnabled&&this.activePaidTiers&&this.activePaidTiers.length>0
this.siteStatus={hasPaidTiers:e,hasMultipleTiers:e&&this.activePaidTiers.length>1,newslettersEnabled:"disabled"!==this.settings.editorDefaultEmailRecipients,membersEnabled:this.membersUtils.isMembersEnabled}}loadPaidMembersByCadence(){this.loadSubscriptionCountStats()}loadPaidMembersByTier(){this.loadSubscriptionCountStats()}loadSubscriptionCountStats(){return this._loadSubscriptionCountStats.isRunning?this._loadSubscriptionCountStats.last:this._loadSubscriptionCountStats.perform()}*_loadSubscriptionCountStats(){if(this.subscriptionCountStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.subscriptionCountStats?null:(this.subscriptionCountStats=this.dashboardMocks.subscriptionCountStats,this.paidMembersByCadence={...this.dashboardMocks.paidMembersByCadence},void(this.paidMembersByTier=[...this.dashboardMocks.paidMembersByTier]))
let e=this.ghostPaths.url.api("stats/subscriptions"),t=yield this.ajax.request(e)
const i={month:0,year:0}
for(const a of t.meta.cadences)i[a]=t.meta.totals.reduce(((e,t)=>t.cadence!==a?e:e+t.count),0)
yield this.loadPaidTiers()
const n=[]
for(const a of t.meta.tiers){const e=this.paidTiers.find((e=>e.id===a))
e&&n.push({tier:{id:e.id,name:e.name},members:t.meta.totals.reduce(((e,t)=>t.tier!==a?e:e+t.count),0)})}for(const a of this.activePaidTiers)n.find((e=>e.tier.id===a.id))||n.push({tier:{id:a.id,name:a.name},members:0})
const r=function e(t,i){const[n,...r]=t
return n?i?n.date===i.date?e(r,{date:i.date,count:i.count+n.count,positiveDelta:i.positiveDelta+n.positive_delta,negativeDelta:i.negativeDelta+n.negative_delta,signups:i.signups+n.signups,cancellations:i.cancellations+n.cancellations}):[i].concat(e(t)):e(r,{date:n.date,count:n.count,positiveDelta:n.positive_delta,negativeDelta:n.negative_delta,signups:n.signups,cancellations:n.cancellations}):i?[i]:[]}(t.stats)
this.paidMembersByCadence=i,this.paidMembersByTier=n,this.subscriptionCountStats=r}loadMemberCountStats(){return this._loadMemberCountStats.isRunning?this._loadMemberCountStats.last:this._loadMemberCountStats.perform()}*_loadMemberCountStats(){if(this.memberCountStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.memberCountStats?null:void(this.memberCountStats=this.dashboardMocks.memberCountStats)
let e=this.ghostPaths.url.api("stats/member_count"),t=yield this.ajax.request(e)
this.memberCountStats=t.stats.map((e=>({...e,paidCanceled:e.paid_canceled,paidSubscribed:e.paid_subscribed})))}loadMemberAttributionStats(){return this._loadMemberAttributionStats.isRunning?this._loadMemberAttributionStats.last:this._loadMemberAttributionStats.perform()}*_loadMemberAttributionStats(){if(this.memberAttributionStats=[],this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.memberAttributionStats=this.dashboardMocks.memberAttributionStats)
let e=this.ghostPaths.url.api("stats/referrers"),t=yield this.ajax.request(e)
this.memberAttributionStats=t.stats.map((e=>({...e,paidConversions:e.paid_conversions})))}loadMrrStats(){return this._loadMrrStats.isRunning?this._loadMrrStats.last:this._loadMrrStats.perform()}*_loadMrrStats(){if(this.mrrStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),null===this.dashboardMocks.mrrStats?null:void(this.mrrStats=this.dashboardMocks.mrrStats)
let e=this.ghostPaths.url.api("stats/mrr"),t=yield this.ajax.request(e)
const i=t.meta.totals
let n=i[0]
if(!n)return void(this.mrrStats=[])
for(const a of i)a.mrr>n.mrr&&(n=a)
const r=n.currency
this.mrrStats=t.stats.filter((e=>e.currency===r))}loadLastSeen(){return this._loadLastSeen.perform()}*_loadLastSeen(){if(this.membersLastSeen30d=null,this.membersLastSeen7d=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),this.membersLastSeen30d=this.dashboardMocks.membersLastSeen30d,void(this.membersLastSeen7d=this.dashboardMocks.membersLastSeen7d)
const e=new Date(Date.now()-2592e6),t=new Date(Date.now()-6048e5)
e.setHours(0,0,0,0),t.setHours(0,0,0,0)
let i=""
"paid"===this.lastSeenFilterStatus?i="+status:paid":"free"===this.lastSeenFilterStatus&&(i="+status:-paid")
const[n,r]=yield Promise.all([this.membersCountCache.count("last_seen_at:>"+e.toISOString()+i),this.membersCountCache.count("last_seen_at:>"+t.toISOString()+i)])
this.membersLastSeen30d=n,this.membersLastSeen7d=r}loadPaidTiers(){if(null===this.paidTiers)return this._loadPaidTiers.isRunning?this._loadPaidTiers.last:this._loadPaidTiers.perform()}*_loadPaidTiers(){const e=yield this.store.query("tier",{filter:"type:paid",limit:"all"})
this.paidTiers=e.toArray()}loadNewsletterSubscribers(){return this._loadNewsletterSubscribers.isRunning?this._loadNewsletterSubscribers.last:this._loadNewsletterSubscribers.perform()}*_loadNewsletterSubscribers(){if(this.newsletterSubscribers=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.newsletterSubscribers=this.dashboardMocks.newsletterSubscribers)
const[e,t]=yield Promise.all([this.membersCountCache.count("newsletters.status:active+status:-free+email_disabled:0"),this.membersCountCache.count("newsletters.status:active+status:free+email_disabled:0")])
this.newsletterSubscribers={total:e+t,free:t,paid:e}}loadEmailsSent(){return this._loadEmailsSent.isRunning?this._loadEmailsSent.last:this._loadEmailsSent.perform()}*_loadEmailsSent(){if(this.emailsSent30d=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.emailsSent30d=this.dashboardMocks.emailsSent30d)
const e=new Date(Date.now()-2592e6),t=yield this.store.query("email",{limit:100,filter:"submitted_at:>"+e.toISOString()})
this.emailsSent30d=t.reduce(((e,t)=>e+t.emailCount),0)}loadEmailOpenRateStats(){return this._loadEmailOpenRateStats.isRunning?this._loadEmailOpenRateStats.last:this._loadEmailOpenRateStats.perform()}*_loadEmailOpenRateStats(){if(this.emailOpenRateStats=null,this.dashboardMocks.enabled)return yield this.dashboardMocks.waitRandom(),void(this.emailOpenRateStats=this.dashboardMocks.emailOpenRateStats)
let e={filter:"email_count:-0",order:"submitted_at desc",limit:8}
const i=yield this.store.query("email",e),n=i.toArray()
let r=n.map((e=>({subject:e.subject,submittedAt:(0,t.default)(e.submittedAtUTC).format("YYYY-MM-DD"),openRate:e.openRate})))
const a=[]
if(n.length<8){const e=8-n.length,r=n.length>0?n[i.length-1].submittedAtUTC:(0,t.default)()
for(let i=0;i<e;i++)a.push({subject:"",submittedAt:(0,t.default)(r).subtract(i+1,"days").format("YYYY-MM-DD"),openRate:0})}r=r.concat(a),r.reverse(),this.emailOpenRateStats=r}async reloadAll(){await this._loadSiteStatus.cancelAll(),await this._loadMrrStats.cancelAll(),await this._loadMemberCountStats.cancelAll(),await this._loadSubscriptionCountStats.cancelAll(),await this._loadLastSeen.cancelAll(),await this._loadNewsletterSubscribers.cancelAll(),await this._loadEmailsSent.cancelAll(),await this._loadEmailOpenRateStats.cancelAll(),await this._loadMemberAttributionStats.cancelAll(),this.loadSiteStatus(),this.loadMrrStats(),this.loadMemberCountStats(),this.loadSubscriptionCountStats(),this.loadLastSeen(),this.loadPaidMembersByCadence(),this.loadPaidMembersByTier(),this.loadNewsletterSubscribers(),this.loadEmailsSent(),this.loadEmailOpenRateStats(),this.loadMemberAttributionStats()}fillMissingDates(e,i,n,r){let a
if("all"===r){const e=90
if(a=(0,t.default)().subtract(e-1,"days"),null!==this.mrrStats&&this.mrrStats.length>0){const e=(0,t.default)(this.mrrStats[0].date)
e.toDate()<a.toDate()&&(a=e)}if(null!==this.memberCountStats&&this.memberCountStats.length>0){const e=(0,t.default)(this.memberCountStats[0].date)
e.toDate()<a.toDate()&&(a=e)}}else a=(0,t.default)().subtract(r-1,"days")
let s=(0,t.default)().add(1,"hour")
const o=[],l=e.findIndex((e=>(0,t.default)(e.date).isAfter(a)))
let u=l>0?e[l-1]:null
0!==l||u||(u=e[l]),e.length>0&&!u&&0!==l&&(u=e[e.length-1])
let c=u||i
for(;a.isBefore(s);){let t=a.format("YYYY-MM-DD")
const i=e.find((e=>e.date===t))
c=i||{date:t,...n(c)},o.push(c),a=a.add(1,"day")}return o}},j=G(O.prototype,"dashboardMocks",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=G(O.prototype,"store",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=G(O.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=G(O.prototype,"ghostPaths",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=G(O.prototype,"membersCountCache",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=G(O.prototype,"settings",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=G(O.prototype,"membersUtils",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=G(O.prototype,"siteStatus",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=G(O.prototype,"memberCountStats",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=G(O.prototype,"subscriptionCountStats",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=G(O.prototype,"mrrStats",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=G(O.prototype,"paidMembersByCadence",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=G(O.prototype,"paidMembersByTier",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=G(O.prototype,"membersLastSeen30d",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=G(O.prototype,"memberAttributionStats",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=G(O.prototype,"membersLastSeen7d",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=G(O.prototype,"newsletterSubscribers",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=G(O.prototype,"emailsSent30d",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=G(O.prototype,"emailOpenRateStats",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=G(O.prototype,"chartDays",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 31}}),$=G(O.prototype,"lastSeenFilterStatus",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"total"}}),G(O.prototype,"_loadSiteStatus",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadSiteStatus"),O.prototype),G(O.prototype,"_loadSubscriptionCountStats",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadSubscriptionCountStats"),O.prototype),G(O.prototype,"_loadMemberCountStats",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadMemberCountStats"),O.prototype),G(O.prototype,"_loadMemberAttributionStats",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadMemberAttributionStats"),O.prototype),G(O.prototype,"_loadMrrStats",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadMrrStats"),O.prototype),G(O.prototype,"_loadLastSeen",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadLastSeen"),O.prototype),G(O.prototype,"_loadPaidTiers",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadPaidTiers"),O.prototype),G(O.prototype,"_loadNewsletterSubscribers",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadNewsletterSubscribers"),O.prototype),G(O.prototype,"_loadEmailsSent",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadEmailsSent"),O.prototype),G(O.prototype,"_loadEmailOpenRateStats",[i.task],Object.getOwnPropertyDescriptor(O.prototype,"_loadEmailOpenRateStats"),O.prototype),O)
e.default=K})),define("ghost-admin/services/data-cache",["exports"],(function(e){function t(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Service{constructor(...e){super(...e),t(this,"cache",{}),t(this,"timeouts",{})}get(e){return this.cache[e]}set(e,t,i=6e4){return this.cache[e]=t,this.timeouts[e]=window.setTimeout((()=>{delete this.cache[e],delete this.timeouts[e]}),i),this.cache[e]}clear(){this._clearAllTimeouts(),this.cache={},this.timeouts={}}willDestroy(){this._clearAllTimeouts()}_clearAllTimeouts(){Object.keys(this.timeouts).forEach((e=>window.clearTimeout(this.timeouts[e])))}}e.default=i})),define("ghost-admin/services/drag-coordinator",["exports","ember-drag-drop/services/drag-coordinator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default
e.default=i})),define("ghost-admin/services/dropdown",["exports","jquery","ghost-admin/mixins/body-event-listener"],(function(e,t,i){var n,r,a
function s(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let o=(n=Ember._action,r=Ember._action,s((a=class extends(Ember.Service.extend(Ember.Evented,i.default)){bodyClick(e){(0,t.default)(e.target).closest(".ember-basic-dropdown-trigger, .ember-basic-dropdown-content").length<=0&&this.closeDropdowns()}closeDropdowns(){this.trigger("close")}toggleDropdown(e,t,i={}){this.trigger("toggle",{target:e,button:t,...i})}}).prototype,"closeDropdowns",[n],Object.getOwnPropertyDescriptor(a.prototype,"closeDropdowns"),a.prototype),s(a.prototype,"toggleDropdown",[r],Object.getOwnPropertyDescriptor(a.prototype,"toggleDropdown"),a.prototype),a)
e.default=o})),define("ghost-admin/services/ella-sparse",["exports","ember-ella-sparse/services/ella-sparse"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/ember-load-config",["exports","ember-load/services/ember-load-config","ghost-admin/config/environment"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n=i.default["ember-load"]||{}
var r=t.default.extend({loadingIndicatorClass:n.loadingIndicatorClass})
e.default=r})),define("ghost-admin/services/event-bus",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class t extends(Ember.Service.extend(Ember.Evented)){publish(){return this.trigger(...arguments)}subscribe(){return this.on(...arguments)}unsubscribe(){return this.off(...arguments)}}e.default=t})),define("ghost-admin/services/explore",["exports"],(function(e){var t,i,n,r,a,s,o,l,u,c,d,p,m
function h(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function b(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function g(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let f=(t=Ember.inject.service,i=Ember.inject.service,n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=class extends Ember.Service{get apiUrl(){const e=new URL(window.location.origin),t=this.ghostPaths.subdir
return this.ghostPaths.url.join(e.host,t).replace(/\/$/,"")}get iframeURL(){let e=this.exploreUrl
if(window.location.hash&&window.location.hash.includes(this.exploreRouteRoot)){let t=window.location.hash.replace(this.exploreRouteRoot,"")
t&&!t.includes("connect")&&(e+=t.replace(/^\//,""))}return e}constructor(){super(...arguments),h(this,"router",l,this),h(this,"feature",u,this),h(this,"ghostPaths",c,this),b(this,"exploreUrl","https://ghost.org/explore/"),b(this,"exploreRouteRoot","#/explore"),b(this,"submitRoute","submit"),h(this,"exploreWindowOpen",d,this),h(this,"siteData",p,this),h(this,"isIframeTransition",m,this),this.exploreUrl&&window.addEventListener("message",(e=>{e&&e.data&&e.data.route&&this.handleRouteChangeInIframe(e.data.route)}))}handleRouteChangeInIframe(e){if(this.exploreWindowOpen){let t=this.exploreRouteRoot
e.match(/^\/explore(\/.*)?/)&&(e=e.replace(/\/explore/,"")),"/"!==e&&(t+=e),window.location.hash!==t&&window.history.replaceState(window.history.state,"",t)}}sendRouteUpdate(e){this.getExploreIframe().contentWindow.postMessage({query:"routeUpdate",response:e},"*")}sendUIUpdate(e){this.getExploreIframe().contentWindow.postMessage({query:"uiUpdate",response:e},"*")}toggleExploreWindow(e){this.exploreWindowOpen&&e||(this.exploreWindowOpen=e)}openExploreWindow(){this.exploreWindowOpen||(this.ensureIframeIsLoaded(),window.location.hash="/explore",this.router.transitionTo("/explore"),this.toggleExploreWindow(!0))}ensureIframeIsLoaded(){this.getExploreIframe()&&!this.getExploreIframe()?.src&&(this.getExploreIframe().src=this.iframeURL)}getExploreIframe(){return document.getElementById("explore-frame")}},l=g(o.prototype,"router",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=g(o.prototype,"feature",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=g(o.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g(o.prototype,"exploreWindowOpen",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=g(o.prototype,"siteData",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=g(o.prototype,"isIframeTransition",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o)
e.default=f})),define("ghost-admin/services/feature",["exports","jquery","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D,A,I,N,L,R,U,F,B,V,H,q,$,Y,W,G,K,J,X,Z,Q,ee,te,ie,ne,re,ae,se,oe,le
function ue(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function ce(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function de(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function pe(e,t={}){let{user:i,onChange:n}=t,r=i?[`accessibility.${e}`]:[`config.${e}`,`labs.${e}`]
return Ember.computed.apply(Ember,r.concat({get(){let t=!1
return t=i?this.get(`accessibility.${e}`):"boolean"==typeof this.get(`config.${e}`)?this.get(`config.${e}`):this.get(`labs.${e}`)||!1,t},set(e,i){return this.update(e,i,t),n&&this.get(n).bind(this)(i),i}}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.feature=pe
let me=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=pe("emailAnalytics"),u=pe("nightShift",{user:!0,onChange:"_setAdminTheme"}),c=pe("referralInviteDismissed",{user:!0}),d=pe("urlCache"),p=pe("lexicalEditor"),m=pe("lexicalMultiplayer"),h=pe("audienceFeedback"),b=pe("webmentions"),g=pe("websockets"),f=pe("stripeAutomaticTax"),v=pe("emailCustomization"),y=pe("i18n"),w=pe("announcementBar"),k=pe("signupCard"),E=pe("signupForm"),P=pe("collections"),O=pe("adminXSettings"),j=pe("mailEvents"),_=pe("collectionsCard"),T=pe("importMemberTier"),z=pe("tipsAndDonations"),x=pe("recommendations"),S=pe("lexicalIndicators"),C=Ember.computed("settings.labs"),M=Ember.computed("_user.accessibility"),D=class extends Ember.Service{constructor(...e){super(...e),ue(this,"lazyLoader",A,this),ue(this,"notifications",I,this),ue(this,"session",N,this),ue(this,"settings",L,this),ue(this,"store",R,this),ue(this,"config",U,this),ue(this,"emailAnalytics",F,this),ue(this,"nightShift",B,this),ue(this,"referralInviteDismissed",V,this),ue(this,"urlCache",H,this),ue(this,"lexicalEditor",q,this),ue(this,"lexicalMultiplayer",$,this),ue(this,"audienceFeedback",Y,this),ue(this,"webmentions",W,this),ue(this,"websockets",G,this),ue(this,"stripeAutomaticTax",K,this),ue(this,"emailCustomization",J,this),ue(this,"i18n",X,this),ue(this,"announcementBar",Z,this),ue(this,"signupCard",Q,this),ue(this,"signupForm",ee,this),ue(this,"collections",te,this),ue(this,"adminXSettings",ie,this),ue(this,"mailEvents",ne,this),ue(this,"collectionsCard",re,this),ue(this,"importMemberTier",ae,this),ue(this,"tipsAndDonations",se,this),ue(this,"recommendations",oe,this),ue(this,"lexicalIndicators",le,this)
ce(this,"_user",null)}get labs(){let e=this.settings.labs
try{return JSON.parse(e)||{}}catch(t){return{}}}get accessibility(){let e=this.get("_user.accessibility")
try{return JSON.parse(e)||{}}catch(t){return{}}}fetch(){return this.settings.fetch().then((()=>(this.set("_user",this.session.user),this._setAdminTheme().then((()=>!0)))))}update(e,t,i={}){let n=i.user?"accessibility":"labs",r=this.get(i.user?"_user":"settings"),a=this.get(n)
return Ember.set(a,e,t),i.requires&&!0===t&&i.requires.forEach((e=>{Ember.set(a,e,!0)})),r.set(n,JSON.stringify(a)),r.save().then((()=>(this.notifyPropertyChange(n),this.get(`${n}.${e}`)))).catch((t=>{if(r.rollbackAttributes(),this.notifyPropertyChange(n),!t)throw new Ember.Error(`Validation of the feature service ${i.user?"user":"settings"} model failed when updating ${n}.`)
return this.notifications.showAPIError(t),this.get(`${n}.${e}`)}))}_setAdminTheme(e){let i=e
return void 0===i&&(i=e||this.nightShift),this.lazyLoader.loadStyle("dark","assets/ghost-dark-0452daeaee3a9b16dcd954ea60dad518.css",!0).then((()=>{(0,t.default)("link[title=dark]").prop("disabled",!i)})).catch((()=>{(0,t.default)("link[title=dark]").prop("disabled",!0)}))}},A=de(D.prototype,"lazyLoader",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=de(D.prototype,"notifications",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=de(D.prototype,"session",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=de(D.prototype,"settings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=de(D.prototype,"store",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=de(D.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=de(D.prototype,"emailAnalytics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=de(D.prototype,"nightShift",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=de(D.prototype,"referralInviteDismissed",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=de(D.prototype,"urlCache",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=de(D.prototype,"lexicalEditor",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=de(D.prototype,"lexicalMultiplayer",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=de(D.prototype,"audienceFeedback",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=de(D.prototype,"webmentions",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=de(D.prototype,"websockets",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=de(D.prototype,"stripeAutomaticTax",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=de(D.prototype,"emailCustomization",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),X=de(D.prototype,"i18n",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=de(D.prototype,"announcementBar",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=de(D.prototype,"signupCard",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=de(D.prototype,"signupForm",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),te=de(D.prototype,"collections",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=de(D.prototype,"adminXSettings",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=de(D.prototype,"mailEvents",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=de(D.prototype,"collectionsCard",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=de(D.prototype,"importMemberTier",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=de(D.prototype,"tipsAndDonations",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=de(D.prototype,"recommendations",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=de(D.prototype,"lexicalIndicators",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de(D.prototype,"labs",[C],Object.getOwnPropertyDescriptor(D.prototype,"labs"),D.prototype),de(D.prototype,"accessibility",[M],Object.getOwnPropertyDescriptor(D.prototype,"accessibility"),D.prototype),D)
e.default=me})),define("ghost-admin/services/frontend",["exports","fetch","validator","ghost-admin/decorators/inject"],(function(e,t,i,n){var r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(...e){super(...e),c(this,"settings",o,this),c(this,"ajax",l,this),c(this,"config",u,this),d(this,"_hasLoggedIn",!1),d(this,"_lastPassword",null)}get hasPasswordChanged(){return this._lastPassword!==this.settings.password}getUrl(e){const t=new URL(this.config.blogUrl),i=`${t.pathname.endsWith("/")?t.pathname:`${t.pathname}/`}${e.replace(/^\//,"")}`
return`${t.origin}${i}`}async loginIfNeeded(){if(this.settings.isPrivate&&(this.hasPasswordChanged||!this._hasLoggedIn)){const e=this.getUrl("/private/?r=%2F")
return this._lastPassword=this.settings.password,(0,t.default)(e,{method:"POST",mode:"cors",redirect:"manual",credentials:"include",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:`password=${this._lastPassword}`}).then((()=>{this._hasLoggedIn=!0})).catch((e=>(console.error(e),!0)))}}async fetch(e,n){await this.loginIfNeeded()
let r=e
return i.default.isURL(e)||(r=this.getUrl(e)),(0,t.default)(r,{mode:"cors",credentials:"include",...n})}},o=p(s.prototype,"settings",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=m})),define("ghost-admin/services/ghost-paths",["exports","ghost-admin/utils/ghost-paths"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends(Ember.Service.extend((0,t.default)())){}e.default=i})),define("ghost-admin/services/in-viewport",["exports","ember-in-viewport/services/in-viewport"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/infinity",["exports","ember-infinity/services/infinity"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/keyboard",["exports","ember-keyboard/services/keyboard.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/koenig-drag-drop-handler",["exports","koenig-editor/services/koenig-drag-drop-handler"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/koenig-ui",["exports","koenig-editor/services/koenig-ui"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/lazy-loader",["exports","ghost-admin/config/environment"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function u(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let c=(i=Ember.inject.service,n=Ember.inject.service,r=class extends Ember.Service{constructor(...e){super(...e),o(this,"ajax",a,this),o(this,"ghostPaths",s,this),l(this,"testing",void 0),l(this,"scriptPromises",null)}init(){super.init(...arguments),this.scriptPromises={},void 0===this.testing&&(this.testing="test"===t.default.environment)}loadScript(e,i){if(this.testing)return Ember.RSVP.resolve()
if(this.scriptPromises[e])return this.scriptPromises[e]
let n=new Ember.RSVP.Promise(((e,n)=>{let r=document.createElement("script")
r.type="text/javascript",r.async=!0,r.src=`${t.default.cdnUrl?"":this.ghostPaths.adminRoot}${i}`
let a=document.getElementsByTagName("script")[0]
a.parentNode.insertBefore(r,a),r.addEventListener("load",(()=>{e()})),r.addEventListener("error",(()=>{n(new Error(`${i} failed to load`))}))}))
return this.scriptPromises[e]=n,n}loadStyle(e,i,n=!1){return this.testing||document.querySelector(`#${e}-styles`)?Ember.RSVP.resolve():new Ember.RSVP.Promise(((r,a)=>{let s=document.createElement("link")
s.id=`${e}-styles`,s.rel=n?"alternate stylesheet":"stylesheet",s.href=`${t.default.cdnUrl?"":this.ghostPaths.adminRoot}${i}`,s.onload=()=>{s.onload=null,n&&(s.disabled=!0),r()},s.onerror=a,n&&(s.title=e),document.querySelector("head").appendChild(s)}))}},a=u(r.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=u(r.prototype,"ghostPaths",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/services/limit",["exports","@tryghost/limit-service","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class d{constructor({errorType:e,errorDetails:t,message:i}){this.errorType=e,this.errorDetails=t,this.message=i}}class p extends d{constructor(e){super(Object.assign({errorType:"IncorrectUsageError"},e))}}class m extends d{constructor(e){super(Object.assign({errorType:"HostLimitError"},e))}}let h=(n=Ember.inject.service,r=Ember.inject.service,a=class extends Ember.Service{constructor(){super(...arguments),u(this,"store",s,this),u(this,"membersStats",o,this),u(this,"config",l,this)
let e,i=this.config.hostSettings?.limits
this.limiter=new t.default,i&&(e=!0===this.config.hostSettings?.billing?.enabled&&this.config.hostSettings?.billing?.url?this.config.hostSettings.billing?.url:"https://ghost.org/help/",this.limiter.loadLimits({limits:this.decorateWithCountQueries(i),helpLink:e,errors:{HostLimitError:m,IncorrectUsageError:p}}))}async checkWouldGoOverLimit(e,t={}){return this.limiter.checkWouldGoOverLimit(e,t)}decorateWithCountQueries(e){return e.staff&&(e.staff.currentCountQuery=Ember.run.bind(this,this.getStaffUsersCount)),e.members&&(e.members.currentCountQuery=Ember.run.bind(this,this.getMembersCount)),e.newsletters&&(e.newsletters.currentCountQuery=Ember.run.bind(this,this.getNewslettersCount)),e}async getStaffUsersCount(){return Ember.RSVP.hash({users:this.store.findAll("user",{reload:!0}),invites:this.store.findAll("invite",{reload:!0}),roles:this.store.findAll("role",{reload:!0})}).then((e=>{const t=e.users.filter((e=>"inactive"!==e.get("status")&&"Contributor"!==e.role.get("name"))),i=e.invites.filter((e=>"Contributor"!==e.role.get("name")))
return t.length+i.length}))}async getMembersCount(){return(await this.store.query("member",{limit:1})).meta.pagination.total}async getNewslettersCount(){return(await this.store.query("newsletter",{filter:"status:active",limit:"all"})).length}},s=c(a.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),o=c(a.prototype,"membersStats",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(a.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a)
e.default=h})),define("ghost-admin/services/liquid-fire-transitions",["exports","liquid-wormhole/services/liquid-fire-transitions"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/liquid-wormhole",["exports","liquid-wormhole/services/liquid-wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/media-queries",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const t={maxWidth600:"(max-width: 600px)",isMobile:"(max-width: 800px)",maxWidth900:"(max-width: 900px)",maxWidth1000:"(max-width: 1000px)"}
class i extends(Ember.Service.extend(Ember.Evented)){init(){super.init(...arguments),this._handlers=[],this.loadQueries(t)}loadQueries(e){Object.keys(e).forEach((t=>{this.loadQuery(t,e[t])}))}loadQuery(e,t){let i=window.matchMedia(t)
this.set(e,i.matches)
let n=Ember.run.bind(this,(()=>{let t=this.get(e),n=i.matches
t!==n&&(this.set(e,n),this.trigger("change",e,n))}))
i.addListener(n),this._handlers.push([i,n])}willDestroy(){this._handlers.forEach((([e,t])=>{e.removeListener(t)})),super.willDestroy(...arguments)}}e.default=i})),define("ghost-admin/services/member-import-validator",["exports","validator"],(function(e,t){var i,n,r,a,s,o,l,u,c
function d(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(...e){super(...e),d(this,"ajax",o,this),d(this,"feature",l,this),d(this,"membersUtils",u,this),d(this,"ghostPaths",c,this)}check(e){let t=this._sampleData(e)
return this._detectDataTypes(t)}_sampleData(e,t=30){let i=[{}]
if(e&&e.length>t){Object.keys(e[0]).forEach((function(n){const r=e.filter((e=>!Ember.isEmpty(e[n])))
let a=[]
if(r.length<=t)a=r
else{const n=t/3,r=e.slice(0,n),a=e.slice(e.length-n,e.length),s=Math.floor(e.length/2),o=s-2,l=s+3,u=e.slice(o,l)
i.push(...r),i.push(...u),i.push(...a)}a.forEach(((e,t)=>{i[t]||(i[t]={}),i[t][n]=e[n]}))}))}else i=e
return i}_detectDataTypes(e){const i=["email","name","note","subscribed_to_emails","complimentary_plan","stripe_customer_id","labels","created_at"]
this.feature.importMemberTier&&i.push("import_tier")
const n=["email"]
let r={},a=0
for(;a<=e.length-1&&(!r.email||!r.stripe_customer_id);){let s=e[a]
for(const[e,a]of Object.entries(s))r.email||!t.default.isEmail(a)?r.name||!/name/.test(e)?r[e]||!i.includes(e)||n.includes(e)||(r[e]=e):r.name=e:r.email=e
a+=1}return r}},o=p(s.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=p(s.prototype,"membersUtils",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=p(s.prototype,"ghostPaths",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=m})),define("ghost-admin/services/members-count-cache",["exports","moment-timezone","ghost-admin/helpers/gh-pluralize","ember-concurrency"],(function(e,t,i,n){var r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(r=Ember.inject.service,a=Ember.inject.service,s=Ember._action,o=Ember._action,l=Ember._action,u=class extends Ember.Service{constructor(...e){super(...e),p(this,"session",c,this),p(this,"store",d,this),m(this,"cache",{}),m(this,"hasMultipleNewsletters",null)}async count(e){"string"==typeof e&&(e={filter:e})
const i=JSON.stringify(e),n=this.cache[i]
if(n&&(0,t.default)().diff(n.time,"seconds")<=60)return n.count
const r=this._countMembersTask.perform(e)
return this.cache[i]={count:r,time:(0,t.default)()},r}async countString(e="",{knownCount:t,newsletter:n}={}){if(null===this.hasMultipleNewsletters){const e=await this.store.query("newsletter",{status:"active",limit:"all"})
this.hasMultipleNewsletters=e.length>1}const r=this.session.user,a=n&&this.hasMultipleNewsletters?"subscriber":"member",s=a+"s",o=n&&this.hasMultipleNewsletters?" of "+n.name:"",l=(n?e.replace(n.recipientFilter,"").replace(/^\+\((.*)\)$/,"$1"):e).split(","),u=1===l.length&&"status:free"===l[0],c=1===l.length&&"status:-free"===l[0],d=!e||l.includes("status:free")&&l.includes("status:-free")
if(r.isEditor&&void 0===t)return u?"all free "+s+o:c?"all paid "+s+o:d?"all "+s+o:"a custom members segment"
const p=void 0!==t?t:await this.count(e)
return u?(0,i.ghPluralize)(p,"free "+a)+o:c?(0,i.ghPluralize)(p,"paid "+a)+o:(0,i.ghPluralize)(p,a)+o}clear(){this.cache={}}*_countMembersTask(e){if(!e)return 0
try{return(yield this.store.query("member",{...e,limit:1,page:1})).meta.pagination.total}catch(t){return console.error(t),0}}},c=h(u.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(u.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h(u.prototype,"count",[s],Object.getOwnPropertyDescriptor(u.prototype,"count"),u.prototype),h(u.prototype,"countString",[o],Object.getOwnPropertyDescriptor(u.prototype,"countString"),u.prototype),h(u.prototype,"clear",[l],Object.getOwnPropertyDescriptor(u.prototype,"clear"),u.prototype),h(u.prototype,"_countMembersTask",[n.task],Object.getOwnPropertyDescriptor(u.prototype,"_countMembersTask"),u.prototype),u)
e.default=b}))
define("ghost-admin/services/members-stats",["exports","moment-timezone","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P
function O(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function j(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const _=6e4
let T=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._tracked,m=class extends Ember.Service{constructor(...e){super(...e),O(this,"ajax",h,this),O(this,"ghostPaths",b,this),O(this,"store",g,this),O(this,"days",f,this),O(this,"stats",v,this),O(this,"events",y,this),O(this,"countStats",w,this),O(this,"mrrStats",k,this),O(this,"newsletterStats",E,this),O(this,"totalMemberCount",P,this)}get memberCount(){let e=this.totalMemberCount
if(!e)return 0
const{free:t,paid:i,comped:n}=e.meta.totals
return t+i+n||0}fetch(){let e=this._lastFetchedDays!==this.days,t=this._lastFetched&&new Date-this._lastFetched>_
return!this.stats||this._forceRefresh||e||t||!this._fetchTask.last?this._fetchTask.perform():this._fetchTask.last}fetchCounts(){let e=this._lastFetchedCounts&&new Date-this._lastFetchedCounts>_
return this.countStats&&!this._forceRefresh&&!e&&this._fetchCountsTask.last?this._fetchCountsTask.last:this._fetchCountsTask.perform()}fetchMemberCount(){let e=this._lastFetchedMemberCounts&&new Date-this._lastFetchedMemberCounts>_
return this.totalMemberCount&&!this._forceRefresh&&!e&&this._fetchMemberCountsTask.last?this._fetchMemberCountsTask.last:this._fetchMemberCountsTask.perform()}fetchNewsletterStats(){let e=this._lastFetchedNewsletterStats&&new Date-this._lastFetchedNewsletterStats>_
return this.newsletterStats&&!this._forceRefresh&&!e&&this._fetchNewsletterStatsTask.last?this._fetchNewsletterStatsTask.last:this._fetchNewsletterStatsTask.perform()}fillDates(e=[]){let i=(0,t.default)().subtract(30,"days"),n=(0,t.default)().add(1,"hour")
const r={},a=e.findIndex((e=>(0,t.default)(e.date).isAfter(i)))
let s=a>0?e[a-1]:null
0!==a||s||(s=e[a]),e.length>0&&!s&&0!==a&&(s=e[e.length-1])
let o=s?s.value:0
for(;i.isBefore(n);){let t=i.format("YYYY-MM-DD")
const n=e.find((e=>e.date===t))
r[t]=n?n.value:o,o=r[t],i=i.add(1,"day")}return r}fillCountDates(e={}){let i=(0,t.default)().subtract(30,"days"),n=(0,t.default)().add(1,"hour")
const r={},a=e.findIndex((e=>(0,t.default)(e.date).isAfter(i)))
let s=a>0?e[a-1]:null
0!==a||s||(s=e[a]),e.length>0&&!s&&0!==a&&(s=e[e.length-1])
let o={paid:s?s.paid:0,free:s?s.free:0,comped:s?s.comped:0,total:s?s.paid+s.free+s.comped:0}
for(;i.isBefore(n);){let t=i.format("YYYY-MM-DD")
const n=e.find((e=>e.date===t))
r[t]=n?{paid:n.paid,free:n.free,comped:n.comped,total:n.paid+n.free+n.comped}:o,o=r[t],i=i.add(1,"day")}return r}fetchMRR(){let e=this._lastFetchedMRR&&new Date-this._lastFetchedMRR>_
return this.mrrStats&&!this._forceRefresh&&!e&&this._fetchMRRTask?this._fetchMRRTask.last:this._fetchMRRTask.perform()}invalidate(){this._forceRefresh=!0}*_fetchNewsletterStatsTask(){let e={filter:"email_count:-0",order:"submitted_at desc",limit:5}
const i=yield this.store.query("email",e),n=i.toArray()
let r=n.map((e=>({subject:e.subject,submittedAt:(0,t.default)(e.submittedAtUTC).format("YYYY-MM-DD"),openRate:e.openRate})))
const a=[]
if(n.length<5){const e=5-n.length,r=n.length>0?n[i.length-1].submittedAtUTC:(0,t.default)()
for(let i=0;i<e;i++)a.push({subject:"",submittedAt:(0,t.default)(r).subtract(i+1,"days").format("YYYY-MM-DD"),openRate:0})}return r=r.concat(a),r.reverse(),this.newsletterStats=r,r}*_fetchCountsTask(){this._lastFetchedCounts=new Date
let e=this.ghostPaths.url.api("members/stats/count"),t=yield this.ajax.request(e)
return this.countStats=t,t}*_fetchMemberCountsTask(){this._lastFetchedMemberCounts=new Date
let e=this.ghostPaths.url.api("stats/member_count/"),t=yield this.ajax.request(e)
return this.totalMemberCount=t,t}*_fetchMRRTask(){this._lastFetchedMRR=new Date
let e=this.ghostPaths.url.api("members/stats/mrr"),t=yield this.ajax.request(e)
return this.mrrStats=t,t}*_fetchTask(){let{days:e}=this
this._lastFetchedDays=e,this._lastFetched=new Date,this._forceRefresh=!1
let t=this.ghostPaths.url.api("members/stats"),i=yield this.ajax.request(t,{data:{days:e}})
return this.stats=i,i}},h=j(m.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=j(m.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=j(m.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=j(m.prototype,"days",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"30"}}),v=j(m.prototype,"stats",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=j(m.prototype,"events",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=j(m.prototype,"countStats",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=j(m.prototype,"mrrStats",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=j(m.prototype,"newsletterStats",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=j(m.prototype,"totalMemberCount",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j(m.prototype,"_fetchNewsletterStatsTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"_fetchNewsletterStatsTask"),m.prototype),j(m.prototype,"_fetchCountsTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"_fetchCountsTask"),m.prototype),j(m.prototype,"_fetchMemberCountsTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"_fetchMemberCountsTask"),m.prototype),j(m.prototype,"_fetchMRRTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"_fetchMRRTask"),m.prototype),j(m.prototype,"_fetchTask",[i.task],Object.getOwnPropertyDescriptor(m.prototype,"_fetchTask"),m.prototype),m)
e.default=T})),define("ghost-admin/services/members-utils",["exports","ghost-admin/decorators/inject"],(function(e,t){var i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let b=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=class extends Ember.Service{constructor(...e){super(...e),p(this,"settings",o,this),p(this,"feature",l,this),p(this,"session",u,this),p(this,"store",c,this),p(this,"config",d,this),m(this,"paidTiers",null)}get isMembersEnabled(){return this.settings.membersEnabled}get paidMembersEnabled(){return this.settings.paidMembersEnabled}get isMembersInviteOnly(){return this.settings.membersInviteOnly}get hasMultipleTiers(){return this.paidMembersEnabled&&this.paidTiers&&this.paidTiers.length>1}get hasActiveTiers(){return this.paidMembersEnabled&&this.paidTiers&&this.paidTiers.length>0}async fetch(){if(null===this.paidTiers)return this.session.user&&!this.session.user.isContributor?this.store.query("tier",{filter:"type:paid+active:true",limit:"all"}).then((e=>{this.paidTiers=e})):void 0}async reload(){if(this.session.user&&!this.session.user.isContributor)return this.store.query("tier",{filter:"type:paid+active:true",limit:"all"}).then((e=>{this.paidTiers=e}))}get isStripeEnabled(){const e=this.config.stripeDirect,t=!!this.settings.stripeSecretKey&&!!this.settings.stripePublishableKey,i=!!this.settings.stripeConnectSecretKey&&!!this.settings.stripeConnectPublishableKey
return e?t:i||t}get defaultButtonIcons(){return[{icon:"portal-icon-1",value:"icon-1"},{icon:"portal-icon-2",value:"icon-2"},{icon:"portal-icon-3",value:"icon-3"},{icon:"portal-icon-4",value:"icon-4"},{icon:"portal-icon-5",value:"icon-5"}]}get defaultIconKeys(){return this.defaultButtonIcons.map((e=>e.value))}get buttonIcon(){return this.settings.portalButtonIcon||this.defaultIconKeys[0]}get isFreeChecked(){const e=this.settings.portalPlans||[]
return!("all"!==this.settings.membersSignupAccess||!e.includes("free"))}get isMonthlyChecked(){const e=this.settings.portalPlans||[]
return!(!this.isStripeConfigured||!e.includes("monthly"))}get isYearlyChecked(){const e=this.settings.portalPlans||[]
return!(!this.isStripeConfigured||!e.includes("yearly"))}getPortalPreviewUrl(e){let{disableBackground:t=!1,page:i="signup",button:n=this.settings.portalButton,buttonIcon:r=this.buttonIcon,isFreeChecked:a=this.isFreeChecked,isMonthlyChecked:s=this.isMonthlyChecked,isYearlyChecked:o=this.isYearlyChecked,monthlyPrice:l,yearlyPrice:u,portalPlans:c=this.settings.portalPlans,portalTiers:d,currency:p,membersSignupAccess:m=this.settings.membersSignupAccess}=e
const h=this.store.peekAll("tier")||[]
d=d||h.filter((e=>"public"===e.visibility&&"paid"===e.type)).map((e=>e.id))
const b=this.config.blogUrl,g=new URLSearchParams,f=this.settings.portalButtonSignupText||"",v="all"===m&&(!this.isStripeEnabled||a)
return g.append("button",n),g.append("name",this.settings.portalName),g.append("isFree",a),g.append("isMonthly",s),g.append("isYearly",o),g.append("page",i),g.append("buttonIcon",encodeURIComponent(r)),g.append("signupButtonText",encodeURIComponent(f)),g.append("membersSignupAccess",m),g.append("allowSelfSignup",v),g.append("signupTermsHtml",this.settings.portalSignupTermsHtml||""),g.append("signupCheckboxRequired",this.settings.portalSignupCheckboxRequired),c&&g.append("portalPrices",encodeURIComponent(c)),d&&g.append("portalProducts",encodeURIComponent(d)),(""===this.settings.accentColor||this.settings.accentColor)&&g.append("accentColor",encodeURIComponent(`${this.settings.accentColor}`)),this.settings.portalButtonStyle&&g.append("buttonStyle",encodeURIComponent(this.settings.portalButtonStyle)),l&&g.append("monthlyPrice",l),u&&g.append("yearlyPrice",u),p&&g.append("currency",p),t&&g.append("disableBackground",!0),`${b}/#/portal/preview?${g.toString()}`}getOfferPortalPreviewUrl(e){const{disableBackground:t=!1,name:i,code:n,displayTitle:r="",displayDescription:a="",type:s,cadence:o,amount:l=0,duration:u,durationInMonths:c,currency:d="usd",status:p,tierId:m}=e,h=this.config.blogUrl,b=new URLSearchParams
return b.append("name",encodeURIComponent(i)),b.append("code",encodeURIComponent(n)),b.append("display_title",encodeURIComponent(r)),b.append("display_description",encodeURIComponent(a)),b.append("type",encodeURIComponent(s)),b.append("cadence",encodeURIComponent(o)),b.append("amount",encodeURIComponent(l)),b.append("duration",encodeURIComponent(u)),b.append("duration_in_months",encodeURIComponent(c)),b.append("currency",encodeURIComponent(d)),b.append("status",encodeURIComponent(p)),b.append("tier_id",encodeURIComponent(m)),t&&b.append("disableBackground","true"),`${h}/#/portal/preview/offer?${b.toString()}`}},o=h(s.prototype,"settings",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=h(s.prototype,"feature",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=h(s.prototype,"session",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(s.prototype,"store",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(s.prototype,"config",[t.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s)
e.default=b})),define("ghost-admin/services/mention-utils",["exports"],(function(e){var t,i,n
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let r=(t=Ember.inject.service,i=class extends Ember.Service{constructor(...e){var t,i,r,a
super(...e),t=this,i="store",a=this,(r=n)&&Object.defineProperty(t,i,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(a):void 0})}async loadGroupedMentions(e){const t=e.mapBy("source").uniq()
let i
t.length>0&&(i=`source:[${t.map((e=>`'${e}'`)).join(",")}]`)
const n=await this.store.query("mention",{filter:i})
return e.forEach((e=>{e.set("mentions",n.filterBy("source",e.source))})),e}},a=i.prototype,s="store",o=[t],l={configurable:!0,enumerable:!0,writable:!0,initializer:null},c={},Object.keys(l).forEach((function(e){c[e]=l[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,("value"in c||c.initializer)&&(c.writable=!0),c=o.slice().reverse().reduce((function(e,t){return t(a,s,e)||e}),c),u&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(u):void 0,c.initializer=void 0),void 0===c.initializer&&(Object.defineProperty(a,s,c),c=null),n=c,i)
var a,s,o,l,u,c
e.default=r})),define("ghost-admin/services/migrate",["exports","jose"],(function(e,t){var i,n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v
function y(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function w(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function k(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let E=(i=Ember.inject.service,n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=class extends Ember.Service{get apiUrl(){const e=window.location.origin,t=this.ghostPaths.subdir,i=this.router.rootURL
let n=this.ghostPaths.url.join(e,t,i)
return n=n.replace(/\/$/,""),n}async apiToken(){const e=this.ghostPaths.url.api("integrations")+"?include=api_keys"
return this.ajax.request(e).then((async e=>{const i=e.integrations.find((e=>"self-serve-migration"===e.slug)).api_keys[0].secret,[n,r]=i.split(":")
const a=function(e){let t=[]
for(let i=0;i<e.length;i+=2)t.push(parseInt(e.substr(i,2),16))
return new Uint8Array(t)}(r)
return await new t.SignJWT({}).setProtectedHeader({alg:"HS256",typ:"JWT",kid:n}).setIssuedAt().setExpirationTime("5m").setAudience("/admin/").sign(a)})).catch((e=>{throw e}))}get isStripeConnected(){return!!(this.settings.stripeConnectAccountId&&this.settings.stripeConnectPublishableKey&&this.settings.stripeConnectLivemode)}constructor(){super(...arguments),y(this,"ajax",d,this),y(this,"router",p,this),y(this,"ghostPaths",m,this),y(this,"settings",h,this),w(this,"migrateUrl","https://migrate.ghost.org"),w(this,"migrateRouteRoot","#/migrate"),y(this,"migrateWindowOpen",b,this),y(this,"siteData",g,this),y(this,"previousRoute",f,this),y(this,"isIframeTransition",v,this)}getIframeURL(){return this.migrateUrl}sendRouteUpdate(e){this.getMigrateIframe().contentWindow.postMessage({query:"routeUpdate",response:e},"*")}toggleMigrateWindow(e){this.migrateWindowOpen&&e||(this.migrateWindowOpen=e)}openMigrateWindow(e,t){this.migrateWindowOpen||(this.previousRoute=e,window.location.hash=t||"/migrate",this.router.transitionTo(t||"/migrate"),this.toggleMigrateWindow(!0))}getMigrateIframe(){return document.getElementById("migrate-frame")}},d=k(c.prototype,"ajax",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=k(c.prototype,"router",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=k(c.prototype,"ghostPaths",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=k(c.prototype,"settings",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=k(c.prototype,"migrateWindowOpen",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=k(c.prototype,"siteData",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=k(c.prototype,"previousRoute",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=k(c.prototype,"isIframeTransition",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c)
e.default=E})),define("ghost-admin/services/modals",["exports","@tryghost/ember-promise-modals/services/modals"],(function(e,t){var i,n,r
function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let s=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,s
super(...e),t=this,i="dropdown",s=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(s):void 0}),a(this,"DEFAULT_OPTIONS",{className:"fullscreen-modal-action fullscreen-modal-wide"}),a(this,"focusTrapOptions",{allowOutsideClick:!0,clickOutsideDeactivates:!1,escapeDeactivates:!1})}open(e,t,i){const n=Object.assign({},this.DEFAULT_OPTIONS,e.modalOptions,i)
return super.open(e,t,n)}_onFirstModalAdded(){super._onFirstModalAdded(...arguments),this.addEventHandlers(),this.dropdown.closeDropdowns()}_onLastModalRemoved(){super._onLastModalRemoved(...arguments),this.removeEventHandlers()}addEventHandlers(){this.backdropClickHandler||(this.backdropClickHandler=Ember.run.bind(this,this.handleBackdropClick),document.body.addEventListener("mousedown",this.backdropClickHandler,{capture:!0,passive:!1})),this.escapeKeyHandler||(this.escapeKeyHandler=Ember.run.bind(this,this.handleEscapeKey),document.addEventListener("keydown",this.escapeKeyHandler,{capture:!0,passive:!1}))}removeEventHandlers(){document.body.removeEventListener("mousedown",this.backdropClickHandler,{capture:!0,passive:!1}),this.backdropClickHandler=null,document.removeEventListener("keydown",this.escapeKeyHandler,{capture:!0,passive:!1}),this.escapeKeyHandler=null}handleBackdropClick(e){let t=!0
for(const i of e.path||e.composedPath())if(i.matches?.(".modal-content, .fullscreen-modal-total-overlay, .ember-basic-dropdown-content, a[download], .pintura-editor")){t=!1
break}(this.top.options||this.top._options)?.ignoreBackdropClick&&(t=!1),t&&this.top.close()}handleEscapeKey(e){"Escape"===e.key&&this.top.close()}},o=n.prototype,l="dropdown",u=[i],c={configurable:!0,enumerable:!0,writable:!0,initializer:null},p={},Object.keys(c).forEach((function(e){p[e]=c[e]})),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=u.slice().reverse().reduce((function(e,t){return t(o,l,e)||e}),p),d&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(d):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(o,l,p),p=null),r=p,n)
var o,l,u,c,d,p
e.default=s})),define("ghost-admin/services/moment",["exports","ember-moment/services/moment.js"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/navigation",["exports","@ember-decorators/object"],(function(e,t){var i,n,r,a,s,o,l
function u(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function c(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const d={expanded:{posts:!0}}
let p=(i=Ember.inject.service,n=Ember._tracked,r=(0,t.observes)("session.{isAuthenticated,user}","session.user.accessibility"),a=Ember._action,s=class extends Ember.Service{constructor(){super(...arguments),u(this,"session",o,this),u(this,"settings",l,this),this.settings=Object.assign({},d),this.updateSettings()}async updateSettings(){if(!this.session.isAuthenticated||!this.session.user)return
let e=JSON.parse(this.session.user.accessibility||"{}")||{}
this.settings=e.navigation||Object.assign({},d)}async toggleExpansion(e){return this.settings.expanded||(this.settings.expanded={}),this.settings.expanded[e]=!this.settings.expanded[e],await this._saveNavigationSettings()}async _saveNavigationSettings(){let e=this.session.user,t=JSON.parse(e.get("accessibility"))||{}
return t.navigation=this.settings,e.set("accessibility",JSON.stringify(t)),e.save()}},o=c(s.prototype,"session",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=c(s.prototype,"settings",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c(s.prototype,"updateSettings",[r],Object.getOwnPropertyDescriptor(s.prototype,"updateSettings"),s.prototype),c(s.prototype,"toggleExpansion",[a],Object.getOwnPropertyDescriptor(s.prototype,"toggleExpansion"),s.prototype),s)
e.default=p})),define("ghost-admin/services/notifications",["exports","@sentry/ember","tracked-built-ins","ghost-admin/decorators/inject","ghost-admin/services/ajax"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p
function m(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function h(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.GENERIC_ERROR_MESSAGE=void 0
const b=["AggregateError","EvalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],g="An unexpected error occurred, please try again."
e.GENERIC_ERROR_MESSAGE=g
let f=(a=Ember.inject.service,s=Ember._tracked,o=Ember._tracked,l=class extends Ember.Service{constructor(...e){super(...e),m(this,"upgradeStatus",u,this),m(this,"config",c,this),m(this,"delayedNotifications",d,this),m(this,"content",p,this)}get alerts(){return this.content.filter((e=>"alert"===e.status))}get notifications(){return this.content.filter((e=>"notification"===e.status))}handleNotification(e,t=!1){const n=(e.message.string||e.message).matchAll(/[a-z]+/gim)
for(const i of n)if(b.includes(i[0])){e.message=g
break}"notification"===e.constructor.modelName&&"alert"===e.status&&(e.message=Ember.String.htmlSafe(e.message)),e.status||(e.status="notification"),e.key&&this._removeItems(e.status,e.key)
let r=e.message.string||e.message
this.content=new i.TrackedArray(this.content.reject((e=>(e.message.string||e.message)===r))),t?this.delayedNotifications.push(e):this.content.push(e)}showAlert(e,i={}){if(!((i=i||{}).isApiError||i.type&&"error"!==i.type)&&this.config.sentry_dsn){const n=e.string||e,r={ghost:{displayed_message:n,ghost_error_code:i.ghostErrorCode,full_error:e}}
t.captureMessage(n,{contexts:r,tags:{shown_to_user:!0,source:"showAlert"}})}this.handleNotification({message:e,status:"alert",description:i.description,icon:i.icon,type:i.type,key:i.key,actions:i.actions},i.delayed)}showNotification(e,t){t=t||{},this.handleNotification({message:e,status:"notification",description:t.description,icon:t.icon,type:t.type,key:t.key,actions:t.actions},t.delayed)}showAPIError(e,t){return(0,r.isVersionMismatchError)(e)?this.upgradeStatus.requireUpgrade():(0,r.isMaintenanceError)(e)?this.upgradeStatus.maintenanceAlert():Ember.isArray(e?.payload?.errors)?e.payload.errors.forEach((e=>{this._showAPIError(e,t)})):void this._showAPIError(e,t)}_showAPIError(e,i){(i=i||{}).type=i.type||"error",i.key||Ember.isBlank(e?.title)||(i.key=Ember.String.dasherize(e?.title)),i.key=["api-error",i.key].compact().join(".")
let n=i.defaultErrorText||g
if(e?.name&&b.includes(e.name)?n=g:e instanceof String?n=e:Ember.isBlank(e?.message)||(n=e.message),Ember.isBlank(e?.context)||e?.context===n||(n=`${n} ${e.context}`),this.config.sentry_dsn){const i=e instanceof Error?e:n
t.captureException(i,{contexts:{ghost:{ghost_error_code:e.ghostErrorCode,displayed_message:n,full_error:e}},tags:{shown_to_user:!0,source:"showAPIError"}})}i.isApiError=!0,this.showAlert(n,i)}displayDelayed(){this.delayedNotifications.forEach((e=>{this.content.push(e)})),this.delayedNotifications=new i.TrackedArray([])}closeNotification(e){let t=this.content
"notification"===e.constructor.modelName?(e.deleteRecord(),e.save().finally((()=>{t.removeObject(e)}))):t.removeObject(e)}closeNotifications(e){this._removeItems("notification",e)}closeAlerts(e){this._removeItems("alert",e)}clearAll(){this.content=new i.TrackedArray([])}_removeItems(e,t){if(t){let n=this._getKeyBase(t).replace(".","\\."),r=new RegExp(`^${n}`)
this.content=new i.TrackedArray(this.content.reject((t=>{let i=t.key
return t.status===e&&i&&i.match(r)})))}else this.content=new i.TrackedArray(this.content.rejectBy("status",e))}_getKeyBase(e){return e.split(".").slice(0,2).join(".")}},u=h(l.prototype,"upgradeStatus",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h(l.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=h(l.prototype,"delayedNotifications",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i.TrackedArray([])}}),p=h(l.prototype,"content",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i.TrackedArray([])}}),l)
e.default=f})),define("ghost-admin/services/power-calendar",["exports","ember-power-calendar/services/power-calendar"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/resize-detector",["exports","element-resize-detector"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Service{constructor(){super(...arguments),this.detector=(0,t.default)({strategy:"scroll"})}setup(e,t){const i="string"==typeof e?document.querySelector(e):e
i||console.error(`service:resize-detector - could not find element matching ${e}`),this.detector.listenTo(i,t)}teardown(e,t){const i="string"==typeof e?document.querySelector(e):e
i&&this.detector.removeListener(i,t)}}e.default=i})),define("ghost-admin/services/session",["exports","ember-simple-auth/services/session","@sentry/ember","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M,D
function A(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function I(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function N(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let L=(a=Ember.inject.service,s=Ember.inject.service("store"),o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember.inject.service,h=Ember.inject.service,b=Ember.inject.service,g=Ember.inject.service,f=Ember._tracked,v=(0,r.task)({drop:!0}),y=class extends t.default{constructor(...e){super(...e),A(this,"configManager",w,this),A(this,"dataStore",k,this),A(this,"feature",E,this),A(this,"notifications",P,this),A(this,"router",O,this),A(this,"frontend",j,this),A(this,"settings",_,this),A(this,"ui",T,this),A(this,"upgradeStatus",z,this),A(this,"whatsNew",x,this),A(this,"membersUtils",S,this),A(this,"themeManagement",C,this),A(this,"config",M,this),A(this,"user",D,this),I(this,"skipAuthSuccessHandler",!1)}async populateUser(e={}){if(this.user)return
const t=e.id||"me",i=await this.dataStore.queryRecord("user",{id:t})
this.user=i}async postAuthPreparation(){await Ember.RSVP.all([this.configManager.fetchAuthenticated(),this.feature.fetch(),this.settings.fetch(),this.membersUtils.fetch()]),this.themeManagement.fetch().catch(console.error),await this.frontend.loginIfNeeded(),this.config.sentry_dsn&&(0,i.configureScope)((e=>{e.addEventProcessor((e=>new Promise((t=>{t({...e,release:`ghost@${this.config.version}`,"user.role":this.user.role.name})}))))})),this.loadServerNotifications(),this.whatsNew.fetchLatest.perform()}async handleAuthentication(){return this.handleAuthenticationTask.isRunning?this.handleAuthenticationTask.last:this.handleAuthenticationTask.perform((()=>{this.skipAuthSuccessHandler?this.skipAuthSuccessHandler=!1:super.handleAuthentication("home")}))}async requireAuthentication(e,t){this.isAuthenticated||(e.abort(),this.user&&(await this.setup(),this.notifications.clearAll(),e.retry())),super.requireAuthentication(e,t)}handleInvalidation(){let e=this.appLoadTransition
e?e.send("authorizationFailed"):Ember.run.scheduleOnce("routerTransitions",this,"triggerAuthorizationFailed")}triggerAuthorizationFailed(){Ember.getOwner(this).lookup(`route:${this.router.currentRouteName}`)?.send("authorizationFailed")}loadServerNotifications(){this.isAuthenticated&&(this.user.isAuthorOrContributor||this.dataStore.findAll("notification",{reload:!0}).then((e=>{e.forEach((e=>{e.top||e.custom?this.notifications.handleNotification(e):this.upgradeStatus.handleUpgradeNotification(e)}))})))}*handleAuthenticationTask(e){if(!this.user){try{yield this.populateUser()}catch(t){yield this.invalidate()}yield this.postAuthPreparation()}e()}},w=N(y.prototype,"configManager",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N(y.prototype,"dataStore",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=N(y.prototype,"feature",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=N(y.prototype,"notifications",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=N(y.prototype,"router",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=N(y.prototype,"frontend",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=N(y.prototype,"settings",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=N(y.prototype,"ui",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=N(y.prototype,"upgradeStatus",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=N(y.prototype,"whatsNew",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=N(y.prototype,"membersUtils",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=N(y.prototype,"themeManagement",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=N(y.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=N(y.prototype,"user",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N(y.prototype,"handleAuthenticationTask",[v],Object.getOwnPropertyDescriptor(y.prototype,"handleAuthenticationTask"),y.prototype),y)
e.default=L})),define("ghost-admin/services/settings",["exports","ghost-admin/models/setting","ghost-admin/mixins/validation-engine"],(function(e,t,i){var n,r,a,s,o,l,u
function c(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function d(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let m=(n=Ember.inject.service,r=Ember._tracked,a=Ember._tracked,s=class extends(Ember.Service.extend(i.default)){constructor(...e){super(...e),c(this,"store",o,this),c(this,"settingsModel",l,this),d(this,"validationType","setting"),d(this,"_loadingPromise",null),c(this,"settledIcon",u,this)}init(){super.init(...arguments)
const e=Ember.get(t.default,"attributes")
for(const[t]of e)Object.prototype.hasOwnProperty.call(this,t)||Ember.defineProperty(this,t,Ember.computed(`settingsModel.${t}`,{get(){return this.settingsModel?.[t]},set(e,i){return this.settingsModel[t]=i}}))}get hasDirtyAttributes(){return this.settingsModel?.hasDirtyAttributes||!1}get mailgunIsConfigured(){return this.mailgunApiKey&&this.mailgunDomain&&this.mailgunBaseUrl}_loadSettings(){return this._loadingPromise||(this._loadingPromise=this.store.queryRecord("setting",{group:"site,theme,private,members,portal,newsletter,email,amp,labs,slack,unsplash,views,firstpromoter,editor,comments,analytics,announcement,pintura,donations"}).then((e=>(this._loadingPromise=null,e)))),this._loadingPromise}async fetch(){return this.settingsModel?this:this.reload()}async reload(){const e=await this._loadSettings()
return this.settingsModel=e,this.settledIcon=e.icon,this}async save(){const{settingsModel:e}=this
return!!e&&(await e.save(),await this.validate(),this.settledIcon=e.icon,this)}rollbackAttributes(){return this.settingsModel?.rollbackAttributes()}changedAttributes(){return this.settingsModel?.changedAttributes()}},o=p(s.prototype,"store",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=p(s.prototype,"settingsModel",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=p(s.prototype,"settledIcon",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),s)
e.default=m})),define("ghost-admin/services/slug-generator",["exports","@tryghost/string"],(function(e,t){var i,n,r,a,s
function o(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const{resolve:u}=Ember.RSVP
let c=(i=Ember.inject.service,n=Ember.inject.service,r=class extends Ember.Service{constructor(...e){super(...e),o(this,"ghostPaths",a,this),o(this,"ajax",s,this)}generateSlug(e,i){let n
return i?(n=this.get("ghostPaths.url").api("slugs",e,encodeURIComponent((0,t.slugify)(i))),this.ajax.request(n).then((e=>{let[t]=e.slugs,{slug:i}=t
return i}))):u("")}},a=l(r.prototype,"ghostPaths",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=l(r.prototype,"ajax",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),r)
e.default=c})),define("ghost-admin/services/socket-io",["exports","ember-websockets/services/socket-io"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/store",["exports","ember-data/store"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/tenor",["exports","fetch","tracked-built-ins","ghost-admin/decorators/inject","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z
function x(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function C(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let M=(a=Ember._tracked,s=Ember._tracked,o=Ember._tracked,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=(0,r.task)({restartable:!0}),g=(0,r.task)({group:"loadingTasks"}),f=(0,r.task)({group:"loadingTasks"}),v=(0,r.task)({group:"loadingTasks"}),y=class extends Ember.Service{get apiKey(){return this.config.tenor.googleApiKey}get contentfilter(){return this.config.tenor.contentFilter||"off"}get isLoading(){return this.searchTask.isRunning||this.loadingTasks.isRunning}constructor(){super(...arguments),x(this,"config",w,this),x(this,"columnCount",k,this),x(this,"columns",E,this),x(this,"error",P,this),x(this,"htmlError",O,this),x(this,"gifs",j,this),x(this,"searchTerm",_,this),x(this,"loadedType",T,this),S(this,"_columnHeights",[]),S(this,"_nextPos",null),x(this,"loadingTasks",z,this),this._resetColumns()}updateSearch(e){if(e!==this.searchTerm)return this.searchTerm=e,this.reset(),e?this.searchTask.perform(e):this.loadTrendingTask.perform()}loadNextPage(){if(!this.searchTask.isRunning)return Ember.isEmpty(this.gifs)?this.loadTrendingTask.perform():void(null!==this._nextPos&&this.loadNextPageTask.perform())}changeColumnCount(e){this.columnCount=e,this._resetColumns()}*searchTask(e){yield(0,r.timeout)(600),this.loadedType="search",yield this._makeRequest(this.loadedType,{params:{q:e,media_filter:"minimal"}})}*loadTrendingTask(){this.loadedType="featured",yield this._makeRequest(this.loadedType,{params:{q:"excited",media_filter:"minimal"}})}*loadNextPageTask(){const e={pos:this._nextPos,media_filter:"minimal"}
"search"===this.loadedType&&(e.q=this.searchTerm),yield this._makeRequest(this.loadedType,{params:e})}*retryLastRequestTask(){this._lastRequestArgs&&(yield this._makeRequest(...this._lastRequestArgs))}reset(){this.gifs=new i.TrackedArray([]),this._nextPos=null,this._resetColumns()}async _makeRequest(e,i){const n=`v2/${e}`.replace(/\/+/,"/"),r=new URL(n,"https://tenor.googleapis.com"),a=new URLSearchParams(i.params)
return a.set("key",this.apiKey),a.set("client_key","ghost-editor"),a.set("contentfilter",this.contentfilter),r.search=a.toString(),this._lastRequestArgs=arguments,this.error="",(0,t.default)(r).then((e=>this._checkStatus(e))).then((e=>e.json())).then((e=>this._extractPagination(e))).then((e=>this._addGifsFromResponse(e))).catch((e=>{i.ignoreErrors||this.error||(this.error="Uh-oh! Trouble reaching the Tenor API, please check your connection"),this.error&&this.error.startsWith("API key not valid")&&(this.htmlError='This version of the Tenor API is no longer supported. Please update your API key by following our\n<a href="https://ghost.org/docs/config/#tenor" target="_blank" rel="noopener noreferrer"> documentation here</a>.<br />'),console.error(e)}))}async _checkStatus(e){if(e.status>=200&&e.status<300)return e
let t
e.headers.map["content-type"].startsWith("application/json")?t=await e.json().then((e=>e.error.message||e.error)):"text/xml"===e.headers.map["content-type"]&&(t=await e.text()),this.error=t
const i=new Error(t)
throw i.response=e,i}async _extractPagination(e){return this._nextPos=e.next,e}async _addGifsFromResponse(e){return e.results.forEach((e=>this._addGif(e))),e}_addGif(e){const[t,i]=e.media_formats.tinygif.dims
e.ratio=i/t,this.gifs.push(e),e.index=this.gifs.indexOf(e),this._addGifToColumns(e)}_addGifToColumns(e){const t=Math.min(...this._columnHeights),i=this._columnHeights.indexOf(t)
this._columnHeights[i]+=300*e.ratio,this.columns[i].push(e),e.columnIndex=i,e.columnRowIndex=this.columns[i].length-1}_resetColumns(){let e=new i.TrackedArray([]),t=[]
for(let n=0;n<this.columnCount;n+=1)e[n]=new i.TrackedArray([]),t[n]=0
this.columns=e,this._columnHeights=t,Ember.isEmpty(this.gifs)||this.gifs.forEach((e=>{this._addGifToColumns(e)}))}},w=C(y.prototype,"config",[n.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C(y.prototype,"columnCount",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),E=C(y.prototype,"columns",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=C(y.prototype,"error",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=C(y.prototype,"htmlError",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=C(y.prototype,"gifs",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new i.TrackedArray([])}}),_=C(y.prototype,"searchTerm",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),T=C(y.prototype,"loadedType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C(y.prototype,"updateSearch",[p],Object.getOwnPropertyDescriptor(y.prototype,"updateSearch"),y.prototype),C(y.prototype,"loadNextPage",[m],Object.getOwnPropertyDescriptor(y.prototype,"loadNextPage"),y.prototype),C(y.prototype,"changeColumnCount",[h],Object.getOwnPropertyDescriptor(y.prototype,"changeColumnCount"),y.prototype),C(y.prototype,"searchTask",[b],Object.getOwnPropertyDescriptor(y.prototype,"searchTask"),y.prototype),z=C(y.prototype,"loadingTasks",[r.taskGroup],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C(y.prototype,"loadTrendingTask",[g],Object.getOwnPropertyDescriptor(y.prototype,"loadTrendingTask"),y.prototype),C(y.prototype,"loadNextPageTask",[f],Object.getOwnPropertyDescriptor(y.prototype,"loadNextPageTask"),y.prototype),C(y.prototype,"retryLastRequestTask",[v],Object.getOwnPropertyDescriptor(y.prototype,"retryLastRequestTask"),y.prototype),y)
e.default=M})),define("ghost-admin/services/text-measurer",["exports","ember-text-measurer/services/text-measurer"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/theme-management",["exports","ghost-admin/config/environment","ghost-admin/decorators/inject","ghost-admin/services/ajax","ember-concurrency"],(function(e,t,i,n,r){var a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x,S,C,M
function D(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function A(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function I(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let N=(a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember.inject.service,u=Ember.inject.service,c=Ember.inject.service,d=Ember.inject.service,p=Ember.inject.service,m=Ember._tracked,h=Ember._tracked,b=Ember._tracked,g=Ember._tracked,f=Ember._action,v=Ember._action,y=class extends Ember.Service{constructor(...e){super(...e),D(this,"ajax",w,this),D(this,"customThemeSettings",k,this),D(this,"limit",E,this),D(this,"modals",P,this),D(this,"settings",O,this),D(this,"store",j,this),D(this,"frontend",_,this),D(this,"session",T,this),D(this,"config",z,this),D(this,"isUploading",x,this),D(this,"previewType",S,this),D(this,"previewHtml",C,this),D(this,"activeTheme",M,this),A(this,"allPosts",this.store.peekAll("post"))}get availablePreviewTypes(){const e=[{name:"homepage",label:"Homepage"}]
return this.latestPublishedPost||this.loadLastPostTask.perform(),this.latestPublishedPost&&e.push({name:"post",label:"Post"}),e}get latestPublishedPost(){return this.allPosts.toArray().filterBy("status","published").sort(((e,t)=>t.publishedAtUTC.valueOf()-e.publishedAtUTC.valueOf())).lastObject}async fetch(){if(this.session.user&&!this.session.user.isContributor)try{const e=this.store.adapterFor("theme"),t=await e.active()
this.activeTheme=t}catch(e){console.error("Failed to fetch active theme",e)}}setPreviewType(e){e!==this.previewType&&(this.previewType=e,this.updatePreviewHtmlTask.perform())}async upload(e={}){try{await this.limit.limiter.errorIfWouldGoOverLimit("customThemes",{value:"."})}catch(t){if("HostLimitError"===t.errorType)return this.modals.open("modals/limits/custom-theme",{message:t.message})
throw t}return this.modals.open("modals/design/upload-theme",e)}*activateTask(e,t={}){let i=null
try{if(yield this.limit.checkWouldGoOverLimit("customThemes",{value:e.name}))try{yield this.limit.limiter.errorIfWouldGoOverLimit("customThemes",{value:e.name})}catch(r){if("HostLimitError"!==r.errorType)throw r
return i=this.modals.open("modals/limits/custom-theme",{message:r.message}),void(yield i)}try{const n=yield e.activate()
if(this.activeTheme=n,yield this.customThemeSettings.reload(),this.updatePreviewHtmlTask.perform(),!t.skipErrors){const{warnings:e,errors:t}=n
Ember.isEmpty(e)&&Ember.isEmpty(t)||(i=this.modals.open("modals/design/theme-errors",{title:'Activation <span class="green">successful</span>',canActivate:!0,warnings:e,errors:t}),yield i)}}catch(r){if(!t.skipErrors&&(0,n.isThemeValidationError)(r)){let e=r.payload.errors[0].details.errors,t=[],n=[]
if(e.length>0)for(let i=0;i<e.length;i+=1)e[i].fatal?t.push(e[i]):n.push(e[i])
i=this.modals.open("modals/design/theme-errors",{title:"Activation failed",canActivate:!1,errors:n,fatalErrors:t}),yield i}throw r}}finally{i?.close()}}*loadLastPostTask(){yield this.store.query("post",{filter:"status:published",order:"published_at DESC",limit:1})}*updatePreviewHtmlTask(){if("test"===t.default.environment)return
let e="/"
"post"===this.previewType&&(this.latestPublishedPost||this.loadLastPostTask.perform(),e=this.latestPublishedPost?.url||"")
const i=yield this.frontend.fetch(e,{method:"POST",headers:{"Content-Type":"text/html;charset=utf-8","x-ghost-preview":this.previewData,Accept:"text/plain"}}),n=yield i.text(),r=(new DOMParser).parseFromString(n,"text/html"),a=r.querySelector("style"),s=a.innerHTML
a.innerHTML=`${s}\n\nhtml { pointer-events: none; }`
const o=(new XMLSerializer).serializeToString(r.doctype)
this.previewHtml=o+r.documentElement.outerHTML}get previewData(){const e=new URLSearchParams
return e.append("c",this.settings.accentColor||"#ffffff"),e.append("d",this.settings.description),e.append("icon",this.settings.icon),e.append("logo",this.settings.logo),e.append("cover",this.settings.coverImage),this.settings.announcementContent&&e.append("announcement",this.settings.announcementContent),e.append("announcement_bg",this.settings.announcementBackground),this.settings.announcementVisibility.length&&e.append("announcement_vis",this.settings.announcementVisibility),e.append("custom",JSON.stringify(this.customThemeSettings.keyValueObject)),e.toString()}},w=I(y.prototype,"ajax",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=I(y.prototype,"customThemeSettings",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=I(y.prototype,"limit",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=I(y.prototype,"modals",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=I(y.prototype,"settings",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=I(y.prototype,"store",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=I(y.prototype,"frontend",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=I(y.prototype,"session",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=I(y.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=I(y.prototype,"isUploading",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=I(y.prototype,"previewType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"homepage"}}),C=I(y.prototype,"previewHtml",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=I(y.prototype,"activeTheme",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I(y.prototype,"setPreviewType",[f],Object.getOwnPropertyDescriptor(y.prototype,"setPreviewType"),y.prototype),I(y.prototype,"upload",[v],Object.getOwnPropertyDescriptor(y.prototype,"upload"),y.prototype),I(y.prototype,"activateTask",[r.task],Object.getOwnPropertyDescriptor(y.prototype,"activateTask"),y.prototype),I(y.prototype,"loadLastPostTask",[r.task],Object.getOwnPropertyDescriptor(y.prototype,"loadLastPostTask"),y.prototype),I(y.prototype,"updatePreviewHtmlTask",[r.task],Object.getOwnPropertyDescriptor(y.prototype,"updatePreviewHtmlTask"),y.prototype),y)
e.default=N})),define("ghost-admin/services/ui",["exports","@tryghost/color-utils","ghost-admin/decorators/inject"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T,z,x
function S(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function C(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function M(e,t){let i=[],n=[],{from:r,to:a}=e
for(;r;)i=i.concat(Ember.get(r,`metadata.${t}`)||[]),r=r.parent
for(;a;)n=n.concat(Ember.get(a,`metadata.${t}`)||[]),a=a.parent
return{oldClasses:i,newClasses:n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let D=(n=Ember.inject.service,r=Ember.inject.service,a=Ember.inject.service,s=Ember.inject.service,o=Ember.inject.service,l=Ember._tracked,u=Ember._tracked,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._action,h=Ember._action,b=Ember._action,g=Ember._action,f=Ember._action,v=Ember._action,y=class extends Ember.Service{get isMobile(){return this.mediaQueries.isMobile}get isSideNavHidden(){return this.isFullScreen||this.isMobile}get hasSideNav(){return!this.isSideNavHidden}get backgroundColor(){return this.feature.nightShift?"#151719":"#ffffff"}get adjustedAccentColor(){const e=(0,t.Color)(this.settings.accentColor),i=(0,t.Color)(this.backgroundColor)
if(e.contrast(i)>2)return e.hex()
let n=e
return n=this.feature.nightShift?(0,t.lightenToContrastThreshold)(e,i,2):(0,t.darkenToContrastThreshold)(e,i,2),n.hex()}constructor(){super(...arguments),S(this,"dropdown",w,this),S(this,"feature",k,this),S(this,"mediaQueries",E,this),S(this,"router",P,this),S(this,"settings",O,this),S(this,"config",j,this),S(this,"contextualNavMenu",_,this),S(this,"isFullScreen",T,this),S(this,"mainClass",z,this),S(this,"showMobileMenu",x,this),this.router.on("routeDidChange",(e=>{(function(e){let{body:t}=document,{oldClasses:i,newClasses:n}=M(e,"bodyClasses")
i.forEach((e=>{t.classList.remove(e)})),n.forEach((e=>{t.classList.add(e)}))})(e),this.updateDocumentTitle()
let{newClasses:t}=M(e,"mainClasses")
this.mainClass=t.join(" ")}))}closeMenus(){this.dropdown.closeDropdowns(),this.showMobileMenu=!1}closeMobileMenu(){this.showMobileMenu=!1}openMobileMenu(){this.showMobileMenu=!0}setMainClass(e){this.mainClass=e}updateDocumentTitle(){let{currentRoute:e}=this.router,t=[]
for(;e;){let i=Ember.get(e,"metadata.titleToken")
"function"==typeof i&&(i=i()),i&&t.unshift(i),e=e.parent}let i=this.config.blogTitle
Ember.isEmpty(t)?window.document.title=i:window.document.title=`${t.join(" - ")} - ${i}`}initBodyDragHandlers(){this.bodyDragEnterHandler=e=>{e.dataTransfer&&(document.body.dataset.userIsDragging=!0,window.clearTimeout(this.dragTimer))},this.bodyDragLeaveHandler=e=>{0===e.screenX&&0===e.screenY&&(window.clearTimeout(this.dragTimer),this.dragTimer=window.setTimeout((()=>{delete document.body.dataset.userIsDragging}),50))},this.cancelDrag=()=>{delete document.body.dataset.userIsDragging},document.body.addEventListener("dragenter",this.bodyDragEnterHandler,{capture:!0}),document.body.addEventListener("dragleave",this.bodyDragLeaveHandler,{capture:!0}),document.body.addEventListener("dragend",this.cancelDrag,{capture:!0}),document.body.addEventListener("drop",this.cancelDrag,{capture:!0})}cleanupBodyDragHandlers(){document.body.removeEventListener("dragenter",this.bodyDragEnterHandler,{capture:!0}),document.body.removeEventListener("dragleave",this.bodyDragLeaveHandler,{capture:!0}),document.body.removeEventListener("dragend",this.cancelDrag,{capture:!0}),document.body.removeEventListener("drop",this.cancelDrag,{capture:!0})}},w=C(y.prototype,"dropdown",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=C(y.prototype,"feature",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=C(y.prototype,"mediaQueries",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=C(y.prototype,"router",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=C(y.prototype,"settings",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=C(y.prototype,"config",[i.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=C(y.prototype,"contextualNavMenu",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=C(y.prototype,"isFullScreen",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=C(y.prototype,"mainClass",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),x=C(y.prototype,"showMobileMenu",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),C(y.prototype,"closeMenus",[p],Object.getOwnPropertyDescriptor(y.prototype,"closeMenus"),y.prototype),C(y.prototype,"closeMobileMenu",[m],Object.getOwnPropertyDescriptor(y.prototype,"closeMobileMenu"),y.prototype),C(y.prototype,"openMobileMenu",[h],Object.getOwnPropertyDescriptor(y.prototype,"openMobileMenu"),y.prototype),C(y.prototype,"setMainClass",[b],Object.getOwnPropertyDescriptor(y.prototype,"setMainClass"),y.prototype),C(y.prototype,"updateDocumentTitle",[g],Object.getOwnPropertyDescriptor(y.prototype,"updateDocumentTitle"),y.prototype),C(y.prototype,"initBodyDragHandlers",[f],Object.getOwnPropertyDescriptor(y.prototype,"initBodyDragHandlers"),y.prototype),C(y.prototype,"cleanupBodyDragHandlers",[v],Object.getOwnPropertyDescriptor(y.prototype,"cleanupBodyDragHandlers"),y.prototype),y)
e.default=D})),define("ghost-admin/services/unsplash",["exports","fetch","ember-concurrency"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const n="https://api.unsplash.com"
var r=Ember.Service.extend({settings:Ember.inject.service(),columnCount:3,columns:null,error:"",photos:null,searchTerm:"",_columnHeights:null,_pagination:null,applicationId:"8672af113b0a8573edae3aa3713886265d9bb741d707f6c01a486cde8c278980",isLoading:Ember.computed.or("_search.isRunning","_loadingTasks.isRunning"),init(){this._super(...arguments),this._reset(),this.loadNew()},loadNew(){return this._reset(),this._loadNew.perform()},loadNextPage(){if(!this.get("_search.isRunning"))return Ember.isEmpty(this.photos)?this._loadNew.perform():this._pagination.next?this._loadNextPage.perform():Ember.RSVP.reject()},updateSearch(e){if(e!==this.searchTerm)return this.set("searchTerm",e),this._reset(),e?this._search.perform(e):this._loadNew.perform()},retryLastRequest(){return this._retryLastRequest.perform()},changeColumnCount(e){e!==this.columnCount&&(this.set("columnCount",e),this._resetColumns())},triggerDownload(e){e.links.download_location&&this._makeRequest(e.links.download_location,{ignoreErrors:!0})},actions:{updateSearch(e){return this.updateSearch(e)}},_loadingTasks:(0,i.taskGroup)().drop(),_loadNew:(0,i.task)((function*(){let e=`${n}/photos?per_page=30`
yield this._makeRequest(e)})).group("_loadingTasks"),_loadNextPage:(0,i.task)((function*(){yield this._makeRequest(this._pagination.next)})).group("_loadingTasks"),_retryLastRequest:(0,i.task)((function*(){yield this._makeRequest(this._lastRequestUrl)})).group("_loadingTasks"),_search:(0,i.task)((function*(e){yield(0,i.timeout)(600)
let t=`${n}/search/photos?query=${e}&per_page=30`
yield this._makeRequest(t)})).restartable(),_addPhotosFromResponse(e){(e.results||e).forEach((e=>this._addPhoto(e)))},_addPhoto(e){e.ratio=e.height/e.width,this.photos.pushObject(e),this._addPhotoToColumns(e)},_addPhotoToColumns(e){let t=Math.min(...this._columnHeights),i=this._columnHeights.indexOf(t)
this._columnHeights[i]+=300*e.ratio,this.columns[i].pushObject(e)},_reset(){this.set("photos",[]),this._pagination={},this._resetColumns()},_resetColumns(){let e=[],t=[]
for(let i=0;i<this.columnCount;i+=1)e[i]=[],t[i]=0
this.set("columns",e),this._columnHeights=t,Ember.isEmpty(this.photos)||this.photos.forEach((e=>{this._addPhotoToColumns(e)}))},_makeRequest(e,i={}){let n={},r={}
return Ember.assign(r,{ignoreErrors:!1},i),this.set("error",""),this._lastRequestUrl=e,n.Authorization=`Client-ID ${this.applicationId}`,n["Accept-Version"]="v1",n["App-Pragma"]="no-cache",n["X-Unsplash-Cache"]=!0,(0,t.default)(e,{headers:n}).then((e=>this._checkStatus(e))).then((e=>this._extractPagination(e))).then((e=>e.json())).then((e=>this._addPhotosFromResponse(e))).catch((()=>{r.ignoreErrors||this.error||this.set("error","Uh-oh! Trouble reaching the Unsplash API, please check your connection")}))},_checkStatus(e){if(e.status>=200&&e.status<300)return Ember.RSVP.resolve(e)
let t="",i=Ember.RSVP.resolve()
return"application/json"===e.headers.map["content-type"]?i=e.json().then((e=>e.errors[0])):"text/xml"===e.headers.map["content-type"]&&(i=e.text()),i.then((i=>{403===e.status&&"0"===e.headers.map["x-ratelimit-remaining"]&&(t="Unsplash API rate limit reached, please try again later."),t=t||i||`Error ${e.status}: Uh-oh! Trouble reaching the Unsplash API`,this.set("error",t)
let n=new Error(t)
throw n.response=e,n}))},_extractPagination(e){let t={},i=new RegExp('<(.*)>; rel="(.*)"'),{link:n}=e.headers.map
return n&&n.split(",").forEach((e=>{let[,n,r]=i.exec(e)
t[r]=n})),this._pagination=t,e}})
e.default=r})),define("ghost-admin/services/upgrade-status",["exports"],(function(e){var t,i,n,r,a
function s(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function l(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let u=(t=Ember.inject.service,i=Ember._tracked,n=class extends Ember.Service{constructor(...e){super(...e),s(this,"notifications",r,this),s(this,"refreshRequired",a,this),o(this,"isRequired",!1),o(this,"message","")}handleUpgradeNotification(e){let t=Ember.get(e,"message")
Ember.set(this,"message",Ember.String.htmlSafe(t))}maintenanceAlert(){this.notifications.showAlert("Sorry, Ghost is currently undergoing maintenance, please wait a moment then try again.",{type:"error",key:"api-error.under-maintenance"})}requireUpgrade(){Ember.set(this,"isRequired",!0),this.notifications.showAlert("Ghost has been upgraded, please copy any unsaved data and refresh the page to continue.",{type:"error",key:"api-error.upgrade-required"})}},r=l(n.prototype,"notifications",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),a=l(n.prototype,"refreshRequired",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),n)
e.default=u})),define("ghost-admin/services/utils",["exports","fetch"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends Ember.Service{downloadFile(e){let t=document.getElementById("iframeDownload")
t||(t=document.createElement("iframe"),t.id="iframeDownload",t.style.display="none",document.body.append(t)),t.setAttribute("src",e)}async fetchAndDownloadFile(e){const i=await(0,t.default)(e),n=await i.blob(),r=document.createElement("a")
r.href=window.URL.createObjectURL(n),r.download=/filename="(.*)"/.exec(i.headers.get("Content-Disposition"))[1],document.body.append(r),r.click(),document.body.removeChild(r)}cleanTrackedUrl(e,t=!1){const i=["ref","attribution_id","attribution_type"],n=new URL(e)
for(const r of i)n.searchParams.delete(r)
if(!t)return n.toString()
return(n.host+("/"!==n.pathname||n.search?n.pathname:"")+(n.search?n.search:"")+(n.hash?n.hash:"")).replace(/^www\./,"")}}e.default=i})),define("ghost-admin/services/websockets",["exports","ember-websockets/services/websockets"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/services/whats-new",["exports","fetch","moment-timezone","ember-concurrency"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=Ember.Service.extend({session:Ember.inject.service(),entries:null,changelogUrl:"https://ghost.org/blog/",isShowingModal:!1,_user:null,init(){this._super(...arguments),this.entries=[]},whatsNewSettings:Ember.computed("_user.accessibility",(function(){let e=this.get("_user.accessibility")||"{}"
return JSON.parse(e).whatsNew})),hasNew:Ember.computed("whatsNewSettings.lastSeenDate","entries.[]",(function(){if(Ember.isEmpty(this.entries))return!1
let[e]=this.entries,t=this.get("whatsNewSettings.lastSeenDate")||"2019-01-01 00:00:00",n=(0,i.default)(t),r=e.published_at
return(0,i.default)(r||t).isAfter(n)})),showModal:Ember._action((function(){this.set("isShowingModal",!0)})),closeModal:Ember._action((function(){this.set("isShowingModal",!1),this.updateLastSeen.perform()})),fetchLatest:(0,n.task)((function*(){try{let e=yield this.session.user
this.set("_user",e)
let i=yield(0,t.default)("https://ghost.org/changelog.json")
if(!i.ok)return console.error("Failed to fetch changelog",{response:i})
let n=yield i.json()
this.set("entries",n.posts||[]),this.set("changelogUrl",n.changelogUrl)}catch(e){console.error(e)}})),updateLastSeen:(0,n.task)((function*(){let e=this._user.accessibility||"{}",t=JSON.parse(e),[i]=this.entries
i&&(t.whatsNew||(t.whatsNew={}),t.whatsNew.lastSeenDate=i.published_at,this._user.set("accessibility",JSON.stringify(t)),yield this._user.save())}))})
e.default=r})),define("ghost-admin/session-stores/application",["exports","ember-simple-auth/session-stores/ephemeral"],(function(e,t){var i,n,r
Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let a=(i=Ember.inject.service,n=class extends t.default{constructor(...e){var t,i,n,a
super(...e),t=this,i="session",a=this,(n=r)&&Object.defineProperty(t,i,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(a):void 0})}restore(){return this.session.populateUser().then((()=>{let e={authenticated:{authenticator:"authenticator:cookie"}}
return this.persist(e),e})).catch((()=>Ember.RSVP.reject()))}},s=n.prototype,o="session",l=[i],u={configurable:!0,enumerable:!0,writable:!0,initializer:null},d={},Object.keys(u).forEach((function(e){d[e]=u[e]})),d.enumerable=!!d.enumerable,d.configurable=!!d.configurable,("value"in d||d.initializer)&&(d.writable=!0),d=l.slice().reverse().reduce((function(e,t){return t(s,o,e)||e}),d),c&&void 0!==d.initializer&&(d.value=d.initializer?d.initializer.call(c):void 0,d.initializer=void 0),void 0===d.initializer&&(Object.defineProperty(s,o,d),d=null),r=d,n)
var s,o,l,u,c,d
e.default=a})),define("ghost-admin/templates/application-error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"IB0yLJ4V",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-view"],[12],[2,"\\n    "],[10,"section"],[14,0,"error-content error-404 js-error-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"error-details"],[12],[2,"\\n            "],[10,"img"],[14,0,"error-ghost"],[14,"src","assets/img/404-ghost@2x-34c1119ed15cc3ea71e4406f80c8e810.png"],[14,"srcset","assets/img/404-ghost-e112dbfadde79cf30dbca8e8cfe7a21a.png 1x, assets/img/404-ghost@2x-34c1119ed15cc3ea71e4406f80c8e810.png 2x"],[12],[13],[2,"\\n            "],[10,"section"],[14,0,"error-message"],[12],[2,"\\n                "],[10,"h1"],[14,0,"error-code"],[12],[1,[32,0,["model","code"]]],[13],[2,"\\n                "],[10,"h2"],[14,0,"error-description"],[12],[2,"\\n                    "],[1,[30,[36,1],[[30,[36,0],[[32,0,["model","payload","errors"]],"0.message"],null],[32,0,["model","message"]]],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[8,"ember-load-remover",[],[[],[]],null],[2,"\\n"]],"hasEval":false,"upvars":["get","or"]}',moduleName:"ghost-admin/templates/application-error.hbs"})
e.default=t})),define("ghost-admin/templates/application",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"0IwLDmXD",block:'{"symbols":[],"statements":[[8,"gh-app",[],[[],[]],[["default"],[{"statements":[[2,"\\n    "],[8,"gh-skip-link",[],[["@anchor"],[".gh-main"]],[["default"],[{"statements":[[2,"Skip to main content"]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["upgradeStatus","refreshRequired"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-update-banner"],[12],[2,"\\n"],[2,"            "],[10,"span"],[12],[2,"Ghost has been updated! To get access to the latest features, refresh or "],[10,"a"],[14,6,"javascript:window.location.reload(true)"],[12],[2,"click here"],[13],[2,"."],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[8,"gh-alerts",[],[[],[]],null],[2,"\\n\\n    "],[10,"div"],[15,0,[31,["gh-viewport ",[30,[36,2],[[32,0,["ui","showMobileMenu"]],"mobile-menu-expanded"],null]]]],[12],[2,"\\n"],[6,[37,2],[[32,0,["showNavMenu"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-nav-menu",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"main"],[15,0,[31,["gh-main ",[32,0,["ui","mainClass"]]]]],[12],[2,"\\n            "],[1,[30,[36,4],[[30,[36,3],null,null]],null]],[2,"\\n\\n"],[6,[37,2],[[32,0,["showBilling"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-billing-modal",[],[["@billingWindowOpen"],[[32,0,["billing","billingWindowOpen"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-explore-modal",[],[[],[]],null],[2,"\\n\\n        "],[13],[2,"\\n\\n        "],[8,"gh-notifications",[],[[],[]],null],[2,"\\n\\n        "],[8,"gh-content-cover",[],[[],[]],null],[2,"\\n\\n"],[6,[37,2],[[32,0,["session","user"]]],null,[["default"],[{"statements":[[6,[37,1],[[32,0,["session","user","isContributor"]]],null,[["default"],[{"statements":[[2,"                "],[8,"gh-mobile-nav-bar",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,2],[[32,0,["showScriptExtension"]]],null,[["default"],[{"statements":[[2,"        "],[2,[32,0,["showScriptExtension","container"]]],[2,"\\n"],[2,"        "],[10,"script"],[15,"src",[31,[[32,0,["showScriptExtension","src"]]]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,0,["settings","accentColor"]]],null,[["default"],[{"statements":[[2,"        "],[10,"style"],[12],[2,"\\n            :root {\\n                --accent-color: "],[1,[32,0,["settings","accentColor"]]],[2,";\\n                --adjusted-accent-color: "],[1,[32,0,["ui","adjustedAccentColor"]]],[2,";\\n                --kg-accent-color: "],[1,[32,0,["settings","accentColor"]]],[2,";\\n            }\\n            .koenig-editor__editor a:not([class]) {\\n                color: var(--adjusted-accent-color);\\n            }\\n            .koenig-editor__editor blockquote {\\n                border-left: 0.25rem solid var(--adjusted-accent-color);\\n            }\\n\\n            .gh-btn-accent {\\n                background-color: var(--adjusted-accent-color);\\n                color: #fff;\\n            }\\n\\n            .gh-btn-accent:hover {\\n                background-color: "],[1,[30,[36,0],[[32,0,["ui","adjustedAccentColor"]]],[["l"],[-15]]]],[2,";\\n                color: #fff;\\n            }\\n\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n\\n"],[10,"div"],[14,1,"unsplash-selector-wormhole"],[12],[13],[2,"\\n\\n"],[8,"epm-modal-container",[],[[],[]],null],[2,"\\n"],[8,"ember-load-remover",[],[[],[]],null],[2,"\\n"]],"hasEval":false,"upvars":["hex-adjust","unless","if","-outlet","component"]}',moduleName:"ghost-admin/templates/application.hbs"})
e.default=t})),define("ghost-admin/templates/collection",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"fSR/WAZ/",block:'{"symbols":["post"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[10,"form"],[14,0,"mb15"],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[[24,"data-test-link","collections-back"]],[["@route"],["collections"]],[["default"],[{"statements":[[2,"\\n                        Collections\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,3],["arrow-right-small"],null]],[2," "],[1,[30,[36,4],[[32,0,["collection","isNew"]],"New collection","Edit collection"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[30,[36,4],[[32,0,["collection","isNew"]],"New collection",[32,0,["collection","title"]]],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[[4,[38,5],["cmd+s"],null]],[["@task","@type","@class","@data-test-button"],[[32,0,["saveTask"]],"button","gh-btn gh-btn-primary gh-btn-icon","save"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"collections/collection-form",[],[["@collection"],[[32,0,["model"]]]],null],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,6],[[32,0,["collection","isNew"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,"data-test-button","delete-collection"],[24,4,"button"],[4,[38,2],["click",[32,0,["confirmDeleteCollection"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Delete collection"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["collection","postIds"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h3"],[12],[2,"Collection has "],[1,[32,0,["collection","postIds","length"]]],[2," posts"],[13],[2,"\\n        "],[10,"ol"],[14,0,"gh-list"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["collection","postIds"]]],null]],null]],null,[["default"],[{"statements":[[2,"            "],[10,"li"],[14,0,"gh-list-row"],[12],[10,"a"],[15,6,[31,["#/editor/post/",[32,1]]]],[12],[1,[32,1]],[13],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["-track-array","each","on","svg-jar","if","on-key","unless"]}',moduleName:"ghost-admin/templates/collection.hbs"})
e.default=t})),define("ghost-admin/templates/collections",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"2JR8kudm",block:'{"symbols":["collection"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,1],["c",[32,0,["newCollection"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Collections"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["collection.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New collection"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[10,"ol"],[15,0,[31,["collections-list gh-list ",[30,[36,2],[[32,0,["sortedCollections"]],"no-posts"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["sortedCollections"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-70"],[12],[2,"Collection"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"vertical-collection",[],[["@items","@key","@containerSelector","@estimateHeight","@bufferSize"],[[32,0,["sortedCollections"]],"id",".gh-main",60,20]],[["default"],[{"statements":[[2,"\\n                    "],[8,"collections/list-item",[[16,"data-test-collection",[32,1,["id"]]]],[["@collection"],[[32,1]]],null],[2,"\\n                "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                            "],[1,[30,[36,0],["collections-placeholder"],[["class"],["gh-collections-placeholder"]]]],[2,"\\n                            "],[10,"h4"],[12],[2,"Start organizing your content."],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["collection.new"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"Create a new collection"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,5],[[30,[36,4],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","on-key","unless","if","-outlet","component"]}',moduleName:"ghost-admin/templates/collections.hbs"})
e.default=t})),define("ghost-admin/templates/components/basic-dropdown-content",["exports","ember-basic-dropdown/templates/components/basic-dropdown-content"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})}))
define("ghost-admin/templates/components/basic-dropdown-trigger",["exports","ember-basic-dropdown/templates/components/basic-dropdown-trigger"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/templates/components/basic-dropdown",["exports","ember-basic-dropdown/templates/components/basic-dropdown"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/templates/components/draggable-object-target",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ds+gecsL",block:'{"symbols":["&default"],"statements":[[6,[37,2],[[35,1]],null,[["default","else"],[{"statements":[[2,"  "],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"acceptForDrop"],null],[12],[2,"\\n    "],[18,1,null],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"  "],[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","enableClicking","if"]}',moduleName:"ghost-admin/templates/components/draggable-object-target.hbs"})
e.default=t})),define("ghost-admin/templates/components/draggable-object",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"dnghnOtX",block:'{"symbols":["&default"],"statements":[[6,[37,2],[[35,1]],null,[["default","else"],[{"statements":[[2,"  "],[11,"a"],[24,6,"#"],[4,[38,0],[[32,0],"selectForDrag"],null],[12],[2,"\\n    "],[18,1,null],[2,"\\n  "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"  "],[18,1,null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["action","enableClicking","if"]}',moduleName:"ghost-admin/templates/components/draggable-object.hbs"})
e.default=t})),define("ghost-admin/templates/components/object-bin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"fMRICE3+",block:'{"symbols":["obj","&default"],"statements":[[6,[37,5],null,[["action"],["handleObjectDropped"]],[["default"],[{"statements":[[2,"  "],[10,"div"],[14,0,"object-bin-title"],[12],[1,[34,1]],[13],[2,"\\n  "],[10,"br"],[12],[13],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[35,2]],null]],null]],null,[["default"],[{"statements":[[6,[37,0],null,[["action","content"],["handleObjectDragged",[32,1]]],[["default"],[{"statements":[[2,"      "],[18,2,[[32,1]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]]],"parameters":[]}]]]],"hasEval":false,"upvars":["draggable-object","name","model","-track-array","each","draggable-object-target"]}',moduleName:"ghost-admin/templates/components/object-bin.hbs"})
e.default=t})),define("ghost-admin/templates/components/sortable-objects",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"c7MHeoWa",block:'{"symbols":["&default"],"statements":[[18,1,null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/components/sortable-objects.hbs"})
e.default=t})),define("ghost-admin/templates/dashboard",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"eK8yWjAE",block:'{"symbols":["option","dropdown","mention"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,11],null,null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-dashboard"],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Dashboard\\n            "],[13],[2,"\\n"],[6,[37,1],[[32,0,["isTotalMembersZero"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-dashboard-select"],[12],[2,"\\n                    "],[11,"div"],[4,[38,8],[[32,0,["loadMentions"]]],null],[12],[2,"\\n"],[6,[37,0],[[30,[36,9],["webmentions"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-basic-dropdown",[],[["@horizontalPosition","@verticalPosition","@onOpen"],["right","below",[32,0,["markMentionsRead"]]]],[["default"],[{"statements":[[2,"\\n                            "],[8,[32,2,["Trigger"]],[[24,0,"outline-0 pointer"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"button"],[14,0,"gh-dashboard-mentions-icon"],[14,4,"button"],[12],[2,"\\n"],[6,[37,0],[[32,0,["hasNewMentions"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[1,[30,[36,2],["notification-bell-indicator"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[1,[30,[36,2],["notification-bell"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,[32,2,["Content"]],[[24,0,"gh-dashboard-mentions-container"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-dashboard-mentions"],[12],[2,"\\n"],[6,[37,0],[[32,0,["mentions"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-dashboard-mentions-header"],[12],[2,"\\n                                            "],[10,"h2"],[14,0,"gh-dashboard-mentions-heading"],[12],[2,"Mentions"],[13],[2,"\\n                                            "],[8,"link-to",[[24,0,"gh-dashboard-mentions-see-all"]],[["@route"],["mentions"]],[["default"],[{"statements":[[2,"View all mentions â†’"]],"parameters":[]}]]],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[10,"div"],[12],[2,"\\n"],[6,[37,0],[[32,0,["mentions"]]],null,[["default","else"],[{"statements":[[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["mentions"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"a"],[15,6,[31,[[32,3,["source"]]]]],[14,0,"gh-dashboard-mention"],[14,"rel","noreferrer noopener"],[14,"target","_blank"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-dashboard-mention-content"],[12],[2,"\\n                                                        "],[10,"img"],[15,"src",[31,[[32,3,["sourceFavicon"]]]]],[15,"alt",[31,[[32,3,["sourceSiteTitle"]]]]],[14,0,"w5 h5 mr2 flex-shrink-0"],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"gh-dashboard-mention-title"],[12],[1,[30,[36,3],[[32,3,["sourceSiteTitle"]],[32,3,["sourceTitle"]]],null]],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-mention-link-icon"],[12],[2,"\\n                                                            "],[1,[30,[36,2],["twitter-link"],null]],[2,"\\n                                                        "],[13],[2,"\\n"],[6,[37,0],[[30,[36,4],[[32,3,["mentions","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"                                                            "],[10,"span"],[14,0,"gh-dashboard-mention-target"],[12],[1,[32,3,["mentions","length"]]],[2," links"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                            "],[10,"span"],[14,0,"gh-dashboard-mention-target"],[12],[1,[30,[36,0],[[32,3,["resource"]],[32,3,["resource","name"]],[32,3,["target"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                        "],[10,"span"],[14,0,"gh-dashboard-mention-timestamp"],[12],[1,[30,[36,5],[[32,3,["timestamp"]]],null]],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[]},{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-mentions-list-cta"],[12],[2,"\\n                                                "],[1,[30,[36,2],["email-love-letter"],[["class"],["love-letter"]]]],[2,"\\n                                                "],[10,"h4"],[12],[2,"No mentions yet"],[13],[2,"\\n                                                "],[10,"p"],[12],[2,"When other sites mention your posts or pages, they\'ll appear here."],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "]],"parameters":[2]}]]],[2,"\\n\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n                    "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth","@horizontalPosition"],[[32,0,["selectedDaysOption"]],[32,0,["daysOptions"]],false,[32,0,["onDaysChange"]],[30,[36,10],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown is-narrow",false,"right"]],[["default"],[{"statements":[[2,"\\n                        "],[6,[37,0],[[32,1,["name"]]],null,[["default","else"],[{"statements":[[1,[32,1,["name"]]]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown option"],[13]],"parameters":[]}]]],[2,"\\n                    "]],"parameters":[1]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"gh-dashboard-layout"],[12],[2,"\\n"],[6,[37,0],[[32,0,["isLoading"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,0],[[32,0,["areMembersEnabled"]]],null,[["default"],[{"statements":[[6,[37,0],[[32,0,["hasPaidTiers"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"dashboard/charts/overview",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-dashboard-group ",[30,[36,0],[[32,0,["isTotalMembersZero"]],"is-zero"],null]]]],[12],[2,"\\n                        "],[8,"dashboard/charts/anchor-attribution",[],[[],[]],null],[2,"\\n"],[6,[37,0],[[32,0,["hasPaidTiers"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"section"],[14,0,"gh-dashboard-section"],[12],[2,"\\n                                "],[10,"article"],[14,0,"gh-dashboard-box gh-dashboard-minicharts-attribution"],[12],[2,"\\n                                    "],[8,"dashboard/charts/paid-breakdown",[],[[],[]],null],[2,"\\n                                    "],[8,"dashboard/charts/paid-mix",[],[[],[]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["membersUtils","isMembersInviteOnly"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"dashboard/charts/attribution",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,0],[[32,0,["areNewslettersEnabled"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"dashboard/charts/engagement",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,0],[[32,0,["isTotalMembersZero"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"dashboard/parts/zero",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                "],[10,"div"],[14,0,"gh-dashboard-recents-mentions"],[12],[2,"\\n                    "],[8,"dashboard/charts/recents",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-dashboard-split gh-dashboard-box is-secondary"],[12],[2,"\\n                    "],[8,"dashboard/resources/resources",[],[[],[]],null],[2,"\\n                    "],[8,"dashboard/resources/newsletter",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n\\n                "],[8,"dashboard/resources/explore-feed",[],[[],[]],null],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-dashboard-split gh-dashboard-box no-boarder"],[12],[2,"\\n                    "],[8,"dashboard/resources/community",[],[[],[]],null],[2,"\\n                    "],[8,"dashboard/resources/whats-new",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"],[6,[37,0],[[30,[36,12],null,null]],null,[["default"],[{"statements":[[2,"            "],[8,"dashboard/prototype/control-panel",[],[[],[]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","unless","svg-jar","or","gt","moment-from-now","-track-array","each","did-insert","feature","component","scroll-top","enable-developer-experiments"]}',moduleName:"ghost-admin/templates/dashboard.hbs"})
e.default=t})),define("ghost-admin/templates/designsandbox",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"OrtUKLm2",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            Components\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container gh-ds"],[12],[2,"\\n        "],[10,"h2"],[12],[2,"Post bookmark"],[13],[2,"\\n        "],[8,"gh-post-bookmark",[],[["@post"],[[32,0,["model"]]]],null],[2,"\\n\\n        "],[10,"h2"],[14,0,""],[12],[2,"Buttons"],[13],[2,"\\n        "],[10,"ul"],[14,0,"nostyle"],[12],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-primary"],[14,4,"button"],[12],[10,"span"],[12],[2,"Primary button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn"],[14,4,"button"],[12],[10,"span"],[12],[2,"Regular button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-blue"],[14,4,"button"],[12],[10,"span"],[12],[2,"Blue button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-green"],[14,4,"button"],[12],[10,"span"],[12],[2,"Green button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-red"],[14,4,"button"],[12],[10,"span"],[12],[2,"Red button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-outline"],[14,4,"button"],[12],[10,"span"],[12],[2,"Outline button"],[13],[13],[13],[2,"\\n            "],[10,"li"],[12],[10,"button"],[14,0,"gh-btn gh-btn-primary gh-btn-large"],[14,4,"button"],[12],[10,"span"],[12],[2,"Large button"],[13],[13],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,""],[12],[2,"Lists"],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-list"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row header"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 1"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 2"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-header"],[12],[2,"Column 3"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-list-row"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-list-data"],[12],[2,"\\n                    "],[10,"span"],[12],[2,"Data"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,"mt8"],[12],[2,"Sections"],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Single column"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content"],[12],[2,"\\n                "],[10,"div"],[12],[2,"Column 1"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Section heading"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content columns-2"],[12],[2,"\\n                "],[10,"div"],[12],[2,"Column 1"],[13],[2,"\\n                "],[10,"div"],[12],[2,"Column 2"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section columns-2"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Block 1"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"Contents"],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Block 2"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"Contents"],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h2"],[14,0,"mt8"],[12],[2,"Setting area"],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Section heading"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[12],[2,"[CONTENT - OPTIONAL / HIDDEN FOR EXPANDABLE]"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Description"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[12],[2,"[ACTION]"],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/designsandbox.hbs"})
e.default=t})),define("ghost-admin/templates/editor",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Xd8VGdxa",block:'{"symbols":["editor","publishManagement"],"statements":[[6,[37,5],[[32,0,["post"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"flex flex-row"],[12],[2,"\\n        "],[8,"gh-editor",[],[["@tagName","@class"],["section","gh-editor gh-view relative"]],[["default"],[{"statements":[[2,"\\n            "],[10,"header"],[14,0,"gh-editor-header br2 pe-none"],[12],[2,"\\n                "],[8,"editor/publish-management",[],[["@post","@hasUnsavedChanges","@beforePublish","@afterPublish","@saveTask","@savePostTask"],[[32,0,["post"]],[32,0,["hasDirtyAttributes"]],[30,[36,6],[[32,0,["beforeSaveTask"]]],null],[32,0,["afterSave"]],[32,0,["saveTask"]],[32,0,["savePostTask"]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex items-center pe-auto h-100"],[12],[2,"\\n"],[6,[37,5],[[32,0,["ui","isFullScreen"]]],null,[["default"],[{"statements":[[6,[37,5],[[32,0,["fromAnalytics"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"link-to",[[24,0,"gh-btn-editor gh-editor-back-button"],[24,"data-test-breadcrumb",""]],[["@route","@model"],["posts.analytics",[32,0,["post","id"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[2,"\\n                                        "],[1,[30,[36,0],["arrow-left"],null]],[2,"\\n                                        Analytics\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"link-to",[[24,0,"gh-btn-editor gh-editor-back-button"],[16,"data-test-link",[30,[36,3],[[32,0,["post","displayName"]]],null]],[24,"data-test-breadcrumb",""]],[["@route"],[[30,[36,3],[[32,0,["post","displayName"]]],null]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[2,"\\n                                        "],[1,[30,[36,0],["arrow-left"],null]],[2,"\\n                                        "],[1,[30,[36,4],[[30,[36,3],[[32,0,["post","displayName"]]],null]],null]],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,5],[[30,[36,2],[[30,[36,7],[[32,0,["ui","isFullScreen"]]],null],[30,[36,7],[[32,0,["fromAnalytics"]]],null],[32,0,["post","didEmailFail"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-editor-post-status"],[12],[2,"\\n                                "],[10,"span"],[12],[2,"\\n                                    "],[8,"gh-editor-post-status",[],[["@post","@publishManagement","@hasDirtyAttributes","@isSaving","@openUpdateFlow"],[[32,0,["post"]],[32,2],[32,0,["hasDirtyAttributes"]],[30,[36,2],[[32,0,["autosaveTask","isRunning"]],[32,0,["saveTasks","isRunning"]]],null],[32,2,["openUpdateFlow"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n                    "],[10,"section"],[14,0,"flex items-center pe-auto h-100"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"editor/publish-buttons",[],[["@publishManagement"],[[32,2]]],null],[2,"\\n\\n"],[6,[37,1],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "]],"parameters":[2]}]]],[2,"\\n            "],[13],[2,"\\n\\n"],[2,"            "],[8,"gh-koenig-editor",[],[["@title","@titleAutofocus","@titlePlaceholder","@onTitleChange","@onTitleBlur","@body","@bodyPlaceholder","@onBodyChange","@headerOffset","@scrollContainerSelector","@scrollOffsetBottomSelector","@onEditorCreated","@onWordCountChange","@snippets","@saveSnippet","@updateSnippet","@deleteSnippet","@featureImage","@featureImageAlt","@featureImageCaption","@setFeatureImage","@setFeatureImageAlt","@setFeatureImageCaption","@clearFeatureImage","@cardOptions","@postType"],[[30,[36,8],[[32,0,["post","titleScratch"]]],null],[32,0,["shouldFocusTitle"]],[30,[36,9],[[30,[36,4],[[32,0,["post","displayName"]]],null]," title"],null],[32,0,["updateTitleScratch"]],[30,[36,6],[[32,0,["saveTitleTask"]]],null],[30,[36,8],[[32,0,["post","scratch"]]],null],[30,[36,9],["Begin writing your ",[32,0,["post","displayName"]],"..."],null],[32,0,["updateScratch"]],[32,1,["headerHeight"]],".gh-koenig-editor",".gh-mobile-nav-bar",[32,0,["setKoenigEditor"]],[32,0,["updateWordCount"]],[32,0,["snippets"]],[30,[36,5],[[32,0,["canManageSnippets"]],[32,0,["saveSnippet"]]],null],[30,[36,5],[[32,0,["canManageSnippets"]],[32,0,["confirmUpdateSnippet"]]],null],[30,[36,5],[[32,0,["canManageSnippets"]],[32,0,["confirmDeleteSnippet"]]],null],[32,0,["post","featureImage"]],[32,0,["post","featureImageAlt"]],[32,0,["post","featureImageCaption"]],[32,0,["setFeatureImage"]],[32,0,["setFeatureImageAlt"]],[32,0,["setFeatureImageCaption"]],[32,0,["clearFeatureImage"]],[30,[36,10],null,[["post"],[[32,0,["post"]]]]],[32,0,["post","displayName"]]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-editor-wordcount-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-wordcount"],[12],[2,"\\n                    "],[1,[30,[36,11],[[32,0,["wordCount","wordCount"]],"word"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"a"],[14,6,"https://ghost.org/help/using-the-editor/"],[14,0,"flex"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,0],["help"],null]],[13],[2,"\\n            "],[13],[2,"\\n\\n        "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-post-settings-menu",[],[["@post","@deletePost","@updateSlugTask","@savePostTask"],[[32,0,["post"]],[32,0,["openDeletePostModal"]],[32,0,["updateSlugTask"]],[32,0,["savePostTask"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[11,"button"],[24,0,"settings-menu-toggle gh-btn gh-btn-editor gh-btn-icon icon-only gh-btn-action-icon"],[24,"title","Settings"],[24,"data-test-psm-trigger",""],[24,4,"button"],[4,[38,12],["click",[32,0,["toggleSettingsMenu"]]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["showSettingsMenu"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"settings-menu-open"],[12],[1,[30,[36,0],["sidemenu-open"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,0],["sidemenu"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[1,[30,[36,14],[[30,[36,13],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","unless","or","pluralize","capitalize","if","perform","not","readonly","concat","hash","gh-pluralize","on","-outlet","component"]}',moduleName:"ghost-admin/templates/editor.hbs"})
e.default=t})),define("ghost-admin/templates/editor/edit-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"hDZ/tCNQ",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-view"],[4,[38,1],[[30,[36,0],[[32,0,["ui","setMainClass"]],"gh-main-white"],null]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","did-insert"]}',moduleName:"ghost-admin/templates/editor/edit-loading.hbs"})
e.default=t})),define("ghost-admin/templates/error",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"5C/w8dFA",block:'{"symbols":["item"],"statements":[[10,"div"],[14,0,"gh-view"],[12],[2,"\\n\\n    "],[10,"section"],[14,0,"flex flex-column items-center flex-grow justify-center h-100 nt10"],[12],[2,"\\n        "],[10,"div"],[14,0,"absolute error-background nudge-right--5"],[12],[2,"\\n            "],[1,[30,[36,3],["desert"],[["class"],["error-background absolute"]]]],[2,"\\n            "],[10,"div"],[14,0,"traveler-1"],[12],[1,[30,[36,3],["tumbleweed"],[["class"],["w6 h6 absolute bouncer-1"]]]],[13],[2,"\\n            "],[10,"div"],[14,0,"traveler-2"],[12],[1,[30,[36,3],["tumbleweed"],[["class"],["w11 h11 absolute bouncer-2"]]]],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"mt5 tc"],[12],[2,"\\n            "],[10,"h1"],[14,0,"midlightgrey error-code-size fw6"],[12],[1,[32,0,["code"]]],[13],[2,"\\n            "],[10,"h2"],[14,0,"midlightgrey f4 fw3"],[12],[1,[32,0,["message"]]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,0],[[32,0,["stack"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"error-stack"],[12],[2,"\\n            "],[10,"h3"],[12],[2,"Stack Trace"],[13],[2,"\\n            "],[10,"p"],[12],[10,"strong"],[12],[1,[32,0,["message"]]],[13],[13],[2,"\\n            "],[10,"ul"],[14,0,"error-stack-list"],[12],[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["stack"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"li"],[12],[2,"\\n                        at\\n                        "],[6,[37,0],[[32,1,["function"]]],null,[["default"],[{"statements":[[10,"em"],[14,0,"error-stack-function"],[12],[1,[32,1,["function"]]],[13]],"parameters":[]}]]],[2,"\\n                        "],[10,"span"],[14,0,"error-stack-file"],[12],[2,"("],[1,[32,1,["at"]]],[2,")"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["if","-track-array","each","svg-jar"]}',moduleName:"ghost-admin/templates/error.hbs"})
e.default=t})),define("ghost-admin/templates/explore/connect",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"n36rtDb3",block:'{"symbols":[],"statements":[[10,"div"],[15,0,[31,[[32,0,["visibilityClass"]]]]],[12],[2,"\\n    "],[10,"div"],[14,0,"explore-close"],[12],[2,"\\n        "],[11,"a"],[24,6,"javascript:void(0)"],[24,"data-test-button","close-explore"],[4,[38,0],["click",[32,0,["closeConnect"]]],null],[12],[2,"\\n            "],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[10,"div"],[14,0,"explore-content"],[12],[2,"\\n\\n        "],[10,"div"],[14,0,"explore-header"],[12],[2,"\\n            "],[1,[30,[36,1],["ghost-orb-pink"],[["alt","class"],["Ghost","w25 v-mid"]]]],[2,"\\n            "],[10,"h1"],[12],[2,"Connect to Ghost Explore."],[13],[2,"\\n            "],[10,"p"],[14,0,"explore-api"],[12],[1,[32,0,["apiUrl"]]],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"explore-permissions"],[12],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["check-circle"],[["class","alt"],["w6 v-mid","checkmark"]]]],[13],[2,"\\n                "],[10,"p"],[12],[2,"Allow read-only access to your site data to create a directory listing."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["check-circle"],[["class","alt"],["w6 v-mid","checkmark"]]]],[13],[2,"\\n                "],[10,"p"],[12],[2,"Youâ€™ll be able to choose what data is shown publicly or hidden."],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[12],[2,"\\n                "],[10,"span"],[12],[1,[30,[36,1],["check-circle"],[["class","alt"],["w6 v-mid","checkmark"]]]],[13],[2,"\\n                "],[10,"p"],[12],[2,"Your site will be promoted across the entire Ghost ecosystem."],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-large gh-btn-icon-right"],[24,"data-test-button","submit-explore"],[24,4,"button"],[4,[38,0],["click",[32,0,["submitExploreSite"]]],null],[12],[2,"\\n            "],[10,"span"],[12],[2,"Connect data & edit listing "],[1,[30,[36,1],["arrow-right-tail"],null]],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/templates/explore/connect.hbs"})
e.default=t})),define("ghost-admin/templates/lexical-editor",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"OuKWNraX",block:'{"symbols":["editor","publishManagement"],"statements":[[6,[37,5],[[32,0,["post"]]],null,[["default"],[{"statements":[[2,"    "],[10,"div"],[14,0,"flex flex-row"],[12],[2,"\\n        "],[8,"gh-editor",[],[["@tagName","@class"],["section","gh-editor gh-view relative"]],[["default"],[{"statements":[[2,"\\n            "],[10,"header"],[14,0,"gh-editor-header br2 pe-none"],[12],[2,"\\n                "],[8,"editor/publish-management",[],[["@post","@hasUnsavedChanges","@beforePublish","@afterPublish","@saveTask"],[[32,0,["post"]],[32,0,["hasDirtyAttributes"]],[30,[36,6],[[32,0,["beforeSaveTask"]]],null],[32,0,["afterSave"]],[32,0,["saveTask"]]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"flex items-center pe-auto h-100"],[12],[2,"\\n"],[6,[37,5],[[32,0,["ui","isFullScreen"]]],null,[["default"],[{"statements":[[6,[37,5],[[32,0,["fromAnalytics"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"link-to",[[24,0,"gh-btn-editor gh-editor-back-button"]],[["@route","@model"],["posts.analytics",[32,0,["post"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[2,"\\n                                        "],[1,[30,[36,0],["arrow-left"],null]],[2,"\\n                                        Analytics\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"link-to",[[24,0,"gh-btn-editor gh-editor-back-button"],[16,"data-test-link",[30,[36,3],[[32,0,["post","displayName"]]],null]]],[["@route"],[[30,[36,3],[[32,0,["post","displayName"]]],null]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[2,"\\n                                        "],[1,[30,[36,0],["arrow-left"],null]],[2,"\\n                                        "],[1,[30,[36,4],[[30,[36,3],[[32,0,["post","displayName"]]],null]],null]],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,5],[[30,[36,2],[[30,[36,7],[[32,0,["ui","isFullScreen"]]],null],[30,[36,7],[[32,0,["fromAnalytics"]]],null],[32,0,["post","didEmailFail"]]],null]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-editor-post-status"],[12],[2,"\\n                                "],[10,"span"],[12],[2,"\\n                                    "],[8,"gh-editor-post-status",[],[["@post","@publishManagement","@hasDirtyAttributes","@isSaving","@openUpdateFlow"],[[32,0,["post"]],[32,2],[32,0,["hasDirtyAttributes"]],[30,[36,2],[[32,0,["autosaveTask","isRunning"]],[32,0,["saveTasks","isRunning"]]],null],[32,2,["openUpdateFlow"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n\\n                    "],[10,"section"],[14,0,"flex items-center pe-auto h-100"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post","isNew"]]],null,[["default"],[{"statements":[[2,"                            "],[8,"editor/publish-buttons",[],[["@publishManagement"],[[32,2]]],null],[2,"\\n"],[6,[37,1],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"settings-menu-toggle-spacer"],[12],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "]],"parameters":[2]}]]],[2,"\\n            "],[13],[2,"\\n\\n"],[2,"            "],[8,"gh-koenig-editor-lexical",[],[["@title","@titleAutofocus","@titlePlaceholder","@onTitleChange","@onTitleBlur","@body","@bodyPlaceholder","@onBodyChange","@headerOffset","@scrollContainerSelector","@scrollOffsetBottomSelector","@onEditorCreated","@updateWordCount","@featureImage","@featureImageAlt","@featureImageCaption","@setFeatureImage","@setFeatureImageAlt","@setFeatureImageCaption","@clearFeatureImage","@cardOptions","@postType","@registerAPI"],[[30,[36,8],[[32,0,["post","titleScratch"]]],null],[32,0,["shouldFocusTitle"]],[30,[36,9],[[30,[36,4],[[32,0,["post","displayName"]]],null]," title"],null],[32,0,["updateTitleScratch"]],[30,[36,6],[[32,0,["saveTitleTask"]]],null],[30,[36,8],[[32,0,["post","lexicalScratch"]]],null],[30,[36,9],["Begin writing your ",[32,0,["post","displayName"]],"..."],null],[32,0,["updateScratch"]],[32,1,["headerHeight"]],".gh-koenig-editor",".gh-mobile-nav-bar",[32,0,["setKoenigEditor"]],[32,0,["updateWordCount"]],[32,0,["post","featureImage"]],[32,0,["post","featureImageAlt"]],[32,0,["post","featureImageCaption"]],[32,0,["setFeatureImage"]],[32,0,["setFeatureImageAlt"]],[32,0,["setFeatureImageCaption"]],[32,0,["clearFeatureImage"]],[30,[36,10],null,[["post","snippets","collections","deleteSnippet","createSnippet"],[[32,0,["post"]],[32,0,["snippets"]],[32,0,["collections"]],[30,[36,5],[[32,0,["canManageSnippets"]],[32,0,["confirmDeleteSnippet"]]],null],[30,[36,5],[[32,0,["canManageSnippets"]],[32,0,["createSnippet"]]],null]]]],[32,0,["post","displayName"]],[32,0,["registerEditorAPI"]]]],null],[2,"\\n\\n            "],[8,"feedback-lexical/editor-dropdown",[],[["@post"],[[32,0,["post"]]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-editor-wordcount-container"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-editor-wordcount"],[12],[2,"\\n                    "],[1,[30,[36,11],[[32,0,["wordCount"]],"word"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"a"],[14,6,"https://ghost.org/help/using-the-editor/"],[14,0,"flex"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[30,[36,0],["help"],null]],[13],[2,"\\n            "],[13],[2,"\\n\\n        "]],"parameters":[1]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["showSettingsMenu"]]],null,[["default"],[{"statements":[[2,"            "],[8,"gh-post-settings-menu",[],[["@post","@deletePost","@updateSlugTask","@savePostTask","@editorAPI","@toggleSettingsMenu"],[[32,0,["post"]],[32,0,["openDeletePostModal"]],[32,0,["updateSlugTask"]],[32,0,["savePostTask"]],[32,0,["editorAPI"]],[32,0,["toggleSettingsMenu"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n    "],[11,"button"],[24,0,"settings-menu-toggle gh-btn gh-btn-editor gh-btn-icon icon-only gh-btn-action-icon"],[24,"title","Settings"],[24,"data-test-psm-trigger",""],[24,4,"button"],[4,[38,12],["click",[32,0,["toggleSettingsMenu"]]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["showSettingsMenu"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"span"],[14,0,"settings-menu-open"],[12],[1,[30,[36,0],["sidemenu-open"],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"span"],[12],[1,[30,[36,0],["sidemenu"],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[6,[37,5],[[32,0,["showReAuthenticateModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["re-authenticate",[32,0,["toggleReAuthenticateModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["showPostHistory"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["post-history",[32,0,["post"]],[32,0,["closePostHistory"]],"total-overlay post-history"]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[1,[30,[36,14],[[30,[36,13],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","unless","or","pluralize","capitalize","if","perform","not","readonly","concat","hash","gh-pluralize","on","-outlet","component"]}',moduleName:"ghost-admin/templates/lexical-editor.hbs"})
e.default=t})),define("ghost-admin/templates/lexical-editor/edit-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ElnCuz5d",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-view"],[4,[38,1],[[30,[36,0],[[32,0,["ui","setMainClass"]],"gh-main-white"],null]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","did-insert"]}',moduleName:"ghost-admin/templates/lexical-editor/edit-loading.hbs"})
e.default=t})),define("ghost-admin/templates/lexicalsandbox",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"8dbMzJKj",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            Lexical editor components\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"koenig-lexical-sandbox",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/lexicalsandbox.hbs"})
e.default=t})),define("ghost-admin/templates/member",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"2hUZUiSS",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky gh-member-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n"],[6,[37,4],[[32,0,["fromAnalytics"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                        Posts\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                    "],[8,"link-to",[],[["@route","@models"],["posts.analytics",[32,0,["fromAnalytics"]]]],[["default"],[{"statements":[[2,"\\n                        Analytics\\n                    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,2],[[32,0,["directlyFromAnalytics"]]],null,[["default"],[{"statements":[[2,"                        "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                        "],[8,"link-to",[[24,"data-test-link","members-back"]],[["@route","@query"],["members",[30,[36,5],null,[["postAnalytics"],[[32,0,["postAnalytics"]]]]]]],[["default"],[{"statements":[[2,"\\n                            Members\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2," "],[1,[30,[36,4],[[32,0,["member","isNew"]],"New member","Edit member"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[[24,"data-test-link","members-back"]],[["@route"],["members"]],[["default"],[{"statements":[[2,"\\n                        Members\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2," "],[1,[30,[36,4],[[32,0,["member","isNew"]],"New member","Edit member"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n"],[6,[37,4],[[32,0,["member","isNew"]]],null,[["default","else"],[{"statements":[[2,"                    New"],[10,"span"],[14,0,"gh-canvas-title-hide-for-mobile"],[12],[2,"Â member"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[30,[36,3],[[32,0,["member","name"]],[32,0,["member","email"]]],null]],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,4],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[6,[37,2],[[32,0,["member","isNew"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[[24,"data-test-button","member-actions"]],[["@dropdownName","@classNames","@title"],["members-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Members Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,0],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["members-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","impersonate"],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleImpersonateMemberModal"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Impersonate"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","delete-member"],[24,4,"button"],[4,[38,1],["click",[32,0,["confirmDeleteMember"]]],null],[12],[2,"\\n                                    "],[10,"span"],[14,0,"red"],[12],[2,"Delete member"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-task-button",[],[["@class","@type","@task","@data-test-button"],["gh-btn gh-btn-primary gh-btn-icon","button",[32,0,["saveTask"]],"save"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"form"],[14,0,"member-basic-info-form"],[12],[2,"\\n            "],[8,"gh-member-settings-form",[],[["@member","@scratchMember","@setProperty","@onLabelEdit","@saveMember","@isSaveRunning","@isLoading"],[[32,0,["member"]],[32,0,["scratchMember"]],[32,0,["setProperty"]],[32,0,["editLabel"]],[32,0,["save"]],[32,0,["saveTask","isRunning"]],[32,0,["isLoading"]]]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["showImpersonateMemberModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["impersonate-member",[32,0,["member"]],[32,0,["toggleImpersonateMemberModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showLabelModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["members-label-form",[32,0,["labelModalData"]],[32,0,["toggleLabelModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["svg-jar","on","unless","or","if","hash"]}',moduleName:"ghost-admin/templates/member.hbs"})
e.default=t})),define("ghost-admin/templates/members-activity",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"2iefqHS/",block:'{"symbols":["eventsFetcher"],"statements":[[10,"section"],[15,0,[31,["gh-canvas gh-members-activity ",[30,[36,2],[[32,0,["memberRecord"]],"gh-members-activity-single"],null]," feature-memberAttribution"]]],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,0,["memberRecord"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[[24,"data-test-link","members-activity-back"]],[["@route","@query"],["members-activity",[30,[36,4],["members-activity"],null]]],[["default"],[{"statements":[[2,"\\n                        Member activity\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,5],["arrow-right-small"],null]],[2," "],[1,[30,[36,0],[[32,0,["memberRecord","name"]],[32,0,["memberRecord","email"]]],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Member activity\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"members-activity/event-type-filter",[],[["@excludedEvents","@hiddenEvents","@onChange"],[[32,0,["excludedEvents"]],[32,0,["hiddenEvents"]],[32,0,["changeExcludedEvents"]]]],null],[2,"\\n\\n            "],[8,"members-activity/member-filter",[],[["@selected","@onChange"],[[32,0,["memberRecord"]],[32,0,["changeMember"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],null,[["filter","pageSize","memberId"],[[30,[36,6],null,[["excludedEvents","member"],[[32,0,["fullExcludedEvents"]],[32,0,["member"]]]]],50,[32,0,["member"]]]]]],null,[["default"],[{"statements":[[6,[37,2],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[6,[37,2],[[32,0,["memberRecord"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-member-details-activity",[],[["@member"],[[32,0,["memberRecord"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[10,"div"],[14,0,"gh-list-scrolling"],[12],[2,"\\n                    "],[8,"members-activity/table",[],[["@hideMemberColumn","@events","@hasMultipleNewsletters"],[[30,[36,2],[[32,0,["member"]],true],null],[32,1,["data"]],[32,1,["hasMultipleNewsletters"]]]],null],[2,"\\n\\n"],[6,[37,2],[[30,[36,3],[[30,[36,0],[[32,1,["isLoading"]],[32,1,["hasReachedEnd"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"gh-scroll-trigger",[],[["@enter","@triggerOffset"],[[32,1,["loadNextPage"]],250]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"members-activity/no-events",[],[["@filter"],[[30,[36,0],[[32,0,["member"]],[32,0,["excludedEvents"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"no-posts-box"],[12],[8,"gh-loading-spinner",[],[[],[]],null],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,10],[[30,[36,9],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["or","unless","if","not","reset-query-params","svg-jar","members-event-filter","members-event-fetcher","let","-outlet","component"]}',moduleName:"ghost-admin/templates/members-activity.hbs"})
e.default=t})),define("ghost-admin/templates/members",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"SEUFftTP",block:'{"symbols":["member","column"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header break tablet members-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n"],[6,[37,3],[[32,0,["fromAnalytics"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                        Posts\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,1],["arrow-right-small"],null]],[2,"\\n                    "],[8,"link-to",[],[["@route","@models"],["posts.analytics",[32,0,["fromAnalytics"]]]],[["default"],[{"statements":[[2,"\\n                        Analytics\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,1],["arrow-right-small"],null]],[2,"Members\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Members"],[13],[2,"\\n        "],[13],[2,"\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[10,"div"],[15,0,[31,["view-actions-bottom-row ",[30,[36,3],[[32,0,["hideSearchBar"]],"hidden"],null]]]],[12],[2,"\\n                    "],[10,"div"],[14,0,"relative gh-members-header-search"],[12],[2,"\\n                        "],[1,[30,[36,1],["search"],[["class"],["gh-input-search-icon"]]]],[2,"\\n                        "],[11,"input"],[24,"placeholder","Search members..."],[16,2,[32,0,["searchParam"]]],[24,"aria-label","Search members"],[16,0,[31,["gh-input gh-members-list-searchfield ",[30,[36,3],[[32,0,["searchParam"]],"active"],null]]]],[24,"data-test-input","members-search"],[24,4,"text"],[4,[38,11],["input",[32,0,["search"]]],null],[4,[38,11],["focus",[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],true],null]],null],[4,[38,11],["blur",[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],false],null]],null],[4,[38,14],[[30,[36,13],[[30,[36,12],[[32,0,["searchIsFocused"]]],null],false],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"view-actions-top-row"],[12],[2,"\\n                    "],[8,"members/filter",[],[["@isFiltered","@onApplyFilter","@defaultFilterParam","@onApplySoftFilter","@onApplyParsedFilter","@onResetSoftFilter","@onResetFilter","@onLabelEdit","@parseFilterParamCounter"],[[32,0,["isFiltered"]],[32,0,["applyFilter"]],[32,0,["filterParam"]],[32,0,["applySoftFilter"]],[32,0,["applyParsedFilter"]],[32,0,["resetSoftFilter"]],[32,0,["resetFilter"]],[32,0,["editLabel"]],[32,0,["parseFilterParamCounter"]]]],null],[2,"\\n                    "],[10,"span"],[14,0,"dropdown members-actions-dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[[24,"data-test-button","members-actions"]],[["@dropdownName","@classNames","@title"],["members-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Members Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["members-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,4],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[2,"\\n                                    "],[8,"link-to",[[24,0,"mr2"],[24,"data-test-link","import-csv"]],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"span"],[12],[2,"Import members"],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[10,"li"],[15,0,[31,[[30,[36,3],[[32,0,["members","length"]],"","disabled"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["members","length"]]],null,[["default","else"],[{"statements":[[2,"                                    "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","export-members"],[24,4,"button"],[4,[38,11],["click",[32,0,["exportData"]]],null],[12],[2,"\\n"],[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Export all members"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Export selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"button"],[14,0,"mr2"],[14,"disabled","true"],[14,"data-test-button","export-members"],[14,4,"button"],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Export selected members (0)"],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n"],[6,[37,3],[[30,[36,5],[[32,0,["members","length"]],[32,0,["isFiltered"]]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","add-label-selected"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkAddLabel"]]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Add label for selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","remove-label-selected"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkRemoveLabel"]]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[2,"Remove label from selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,3],[[30,[36,4],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"li"],[12],[2,"\\n                                        "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","unsubscribe-selected"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkUnsubscribe"]]],null],[12],[2,"\\n                                            "],[10,"span"],[12],[2,"Unsubscribe selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"li"],[14,0,"divider"],[12],[13],[2,"\\n                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"mr2"],[24,"data-test-button","delete-selected"],[24,4,"button"],[4,[38,11],["click",[32,0,["bulkDelete"]]],null],[12],[2,"\\n                                        "],[10,"span"],[14,0,"red"],[12],[2,"Delete selected members ("],[1,[32,0,["members","length"]]],[2,")"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,3],[[30,[36,4],[[32,0,["settings","membersSignupAccess"]],"none"],null]],null,[["default"],[{"statements":[[2,"                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"],[24,"data-test-new-member-button","true"]],[["@route"],["member.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New member"],[13],[10,"span"],[14,0,"gh-btn-text-hide-for-mobile"],[12],[2,"New"],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[32,0,["members","loading"]]],null,[["default","else"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n            "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"        "],[10,"section"],[15,0,[31,["view-container ",[30,[36,3],[[30,[36,10],[[30,[36,9],[[32,0,["members"]]],null],[30,[36,6],[[32,0,["members","length"]],6],null]],null],"members-list-container-stretch"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["members"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[15,0,[31,["gh-list-scrolling ",[30,[36,3],[[30,[36,6],[[32,0,["members","length"]],6],null],"gh-list-with-helpsection"],null]]]],[14,"data-test-table","members"],[12],[2,"\\n                    "],[10,"table"],[14,0,"gh-list"],[12],[2,"\\n                        "],[10,"thead"],[12],[2,"\\n                            "],[10,"tr"],[12],[2,"\\n                                "],[10,"th"],[12],[1,[32,0,["listHeader"]]],[13],[2,"\\n                                "],[10,"th"],[14,"data-test-table-column","status"],[12],[2,"Status"],[13],[2,"\\n"],[6,[37,3],[[30,[36,5],[[30,[36,4],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[32,0,["settings","emailTrackOpens"]]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"th"],[14,"data-test-table-column","email_open_rate"],[12],[2,"Open rate"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"th"],[14,"data-test-table-column","location"],[12],[2,"Location"],[13],[2,"\\n                                "],[10,"th"],[14,"data-test-table-column","created"],[12],[2,"Created"],[13],[2,"\\n"],[6,[37,8],[[30,[36,7],[[30,[36,7],[[32,0,["filterColumns"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                    "],[10,"th"],[15,"data-test-table-column",[32,2,["name"]]],[12],[1,[32,2,["label"]]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[8,"vertical-collection",[],[["@tagName","@items","@key","@containerSelector","@estimateHeight","@staticHeight","@bufferSize"],["tbody",[32,0,["members"]],"id",".gh-list-scrolling",69,true,20]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[32,1,["is_loading"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"members/list-item-loading",[],[["@newsletterEnabled","@filterColumns"],[[30,[36,5],[[30,[36,4],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[32,0,["settings","emailTrackOpens"]]],null],[32,0,["filterColumns"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"members/list-item",[[16,"data-test-member",[32,1,["id"]]]],[["@newsletterEnabled","@member","@filterColumns","@query"],[[30,[36,5],[[30,[36,4],[[32,0,["settings","editorDefaultEmailRecipients"]],"disabled"],null],[32,0,["settings","emailTrackOpens"]]],null],[32,1,["content"]],[32,0,["filterColumns"]],[30,[36,0],null,[["postAnalytics"],[[32,0,["postAnalytics"]]]]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[1]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                    "],[8,"gh-members-no-members",[],[["@afterCreate","@members"],[[32,0,["refreshData"]],[32,0,["members"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-members-empty"],[14,"data-test-no-matching-members",""],[12],[2,"\\n                        "],[1,[30,[36,1],["members-placeholder"],[["class"],["gh-members-placeholder"]]]],[2,"\\n                        "],[10,"h4"],[12],[2,"No members match the current filter"],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn mt4"],[24,"data-test-button","show-all-members"]],[["@route","@query"],["members",[30,[36,2],["members.index"],null]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show all members"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[6,[37,3],[[30,[36,6],[[32,0,["members","length"]],6],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-main-section gh-members-help"],[12],[2,"\\n                    "],[10,"h2"],[14,0,"gh-main-section-header small bn"],[12],[2,"Get started with memberships"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[10,"a"],[14,6,"https://ghost.org/resources/build-audience-subscriber-signups/"],[14,"target","_blank"],[14,0,"gh-members-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-help-content"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/members-1-8b89a1f48fe7b336754e91a429531f65.jpg);"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                        "],[10,"h3"],[12],[2,"Building your audience with subscriber signups"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Learn how to turn anonymous visitors into logged-in members with memberships in Ghost."],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Start building â†’"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n\\n                            "],[10,"a"],[14,6,"https://ghost.org/resources/first-100-email-subscribers/"],[14,"target","_blank"],[14,0,"gh-members-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-members-help-content"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"thumbnail right"],[14,5,"background-image: url(assets/img/marketing/members-2-791205c82d5cf221f8c99a74f9ee1739.jpg);"],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                        "],[10,"h3"],[12],[2,"Get your first 100 email subscribers"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Starting from zero? Use this guide to find your founding audience members."],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-btn gh-btn-link"],[12],[2,"Become an expert â†’"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n\\n"],[1,[30,[36,16],[[30,[36,15],null,null]],null]],[2,"\\n\\n"],[6,[37,3],[[32,0,["showUnsubscribeMembersModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["unsubscribe-members",[30,[36,0],null,[["memberCount"],[[32,0,["members","length"]]]]],[32,0,["unsubscribeMembers"]],[32,0,["toggleUnsubscribeMembersModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,0,["showLabelModal"]]],null,[["default"],[{"statements":[[2,"    "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["members-label-form",[32,0,["labelModalData"]],[32,0,["toggleLabelModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["hash","svg-jar","reset-query-params","if","not-eq","and","lt","-track-array","each","not","or","on","mut","fn","will-destroy","-outlet","component"]}',moduleName:"ghost-admin/templates/members.hbs"})
e.default=t})),define("ghost-admin/templates/members/import",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"oWi45bKX",block:'{"symbols":[],"statements":[[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["import-members",[32,0,["refreshMembers"]],[32,0,["close"]],"action import-members"]],null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/members/import.hbs"})
e.default=t})),define("ghost-admin/templates/mentions",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"f44zLFvQ",block:'{"symbols":["mention","submention"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,9],null,null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column flex-grow-1"],[12],[2,"\\n"],[6,[37,1],[[32,0,["post"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["posts"]],[["default"],[{"statements":[[2,"\\n                        Posts\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                    "],[8,"link-to",[],[["@route","@model"],["posts.analytics",[32,0,["post","id"]]]],[["default"],[{"statements":[[2,"\\n                        Analytics\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"Mentions\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["dashboard"]],[["default"],[{"statements":[[2,"\\n                        Dashboard\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"Mentions\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h2"],[14,0,"gh-canvas-title gh-post-title"],[14,"data-test-screen-title",""],[12],[2,"\\n"],[6,[37,1],[[32,0,["post"]]],null,[["default","else"],[{"statements":[[2,"                    "],[1,[32,0,["post","title"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    Mentions\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,10],[[32,0,["post"]],[32,0,["mentionsInfinityModel"]]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-post-analytics-meta"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-post-analytics-meta-text"],[12],[2,"\\n                        This post was mentioned in:\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"gh-mentions-main-section"],[12],[2,"\\n        "],[10,"div"],[15,0,[31,["gh-mentions-list ",[30,[36,2],[[32,0,["mentionsInfinityModel"]],"is-empty"],null]]]],[12],[2,"\\n"],[6,[37,1],[[32,0,["mentionsInfinityModel"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,0,["mentionsInfinityModel"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"a"],[15,6,[31,[[32,1,["source"]]]]],[14,0,"gh-mention-card"],[14,"rel","noreferrer noopener"],[14,"target","_blank"],[12],[2,"\\n"],[2,"                            "],[10,"div"],[14,0,"gh-mention-header"],[12],[2,"\\n"],[6,[37,1],[[32,1,["sourceFavicon"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"img"],[15,"src",[31,[[32,1,["sourceFavicon"]]]]],[15,"alt",[31,[[32,1,["sourceSiteTitle"]]]]],[14,0,"gh-mention-icon"],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[10,"div"],[14,0,"gh-mention-publisher"],[12],[1,[32,1,["sourceSiteTitle"]]],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,5],[[32,1,["mentions","length"]],1],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-mention-link-icon"],[12],[2,"\\n                                        "],[1,[30,[36,0],["twitter-link"],null]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"span"],[14,0,"gh-mention-your-link has-multiple-links"],[12],[1,[32,1,["mentions","length"]]],[2," links"],[13],[2,"\\n                                        "],[8,"ember-popover",[],[["@tooltipClass","@spacing","@arrowClass","@side"],["popover",8,"popover-arrow","bottom"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"ul"],[14,0,"gh-mention-multiple-links"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[30,[36,3],[[32,1,["mentions"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                                    "],[10,"li"],[14,0,"gh-mention-multiple-links-link"],[12],[1,[30,[36,1],[[32,2,["resource"]],[32,2,["resource","name"]],[32,2,["target"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["post"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"gh-mention-link-icon"],[12],[2,"\\n                                            "],[1,[30,[36,0],["twitter-link"],null]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-mention-your-link"],[12],[1,[30,[36,1],[[32,1,["resource"]],[32,1,["resource","name"]],[32,1,["target"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                "],[10,"span"],[14,0,"gh-mention-timestamp"],[15,"title",[30,[36,6],[[32,1,["timestamp"]]],null]],[12],[1,[30,[36,7],[[32,1,["timestamp"]]],null]],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-mention-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-mention-source"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"gh-mention-title"],[12],[1,[30,[36,8],[[32,1,["sourceTitle"]],[32,1,["sourceSiteTitle"]],[32,1,["source"]]],null]],[13],[2,"\\n"],[6,[37,1],[[32,1,["sourceExcerpt"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"p"],[14,0,"gh-mention-description"],[12],[1,[32,1,["sourceExcerpt"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[10,"div"],[14,0,"gh-mention-metadata"],[12],[2,"\\n"],[6,[37,1],[[32,1,["sourceAuthor"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"gh-mention-author"],[12],[1,[32,1,["sourceAuthor"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,1],[[32,1,["sourceFeaturedImage"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"div"],[14,0,"gh-mention-thumbnail"],[12],[2,"\\n                                        "],[10,"img"],[15,"src",[31,[[32,1,["sourceFeaturedImage"]]]]],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-mentions-list-cta"],[12],[2,"\\n                    "],[1,[30,[36,0],["email-love-letter"],[["class"],["love-letter"]]]],[2,"\\n                    "],[10,"h4"],[12],[2,"No mentions yet"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"When other sites mention your posts, they\'ll appear here."],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[8,"gh-infinity-loader",[],[["@infinityModel","@scrollable","@triggerOffset"],[[32,0,["mentionsInfinityModel"]],".gh-main",1000]],null],[2,"\\n        "],[13],[2,"\\n"],[6,[37,1],[[32,0,["mentionsInfinityModel"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-mentions-sidebar"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-mentions-explainer"],[12],[2,"\\n                    "],[10,"img"],[14,"src","assets/img/mentions-background-fa39b7597e875c165b12190eda606993.png"],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                    "],[10,"h2"],[12],[2,"Introducing Mentions"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Whenever another person or site links to you, youâ€™ll receive a notification in your dashboard to show you whoâ€™s talking about your content â€” and, when you link to someone elseâ€™s work, theyâ€™ll be notified, too."],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","unless","-track-array","each","gt","gh-format-post-time","moment-from-now","or","scroll-top","and"]}',moduleName:"ghost-admin/templates/mentions.hbs"})
e.default=t})),define("ghost-admin/templates/migrate",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"QmU1U6Xd",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-migrate-fullscreen-container"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-migrate-close"],[12],[2,"\\n        "],[11,"a"],[24,6,"javascript:void(0)"],[24,"data-test-button","close-migrate"],[4,[38,0],["click",[32,0,["closeMigrate"]]],null],[12],[2,"\\n            "],[1,[30,[36,1],["close"],null]],[10,"span"],[14,0,"hidden"],[12],[2,"Close"],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[8,"gh-migrate-modal",[],[[],[]],[["default"],[{"statements":[],"parameters":[]}]]],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","svg-jar"]}',moduleName:"ghost-admin/templates/migrate.hbs"})
e.default=t})),define("ghost-admin/templates/offer",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"dNeLS8Dr",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas gh-offer circle-bg"],[4,[38,8],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","offers-back"]],[["@route"],["offers"]],[["default"],[{"statements":[[2,"\\n                    Offers\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,5],["arrow-right-small"],null]],[2," "],[1,[30,[36,4],[[32,0,["offer","isNew"]],"New offer","Edit offer"],null]],[2,"\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n"],[6,[37,4],[[32,0,["offer","isNew"]]],null,[["default","else"],[{"statements":[[2,"                    New Offer\\n"]],"parameters":[]},{"statements":[[2,"                    "],[1,[32,0,["offer","name"]]],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["offer","status"]],"archived"],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"gh-badge gh-badge-title"],[12],[2,"Archived"],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[],[["@class","@type","@task","@data-test-button"],["gh-btn gh-btn-primary gh-btn-icon","button",[32,0,["saveTask"]],"save"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-layout content-preview"],[12],[2,"\\n            "],[10,"form"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section gh-offer-form"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-block no-margin"],[12],[2,"\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Basic"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"name",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","name"],[14,0,"fw6"],[12],[2,"Name"],[13],[2,"\\n                                "],[8,"gh-text-input",[[24,"data-test-input","offer-name"]],[["@name","@placeholder","@id","@value","@input","@class"],["name","Black Friday","name",[32,0,["offer","name"]],[32,0,["setOfferName"]],"gh-input"]],null],[2,"\\n                                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"name"]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Visible to members on Stripe Checkout page."],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"h4"],[14,0,"gh-main-section-header gh-main-section-header-with-info small bn"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Discount information"],[13],[2,"\\n                            "],[10,"span"],[14,0,"midgrey gh-main-section-header-info tooltip-left"],[14,"data-tooltip","Once saved, this cannot be changed"],[12],[1,[30,[36,5],["info"],null]],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"label"],[14,0,"fw6"],[12],[2,"Offer type"],[13],[2,"\\n                                    "],[10,"div"],[15,0,[31,["gh-offer-type-container ",[30,[36,4],[[32,0,["isDiscountSectionDisabled"]],"disabled"],null]]]],[12],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-radio ",[30,[36,4],[[32,0,["isDiscountOffer"]],"active"],null]]]],[16,"disabled",[32,0,["isDiscountSectionDisabled"]]],[24,4,"button"],[4,[38,0],["click",[30,[36,7],[[32,0,["changeType"]],"discount"],null]],null],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Discount"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Offer a special reduced price."],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                        "],[11,"button"],[16,0,[31,["gh-radio ",[30,[36,4],[[32,0,["isTrialOffer"]],"active"],null]]]],[16,"disabled",[32,0,["isDiscountSectionDisabled"]]],[24,4,"button"],[4,[38,0],["click",[30,[36,7],[[32,0,["changeType"]],"trial"],null]],null],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-radio-button"],[12],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-radio-content"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"gh-radio-label"],[12],[2,"Free trial"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-radio-desc"],[12],[2,"Give free access for a limited time."],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["isTrialOffer"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-offer-tier-and-trial"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Tier â€“ cadence"],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-select gh-select-product-cadence"],[12],[2,"\\n                                            "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@title","@disabled","@update"],[[32,0,["cadence"]],[32,0,["cadences"]],"name","label","name",[31,[[32,0,["offer","tier","name"]]," - ",[30,[36,4],[[30,[36,3],[[32,0,["offer","cadence"]],"month"],null],"Monthly","Yearly"],null]]],[32,0,["isDiscountSectionDisabled"]],[32,0,["updateCadence"]]]],null],[2,"\\n                                            "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[10,"div"],[14,0,"gh-offer-trial-duration"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["offer","errors"]],"trialDuration"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","trial-duration"],[14,0,"fw6"],[12],[2,"Trial duration"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"trial-duration"],[12],[2,"\\n                                                "],[11,"input"],[24,1,"trial-duration"],[24,0,"gh-input"],[24,3,"trial-duration"],[16,2,[32,0,["offer","amount"]]],[16,"disabled",[32,0,["isDiscountSectionDisabled"]]],[24,4,"number"],[4,[38,0],["input",[32,0,["setTrialDuration"]]],null],[4,[38,0],["blur",[30,[36,7],[[32,0,["validateProperty"]],"amount"],null]],null],[12],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"amount"]],null],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[14,0,"gh-offer-trial-info"],[12],[2,"Members will be subscribed at full price once the trial ends. "],[10,"a"],[14,0,"green"],[14,6,"https://ghost.org/help/free-trials"],[12],[2,"Learn more"],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-offer-tier-and-trial"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Tier â€“ cadence"],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-select gh-select-product-cadence"],[12],[2,"\\n                                            "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@title","@disabled","@update"],[[32,0,["cadence"]],[32,0,["cadences"]],"name","label","name",[31,[[32,0,["offer","tier","name"]]," - ",[30,[36,4],[[30,[36,3],[[32,0,["offer","cadence"]],"month"],null],"Monthly","Yearly"],null]]],[32,0,["isDiscountSectionDisabled"]],[32,0,["updateCadence"]]]],null],[2,"\\n                                            "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"product-cadence"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[10,"div"],[14,0,"gh-offer-discount"],[12],[2,"\\n                                        "],[10,"label"],[14,"for","amount"],[14,0,"fw6 mb1"],[12],[2,"Amount off"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"flex items-start"],[12],[2,"\\n                                            "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"amount",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                                "],[10,"div"],[14,0,"gh-offer-value percentage"],[12],[2,"\\n                                                    "],[11,"input"],[24,1,"amount"],[24,0,"gh-input"],[24,3,"amount"],[16,2,[30,[36,4],[[30,[36,3],[[32,0,["offer","type"]],"fixed"],null],[30,[36,6],[[32,0,["offer","amount"]]],null],[32,0,["offer","amount"]]],null]],[16,"disabled",[32,0,["isDiscountSectionDisabled"]]],[24,4,"number"],[4,[38,0],["input",[32,0,["setDiscountAmount"]]],null],[4,[38,0],["blur",[30,[36,7],[[32,0,["validateProperty"]],"amount"],null]],null],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"amount"]],null],[2,"\\n                                                "],[13],[2,"\\n                                            "]],"parameters":[]}]]],[2,"\\n                                            "],[10,"div"],[14,0,"gh-offer-type"],[12],[2,"\\n                                                "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"type",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                                    "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                                        "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@disabled","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["offer","type"]],[32,0,["offertypes"]],"offertype",[32,0,["isDiscountSectionDisabled"]],"label","offertype",[32,0,["setDiscountType"]]]],null],[2,"\\n                                                        "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"type"]],null],[2,"\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-offer-duration"],[12],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["errors"]],"duration"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","product-cadence"],[14,0,"fw6"],[12],[2,"Duration"],[13],[2,"\\n                                        "],[10,"span"],[14,0,"gh-select"],[12],[2,"\\n                                            "],[8,"one-way-select",[],[["@data-test-select","@value","@options","@optionValuePath","@disabled","@optionLabelPath","@optionTargetPath","@update"],["offer-duration",[32,0,["offer","duration"]],[32,0,["durations"]],"duration",[32,0,["isDiscountSectionDisabled"]],"label","duration",[32,0,["updateDuration"]]]],null],[2,"\\n                                            "],[1,[30,[36,5],["arrow-down-small"],null]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                            "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"duration"]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["offer","duration"]],"repeating"],null]],null,[["default"],[{"statements":[[2,"                                        "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["offer","errors"]],"durationInMonths"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","duration-months"],[14,0,"fw6"],[12],[2,"Number of months"],[13],[2,"\\n                                            "],[10,"div"],[14,0,"duration-months"],[12],[2,"\\n                                                "],[8,"gh-text-input",[],[["@name","@value","@input","@disabled","@id","@class"],["duration-months",[30,[36,2],[[32,0,["offer","durationInMonths"]]],null],[32,0,["setDurationInMonths"]],[32,0,["isDiscountSectionDisabled"]],"duration-months","gh-input"]],null],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"durationInMonths"]],null],[2,"\\n                                            "],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n                        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Portal settings"],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                            "],[10,"div"],[14,0,"form-col2 gh-offer-title-and-code"],[12],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"displayTitle",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","display-title"],[14,0,"fw6"],[12],[2,"Display title"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@name","@value","@input","@placeholder","@id","@class"],["display-title",[30,[36,2],[[32,0,["offer","displayTitle"]]],null],[32,0,["setPortalTitle"]],"Black Friday Special","display-title","gh-input"]],null],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayTitle"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"gh-form-group",[],[["@errors","@property","@hasValidated"],[[32,0,["offer","errors"]],"code",[32,0,["offer","hasValidated"]]]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","code"],[14,0,"fw6"],[12],[2,"Offer code"],[13],[2,"\\n                                    "],[8,"gh-text-input",[],[["@name","@placeholder","@value","@input","@id","@class"],["code","black-friday",[30,[36,2],[[32,0,["offer","code"]]],null],[32,0,["setOfferCode"]],"code","gh-input"]],null],[2,"\\n                                    "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"code"]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayDescription"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","description"],[14,0,"fw6"],[12],[2,"Display description"],[13],[2,"\\n                                "],[8,"gh-textarea",[],[["@id","@name","@placeholder","@value","@input","@stopEnterKeyDownPropagation"],["description","description","Take advantage of this limited-time offer.",[30,[36,2],[[32,0,["offer","displayDescription"]]],null],[32,0,["setPortalDescription"]],"true"]],null],[2,"\\n                                "],[10,"span"],[14,0,"error"],[12],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["offer","errors"]],"displayDescription"]],null],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-form-group",[[24,0,"gh-offer-url no-margin"]],[["@errors","@property"],[[32,0,["errors"]],"url"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","url"],[14,0,"fw6"],[12],[2,"URL"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-input-group"],[12],[2,"\\n                                    "],[8,"gh-text-input",[[24,"data-test-input","offer-portal-url"]],[["@name","@value","@id","@disabled","@placeholder","@class"],["url",[30,[36,2],[[32,0,["offerUrl"]]],null],"url","disabled",[32,0,["defaultSiteUrl"]],"gh-input"]],null],[2,"\\n\\n                                    "],[8,"gh-task-button",[],[["@type","@buttonText","@task","@successText","@class"],["button","Copy link",[32,0,["copyOfferUrl"]],"Link copied","gh-btn gh-btn-icon"]],null],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"url"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"gh-offer-portal-preview"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Preview"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-members-portalpreview"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-members-portal-mock"],[12],[2,"\\n                            "],[8,"gh-site-iframe",[[24,"scrolling","no"]],[["@src","@invisibleUntilLoaded","@onInserted","@onDestroyed"],[[32,0,["portalPreviewUrl"]],"portal-ready",[32,0,["portalPreviewInserted"]],[32,0,["portalPreviewDestroyed"]]]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block gh-offer-archive-container"],[12],[2,"\\n"],[6,[37,4],[[30,[36,3],[[32,0,["offer","status"]],"active"],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["offer","isNew"]]],null,[["default"],[{"statements":[[2,"                        "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon"],[24,4,"button"],[4,[38,0],["click",[32,0,["openConfirmArchiveModal"]]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Archive offer"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            "],[10,"span"],[12],[2,"Archiving an offer ensures it is no longer available for use. Donâ€™t worry, existing members remain unchanged and the offer can be reactivated anytime."],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                    "],[11,"button"],[24,0,"gh-btn gh-btn-black gh-btn-icon"],[24,4,"button"],[4,[38,0],["click",[32,0,["openConfirmUnarchiveModal"]]],null],[12],[2,"\\n                        "],[10,"span"],[12],[2,"Reactivate offer"],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["on","unless","readonly","eq","if","svg-jar","gh-price-amount","fn","did-insert"]}',moduleName:"ghost-admin/templates/offer.hbs"})
e.default=t})),define("ghost-admin/templates/offers",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"jDXReqVo",block:'{"symbols":["offer","type"],"statements":[[10,"section"],[14,0,"gh-canvas gh-offers"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Offers"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-offers-actions view-actions"],[12],[2,"\\n"],[6,[37,3],[[32,0,["membersUtils","hasActiveTiers"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-contentfilter-menu gh-contentfilter-type ",[30,[36,3],[[30,[36,6],[[32,0,["selectedType","value"]],"active"],null],"gh-contentfilter-selected"],null]]]],[14,"data-test-type-select","true"],[12],[2,"\\n                        "],[8,"power-select",[],[["@selected","@options","@searchEnabled","@onChange","@triggerComponent","@triggerClass","@dropdownClass","@matchTriggerWidth"],[[32,0,["selectedType"]],[32,0,["availableTypes"]],false,[32,0,["onTypeChange"]],[30,[36,14],["gh-power-select/trigger"],null],"gh-contentfilter-menu-trigger","gh-contentfilter-menu-dropdown",false]],[["default"],[{"statements":[[2,"\\n                            "],[6,[37,3],[[32,2,["name"]]],null,[["default","else"],[{"statements":[[1,[32,2,["name"]]],[2," offers"]],"parameters":[]},{"statements":[[10,"span"],[14,0,"red"],[12],[2,"Unknown type"],[13]],"parameters":[]}]]],[2,"\\n                        "]],"parameters":[2]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["offer.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New offer"],[13]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,3],[[30,[36,15],[[32,0,["membersUtils","hasActiveTiers"]]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-offers-list-cta missing-tiers"],[12],[2,"\\n                    "],[1,[30,[36,1],["discount-bubble"],[["class"],["discount-bubble"]]]],[2,"\\n                    "],[10,"h4"],[12],[2,"You must have an active tier to create offers"],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["settings.membership"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"Manage tiers"],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,13],[[32,0,["offersExist"]],[32,0,["filteredOffers","length"]]],null]],null,[["default","else"],[{"statements":[[2,"            "],[10,"table"],[14,0,"gh-list gh-offers-list"],[14,"data-test-offers-list",""],[12],[2,"\\n                "],[10,"thead"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[30,[36,10],[[32,0,["filteredOffers","length"]],"active offer"],null]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[1,[30,[36,10],[[32,0,["filteredOffers","length"]],"archived offer"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Tier"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Terms"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Price"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Redemptions"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,12],[[30,[36,11],[[30,[36,11],[[32,0,["filteredOffers"]]],null]],null]],null,[["default"],[{"statements":[[2,"                        "],[10,"tr"],[14,0,"gh-list-row"],[14,"data-test-list","offers-list-item"],[15,"data-test-offer",[31,[[32,1,["name"]]]]],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-list-data"],[24,"data-test-list","offer-name"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"h3"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[1,[32,1,["tier","name"]]],[13],[2,"\\n                                "],[10,"span"],[14,0,"midgrey"],[12],[2,"-"],[13],[2,"\\n                                "],[10,"span"],[14,0,"midgrey"],[12],[1,[30,[36,3],[[30,[36,2],[[32,1,["cadence"]],"month"],null],"Monthly","Yearly"],null]],[2," "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[14,0,"offer-value"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"percent"],null]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,1],["offer"],null]],[2,"\\n                                        "],[10,"span"],[14,0,"green fw6"],[12],[1,[32,1,["amount"]]],[2,"% OFF"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"fixed"],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,1],["offer"],null]],[13],[2,"\\n                                        "],[10,"span"],[14,0,"blue fw6"],[12],[1,[30,[36,5],[[32,1,["amount"]]],null]],[2," "],[10,"span"],[14,0,"ttu"],[12],[1,[32,1,["currency"]]],[13],[2," OFF"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"trial"],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"span"],[14,0,"pink"],[12],[1,[30,[36,1],["offer"],null]],[13],[2,"\\n                                            "],[10,"span"],[14,0,"pink fw6"],[12],[10,"span"],[14,0,"ttu"],[12],[1,[32,1,["amount"]]],[13],[2," DAYS FREE"],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,3],[[30,[36,6],[[32,1,["type"]],"trial"],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"span"],[14,0,"dib ml1 midgrey ttc"],[12],[2," â€“\\n                                            "],[1,[30,[36,3],[[30,[36,2],[[32,1,["duration"]],"once"],null],"First-payment","Repeating"],null]],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-list-data"]],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,1,["type"]],"trial"],null]],null,[["default","else"],[{"statements":[[2,"                                    "],[10,"span"],[12],[1,[30,[36,4],[[32,1,["finalCurrency"]]],null]],[1,[30,[36,5],[[32,1,["originalPrice"]]],null]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                    "],[10,"span"],[12],[1,[30,[36,4],[[32,1,["finalCurrency"]]],null]],[1,[30,[36,5],[[32,1,["updatedPrice"]]],null]],[13],[2,"\\n                                    "],[10,"span"],[14,0,"midgrey strike ml2"],[12],[1,[30,[36,4],[[32,1,["finalCurrency"]]],null]],[1,[30,[36,5],[[32,1,["originalPrice"]]],null]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-list-data"],[24,"data-test-list","redemption-count"]],[["@route","@query"],["members",[30,[36,0],null,[["filter"],[[30,[36,7],["offer_redemptions:",[32,1,["id"]]],null]]]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[14,0,"midgrey"],[12],[1,[32,1,["redemptionCount"]]],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[10,"div"],[14,0,"gh-list-data gh-list-cellwidth-10 gh-list-chevron"],[12],[2,"\\n                                "],[10,"div"],[14,0,"flex items-center justify-end w-100 h-100"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"gh-btn gh-btn-icon gh-btn-text gh-offer-link-button"],[24,"data-tooltip","Get shareable link"],[24,"aria-label","Get shareable link"],[24,4,"button"],[4,[38,9],["click",[30,[36,8],[[32,0,["openLinkDialog"]],[32,1]],null]],null],[12],[2,"\\n                                        "],[10,"span"],[12],[1,[30,[36,1],["link"],null]],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[8,"link-to",[],[["@route","@model"],["offer",[32,1]]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"span"],[14,0,"nr2 lh-1"],[12],[1,[30,[36,1],["arrow-right"],[["class"],["w6 h6 fill-midgrey pa1"]]]],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-offers-list-cta"],[12],[2,"\\n                    "],[1,[30,[36,1],["discount-bubble"],[["class"],["discount-bubble"]]]],[2,"\\n                    "],[10,"h4"],[12],[2,"Provide special offers to new signups"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"\\n                        Boost your subscriptions by creating targeted discounts to potential members.\\n                    "],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"]],[["@route"],["offer.new"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[1,[30,[36,1],["plus"],null]],[2," Add offer"],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                        "],[10,"h4"],[12],[2,"You have no archived offers."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-lg"]],[["@route","@query"],["offers",[30,[36,0],null,[["type","author","tag"],["active",null,null]]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show active offers"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["selectedType","value"]],"active"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-main-section gh-offers-help"],[12],[2,"\\n                "],[10,"h2"],[14,0,"gh-main-section-header small bn"],[12],[2,"Get the most out of offers"],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://ghost.org/help/offers"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-1-f2e1b653c4d5bb90eea9d7a2862530f9.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"How to create offers in Ghost"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Find out how to create and promote offers to increase your subscriptions."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/resources/proven-discount-strategies"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-3-2094c91ab21a16c37fbe6ec16c140160.jpg);"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Proven discount strategies for publishers"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Setting up the right timing for your offers is as critical as finding the right amount."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                        "],[10,"a"],[14,6,"https://ghost.org/resources/conversion-vs-retention-offers"],[14,"target","_blank"],[14,0,"gh-offers-help-card"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-offers-help-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"thumbnail"],[14,5,"background-image: url(assets/img/marketing/offers-2-28a225d34cc39d133748431536961d00.jpg)"],[12],[13],[2,"\\n                                "],[10,"div"],[14,0,"text"],[12],[2,"\\n                                    "],[10,"h3"],[12],[2,"Offer pricing: Conversion vs retention"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"As your business evolves, your discount strategy should too."],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-btn"],[12],[10,"span"],[12],[2,"Read more"],[13],[13],[2,"\\n                        "],[13],[2,"\\n\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","eq","if","currency-symbol","gh-price-amount","not-eq","concat","fn","on","gh-pluralize","-track-array","each","and","component","not"]}',moduleName:"ghost-admin/templates/offers.hbs"})
e.default=t})),define("ghost-admin/templates/pages-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"/9L9QDJj",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],["Pages",[30,[36,0],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"posts-list/content-filter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,1],[null],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,1],[null],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,1],[null],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,1],[null],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,1],[null],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"],[16,"data-test-new-page-button",true]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New page"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-list",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["reset-query-params","optional"]}',moduleName:"ghost-admin/templates/pages-loading.hbs"})
e.default=t})),define("ghost-admin/templates/pages",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"IxPoKRC8",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas gh-canvas-sticky"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],["Pages",[30,[36,2],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"posts-list/content-filter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[32,0,["changeType"]],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[32,0,["changeVisibility"]],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[32,0,["changeAuthor"]],[32,0,["selectedTag"]],[32,0,["availableTags"]],[32,0,["changeTag"]],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[32,0,["changeOrder"]]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"],[16,"data-test-new-page-button",true]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New page"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[8,"posts-list/list",[],[["@model","@list"],[[32,0,["postsInfinityModel"]],[32,0,["selectionList"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n"],[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,1],["pages-placeholder"],[["class"],["gh-pages-placeholder"]]]],[2,"\\n                        "],[10,"h4"],[12],[2,"Tell the world about yourself."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route","@model"],["editor.new","page"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Create a new page"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"h4"],[12],[2,"No pages match the current filter"],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn"]],[["@route","@query"],["pages",[30,[36,0],null,[["type","author","tag"],[null,null,null]]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show all pages"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"gh-infinity-loader",[],[["@infinityModel","@scrollable","@triggerOffset"],[[32,0,["postsInfinityModel"]],".gh-main",1000]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[1,[30,[36,5],[[30,[36,4],null,null]],null]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","reset-query-params","if","-outlet","component"]}',moduleName:"ghost-admin/templates/pages.hbs"})
e.default=t})),define("ghost-admin/templates/posts-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"e3EOAkLC",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],[[30,[36,1],[[32,0,["session","user","isContributor"]],[30,[36,0],[[32,0,["config","blogTitle"]]," posts"],null],"Posts"],null],[30,[36,2],["posts"],null]]],null],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"posts-list/content-filter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[30,[36,3],[null],null],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[30,[36,3],[null],null],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[30,[36,3],[null],null],[32,0,["selectedTag"]],[32,0,["availableTags"]],[30,[36,3],[null],null],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[30,[36,3],[null],null]]],null],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary view-actions-top-row"],[16,"data-test-new-post-button",true]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New post"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-list",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["concat","if","reset-query-params","optional"]}',moduleName:"ghost-admin/templates/posts-loading.hbs"})
e.default=t})),define("ghost-admin/templates/posts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"4cp0hnlD",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas gh-canvas-sticky"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky break tablet post-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[8,"gh-custom-view-title",[],[["@title","@query"],[[30,[36,3],[[32,0,["session","user","isContributor"]],[30,[36,2],[[32,0,["config","blogTitle"]]," posts"],null],"Posts"],null],[30,[36,4],["posts"],null]]],null],[2,"\\n\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"posts-list/content-filter",[],[["@currentUser","@selectedType","@availableTypes","@onTypeChange","@selectedVisibility","@availableVisibilities","@onVisibilityChange","@selectedAuthor","@availableAuthors","@onAuthorChange","@selectedTag","@availableTags","@onTagChange","@selectedOrder","@availableOrders","@onOrderChange"],[[32,0,["session","user"]],[32,0,["selectedType"]],[32,0,["availableTypes"]],[32,0,["changeType"]],[32,0,["selectedVisibility"]],[32,0,["availableVisibilities"]],[32,0,["changeVisibility"]],[32,0,["selectedAuthor"]],[32,0,["availableAuthors"]],[32,0,["changeAuthor"]],[32,0,["selectedTag"]],[32,0,["availableTags"]],[32,0,["changeTag"]],[32,0,["selectedOrder"]],[32,0,["availableOrders"]],[32,0,["changeOrder"]]]],null],[2,"\\n\\n            "],[10,"div"],[14,0,"view-actions-top-row"],[12],[2,"\\n                "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"],[16,"data-test-new-post-button",true]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New post"],[13]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[8,"posts-list/list",[],[["@model","@list"],[[32,0,["postsInfinityModel"]],[32,0,["selectionList"]]]],[["default"],[{"statements":[[2,"\\n            "],[10,"li"],[14,0,"no-posts-box"],[14,"data-test-no-posts-box",""],[12],[2,"\\n                "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n"],[6,[37,3],[[32,0,["showingAll"]]],null,[["default","else"],[{"statements":[[2,"                        "],[1,[30,[36,1],["posts-placeholder"],[["class"],["gh-posts-placeholder"]]]],[2,"\\n                        "],[10,"h4"],[12],[2,"Start creating content."],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"],[24,"data-test-link","write-a-new-post"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Write a new post"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"h4"],[12],[2,"No posts match the current filter"],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn"],[24,"data-test-link","show-all"]],[["@route","@query"],["posts",[30,[36,0],null,[["type","author","tag"],[null,null,null]]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Show all posts"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"gh-infinity-loader",[],[["@infinityModel","@scrollable","@triggerOffset"],[[32,0,["postsInfinityModel"]],".gh-main",1000]],null],[2,"\\n    "],[13],[2,"\\n\\n    "],[1,[30,[36,6],[[30,[36,5],null,null]],null]],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","svg-jar","concat","if","reset-query-params","-outlet","component"]}',moduleName:"ghost-admin/templates/posts.hbs"})
e.default=t})),define("ghost-admin/templates/posts/analytics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"9PeXJPXD",block:'{"symbols":[],"statements":[[6,[37,1],[[30,[36,0],["audienceFeedback"],null]],null,[["default","else"],[{"statements":[[2,"    "],[8,"posts/analytics",[],[["@post"],[[32,0,["post"]]]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[8,"posts/old-analytics",[],[["@post"],[[32,0,["post"]]]],null],[2,"\\n"]],"parameters":[]}]]]],"hasEval":false,"upvars":["feature","if"]}',moduleName:"ghost-admin/templates/posts/analytics.hbs"})
e.default=t})),define("ghost-admin/templates/posts/debug",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"3C2KgchM",block:'{"symbols":[],"statements":[[8,"posts/debug",[],[["@post"],[[32,0,["post"]]]],null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/posts/debug.hbs"})
e.default=t})),define("ghost-admin/templates/react-editor/edit-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Lp81F1w7",block:'{"symbols":[],"statements":[[11,"div"],[24,0,"gh-view"],[4,[38,1],[[30,[36,0],[[32,0,["ui","setMainClass"]],"gh-main-white"],null]],null],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["fn","did-insert"]}',moduleName:"ghost-admin/templates/react-editor/edit-loading.hbs"})
e.default=t}))
define("ghost-admin/templates/reset",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"cWiQ/FSv",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content fade-in"],[12],[2,"\\n            "],[11,"form"],[24,1,"reset"],[24,0,"gh-signin"],[24,"method","post"],[24,"novalidate","novalidate"],[4,[38,1],["submit",[30,[36,0],[[32,0,["resetPasswordTask"]]],null]],null],[12],[2,"\\n                "],[10,"header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,2]],[12],[13],[2,"\\n                    "],[10,"h1"],[12],[2,"Reset your password."],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"newPassword"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[11,"input"],[24,3,"newPassword"],[24,"placeholder","New password"],[24,"aria-label","New password"],[24,0,"gh-input password reset-password"],[24,"autocorrect","off"],[16,2,[32,0,["newPassword"]]],[24,4,"password"],[4,[38,3],null,null],[4,[38,1],["input",[32,0,["handleInput"]]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"ne2Password"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[11,"input"],[24,3,"ne2Password"],[24,"placeholder","Confirm new password"],[24,"aria-label","Confirm new password"],[24,0,"gh-input password reset-password"],[24,"autocorrect","off"],[16,2,[32,0,["ne2Password"]]],[24,4,"password"],[4,[38,1],["input",[32,0,["handleInput"]]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-task-button",[],[["@buttonText","@task","@class","@type","@autoWidth"],["Save new password",[32,0,["resetPasswordTask"]],"gh-btn gh-btn-reset gh-btn-block gh-btn-icon","submit","false"]],null],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2,"Â "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["perform","on","site-icon-style","autofocus"]}',moduleName:"ghost-admin/templates/reset.hbs"})
e.default=t})),define("ghost-admin/templates/settings-x",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"4n6mImMR",block:'{"symbols":[],"statements":[[8,"admin-x/settings",[],[[],[]],null]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/settings-x.hbs"})
e.default=t})),define("ghost-admin/templates/settings",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"elWfLB7j",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n            Settings\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,3],[[32,0,["upgradeStatus","message"]]],null,[["default","else"],[{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn gh-btn-with-notification"],[24,"data-tooltip","Update available!"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,0,["openAbout"]],null],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"About Ghost"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-btn-notification-dot green"],[12],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"button"],[24,0,"gh-btn gh-btn-with-notification"],[24,4,"button"],[4,[38,2],["click",[30,[36,1],[[32,0,["openAbout"]],null],null]],null],[12],[2,"\\n                    "],[10,"span"],[12],[2,"About Ghost"],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-header gh-first-header"],[12],[2,"Website"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","general"]],[["@route"],["settings.general"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,0],["settings"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"General"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Basic publication details and site metadata"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","design"]],[["@route"],["settings.design"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,0],["paint-palette"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Design"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Customize your site and manage themes"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","navigation"]],[["@route"],["settings.navigation"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"pink"],[12],[1,[30,[36,0],["compass"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Navigation"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Set up primary and secondary menus"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","staff"]],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"green"],[12],[1,[30,[36,0],["staff"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Staff"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Manage authors, editor and collaborators"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,3],[[30,[36,4],["announcementBar"],null]],null,[["default"],[{"statements":[[2,"            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","announcement-bar"]],[["@route"],["settings.announcement-bar"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,0],["confetti"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Announcement bar"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Highlight important updates or offers"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-header"],[12],[2,"Members"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","members-membership"]],[["@route"],["settings.membership"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,0],["members"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Membership"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Access, subscription, and pricing options"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","members-email"]],[["@route"],["settings.newsletters"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,0],["email-stroke"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Email newsletter"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Customize emails and set email addresses"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","members-analytics"]],[["@route"],["settings.analytics"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"green"],[12],[1,[30,[36,0],["chart"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Analytics"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Decide what data you collect"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-header"],[12],[2,"Advanced"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-settings-main-grid"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","integrations"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"yellow"],[12],[1,[30,[36,0],["module"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Integrations"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Make Ghost work with apps and tools"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","code-injection"]],[["@route"],["settings.code-injection"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"green"],[12],[1,[30,[36,0],["brackets"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Code injection"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Add code to your publication"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","labs"]],[["@route"],["settings.labs"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"blue"],[12],[1,[30,[36,0],["labs"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"Labs"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Testing ground for new features"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"link-to",[[24,0,"gh-setting-group"],[24,"data-test-nav","history"]],[["@route"],["settings.history"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[14,0,"pink"],[12],[1,[30,[36,0],["calendar-stroke"],null]],[13],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"History"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"View system event log"],[13],[2,"\\n                "],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","fn","on","if","feature"]}',moduleName:"ghost-admin/templates/settings.hbs"})
e.default=t})),define("ghost-admin/templates/settings/analytics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"JYcNdhWS",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Analytics\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Analytics\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-analytics-settings"],[4,[38,1],["cmd+s"],null]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveSettings"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[12],[2,"\\n        "],[8,"settings/analytics",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[1,[30,[36,3],[[30,[36,2],null,null]],null]]],"hasEval":false,"upvars":["svg-jar","on-key","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/analytics.hbs"})
e.default=t})),define("ghost-admin/templates/settings/announcement-bar/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Mvzw4D8S",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas gh-design"],[4,[38,1],["cmd+s",[32,0,["saveFromKeyboard"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-testid","announcement-bar-title"],[12],[2,"Announcement bar"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["themeManagement","availablePreviewTypes","length"]],1],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-select gh-preview-page-selector"],[12],[2,"\\n                    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["themeManagement","previewType"]],[32,0,["themeManagement","availablePreviewTypes"]],"name","label","name",[32,0,["themeManagement","setPreviewType"]]]],null],[2,"\\n                    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,3],[[32,0,["isDesktopPreview"]],"gh-btn-group-selected"],null]]]],[24,"data-test-button","desktop-preview"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["setPreviewSize"]],"desktop"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,3],[[32,0,["isMobilePreview"]],"gh-btn-group-selected"],null]]]],[24,"data-test-button","mobile-preview"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["setPreviewSize"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["mobile-phone"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-settings"]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"gh-browser-preview",[],[["@isMobilePreview"],[[32,0,["isMobilePreview"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"gh-html-iframe",[[16,0,[30,[36,3],[[32,0,["isMobilePreview"]],"gh-post-preview-iframe","site-frame"],null]]],[["@html","@pageId"],[[32,0,["themeManagement","previewHtml"]],[32,0,["themeManagement","previewType"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","on-key","gt","if","fn","on"]}',moduleName:"ghost-admin/templates/settings/announcement-bar/index.hbs"})
e.default=t})),define("ghost-admin/templates/settings/code-injection-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"DTlXXQ0G",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Code injection\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Code injection\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/code-injection-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/code-injection",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Sx5lgFlf",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Code injection\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Code injection\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"form"],[14,1,"settings-code"],[14,"novalidate","novalidate"],[12],[2,"\\n            "],[10,"fieldset"],[12],[2,"\\n                "],[10,"p"],[14,0,"gh-box gh-box-tip"],[12],[2,"\\n                    "],[1,[30,[36,0],["idea"],null]],[2,"\\n                    Ghost allows you to inject code into the top and bottom of your theme files without editing them. This allows for quick modifications to insert useful things like tracking codes and meta tags.\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                    "],[10,"label"],[14,"for","ghost-head"],[14,0,"gh-main-section-header bn"],[12],[2,"Site Header"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-main-section-description bn"],[12],[2,"Code here will be injected into the "],[10,"code"],[12],[2,"{{ghost_head}}"],[13],[2," tag on every page of the site"],[13],[2,"\\n                    "],[10,"div"],[14,0,"form-group settings-code"],[12],[2,"\\n                        "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@type","@update"],[[32,0,["settings","codeinjectionHead"]],"ghost-head","gh-input settings-code-editor","codeInjection[ghost_head]","text",[30,[36,2],[[32,0],[30,[36,1],[[32,0,["settings","codeinjectionHead"]]],null]],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n                    "],[10,"label"],[14,"for","ghost-foot"],[14,0,"gh-main-section-header bn"],[12],[2,"Site Footer"],[13],[2,"\\n                    "],[10,"p"],[14,0,"gh-main-section-description bn"],[12],[2,"Code here will be injected into the "],[10,"code"],[12],[2,"{{ghost_foot}}"],[13],[2," tag on every page of the site"],[13],[2,"\\n                    "],[10,"div"],[14,0,"form-group settings-code"],[12],[2,"\\n                        "],[8,"gh-cm-editor",[],[["@value","@id","@class","@name","@type","@update"],[[32,0,["settings","codeinjectionFoot"]],"ghost-foot","gh-input settings-code-editor","codeInjection[ghost_foot]","text",[30,[36,2],[[32,0],[30,[36,1],[[32,0,["settings","codeinjectionFoot"]]],null]],null]]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","mut","action"]}',moduleName:"ghost-admin/templates/settings/code-injection.hbs"})
e.default=t})),define("ghost-admin/templates/settings/design/change-theme",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"gZKauGNE",block:'{"symbols":["theme"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Themes"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[11,"button"],[24,0,"mr4 gh-btn gh-advanced "],[24,"data-test-button","toggle-advanced"],[24,4,"button"],[4,[38,1],["click",[32,0,["toggleAdvanced"]]],null],[12],[10,"span"],[12],[1,[30,[36,2],[[30,[36,0],[[32,0,["showAdvanced"]],"arrow-up-small","arrow-down-small"],null]],null]],[2,"Advanced"],[13],[13],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,"data-test-button","upload-theme"],[24,4,"button"],[4,[38,1],["click",[32,0,["startThemeUpload"]]],null],[12],[10,"span"],[12],[2,"Upload theme"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,3],[[32,0,["showAdvanced"]]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-themes-container"],[12],[2,"\\n                "],[8,"gh-theme-table",[],[["@themes"],[[32,0,["themes"]]]],null],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"div"],[14,0,"gh-theme-directory-container"],[12],[2,"\\n            "],[10,"div"],[14,0,"theme-directory"],[12],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,0,["themesList"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"link-to",[[24,0,"td-item td-item-labs"],[16,"data-test-theme-link",[32,1,["name"]]]],[["@route","@model"],["settings.design.change-theme.view",[32,1,["name"]]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"gh-theme-browser"],[12],[2,"\\n                            "],[10,"span"],[14,0,"gh-theme-browser-button"],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"td-item-screenshot-labs relative"],[12],[2,"\\n                            "],[10,"img"],[14,5,"object-fit:contain;"],[15,"src",[32,1,["image"]]],[15,"alt",[31,[[32,1,["name"]]," Theme"]]],[12],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"td-item-desc"],[12],[2,"\\n                            "],[10,"div"],[14,0,"td-item-name"],[12],[1,[32,1,["name"]]],[2,"\\n"],[6,[37,0],[[32,1,["isDefault"]]],null,[["default"],[{"statements":[[2,"                                    (Default)\\n"]],"parameters":[]}]]],[6,[37,0],[[32,1,["isActive"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"span"],[14,0,"gh-badge"],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"td-item-category"],[12],[1,[32,1,["category"]]],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[10,"section"],[14,0,"gh-theme-directory-footer"],[14,5,"background-image:url(assets/img/footer-marketplace-bg-572b6c6486a7e26316954d599eaa9f30.png);"],[12],[2,"\\n    Find and buy third-party, premium themes from independent developers in the "],[10,"a"],[14,6,"https://ghost.org/themes/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"link"],[12],[2,"Ghost Marketplace â†’"],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["if","on","svg-jar","liquid-if","-track-array","each"]}',moduleName:"ghost-admin/templates/settings/design/change-theme.hbs"})
e.default=t})),define("ghost-admin/templates/settings/design/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"HEaWk3zG",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas gh-design"],[4,[38,1],["cmd+s",[32,0,["saveFromKeyboard"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Site design"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,3],[[30,[36,2],[[32,0,["themeManagement","availablePreviewTypes","length"]],1],null]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-select gh-preview-page-selector"],[12],[2,"\\n                    "],[8,"one-way-select",[],[["@value","@options","@optionValuePath","@optionLabelPath","@optionTargetPath","@update"],[[32,0,["themeManagement","previewType"]],[32,0,["themeManagement","availablePreviewTypes"]],"name","label","name",[32,0,["themeManagement","setPreviewType"]]]],null],[2,"\\n                    "],[1,[30,[36,0],["arrow-down-small"],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,3],[[32,0,["isDesktopPreview"]],"gh-btn-group-selected"],null]]]],[24,"data-test-button","desktop-preview"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["setPreviewSize"]],"desktop"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["desktop"],null]],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn gh-design-preview-mode ",[30,[36,3],[[32,0,["isMobilePreview"]],"gh-btn-group-selected"],null]]]],[24,"data-test-button","mobile-preview"],[24,4,"button"],[4,[38,5],["click",[30,[36,4],[[32,0,["setPreviewSize"]],"mobile"],null]],null],[12],[10,"span"],[12],[1,[30,[36,0],["mobile-phone"],null]],[13],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-settings"]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n        "],[8,"gh-browser-preview",[],[["@isMobilePreview"],[[32,0,["isMobilePreview"]]]],[["default"],[{"statements":[[2,"\\n            "],[8,"gh-html-iframe",[[16,0,[30,[36,3],[[32,0,["isMobilePreview"]],"gh-post-preview-iframe","site-frame"],null]]],[["@html","@pageId"],[[32,0,["themeManagement","previewHtml"]],[32,0,["themeManagement","previewType"]]]],null],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","on-key","gt","if","fn","on"]}',moduleName:"ghost-admin/templates/settings/design/index.hbs"})
e.default=t})),define("ghost-admin/templates/settings/design/no-theme",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Vw493Fet",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas gh-design"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[12],[2,"Site design"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"view-container "],[12],[2,"\\n        "],[10,"ol"],[14,0,"posts-list gh-list"],[12],[2,"\\n            "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                    "],[10,"h4"],[12],[2,"No theme is currently active"],[13],[2,"\\n                    "],[8,"link-to",[[24,0,"gh-btn"]],[["@route"],["settings.design.change-theme"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"Activate a theme"],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[1,[30,[36,1],[[30,[36,0],null,null]],null]]],"hasEval":false,"upvars":["-outlet","component"]}',moduleName:"ghost-admin/templates/settings/design/no-theme.hbs"})
e.default=t})),define("ghost-admin/templates/settings/general-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"VJ0rr9Rj",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," General\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                General\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save"]],[["@buttonText","@task","@class"],["Save settings",[32,0,["save"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/general-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/general",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"3o4Ck5bw",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,10],["cmd+s",[32,0,["saveViaKeyboard"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,6],["arrow-right-small"],null]],[2," General\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                General\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save"]],[["@buttonText","@task","@class"],["Save",[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Publication info"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Title & description"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"The details used to identify your publication around the web"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-pub-info",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["pubInfoOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["pubInfoOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["pubInfoOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"title"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-text-input",[[16,"data-test-title-input",true]],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","title"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","title"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","title"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"title"]],null],[2,"\\n                                "],[10,"p"],[12],[2,"The name of your site"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-form-group",[[24,0,"description-container"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"description"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-text-input",[[16,"data-test-description-input",true]],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","description"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","description"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","description"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"description"]],null],[2,"\\n                                "],[10,"p"],[12],[2,"A short description, used in your theme, meta data and search results"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Site timezone"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set the time and date of your publication, used for all published posts"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-timezone",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["timezoneOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["timezoneOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["timezoneOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[8,"gh-timezone-select",[],[["@timezone","@availableTimezones","@update"],[[32,0,["settings","timezone"]],[32,0,["availableTimezones"]],[30,[36,1],[[32,0],"setTimezone"],null]]],null],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Publication Language"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set the language/locale which is used on your site"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-lang",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["langOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["langOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["langOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"locale"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-text-input",[[24,"data-test-input","locale"]],[["@value","@input","@focus-out"],[[30,[36,0],[[32,0,["settings","locale"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","locale"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","locale"],[["target"],[[32,0,["settings"]]]]]]],null],[2,"\\n                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"locale"]],null],[2,"\\n                                "],[10,"p"],[12],[2,"Default: English ("],[10,"strong"],[12],[2,"en"],[13],[2,"); find out more about "],[10,"a"],[14,6,"https://ghost.org/docs/faq/translation/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"using Ghost in other languages"],[13],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Site meta settings"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Meta data"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Extra content for search engines"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-meta",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["metaDataOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["metaDataOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["metaDataOpen"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-seo-settings"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-seo-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"metaTitle"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","metaTitle"],[12],[2,"Meta title"],[13],[2,"\\n                                            "],[8,"gh-text-input",[[24,"data-test-input","metaTitle"]],[["@id","@type","@placeholder","@value","@input"],["metaTitle","text",[30,[36,5],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","metaTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","metaTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                            "],[8,"gh-error-message",[[24,"data-test-error","metaTitle"]],[["@errors","@property"],[[32,0,["settings","errors"]],"metaTitle"]],null],[2,"\\n                                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"70"],[13],[2," characters. Youâ€™ve used "],[10,"b"],[12],[1,[30,[36,9],[[32,0,["settings","metaTitle"]],70],null]],[13],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"metaDescription"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","metaDescription"],[12],[2,"Meta description"],[13],[2,"\\n                                            "],[8,"gh-textarea",[[24,"data-test-input","metaDescription"]],[["@id","@type","@placeholder","@value","@input"],["metaDescription","text",[30,[36,5],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","metaDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","metaDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                            "],[8,"gh-error-message",[[24,"data-test-error","metaDescription"]],[["@errors","@property"],[[32,0,["settings","errors"]],"metaDescription"]],null],[2,"\\n                                            "],[10,"p"],[12],[2,"Recommended: "],[10,"b"],[12],[2,"156"],[13],[2," characters. Youâ€™ve used "],[10,"b"],[12],[1,[30,[36,9],[[32,0,["settings","metaDescription"]],156],null]],[13],[13],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                        "],[10,"label"],[12],[2,"Search engine result preview"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-seo-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"gh-seo-preview"],[12],[2,"\\n                                                "],[10,"div"],[14,0,"flex mb6"],[12],[2,"\\n                                                    "],[1,[30,[36,6],["google"],null]],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-seo-search-bar"],[12],[1,[30,[36,6],["google-search"],null]],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-preview-link"],[12],[1,[32,0,["config","blogDomain"]]],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-preview-title"],[12],[1,[30,[36,7],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-seo-preview-desc"],[12],[2,"\\n                                                    "],[1,[30,[36,5],[[30,[36,7],[[32,0,["settings","metaDescription"]],[32,0,["settings","description"]]],null],159],null]],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Twitter card"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize structured data of your site for Twitter"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-twitter",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["twitterCardOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["twitterCardOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["twitterCardOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-twitter-settings"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-twitter-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Twitter image"],[13],[2,"\\n                                    "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["settings","twitterImage"]],"Add Twitter image",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterImage"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterImage"]]],null],""],null]]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitterTitle"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","twitterTitle"],[12],[2,"Twitter title"],[13],[2,"\\n                                        "],[8,"gh-text-input",[[24,"data-test-input","twitterTitle"]],[["@id","@type","@placeholder","@value","@input"],["twitterTitle","text",[30,[36,5],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","twitterTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[[24,"data-test-error","twitterTitle"]],[["@errors","@property"],[[32,0,["settings","errors"]],"twitterTitle"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitterDescription"]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"label"],[14,"for","twitterDescription"],[12],[2,"Twitter description"],[13],[2,"\\n                                        "],[8,"gh-textarea",[[24,"data-test-input","twitterDescription"]],[["@id","@placeholder","@value","@input"],["twitterDescription",[30,[36,5],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","twitterDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","twitterDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[[24,"data-test-error","twitterDescription"]],[["@errors","@property"],[[32,0,["settings","errors"]],"twitterDescription"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                    "],[10,"label"],[12],[2,"Twitter preview"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-twitter-container"],[12],[2,"\\n                                        "],[10,"div"],[14,0,"flex ma4"],[12],[2,"\\n                                            "],[10,"span"],[12],[1,[30,[36,6],["social-twitter"],[["class"],["social-icon"]]]],[13],[2,"\\n                                            "],[10,"div"],[14,0,"w-100"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,7],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                                "],[10,"div"],[14,0,"flex flex-column mt2 mb3"],[12],[2,"\\n                                                    "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-twitter-post-preview"],[12],[2,"\\n"],[6,[37,8],[[32,0,["settings","twitterImage"]]],null,[["default"],[{"statements":[[2,"                                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-image"],[15,5,[30,[36,4],[[32,0,["settings","twitterImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                    "],[10,"div"],[14,0,"gh-social-twitter-preview-content"],[12],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-title"],[12],[1,[30,[36,7],[[32,0,["settings","twitterTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-desc"],[12],[1,[30,[36,5],[[30,[36,7],[[32,0,["settings","twitterDescription"]],[32,0,["settings","description"]]],null]],null]],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-twitter-preview-meta"],[12],[2,"\\n                                                            "],[1,[30,[36,6],["twitter-link"],null]],[2,"\\n                                                            "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"gh-social-twitter-reactions"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,6],["twitter-comment"],null]],[2,"2"],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,6],["twitter-retweet"],null]],[2,"11"],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,6],["twitter-like"],null]],[2,"32"],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"flex items-center"],[12],[1,[30,[36,6],["twitter-share"],null]],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Facebook card"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Customize structured data of your site"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-facebook",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["facebookCardOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["facebookCardOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["facebookCardOpen"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-og-settings"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-og-settings-left flex-basis-1-2-m flex-basis-2-3-l"],[12],[2,"\\n                                        "],[10,"label"],[12],[2,"Facebook image"],[13],[2,"\\n                                        "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                            "],[8,"gh-image-uploader-with-preview",[],[["@image","@text","@allowUnsplash","@update","@remove"],[[32,0,["settings","ogImage"]],"Add Facebook image",true,[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogImage"]]],null]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogImage"]]],null],""],null]]],null],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ogTitle"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","ogTitle"],[12],[2,"Facebook title"],[13],[2,"\\n                                            "],[8,"gh-text-input",[[24,"data-test-input","ogTitle"]],[["@id","@type","@placeholder","@value","@input"],["ogTitle","text",[30,[36,5],[[32,0,["settings","title"]],70],null],[30,[36,0],[[32,0,["settings","ogTitle"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogTitle"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                            "],[8,"gh-error-message",[[24,"data-test-error","ogTitle"]],[["@errors","@property"],[[32,0,["settings","errors"]],"ogTitle"]],null],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ogDescription"]],[["default"],[{"statements":[[2,"\\n                                            "],[10,"label"],[14,"for","ogDescription"],[12],[2,"Facebook description"],[13],[2,"\\n                                            "],[8,"gh-textarea",[[24,"data-test-input","ogDescription"]],[["@id","@placeholder","@value","@input"],["ogDescription",[30,[36,5],[[32,0,["settings","description"]],300],null],[30,[36,0],[[32,0,["settings","ogDescription"]]],null],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","ogDescription"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                            "],[8,"gh-error-message",[[24,"data-test-error","ogDescription"]],[["@errors","@property"],[[32,0,["settings","errors"]],"ogDescription"]],null],[2,"\\n                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"flex-basis-1-2-m flex-basis-1-3-l"],[12],[2,"\\n                                        "],[10,"label"],[12],[2,"Facebook preview"],[13],[2,"\\n                                        "],[10,"div"],[14,0,"gh-og-container"],[12],[2,"\\n                                            "],[10,"div"],[14,0,"flex ma3 mb2"],[12],[2,"\\n                                                "],[10,"span"],[12],[1,[30,[36,6],["social-facebook"],[["class"],["social-icon"]]]],[13],[2,"\\n                                                "],[10,"div"],[12],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-og-title"],[12],[1,[30,[36,7],[[32,0,["settings","metaTitle"]],[32,0,["settings","title"]]],null]],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"gh-social-og-time"],[12],[2,"12 hrs"],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"flex flex-column ma3 mt2"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-desc w-100 mb2"],[12],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-desc w-60"],[12],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-og-preview"],[12],[2,"\\n"],[6,[37,8],[[32,0,["settings","ogImage"]]],null,[["default"],[{"statements":[[2,"                                                    "],[10,"div"],[14,0,"gh-social-og-preview-image"],[15,5,[30,[36,4],[[32,0,["settings","ogImage"]]],null]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                                "],[10,"div"],[14,0,"gh-social-og-preview-bookmark"],[12],[2,"\\n"],[2,"                                                    "],[10,"div"],[14,0,"gh-social-og-preview-content"],[12],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-og-preview-meta"],[12],[2,"\\n                                                            "],[1,[32,0,["config","blogDomain"]]],[2,"\\n                                                        "],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-og-preview-title"],[12],[1,[30,[36,5],[[30,[36,7],[[32,0,["settings","ogTitle"]],[32,0,["settings","title"]]],null]],null]],[13],[2,"\\n                                                        "],[10,"div"],[14,0,"gh-social-og-preview-desc"],[12],[1,[30,[36,5],[[30,[36,7],[[32,0,["settings","ogDescription"]],[32,0,["settings","description"]]],null]],null]],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"gh-social-og-reactions"],[12],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-likes"],[12],[1,[30,[36,6],["facebook-like"],[["class"],["z-999"]]]],[1,[30,[36,6],["facebook-heart"],[["class"],["nl1"]]]],[2,"182"],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-comments"],[12],[2,"7 comments"],[13],[2,"\\n                                                "],[10,"span"],[14,0,"gh-social-og-comments ml2"],[12],[2,"2 shares"],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Social accounts"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Link your social accounts for full structured data and rich card support"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-toggle-social",""],[24,4,"button"],[4,[38,1],[[32,0],[30,[36,11],["socialOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,8],[[32,0,["socialOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,12],[[32,0,["socialOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"facebook"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-facebook-url-input",[[24,"aria-labelledby","facebook-url-label"]],[["@scratchValue","@setScratchValue","@model","@modelProperty"],[[32,0,["scratchValues","facebook"]],[30,[36,3],[[32,0,["setScratchValue"]],"facebook"],null],[32,0,["settings"]],"facebook"]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-facebook-error",""]],[["@errors","@property"],[[32,0,["settings","errors"]],"facebook"]],null],[2,"\\n                                "],[10,"p"],[14,1,"facebook-url-label"],[12],[2,"URL of your publication\'s Facebook Page"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"twitter"]],[["default"],[{"statements":[[2,"\\n                                "],[8,"gh-twitter-url-input",[[24,"aria-labelledby","twitter-url-label"]],[["@scratchValue","@setScratchValue","@model","@modelProperty"],[[32,0,["scratchValues","twitter"]],[30,[36,3],[[32,0,["setScratchValue"]],"twitter"],null],[32,0,["settings"]],"twitter"]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-twitter-error",""]],[["@errors","@property"],[[32,0,["settings","errors"]],"twitter"]],null],[2,"\\n                                "],[10,"p"],[14,1,"twitter-url-label"],[12],[2,"URL of your publication\'s Twitter profile"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Advanced settings"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Make this site private"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enable protection with a simple shared password. All search engine optimization and social features will be disabled.\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[10,"label"],[14,0,"switch"],[14,"for","settings-private"],[12],[2,"\\n                                "],[10,"input"],[15,"checked",[32,0,["settings","isPrivate"]]],[14,1,"settings-private"],[15,"onclick",[30,[36,1],[[32,0],"toggleIsPrivate"],[["value"],["target.checked"]]]],[14,"data-test-private-checkbox",""],[14,4,"checkbox"],[12],[13],[2,"\\n                                "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,8],[[32,0,["settings","isPrivate"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"gh-setting-content-extended pt4 pb4"],[12],[2,"\\n                                "],[10,"span"],[14,0,"avoid-break-out"],[12],[2,"\\n                                    A private RSS feed is available at\\n                                    "],[10,"a"],[15,6,[31,[[32,0,["privateRSSUrl"]]]]],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[1,[32,0,["privateRSSUrl"]]],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[8,"gh-form-group",[[24,0,"no-margin pt2"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                                    "],[8,"gh-text-input",[[16,"data-test-password-input",true]],[["@value","@name","@focus-out","@input"],[[30,[36,0],[[32,0,["settings","password"]]],null],"general[password]",[30,[36,1],[[32,0],"validate","password"],[["target"],[[32,0,["settings"]]]]],[30,[36,1],[[32,0],[30,[36,2],[[32,0,["settings","password"]]],null]],[["value"],["target.value"]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-password-error",""]],[["@errors","@property"],[[32,0,["settings","errors"]],"password"]],null],[2,"\\n                                    "],[10,"p"],[12],[2,"Set the password for this site"],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"],[1,[30,[36,14],[[30,[36,13],null,null]],null]]],"hasEval":false,"upvars":["readonly","action","mut","fn","background-image-style","truncate","svg-jar","or","if","gh-count-down-characters","on-key","toggle","liquid-if","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/general.hbs"})
e.default=t})),define("ghost-admin/templates/settings/history",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"7ZJV2YTy",block:'{"symbols":["eventsFetcher"],"statements":[[10,"section"],[14,0,"gh-canvas gh-members-activity"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n"],[6,[37,3],[[32,0,["userRecord"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                        Settings\\n                    "]],"parameters":[]}]]],[2,"\\n                        "],[1,[30,[36,4],["arrow-right-small"],null]],[2,"\\n                        "],[8,"link-to",[[24,"data-test-link","history-back"]],[["@route","@query"],["settings.history",[30,[36,5],["settings.history"],null]]],[["default"],[{"statements":[[2,"\\n                            History\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[1,[30,[36,4],["arrow-right-small"],null]],[2," User\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[30,[36,0],[[32,0,["userRecord","name"]],[32,0,["userRecord","email"]]],null]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                        Settings\\n                    "]],"parameters":[]}]]],[2,"\\n                        "],[1,[30,[36,4],["arrow-right-small"],null]],[2," History\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    History\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n        "],[10,"div"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"settings/history/event-filter",[],[["@excludedEvents","@excludedResources","@onChange"],[[32,0,["excludedEvents"]],[32,0,["excludedResources"]],[32,0,["changeExcludedItems"]]]],null],[2,"\\n\\n            "],[8,"settings/history/search",[],[["@selected","@onChange"],[[32,0,["userRecord"]],[32,0,["changeUser"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"div"],[14,0,"view-container"],[12],[2,"\\n"],[6,[37,8],[[30,[36,7],null,[["filter","pageSize"],[[30,[36,6],null,[["excludedEvents","excludedResources","user"],[[32,0,["fullExcludedEvents"]],[32,0,["fullExcludedResources"]],[32,0,["user"]]]]],200]]]],null,[["default"],[{"statements":[[6,[37,3],[[32,1,["data"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"gh-list-scrolling"],[12],[2,"\\n                "],[8,"settings/history/table",[],[["@events"],[[32,1,["data"]]]],null],[2,"\\n\\n"],[6,[37,3],[[30,[36,2],[[30,[36,0],[[32,1,["isLoading"]],[32,1,["hasReachedEnd"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-scroll-trigger",[],[["@enter","@triggerOffset"],[[32,1,["loadNextPage"]],250]],null],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,1],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                    "],[8,"settings/history/no-events",[],[["@filter"],[[30,[36,0],[[32,0,["user"]],[32,0,["excludedResources"]]],null]]],null],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n"],[6,[37,3],[[32,1,["isLoading"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"no-posts-box"],[12],[8,"gh-loading-spinner",[],[[],[]],null],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[1]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,10],[[30,[36,9],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["or","unless","not","if","svg-jar","reset-query-params","history-event-filter","history-event-fetcher","let","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/history.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integration",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"4LvWwbL5",block:'{"symbols":["webhook","dd","uploader"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[11,"form"],[4,[38,6],["submit",[30,[36,7],[[32,0,["saveTask"]]],null]],null],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                        Settings\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                    "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                        Integrations\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Edit integration\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[32,0,["integration","name"]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[[24,"data-test-button","save"]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[11,"div"],[24,0,"gh-main-section"],[4,[38,8],null,null],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Configuration"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                    "],[10,"div"],[14,0,"flex"],[12],[2,"\\n                        "],[10,"div"],[14,0,"flex flex-column items-start app-custom-icon-container"],[12],[2,"\\n                            "],[10,"label"],[14,0,"mb1"],[12],[2,"Icon"],[13],[2,"\\n                            "],[10,"figure"],[14,0,"app-custom-icon hide-child"],[15,5,[32,0,["iconImageStyle"]]],[12],[2,"\\n                                "],[8,"aspect-ratio-box",[],[["@class","@ratio","@base"],["flex items-center h-100 justify-center","1/1","height"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,9],[[32,0,["integration","iconImage"]]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["integration"],[["class"],["w11 h11"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "]],"parameters":[]}]]],[2,"\\n\\n                                "],[8,"gh-uploader",[],[["@extensions","@onComplete"],[[32,0,["imageExtensions"]],[32,0,["setIconImage"]]]],[["default"],[{"statements":[[2,"\\n"],[6,[37,10],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"absolute top-0 left-0 w-100 h-100 br4 bg-black-70 flex items-center"],[12],[2,"\\n                                            "],[1,[32,3,["progressBar"]]],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                        "],[11,"button"],[24,0,"child app-custom-icon-uploadlabel"],[24,4,"button"],[4,[38,6],["click",[32,0,["triggerIconFileDialog"]]],null],[12],[2,"\\n                                            Upload\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                        "],[8,"gh-file-input",[[24,"data-test-file-input","icon"]],[["@name","@multiple","@action","@accept"],["iconImage",false,[32,3,["setFiles"]],[32,0,["imageMimeTypes"]]]],null],[2,"\\n                                    "],[13],[2,"\\n                                "]],"parameters":[3]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"flex-auto"],[12],[2,"\\n                            "],[11,"div"],[24,0,"flex flex-column w-100 mr3"],[4,[38,11],null,[["errors","hasValidated","property"],[[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"name"]]],[12],[2,"\\n                                "],[10,"label"],[14,"for","integration_name"],[12],[2,"Name"],[13],[2,"\\n                                "],[8,"gh-text-input",[[24,"data-test-input","name"]],[["@id","@class","@type","@value","@on-input","@focus-out"],["integration_name","gh-input mt1 mb1","text",[30,[36,12],[[32,0,["integration","name"]]],null],[30,[36,5],[[32,0,["updateProperty"]],"name"],null],[30,[36,5],[[32,0,["validateProperty"]],"name"],null]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","name"],[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"name"]],null],[2,"\\n                            "],[13],[2,"\\n\\n                            "],[11,"div"],[24,0,"flex flex-column w-100 mr3"],[4,[38,11],null,[["errors","hasValidated","property"],[[32,0,["integration","errors"]],[32,0,["integration","hasValidated"]],"description"]]],[12],[2,"\\n                                "],[10,"label"],[14,"for","integration_description"],[14,0,"mt3"],[12],[2,"Description"],[13],[2,"\\n                                "],[8,"gh-text-input",[[24,"data-test-input","description"]],[["@id","@class","@type","@value","@on-input","@focus-out"],["integration_description","gh-input mt1","text",[30,[36,12],[[32,0,["integration","description"]]],null],[30,[36,5],[[32,0,["updateProperty"]],"description"],null],[30,[36,5],[[32,0,["validateProperty"]],"description"],null]]],null],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","description"],[24,0,"ma0"]],[["@errors","@property"],[[32,0,["integration","errors"]],"description"]],null],[2,"\\n                            "],[13],[2,"\\n\\n                            "],[10,"table"],[14,0,"app-custom-api-table list"],[14,5,"table-layout: fixed"],[12],[2,"\\n                                "],[10,"tbody"],[12],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Content API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyContentKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[14,"data-test-text","content-key"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","contentKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmRegenerateKey"]],[32,0,["integration","contentKey"]]],null]],null],[12],[2,"\\n                                                        "],[1,[30,[36,0],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyContentKey"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyContentKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                            "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                            Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,10],[[30,[36,13],[[32,0,["regeneratedApiKey","type"]],[32,0,["integration","contentKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green"],[12],[2," Content API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyAdminKey","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,0,"truncate"],[14,"data-test-text","admin-key"],[12],[2,"\\n                                                    "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmRegenerateKey"]],[32,0,["integration","adminKey"]]],null]],null],[12],[2,"\\n                                                        "],[1,[30,[36,0],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyAdminKey"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyAdminKey","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                            "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                            Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"],[6,[37,10],[[30,[36,13],[[32,0,["regeneratedApiKey","type"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"green"],[12],[2," Admin API key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"tr"],[12],[2,"\\n                                        "],[10,"td"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                        "],[10,"td"],[14,0,"data highlight-hover truncate"],[12],[2,"\\n                                            "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,9],[[32,0,["copyApiUrl","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                                "],[10,"span"],[14,"data-test-text","api-url"],[12],[2,"\\n                                                    "],[1,[32,0,["apiUrl"]]],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                                    "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,6],["click",[30,[36,7],[[32,0,["copyApiUrl"]]],null]],null],[12],[2,"\\n"],[6,[37,10],[[32,0,["copyApiUrl","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                        Copy\\n"]],"parameters":[]}]]],[2,"                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Webhooks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block p0"],[12],[2,"\\n            "],[10,"table"],[14,0,"gh-list small"],[12],[2,"\\n                "],[10,"thead"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row header"],[12],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Name"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Event"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"URL"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[2,"Last triggered"],[13],[2,"\\n                        "],[10,"th"],[14,0,"gh-list-header"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"tbody"],[12],[2,"\\n"],[6,[37,15],[[30,[36,14],[[30,[36,14],[[32,0,["filteredWebhooks"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"tr"],[14,0,"gh-list-row hide-child"],[15,"data-test-webhook-row",[31,[[32,1,["id"]]]]],[12],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[14,"data-test-text","name"],[12],[1,[32,1,["name"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[14,"data-test-text","event"],[12],[1,[30,[36,1],[[32,1,["event"]]],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[14,"data-test-text","targetUrl"],[12],[1,[32,1,["targetUrl"]]],[13],[2,"\\n                            "],[10,"td"],[14,0,"gh-list-data"],[14,"data-test-text","last-triggered"],[12],[1,[30,[36,2],[[32,1,["lastTriggeredAtUTC"]],"Not triggered"],null]],[13],[2,"\\n                            "],[10,"td"],[14,0,"w1 gh-list-data nowrap"],[12],[2,"\\n"],[2,"                                "],[8,"gh-basic-dropdown",[],[["@verticalPosition","@horizontalPosition","@renderInPlace"],["below","right",true]],[["default"],[{"statements":[[2,"\\n                                    "],[8,[32,2,["Trigger"]],[[24,0,"gh-btn gh-btn-action-icon gh-btn-icon gh-btn-outline fill gh-tier-card-actions-button icon-only"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[10,"span"],[14,"data-test-newsletter-menu-trigger",""],[12],[2,"\\n                                            "],[1,[30,[36,0],["dotdotdot"],null]],[2,"\\n                                            "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                    "],[8,[32,2,["Content"]],[[24,0,"relative-dropdown-menu gh-newsletter-actions-menu"]],[[],[]],[["default"],[{"statements":[[2,"\\n                                        "],[11,"ul"],[24,0,"dropdown-menu dropdown-triangle-top-right"],[24,"role","listbox"],[4,[38,3],["anim-fade-in-scale"],null],[12],[2,"\\n                                            "],[10,"li"],[12],[2,"\\n                                                "],[8,"link-to",[[24,"data-test-link","edit-webhook"]],[["@route","@models"],["settings.integration.webhooks.edit",[30,[36,4],[[32,0,["integration"]],[32,1]],null]]],[["default"],[{"statements":[[2,"\\n                                                    Edit\\n                                                "]],"parameters":[]}]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"li"],[12],[2,"\\n                                                "],[11,"button"],[24,"data-test-button","delete-webhook"],[24,4,"button"],[4,[38,6],["click",[30,[36,5],[[32,0,["confirmWebhookDeletion"]],[32,1]],null]],null],[12],[2,"\\n                                                    Delete\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "]],"parameters":[2]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                    "],[10,"tr"],[14,0,"bt b--whitegrey"],[14,"data-test-webhooks-blank-slate",""],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"pa5 pt15 pb15 tc midgrey f7"],[12],[2,"\\n                            "],[10,"div"],[14,0,"flex flex-column items-center"],[12],[2,"\\n                                "],[10,"p"],[14,0,"ma0 pa0 tc midgrey lh-title mb2"],[12],[2,"\\n                                    No webhooks configured\\n                                "],[13],[2,"\\n                                "],[8,"link-to",[[24,0,"flex items-center"],[24,"data-test-link","add-webhook"]],[["@route","@model"],["settings.integration.webhooks.new",[32,0,["integration"]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-btn-text green-d1 gh-btn-icon"],[12],[2,"\\n                                    "],[1,[30,[36,0],["plus"],null]],[2,"\\n                                    "],[10,"span"],[12],[2,"Add webhook"],[13],[2,"\\n                                "],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"],[6,[37,10],[[32,0,["filteredWebhooks"]]],null,[["default"],[{"statements":[[2,"                "],[10,"tfoot"],[12],[2,"\\n                    "],[10,"tr"],[14,0,"gh-list-row new-webhook-cell"],[12],[2,"\\n                        "],[10,"td"],[14,"colspan","5"],[14,0,"gh-list-data"],[12],[2,"\\n                            "],[8,"link-to",[[24,0,"flex items-center"],[24,"data-test-link","add-webhook"]],[["@route","@model"],["settings.integration.webhooks.new",[32,0,["integration"]]]],[["default"],[{"statements":[[2,"\\n                            "],[10,"div"],[14,0,"gh-btn-text green-d1 gh-btn-icon"],[12],[2,"\\n                                "],[1,[30,[36,0],["plus"],null]],[2,"\\n                                "],[10,"span"],[14,0,"f7"],[12],[2,"Add webhook"],[13],[2,"\\n                            "],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,"data-test-button","delete-integration"],[24,4,"button"],[4,[38,6],["click",[32,0,["confirmIntegrationDeletion"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2," Delete integration "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,17],[[30,[36,16],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","event-name","or","css-transition","array","fn","on","perform","scroll-top","unless","if","validation-status","readonly","eq","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/integration.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"qaxuuxYH",block:'{"symbols":["integration"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Integrations\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Integrations\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[11,"div"],[24,0,"gh-main-section"],[4,[38,4],null,null],[12],[2,"\\n        "],[10,"div"],[14,0,"integrations-directory"],[12],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/disqus/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-disqus"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/disqus-43503a3fa4f38dc8c61c7358b811f343.svg"],[14,"alt","Disqus Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Disqus"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/google/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-analytics"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/google-analytics-e05fc1327377939663407200d4978eba.png"],[14,"alt","Google Analytics Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Analytics"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/ulysses/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-ulysses"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/ulysses-3c66b59fb45c285bf336b4b613dc86e4.png"],[14,"alt","Ulysses Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Ulysses"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/typeform/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-typeform"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/typeform-9f23f8712d776a7515594676285266f5.svg"],[14,"alt","Typeform Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Typeform"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/buffer/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-buffer"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/buffer-db31f6b5dc27a298050e16312619c586.png"],[14,"alt","Buffer Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Buffer"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/plausible/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-plausible"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;padding:1px 0;"],[14,"src","assets/img/plausible-1b754a95e19a6d935e0bc8bf6790ba56.png"],[14,"alt","Plausible Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"Plausible"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/github/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-github"],[12],[2,"\\n                    "],[10,"img"],[14,0,"w-100 h-100"],[14,5,"object-fit:contain;"],[14,"src","assets/img/github-c3a739c59df26fed12c10ffb00b33bd4.svg"],[14,"alt","GitHub Icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"GitHub"],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"a"],[14,0,"id-item"],[14,6,"https://ghost.org/integrations/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"\\n                "],[10,"div"],[14,0,"id-item-logo id-more"],[12],[2,"\\n                    "],[1,[30,[36,0],["circle-ellipsis"],[["class"],["w5"]]]],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"f8 mt1"],[12],[2,"More"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Built-in integrations"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,1],[[32,0,["zapierDisabled"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","zapier"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["pro"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app apps-card-app-disabled"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zapier-bf93bc440a3fd43b73489a63c215cdc7.svg);background-size:36px"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"div"],[14,0,"apps-card-app-title-container"],[12],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Zapier"],[13],[1,[30,[36,0],["lock-filled"],null]],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Automation for your favorite apps"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n                            "],[10,"button"],[14,0,"apps-card-app-disabled-cta"],[14,4,"button"],[12],[2,"Upgrade"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","zapier"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","zapier"]],[["@route"],["settings.integrations.zapier"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zapier-bf93bc440a3fd43b73489a63c215cdc7.svg);background-size:36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Zapier"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Automation for your favorite apps"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n                            "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","slack"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","slack"]],[["@route"],["settings.integrations.slack"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png); background-size: 36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Slack"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"A messaging app for teams"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","slack","isActive"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[14,"data-test-app-status",""],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","amp"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","amp"]],[["@route"],["settings.integrations.amp"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/amp-d7b72aae3315fda95921fb575dfca100.svg); background-size: 36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"AMP"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Google Accelerated Mobile Pages"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","amp"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[14,"data-test-app-status",""],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","unsplash"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","unsplash"]],[["@route"],["settings.integrations.unsplash"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon id-unsplash"],[14,5,"background-image:url(assets/img/unsplash-5b329eef0b11447b4117eaf817ebad6f.svg); background-size:30px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Unsplash"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Beautiful, free photos"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","unsplash"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[14,"data-test-app-status",""],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","firstpromoter"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","firstpromoter"]],[["@route"],["settings.integrations.firstpromoter"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon id-unsplash"],[14,5,"background-image:url(assets/img/firstpromoter-ce8b5219e5b5ebda463bd60396c6ab81.png); background-size:36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"FirstPromoter"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Launch your member referral program"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","firstpromoter"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[14,"data-test-app-status",""],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"],[6,[37,1],[[30,[36,5],["lexicalEditor"],null]],null,[["default"],[{"statements":[[2,"            "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-app","pintura"],[12],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","pintura"]],[["@route"],["settings.integrations.pintura"]],[["default"],[{"statements":[[2,"\\n                "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                        "],[10,"figure"],[14,0,"apps-card-app-icon id-unsplash"],[14,5,"background-image:url(assets/img/pintura-75cf0fd7cbc6ca3c8fbdb3f1b31f730b.png); background-size:36px;"],[12],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                            "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Pintura"],[13],[2,"\\n                            "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"Advanced image editing"],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,1],[[32,0,["settings","firstpromoter"]]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"span"],[14,0,"gh-badge"],[14,"data-test-app-status",""],[12],[2,"Active"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[14,"data-test-app-status",""],[12],[2,"Configure"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Custom integrations"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,0,["integrations"]]],null]],null]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"apps-grid-cell"],[14,"data-test-custom-integration",""],[12],[2,"\\n                    "],[8,"link-to",[[16,"data-test-integration",[32,1,["id"]]]],[["@route","@model"],["settings.integration",[32,1]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                            "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                "],[10,"figure"],[14,0,"apps-card-app-icon flex items-center"],[15,5,[30,[36,2],[[32,1]],null]],[12],[2,"\\n"],[6,[37,3],[[32,1,["iconImage"]]],null,[["default"],[{"statements":[[2,"                                        "],[1,[30,[36,0],["integration"],[["class"],["nudge-left--6 w9 stroke-darkgrey"]]]],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                    "],[10,"h3"],[14,0,"apps-card-app-title"],[14,"data-test-text","name"],[12],[2,"\\n                                        "],[1,[32,1,["name"]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"p"],[14,0,"apps-card-app-desc"],[14,"data-test-text","description"],[12],[2,"\\n                                        "],[1,[32,1,["description"]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Configure"],[13],[2,"\\n                                    "],[1,[30,[36,0],["arrow-right"],null]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[1]},{"statements":[[2,"                "],[10,"div"],[14,0,"flex flex-column justify-center items-center mih30 miw-100 bb b--whitegrey"],[14,"data-test-blank","custom-integrations"],[12],[2,"\\n"],[6,[37,1],[[32,0,["fetchIntegrations","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-loading-spinner"],[12],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[10,"div"],[14,0,"flex flex-column items-center pa5 pt15 pb15"],[12],[2,"\\n                            "],[10,"p"],[14,0,"ma0 pa0 tc midgrey lh-title mt2 mb4"],[12],[2,"\\n                                Create your own custom Ghost integrations with dedicated API keys & webhooks\\n                            "],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"],[24,"data-test-button","new-integration"]],[["@route"],["settings.integrations.new"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[1,[30,[36,0],["plus"],null]],[2," Add custom integration"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["integrations"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"mt5"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green gh-btn-icon"],[24,"data-test-button","new-integration"]],[["@route"],["settings.integrations.new"]],[["default"],[{"statements":[[2,"\\n                "],[10,"span"],[12],[1,[30,[36,0],["plus"],null]],[2," Add custom integration"],[13],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n\\n"],[13],[2,"\\n\\n"],[1,[30,[36,9],[[30,[36,8],null,null]],null]],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","if","integration-icon-style","unless","scroll-top","feature","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/integrations.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/amp-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"RA+zyU/S",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," AMP\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/amp-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/amp",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"p3Ex/pw1",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,2],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,2],["arrow-right-small"],null]],[2," AMP\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/amp-d7b72aae3315fda95921fb575dfca100.svg"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"AMP"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Accelerated Mobile Pages"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"AMP configuration"],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[10,"div"],[12],[2,"\\n                        "],[10,"div"],[15,0,[31,["gh-setting-first ",[30,[36,3],[[32,0,["settings","amp"]],"gh-setting-last"],null]]]],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable AMP"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://ampproject.org"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Google Accelerated Mobile Pages"],[13],[2," for your posts"],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                    "],[10,"label"],[14,"for","amp"],[14,0,"checkbox"],[12],[2,"\\n                                        "],[10,"input"],[15,"checked",[32,0,["settings","amp"]]],[14,1,"amp"],[14,3,"amp"],[15,"onclick",[30,[36,0],[[32,0],"update"],[["value"],["target.checked"]]]],[14,"data-test-amp-checkbox",""],[14,4,"checkbox"],[12],[13],[2,"\\n                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"],[6,[37,4],[[32,0,["settings","amp"]]],[["class"],[""]],[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-last gh-setting-amp-liquid"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Google Analytics Tracking ID"],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Tracks AMP traffic in Google Analytics, find your ID "],[10,"a"],[14,6,"https://ghost.org/help/how-to-find-your-google-analytics-tracking-id/"],[12],[2,"here"],[13],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                    "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"ampGtagId"]],[["default"],[{"statements":[[2,"\\n                                        "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@keyEvents"],["UA-XXXXXXX-X","amp_gtag_id",[32,0,["settings","ampGtagId"]],[30,[36,1],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]]]],null],[2,"\\n                                        "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"ampGtagId"]],null],[2,"\\n                                    "]],"parameters":[]}]]],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","hash","svg-jar","unless","liquid-if"]}',moduleName:"ghost-admin/templates/settings/integrations/amp.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/firstpromoter",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"y4zGHVKa",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,2],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,2],["arrow-right-small"],null]],[2," FirstPromoter\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/firstpromoter-ce8b5219e5b5ebda463bd60396c6ab81.png"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"FirstPromoter"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Launch your own member referral program"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"FirstPromoter configuration"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-setting-first ",[30,[36,3],[[32,0,["settings","firstpromoter"]],"gh-setting-last"],null]]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable FirstPromoter"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://firstpromoter.com/?fpr=ghost&fp_sid=admin"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"FirstPromoter"],[13],[2," for tracking referrals"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                "],[10,"label"],[14,"for","firstpromoter"],[14,0,"checkbox"],[12],[2,"\\n                                    "],[10,"input"],[15,"checked",[32,0,["settings","firstpromoter"]]],[14,1,"firstpromoter"],[14,3,"firstpromoter"],[15,"onclick",[30,[36,0],[[32,0],"update"],[["value"],["target.checked"]]]],[14,"data-test-firstpromoter-checkbox",""],[14,4,"checkbox"],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,4],[[32,0,["settings","firstpromoter"]]],[["class"],[""]],[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-last gh-setting-firstpromoter-liquid"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"FirstPromoter Account ID"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2," Affiliate and referral tracking, find your ID "],[10,"a"],[14,6,"https://ghost.org/help/firstpromoter-id/"],[12],[2,"here"],[13],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                "],[8,"gh-form-group",[[24,0,"no-margin"]],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"firstpromoterId"]],[["default"],[{"statements":[[2,"\\n                                    "],[8,"gh-text-input",[],[["@placeholder","@name","@value","@keyEvents"],["XXXXXXXX","firstpromoter_id",[32,0,["settings","firstpromoterId"]],[30,[36,1],null,[["Enter"],[[30,[36,0],[[32,0],"save"],null]]]]]],null],[2,"\\n                                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"firstpromoterId"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["action","hash","svg-jar","unless","liquid-if"]}',moduleName:"ghost-admin/templates/settings/integrations/firstpromoter.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/pintura",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ph/3Ym8Y",block:'{"symbols":["uploader","error","uploader","error"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,1],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,1],["arrow-right-small"],null]],[2," Pintura\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/pintura-75cf0fd7cbc6ca3c8fbdb3f1b31f730b.png"],[14,"alt","Pintura icon"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Pintura"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Advanced image editing"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"],[6,[37,7],[[32,0,["config","pintura"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-pintura-banner gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-pintura-banner-content"],[12],[2,"\\n                    "],[10,"strong"],[12],[2,"Add advanced image editing to Ghost, with Pintura"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Pintura is a powerful JavaScript image editor that allows you to crop, rotate, annotate and modify images directly inside Ghost."],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Try a demo, purchase a license, and download the required CSS/JS files from pqina.nl/pintura/ to activate this feature."],[13],[2,"\\n                    "],[10,"button"],[14,0,"gh-btn gh-btn-primary"],[14,4,"button"],[12],[10,"span"],[12],[2,"Find out more â†’"],[13],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"img"],[14,0,"gh-pintura-banner-image"],[14,"src","assets/img/pintura-screenshot-7668975389aac80607ec489b48b75e0f.png"],[14,"alt","Pintura banner"],[12],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Pintura configuration"],[13],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                "],[10,"div"],[12],[2,"\\n                    "],[10,"div"],[15,0,[31,["gh-setting-first ",[30,[36,7],[[32,0,["showUploadSettings"]],"gh-setting-last"],null]]]],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable Pintura"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://pqina.nl/pintura/?ref=ghost.org"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Pintura"],[13],[2," for editing your images in Ghost"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                "],[10,"label"],[14,"for","pintura"],[14,0,"checkbox"],[12],[2,"\\n                                    "],[11,"input"],[16,"checked",[32,0,["settings","pintura"]]],[24,1,"pintura"],[24,3,"pintura"],[24,"data-test-pintura-checkbox",""],[24,4,"checkbox"],[4,[38,8],["click",[32,0,["update"]]],null],[12],[13],[2,"\\n                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"],[6,[37,7],[[32,0,["config","pintura"]]],null,[["default"],[{"statements":[[6,[37,6],[[32,0,["settings","pintura"]]],[["class"],[""]],[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-last gh-setting-firstpromoter-liquid"],[12],[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@resourceName","@onComplete"],[[32,0,["jsExtension"]],"/files/upload/","files",[30,[36,3],[[32,0,["fileUploadCompleted"]],"js"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Upload Pintura script"],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Upload the "],[10,"code"],[12],[2,"pintura-umd.js"],[13],[2," file from the Pintura package"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,2],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,2],[[32,0,["jsSuccess"]],"gh-btn-green"],null]," ",[30,[36,2],[[32,0,["jsFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[32,0,["triggerFileDialog"]]],[14,"data-test-button","upload-pintura-js"],[14,4,"button"],[12],[2,"\\n                                                "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["jsSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["jsFailure"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                                        Upload\\n                                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","pintura"],[12],[1,[30,[36,0],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"\\n                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                            "],[8,"gh-file-input",[[24,"data-test-file-input","pintura"]],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["jsAccept"]]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[3]}]]],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-last gh-setting-firstpromoter-liquid"],[12],[2,"\\n                            "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@resourceName","@onComplete"],[[32,0,["cssExtension"]],"/files/upload/","files",[30,[36,3],[[32,0,["fileUploadCompleted"]],"css"],null]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Upload Pintura styles"],[13],[2,"\\n                                        "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Upload the "],[10,"code"],[12],[2,"pintura.css"],[13],[2," file from the Pintura package"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,2],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,2],[[32,0,["cssSuccess"]],"gh-btn-green"],null]," ",[30,[36,2],[[32,0,["cssFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[32,0,["triggerFileDialog"]]],[14,"data-test-button","upload-pintura-css"],[14,4,"button"],[12],[2,"\\n                                                "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["cssSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["cssFailure"]]],null,[["default","else"],[{"statements":[[2,"                                                        "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                                        Upload\\n                                                    "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[30,[36,4],[[30,[36,4],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","routes"],[12],[1,[30,[36,0],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n                                        "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                            "],[8,"gh-file-input",[[24,"data-test-file-input","pintura"]],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["cssAccept"]]]],null],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["or","svg-jar","if","fn","-track-array","each","liquid-if","unless","on"]}',moduleName:"ghost-admin/templates/settings/integrations/pintura.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/slack-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"y2IZcymx",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Slack\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/slack-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/slack",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"HN/1bMMm",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Slack\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Slack"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"A messaging app for teams"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Slack configuration"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[11,"form"],[24,0,"app-config-form"],[24,1,"slack-settings"],[24,"novalidate","novalidate"],[4,[38,1],[[32,0],"save"],[["on"],["submit"]]],[12],[2,"\\n\\n                        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-first"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Webhook URL"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"Automatically send newly published posts to a channel in Slack or any Slack-compatible service like Discord or Mattermost."],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"slackUrl"]],[["default"],[{"statements":[[2,"\\n                                            "],[8,"gh-text-input",[[16,"data-test-slack-url-input",true]],[["@placeholder","@name","@value","@input","@focus-out","@keyEvents"],["https://hooks.slack.com/services/...","slack_url",[30,[36,2],[[32,0,["settings","slackUrl"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,["settings","slackUrl"]]],null]],[["value"],["target.value"]]],[30,[36,1],[[32,0],"validate","slackUrl"],[["target"],[[32,0,["settings"]]]]],[30,[36,4],null,[["Enter"],[[30,[36,1],[[32,0],"save"],null]]]]]],null],[2,"\\n"],[6,[37,5],[[32,0,["settings","errors"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[8,"gh-error-message",[[24,"data-test-error","slack-url"]],[["@errors","@property"],[[32,0,["settings","errors"]],"slackUrl"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[10,"p"],[12],[2,"Set up a new incoming webhook "],[10,"a"],[14,6,"https://my.slack.com/apps/new/A0F7XDUAZ-incoming-webhooks"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"here"],[13],[2,", and grab the URL."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-last"],[12],[2,"\\n                                "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Username"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-desc"],[12],[2,"The username to display messages from"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["settings","errors"]],[32,0,["settings","hasValidated"]],"username"]],[["default"],[{"statements":[[2,"\\n                                            "],[8,"gh-text-input",[[16,"data-test-slack-username-input",true]],[["@placeholder","@name","@value","@input","@keyEvents"],["Ghost","slack_username",[30,[36,2],[[32,0,["settings","slackUsername"]]],null],[30,[36,1],[[32,0],[30,[36,3],[[32,0,["settings","slackUsername"]]],null]],[["value"],["target.value"]]],[30,[36,4],null,[["Enter"],[[30,[36,1],[[32,0],"save"],null]]]]]],null],[2,"\\n"],[6,[37,5],[[32,0,["settings","errors"]]],null,[["default"],[{"statements":[[2,"                                                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["settings","errors"]],"slackUsername"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "]],"parameters":[]}]]],[2,"\\n                                    "],[13],[2,"\\n                                    "],[8,"gh-task-button",[[24,"data-test-send-notification-button","true"]],[["@buttonText","@task","@successText","@class","@disabled"],["Send test notification",[32,0,["sendTestNotification"]],"Sent","gh-btn gh-btn-icon",[32,0,["testNotificationDisabled"]]]],null],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","action","readonly","mut","hash","if"]}',moduleName:"ghost-admin/templates/settings/integrations/slack.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/unsplash-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"OXqsofQK",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Unsplash\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/integrations/unsplash-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/unsplash",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"ueoMumBJ",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Unsplash\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-main-section app-grid"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block app-detail-heading app-grid"],[12],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"img"],[14,0,"app-icon pa2 id-unsplash"],[14,"src","assets/img/unsplash-5b329eef0b11447b4117eaf817ebad6f.svg"],[14,"alt","Unsplash"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                    "],[10,"h3"],[12],[2,"Unsplash"],[13],[2,"\\n                    "],[10,"p"],[12],[2,"Beautiful, free photos"],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Unsplash configuration"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content grey"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-setting-first gh-setting-last"],[14,1,"unsplash-toggle"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-content"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-title"],[12],[2,"Enable Unsplash"],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-setting-desc mb0"],[12],[2,"Enable "],[10,"a"],[14,6,"https://unsplash.com"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Unsplash"],[13],[2," image integration for your posts"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action"],[12],[2,"\\n                            "],[10,"div"],[14,0,"form-group right gh-setting-unsplash-checkbox"],[12],[2,"\\n                                "],[10,"div"],[14,0,"for-checkbox"],[12],[2,"\\n                                    "],[10,"label"],[14,"for","unsplash"],[14,0,"checkbox"],[12],[2,"\\n                                            "],[10,"input"],[15,"checked",[32,0,["settings","unsplash"]]],[14,1,"unsplash"],[14,3,"unsplash"],[15,"onclick",[30,[36,1],[[32,0],"update"],[["value"],["target.checked"]]]],[14,"data-test-unsplash-checkbox",""],[14,4,"checkbox"],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","action"]}',moduleName:"ghost-admin/templates/settings/integrations/unsplash.hbs"})
e.default=t})),define("ghost-admin/templates/settings/integrations/zapier",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"x5mP0xv7",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n                "],[8,"link-to",[[24,"data-test-link","integrations-back"]],[["@route"],["settings.integrations"]],[["default"],[{"statements":[[2,"\\n                    Integrations\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Zapier\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n\\n        "],[10,"section"],[14,0,"gh-main-section no-heading"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-block overflow-hidden"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-main-section-content app-detail-heading app-grid"],[12],[2,"\\n                    "],[10,"div"],[14,0,"app-cell"],[12],[2,"\\n                        "],[10,"img"],[14,0,"app-icon"],[14,"src","assets/img/zapier-bf93bc440a3fd43b73489a63c215cdc7.svg"],[14,"alt",""],[14,"role","presentation"],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"app-cell overflow-hidden"],[12],[2,"\\n                        "],[10,"h3"],[12],[2,"Zapier"],[13],[2,"\\n                        "],[10,"p"],[12],[2,"Automation for your favorite apps"],[13],[2,"\\n\\n                        "],[10,"div"],[14,0,"gh-zapier-data-container"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-zapier-data"],[12],[2,"\\n                                "],[10,"div"],[14,0,"data-label"],[12],[2,"Admin API key"],[13],[2,"\\n                                "],[10,"div"],[14,0,"data highlight-hover"],[12],[2,"\\n                                    "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,1],[[32,0,["copyAdminKeyTask","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                        "],[10,"span"],[14,0,"admin-key"],[14,"data-test-text","admin-key"],[12],[2,"\\n                                            "],[1,[32,0,["integration","adminKey","secret"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-regenerate"],[24,4,"button"],[4,[38,3],["click",[30,[36,2],[[32,0,["confirmRegenerateKey"]],[32,0,["integration","adminKey"]]],null]],null],[12],[2,"\\n                                                "],[1,[30,[36,0],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                            "],[13],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,3],["click",[30,[36,4],[[32,0,["copyAdminKeyTask"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyAdminKeyTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                    Copy\\n"]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n"],[6,[37,5],[[30,[36,6],[[32,0,["regeneratedApiKey","type"]],[32,0,["integration","adminKey","type"]]],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"green"],[12],[2," Admin API Key was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                "],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"div"],[14,0,"gh-zapier-data"],[12],[2,"\\n                                "],[10,"div"],[14,0,"data-label"],[12],[2,"API URL"],[13],[2,"\\n                                "],[10,"div"],[14,0,"data highlight-hover"],[12],[2,"\\n                                    "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,1],[[32,0,["copyApiUrlTask","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                        "],[10,"span"],[14,0,"api-url"],[14,"data-test-text","api-url"],[12],[2,"\\n                                            "],[1,[32,0,["apiUrl"]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[10,"div"],[14,0,"app-api-buttons child"],[12],[2,"\\n                                            "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,3],["click",[30,[36,4],[[32,0,["copyApiUrlTask"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyApiUrlTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                    "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                    Copy\\n"]],"parameters":[]}]]],[2,"                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"section"],[14,1,"zapier-toggle"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header large bn"],[12],[2,"Zapier templates"],[13],[2,"\\n            "],[10,"p"],[14,0,"gh-main-section-description"],[12],[2,"Explore pre-built templates for common automation tasks"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-content gh-setting-content--no-action"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n                    "],[10,"div"],[14,0,"apps-grid gh-settings-zapier-templates"],[12],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/twitter-7a7a0ba12d9b5bfb8a2058764a827c31.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share new posts to Twitter"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=50909"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-2-4b0baef1ec34816af6f3fbede7ab191d.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/slackicon-406aadea8994ca2ddee9c1d7157208db.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Share scheduled posts with your team in Slack"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359499"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/patreon-b19a5e6418a72977a16b30039d374d04.svg);background-size:28px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Connect Patreon to your Ghost membership site"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=75801"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/zero-bounce-ee799eddb1f88e33ab8c462858cbfed9.png);background-size:30px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Protect email delivery with email verification"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359415"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb"],[14,5,"background-image:url(assets/img/logos/orb-black-5-063a200f749e09c587b9443ffd2c4cfa.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal-38e9448ce7549ea4caf8e7753ae661d6.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Add members for successful sales in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=184423"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-1"],[14,5,"background-image:url(assets/img/logos/orb-black-3-9780c5e9991b69ed2303b526aa3e3252.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/paypal-38e9448ce7549ea4caf8e7753ae661d6.svg);background-size:26px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Unsubscribe members who cancel a subscription in PayPal"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359348"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-2"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/google-docs-1e42cc272fc088da49e4b0ddfb01b006.svg);background-size:22px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Send new post drafts from Google Docs to Ghost"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=50924"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-4-d9c3caacb8d2ba98a52517ff2971433c.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon id-typeform"],[14,5,"background-image:url(assets/img/typeform-9f23f8712d776a7515594676285266f5.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Survey new members using Typeform"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359407"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"flex items-center"],[12],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-orb rot-3"],[14,5,"background-image:url(assets/img/logos/orb-black-1-32b72766be2164fdea6ab2565fb1c137.png);background-size:32px;"],[12],[13],[2,"\\n                                        "],[1,[30,[36,0],["arrow-right"],[["class"],["fill-midgrey w4 ml2"]]]],[2,"\\n                                        "],[10,"figure"],[14,0,"apps-card-app-icon"],[14,5,"background-image:url(assets/img/mailchimp-f22b1e130aac764965b9306d7265a6b2.svg);background-size:32px;"],[12],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[12],[2,"Sync email subscribers in Ghost + Mailchimp"],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"gh-card-right"],[12],[2,"\\n                                    "],[10,"a"],[14,6,"https://zapier.com/webintent/create-zap?template=359342"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"gh-btn gh-btn-outline zapier-template-link"],[12],[10,"span"],[12],[2,"Use this Zap"],[13],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"zapier-footer"],[12],[2,"\\n                        "],[10,"a"],[14,6,"https://zapier.com/apps/ghost/integrations?utm_medium=partner_api&utm_source=widget&utm_campaign=Widget"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[10,"span"],[12],[2,"View more Ghost integrations powered by"],[13],[2," "],[10,"figure"],[14,5,"background-image:url(assets/img/zapier-logo-a125f24313dfe01ef49af01fc90061fb.svg); background-size: 42px;"],[12],[13],[13],[2,"\\n                    "],[13],[2,"\\n\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","unless","fn","on","perform","if","eq"]}',moduleName:"ghost-admin/templates/settings/integrations/zapier.hbs"})
e.default=t})),define("ghost-admin/templates/settings/labs-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"k/w92WvT",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Labs\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Labs\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/settings/labs-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/labs",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"Hw7Th1NZ",block:'{"symbols":["uploader","error","uploader","error"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,1],["arrow-right-small"],null]],[2," Labs\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Labs\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-tip"],[12],[1,[30,[36,1],["idea"],null]],[2,"This is a testing ground for new or experimental features. They may change, break or inexplicably disappear at any time."],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Migration options"],[13],[2,"\\n            "],[10,"div"],[15,0,[31,["gh-expandable ",[30,[36,2],[[32,0,["importErrors"]],"overflow-hidden"],null]]]],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Import content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Import posts from a JSON or zip file"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn"],[24,"data-test-link","import-content"]],[["@route"],["settings.labs.import"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Open Importer"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Export your content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Download all of your posts and settings in a single, glorious JSON file"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,4,"button"],[4,[38,3],[[32,0],"downloadFile","db"],null],[12],[10,"span"],[12],[2,"Export"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Delete all content"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Permanently delete all posts and tags from the database, a hard reset"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn gh-btn-red"],[24,"data-test-button","delete-all"],[24,4,"button"],[4,[38,4],["click",[32,0,["confirmDeleteAll"]]],null],[12],[10,"span"],[12],[2,"Delete"],[13],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Beta features"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[8,"labs/lexical",[],[[],[]],null],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Substack migrator"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"A "],[10,"a"],[14,6,"https://ghost.org/help/importing-from-substack/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"step-by-step tool"],[13],[2," to easily import all your content, members and paid subscriptions"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[8,"link-to",[[24,0,"gh-btn"],[24,"data-test-link","migrate"]],[["@route"],["migrate"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"Open"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Portal translation"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Translate your membership flows into your publication language ("],[10,"a"],[14,6,"https://github.com/TryGhost/Ghost/tree/main/ghost/i18n/locales"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"supported languages"],[13],[2,"). Donâ€™t see yours? "],[10,"a"],[14,6,"https://forum.ghost.org/t/help-translate-ghost-beta/37461"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Get involved"],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["i18n"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@paramName","@onUploadSuccess","@onUploadFailure"],[[32,0,["redirectsFileExtensions"]],"/redirects/upload/","redirects",[30,[36,5],[[32,0,["redirectUploadResult"]],true],null],[30,[36,5],[[32,0,["redirectUploadResult"]],false],null]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Redirects"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Configure redirects for old or moved content, more info in "],[10,"a"],[14,6,"https://ghost.org/tutorials/implementing-redirects/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"the docs"],[13],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,2],[[32,3,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[32,3,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,2],[[32,0,["redirectSuccess"]],"gh-btn-green"],null]," ",[30,[36,2],[[32,0,["redirectFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[30,[36,3],[[32,0],"triggerFileDialog"],null]],[14,"data-test-button","upload-redirects"],[14,4,"button"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["redirectSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["redirectFailure"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                            Upload redirects YAML/JSON\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[11,"a"],[24,6,"#"],[24,"data-test-link","download-redirects"],[4,[38,3],[[32,0],"downloadFile","redirects/download"],null],[12],[2,"Download current redirects"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,3,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","redirects"],[12],[1,[30,[36,0],[[32,4,["context"]],[32,4,["message"]]],null]],[13],[2,"\\n"]],"parameters":[4]}]]],[2,"\\n                            "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                "],[8,"gh-file-input",[[24,"data-test-file-input","redirects"]],[["@multiple","@action","@accept"],[false,[32,3,["setFiles"]],[32,0,["redirectsFileMimeTypes"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "]],"parameters":[3]}]]],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[8,"gh-uploader",[],[["@extensions","@uploadUrl","@paramName","@onUploadSuccess","@onUploadFailure"],[[32,0,["yamlExtension"]],"/settings/routes/yaml/","routes",[30,[36,5],[[32,0,["routesUploadResult"]],true],null],[30,[36,5],[[32,0,["routesUploadResult"]],false],null]]],[["default"],[{"statements":[[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Routes"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Configure dynamic routing by modifying the routes.yaml file"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-action flex flex-column items-end"],[12],[2,"\\n"],[6,[37,2],[[32,1,["isUploading"]]],null,[["default","else"],[{"statements":[[2,"                                "],[1,[32,1,["progressBar"]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"button"],[15,0,[31,["gh-btn gh-btn-icon ",[30,[36,2],[[32,0,["routesSuccess"]],"gh-btn-green"],null]," ",[30,[36,2],[[32,0,["routesFailure"]],"gh-btn-red"],null]]]],[15,"onclick",[30,[36,3],[[32,0],"triggerFileDialog"],null]],[14,"data-test-button","upload-routes"],[14,4,"button"],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"\\n"],[6,[37,2],[[32,0,["routesSuccess"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["check-circle"],null]],[2," Uploaded\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["routesFailure"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[1,[30,[36,1],["retry"],null]],[2," Upload Failed\\n"]],"parameters":[]},{"statements":[[2,"                                            Upload routes YAML\\n                                        "]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[12],[11,"a"],[24,6,"#"],[24,"data-test-link","download-routes"],[4,[38,3],[[32,0],"downloadFile","settings/routes/yaml"],null],[12],[2,"Download current routes.yaml"],[13],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,7],[[30,[36,6],[[30,[36,6],[[32,1,["errors"]]],null]],null]],null,[["default"],[{"statements":[[2,"                                "],[10,"div"],[14,0,"gh-setting-error"],[14,"data-test-error","routes"],[12],[1,[30,[36,0],[[32,2,["context"]],[32,2,["message"]]],null]],[13],[2,"\\n"]],"parameters":[2]}]]],[2,"\\n                            "],[10,"div"],[14,5,"display:none"],[12],[2,"\\n                                "],[8,"gh-file-input",[[24,"data-test-file-input","routes"]],[["@multiple","@action","@accept"],[false,[32,1,["setFiles"]],[32,0,["yamlAccept"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                    "]],"parameters":[1]}]]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n\\n"],[6,[37,2],[[30,[36,8],null,null]],null,[["default"],[{"statements":[[2,"         "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Alpha Features"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"URL cache"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Enable URL Caching\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                           "],[8,"gh-feature-flag",[],[["@flag"],["urlCache"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Lexical multiplayer"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables multiplayer editing in the lexical editor.\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["lexicalMultiplayer"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Webmentions"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Allows viewing received mentions on the dashboard.\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["webmentions"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Websockets"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Test out Websockets functionality at "],[10,"code"],[12],[2,"/ghost/#/websockets"],[13],[2,".\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["websockets"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Stripe Automatic Tax"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                               Use Stripe Automatic Tax at Stripe Checkout. Needs to be enabled in Stripe\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["stripeAutomaticTax"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Email customization"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Adding more control over the newsletter template\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["emailCustomization"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Collections"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables Collections 2.0\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["collections"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Collections Card"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables the Collections Card for pages - requires Collections and the beta Editor to be enabled\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["collectionsCard"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Admin X"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables Admin X, the new admin UI for Ghost\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["adminXSettings"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Mail Events"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables processing of mail events\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["mailEvents"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Lexical indicators"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Show L/M indicator on posts list for easier debugging\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["lexicalIndicators"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Import Member Tier"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables tier to be specified when importing members\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["importMemberTier"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Tips & donations"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables publishers to collect one-time payments\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["tipsAndDonations"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Recommendations"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                Enables publishers to recommend sites to their audience\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"for-switch"],[12],[2,"\\n                            "],[8,"gh-feature-flag",[],[["@flag"],["recommendations"]],null],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["or","svg-jar","if","action","on","perform","-track-array","each","enable-developer-experiments"]}',moduleName:"ghost-admin/templates/settings/labs.hbs"})
e.default=t})),define("ghost-admin/templates/settings/labs/import",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"EMFXufEV",block:'{"symbols":[],"statements":[[8,"gh-fullscreen-modal",[],[["@modal","@confirm","@close","@modifier"],["import-content",[32,0,["close"]],[32,0,["close"]],"action import-content"]],null],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/settings/labs/import.hbs"})
e.default=t})),define("ghost-admin/templates/settings/membership",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"LvZQ3ZTB",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas circle-bg"],[4,[38,11],[[32,0,["setup"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header gh-setting-members-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,2],["arrow-right-small"],null]],[2," Membership\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Membership\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-settings"],[4,[38,12],["cmd+s"],null]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveSettingsTask"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-main-layout gh-setting-membership content-preview"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-members-basicsform"],[12],[2,"\\n                "],[10,"p"],[14,0,"intro"],[12],[2,"Fund your work with subscription revenue. Connect your Stripe account and offer premium content to your audience. Our creators are already making over $12 million per year, while "],[10,"strong"],[12],[2,"Ghost takes 0% payment fees"],[13],[2,"."],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"flex flex-column justify-between mt3"],[12],[2,"\\n                    "],[10,"section"],[14,0,"gh-expandable gh-setting-members-portalcta"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                            "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                                "],[10,"div"],[12],[2,"\\n                                    "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Portal Settings"],[13],[2,"\\n                                    "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"\\n                                        Customize members modal signup flow\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[11,"button"],[24,0,"gh-btn gh-btn-green"],[16,"disabled",[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null]],[24,"data-test-toggle","portal-settings"],[24,4,"button"],[4,[38,5],["click",[32,0,["openPortalSettings"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Customize Portal â†’"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n\\n                    "],[10,"div"],[14,0,"gh-setting-rich-dropdown"],[12],[2,"\\n                        "],[8,"settings/members-subscription-access",[],[["@onChange"],[[32,0,["membersSubscriptionAccessChanged"]]]],null],[2,"\\n                        "],[8,"settings/members-default-post-access",[],[[],[]],null],[2,"\\n                        "],[8,"settings/members-comment-access",[],[[],[]],null],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-setting-members-portalpreview"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-setting-members-portal-mock mock-enabled"],[12],[2,"\\n"],[6,[37,1],[[30,[36,4],[[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null],[32,0,["switchFromNoneTask","isRunning"]]],null]],null,[["default","else"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-members-portal-disabled"],[14,"data-test-portal-preview-disabled",""],[12],[2,"\\n                            "],[10,"span"],[14,0,"lightgrey"],[12],[1,[30,[36,2],["portal-logo-stroke"],null]],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Portal disabled"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Change your Subscription Access setting to re-enable Portal"],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                        "],[8,"gh-site-iframe",[[24,"scrolling","no"],[24,"data-test-iframe","portal-preview"]],[["@src","@invisibleUntilLoaded","@onInserted","@onDestroyed"],[[32,0,["portalPreviewUrl"]],"portal-ready",[32,0,["portalPreviewInserted"]],[32,0,["portalPreviewDestroyed"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"div"],[14,0,"gh-setting-members-tierscontainer"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-settings-members-tiersheader"],[12],[2,"\\n                "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Membership tiers"],[13],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isAdmin"]]],null,[["default"],[{"statements":[[6,[37,1],[[30,[36,10],["tipsAndDonations"],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[2,"                            "],[11,"button"],[16,0,[31,["gh-btn gh-btn-outline gh-btn-stripe-status ",[30,[36,1],[[32,0,["isConnectDisallowed"]],"disabled"],null]," ",[30,[36,1],[[32,0,["membersUtils","isStripeEnabled"]],"connected",""],null]]]],[16,"disabled",[30,[36,9],[[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,3],[[32,0,["membersUtils","isStripeEnabled"]]],null]],null]],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[2,"\\n                                    Connected to Stripe\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[11,"button"],[16,0,[31,["stripe-connect mb2 ",[30,[36,1],[[30,[36,4],[[30,[36,3],[[32,0,["session","user","isAdmin"]]],null],[32,0,["isConnectDisallowed"]]],null],"disabled"],null]]]],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                                "],[10,"span"],[12],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[2,"                        "],[11,"button"],[16,0,[31,["gh-btn gh-btn-outline gh-btn-stripe-status ",[30,[36,1],[[32,0,["isConnectDisallowed"]],"disabled"],null]," ",[30,[36,1],[[32,0,["membersUtils","isStripeEnabled"]],"connected",""],null]]]],[16,"disabled",[30,[36,9],[[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null],[30,[36,3],[[32,0,["membersUtils","isStripeEnabled"]]],null]],null]],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,1],[[32,0,["membersUtils","isStripeEnabled"]],"Connected to Stripe","Stripe not connected"],null]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"            "],[13],[2,"\\n            "],[10,"section"],[14,0,"gh-expandable gh-expendable-free-membership"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Free"],[13],[2,"\\n                            "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Free member sign up settings"],[13],[2,"\\n                        "],[13],[2,"\\n                        "],[11,"button"],[24,0,"gh-btn"],[24,"data-test-button","toggle-free-settings"],[16,"disabled",[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null]],[24,4,"button"],[4,[38,5],["click",[30,[36,7],["freeOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],[[32,0,["freeOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,13],[[32,0,["freeOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[14,"data-test-free-settings-expanded",""],[12],[2,"\\n                            "],[8,"gh-tier-card",[],[["@tier","@tiers","@openEditTier"],[[32,0,["freeTier"]],[32,0,["tiers"]],[32,0,["openEditTier"]]]],null],[2,"\\n                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","welcomePage"],[14,0,"fw6"],[12],[2,"Welcome page"],[13],[2,"\\n                                "],[8,"gh-url-input",[[24,"data-test-input","free-welcome-page"]],[["@id","@value","@baseUrl","@setResult","@validateUrl","@placeholder"],["welcomePage",[30,[36,8],[[32,0,["freeTier","welcomePageURL"]]],null],[30,[36,8],[[32,0,["siteUrl"]]],null],[32,0,["setWelcomePageURL"]],[32,0,["validateWelcomePageURL"]],[30,[36,8],[[32,0,["siteUrl"]]],null]]],null],[2,"\\n                                "],[10,"p"],[12],[2,"Redirect to this URL after signup for a free membership"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-expandable-header"],[12],[2,"\\n                        "],[10,"div"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"gh-expandable-title"],[12],[2,"Premium"],[13],[2,"\\n"],[6,[37,1],[[30,[36,10],["tipsAndDonations"],null]],null,[["default","else"],[{"statements":[[2,"                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set prices and paid member sign up settings.\\n"],[6,[37,1],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[],"parameters":[]},{"statements":[[2,"                                         "],[11,"button"],[24,0,"gh-stripe-connect-link"],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"Connect with Stripe"],[13],[2,"\\n                                    "]],"parameters":[]}]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"p"],[14,0,"gh-expandable-description"],[12],[2,"Set prices and paid member sign up settings"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n\\n"],[6,[37,1],[[30,[36,10],["tipsAndDonations"],null]],null,[["default","else"],[{"statements":[[6,[37,1],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-btn"],[16,"disabled",[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null]],[24,"data-test-toggle-pub-info",""],[24,4,"button"],[4,[38,5],["click",[30,[36,7],["paidOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],[[32,0,["paidOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-btn"],[16,"disabled",true],[24,"data-test-toggle-pub-info",""],[24,4,"button"],[4,[38,5],["click",[30,[36,7],["paidOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],[[32,0,["paidOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]},{"statements":[[6,[37,1],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"button"],[24,0,"gh-btn"],[16,"disabled",[30,[36,6],[[32,0,["settings","membersSignupAccess"]],"none"],null]],[24,"data-test-toggle-pub-info",""],[24,4,"button"],[4,[38,5],["click",[30,[36,7],["paidOpen",[32,0]],null]],null],[12],[10,"span"],[12],[1,[30,[36,1],[[32,0,["paidOpen"]],"Close","Expand"],null]],[13],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[11,"button"],[16,0,[31,["stripe-connect ",[30,[36,1],[[30,[36,4],[[30,[36,3],[[32,0,["session","user","isAdmin"]]],null],[32,0,["isConnectDisallowed"]]],null],"disabled"],null]]]],[24,4,"button"],[4,[38,5],["click",[32,0,["openStripeConnect"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n"],[6,[37,1],[[32,0,["isConnectDisallowed"]]],null,[["default"],[{"statements":[[2,"                    "],[10,"div"],[14,0,"gh-setting-nossl"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-setting-nossl-container"],[12],[2,"\\n                            "],[10,"span"],[14,0,"red"],[12],[1,[30,[36,2],["shield-lock"],null]],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"Your site is not secured"],[13],[2,"\\n                            "],[10,"p"],[12],[2,"Paid memberships through Ghost can only be run on sites secured by SSL (HTTPS vs. HTTP). More information on adding a free SSL Certificate to your Ghost site can be "],[10,"a"],[14,6,"https://ghost.org/integrations/lets-encrypt/"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"found here"],[13],[2,"."],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[10,"div"],[14,0,"gh-expandable-content"],[12],[2,"\\n"],[6,[37,13],[[32,0,["paidOpen"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"gh-setting-content-extended"],[12],[2,"\\n"],[6,[37,1],[[32,0,["fetchDefaultTier","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                Loading...\\n"]],"parameters":[]},{"statements":[[2,"                                "],[8,"gh-membership-tiers-alpha",[],[["@updatePortalPreview","@tiers","@confirmTierSave"],[[32,0,["updatePortalPreview"]],[32,0,["paidTiers"]],[32,0,["confirmTierSave"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"    \\n        "],[13],[2,"\\n    "],[13],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Growth"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n            "],[8,"settings/signup-form-embed",[],[[],[]],null],[2,"\\n"],[6,[37,1],[[30,[36,10],["tipsAndDonations"],null]],null,[["default"],[{"statements":[[2,"                "],[8,"settings/tips-and-donations",[],[["@openStripeConnect"],[[32,0,["openStripeConnect"]]]],null],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,1],[[32,0,["showPortalSettings"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@close","@modifier"],["portal-settings",[30,[36,0],null,[["preloadTask","openStripeConnect","tiers"],[[32,0,["saveSettingsTask"]],[32,0,["openStripeConnect"]],[32,0,["tiers"]]]]],[32,0,["closePortalSettings"]],"full-overlay portal-settings"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,1],[[32,0,["showStripeConnect"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["stripe-connect",[32,0,["closeStripeConnect"]],"action wide stripe-connect"]],null],[2,"\\n"]],"parameters":[]}]]],[6,[37,1],[[32,0,["showTierModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@model","@confirm","@close","@modifier"],["tier",[30,[36,0],null,[["tier","tiers"],[[32,0,["tierModel"]],[32,0,["tiers"]]]]],[32,0,["confirmTierSave"]],[32,0,["closeTierModal"]],"edit-tier action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["hash","if","svg-jar","not","or","on","eq","toggle","readonly","and","feature","did-insert","on-key","liquid-if"]}',moduleName:"ghost-admin/templates/settings/membership.hbs"})
e.default=t})),define("ghost-admin/templates/settings/navigation",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"MQBw8tue",block:'{"symbols":["navItem","index","navItem","index"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Navigation\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Navigation\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[16,"data-test-save-button",true]],[["@task","@class"],[[32,0,["saveTask"]],"gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"gh-main-section"],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Primary Navigation"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                "],[10,"form"],[14,1,"settings-navigation"],[14,0,"gh-blognav"],[14,"novalidate","novalidate"],[12],[2,"\\n                    "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap"],[[32,0,["settings","navigation"]],false]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["settings","navigation"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,3],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                "],[8,"settings/navigation/nav-item",[[16,"data-test-navitem",[32,4]]],[["@navItem","@baseUrl","@addItem","@deleteItem","@updateUrl","@updateLabel"],[[32,3],[32,0,["blogUrl"]],[32,0,["addNavItem"]],[32,0,["deleteNavItem"]],[32,0,["updateUrl"]],[32,0,["updateLabel"]]]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[3,4]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"settings/navigation/nav-item",[[24,"data-test-navitem","new"]],[["@navItem","@baseUrl","@addItem","@updateUrl","@updateLabel"],[[32,0,["newNavItem"]],[32,0,["blogUrl"]],[32,0,["addNavItem"]],[32,0,["updateUrl"]],[32,0,["updateLabel"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Secondary Navigation"],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section-block"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-main-section-content padding-top-s grey"],[12],[2,"\\n                "],[10,"form"],[14,1,"secondary-navigation"],[14,0,"gh-blognav"],[14,"novalidate","novalidate"],[12],[2,"\\n                    "],[8,"sortable-objects",[],[["@sortableObjectList","@useSwap"],[[32,0,["settings","secondaryNavigation"]],false]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[30,[36,1],[[30,[36,1],[[32,0,["settings","secondaryNavigation"]]],null]],null]],null,[["default"],[{"statements":[[2,"                            "],[8,"draggable-object",[],[["@content","@dragHandle","@isSortable"],[[32,1],".gh-blognav-grab",true]],[["default"],[{"statements":[[2,"\\n                                "],[8,"settings/navigation/nav-item",[[16,"data-test-navitem",[32,2]]],[["@navItem","@baseUrl","@addItem","@deleteItem","@updateUrl","@updateLabel"],[[32,1],[32,0,["blogUrl"]],[32,0,["addNavItem"]],[32,0,["deleteNavItem"]],[32,0,["updateUrl"]],[32,0,["updateLabel"]]]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[1,2]}]]],[2,"                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"settings/navigation/nav-item",[[24,"data-test-navitem","new"]],[["@navItem","@baseUrl","@addItem","@updateUrl","@updateLabel"],[[32,0,["newSecondaryNavItem"]],[32,0,["blogUrl"]],[32,0,["addNavItem"]],[32,0,["updateUrl"]],[32,0,["updateLabel"]]]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,4],[[30,[36,3],null,null]],null]],[2,"\\n\\n"]],"hasEval":false,"upvars":["svg-jar","-track-array","each","-outlet","component"]}',moduleName:"ghost-admin/templates/settings/navigation.hbs"})
e.default=t})),define("ghost-admin/templates/settings/newsletters",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"7m+19d7q",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas gh-setting-email"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                    Settings\\n                "]],"parameters":[]}]]],[2,"\\n                "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Email newsletter\\n            "],[13],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Email newsletter\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-button","save-members-settings"],[4,[38,1],["cmd+s"],null]],[["@buttonText","@task","@successText","@runningText","@class"],["Save",[32,0,["saveSettings"]],"Saved","Saving","gh-btn gh-btn-primary gh-btn-icon"]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-setting-liquid-section"],[12],[2,"\\n            "],[8,"settings/newsletters",[],[[],[]],null],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","on-key"]}',moduleName:"ghost-admin/templates/settings/newsletters.hbs"})
e.default=t}))
define("ghost-admin/templates/settings/staff/index",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"nqEWSzV2",block:'{"symbols":["user","component","user","component","component","invite","component"],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n"],[6,[37,8],[[32,0,["session","user","isEditor"]]],null,[["default"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[[24,"data-test-breadcrumb",""]],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                        Settings\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,6],["arrow-right-small"],null]],[2," Staff\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Staff\\n            "],[13],[2,"\\n        "],[13],[2,"\\n\\n"],[6,[37,8],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[2,"            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,4],[[30,[36,7],[[32,0,["session","user"]]],null]],null,[["default"],[{"statements":[[2,"                    "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                        "],[8,"gh-dropdown-button",[[24,"data-test-button","staff-actions"]],[["@dropdownName","@classNames","@title"],["staff-actions-menu","gh-btn gh-btn-icon icon-only gh-btn-action-icon","Staff Actions"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"span"],[12],[2,"\\n                                "],[1,[30,[36,6],["settings"],null]],[2,"\\n                                "],[10,"span"],[14,0,"hidden"],[12],[2,"Actions"],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["staff-actions-menu","ul","gh-member-actions-menu dropdown-menu dropdown-triangle-top-right"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[32,0,["toggleResetAllPasswordsModal"]]],null],[12],[2,"\\n                                    "],[10,"span"],[12],[2,"Reset all passwords"],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[11,"button"],[24,0,"gh-btn gh-btn-primary"],[24,"data-test-button","invite-staff-user"],[24,4,"button"],[4,[38,3],["click",[32,0,["toggleInviteUserModal"]]],null],[12],[10,"span"],[12],[2,"Invite people"],[13],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,4],[[32,0,["showInviteUserModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["invite-new-user",[32,0,["toggleInviteUserModal"]],"action wide invite-user"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,4],[[32,0,["showResetAllPasswordsModal"]]],null,[["default"],[{"statements":[[2,"        "],[8,"gh-fullscreen-modal",[],[["@modal","@close","@modifier"],["reset-all-passwords",[32,0,["toggleResetAllPasswordsModal"]],"action wide"]],null],[2,"\\n"]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container gh-team"],[12],[2,"\\n"],[6,[37,8],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default"],[{"statements":[[6,[37,4],[[32,0,["invites"]]],null,[["default"],[{"statements":[[2,"        "],[10,"section"],[14,0,"gh-main-section gh-invited-users apps-first-header"],[14,"data-test-invited-users",""],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Invited users"],[13],[2,"\\n            "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["invites"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[8,"gh-user-invited",[],[["@invite","@reload"],[[32,6],[30,[36,5],[[32,0,["backgroundUpdateTask"]]],null]]],[["default"],[{"statements":[[2,"\\n                        "],[10,"div"],[14,0,"apps-grid-cell"],[15,"data-test-invite-id",[31,[[32,6,["id"]]]]],[12],[2,"\\n                            "],[10,"article"],[14,0,"apps-card-app"],[12],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-left"],[12],[2,"\\n                                    "],[10,"span"],[14,0,"user-list-item-icon"],[12],[1,[30,[36,6],["email"],null]],[2,"ic"],[13],[2,"\\n                                    "],[10,"div"],[14,0,"apps-card-meta"],[12],[2,"\\n                                        "],[10,"h3"],[14,0,"apps-card-app-title"],[14,"data-test-email",""],[12],[1,[32,6,["email"]]],[13],[2,"\\n                                        "],[10,"p"],[14,0,"apps-card-app-desc"],[12],[2,"\\n"],[6,[37,4],[[32,6,["pending"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[10,"span"],[14,0,"description-error"],[12],[2,"\\n                                                    Invitation not sent - please try again\\n                                                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                                "],[10,"span"],[14,0,"description"],[14,"data-test-invite-description",""],[12],[2,"\\n                                                    Invitation sent: "],[1,[32,7,["createdAt"]]],[2,",\\n                                                    "],[1,[30,[36,4],[[32,7,["isExpired"]],"expired","expires"],null]],[2," "],[1,[32,7,["expiresAt"]]],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"div"],[14,0,"apps-card-right"],[12],[2,"\\n                                    "],[10,"div"],[14,0,"apps-configured"],[12],[2,"\\n"],[6,[37,4],[[32,7,["isSending"]]],null,[["default","else"],[{"statements":[[2,"                                            "],[10,"span"],[12],[2,"Sending Invite..."],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                            "],[11,"a"],[24,0,"apps-configured-action red-hover"],[24,6,"#revoke"],[24,"data-test-revoke-button",""],[4,[38,3],["click",[32,7,["revoke"]]],null],[12],[2,"\\n                                                Revoke\\n                                            "],[13],[2,"\\n                                            "],[11,"a"],[24,0,"apps-configured-action green-hover"],[24,6,"#resend"],[24,"data-test-resend-button",""],[4,[38,3],["click",[32,7,["resend"]]],null],[12],[2,"\\n                                                Resend\\n                                            "],[13],[2,"\\n\\n                                            "],[10,"span"],[15,0,[31,["apps-configured-action gh-badge ",[32,6,["role","lowerCaseName"]]]]],[14,"data-test-role-name",""],[12],[1,[32,6,["role","name"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[7]}]]],[2,"\\n"]],"parameters":[6]}]]],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[15,0,[31,["gh-main-section gh-active-users ",[30,[36,8],[[32,0,["invites"]],"apps-first-header"],null]]]],[14,"data-test-active-users",""],[12],[2,"\\n        "],[10,"h4"],[14,0,"gh-main-section-header small"],[12],[2,"Active users"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,4],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"                "],[8,"gh-user-active",[],[["@user"],[[32,0,["currentUser"]]]],[["default"],[{"statements":[[2,"\\n                    "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,0,["currentUser"]],[32,5]]],null],[2,"\\n                "]],"parameters":[5]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[6,[37,2],[[32,0,["activeUsers"]]],[["key","containerSelector","estimateHeight"],["id",".gh-main",75]],[["default"],[{"statements":[[2,"                    "],[8,"gh-user-active",[],[["@user"],[[32,3]]],[["default"],[{"statements":[[2,"\\n                        "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,3],[32,4]]],null],[2,"\\n                    "]],"parameters":[4]}]]],[2,"\\n"]],"parameters":[3]}]]]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[30,[36,10],[[32,0,["suspendedUsers"]],[30,[36,9],[[32,0,["currentUser","isAuthorOrContributor"]]],null]],null]],null,[["default"],[{"statements":[[2,"    "],[10,"section"],[14,0,"apps-grid-container gh-active-users"],[14,"data-test-suspended-users",""],[12],[2,"\\n        "],[10,"span"],[14,0,"apps-grid-title"],[12],[2,"Suspended users"],[13],[2,"\\n        "],[10,"div"],[14,0,"apps-grid"],[12],[2,"\\n"],[6,[37,1],[[30,[36,0],[[30,[36,0],[[32,0,["suspendedUsers"]]],null]],null]],[["key"],["id"]],[["default"],[{"statements":[[2,"                "],[8,"gh-user-active",[],[["@user"],[[32,1]]],[["default"],[{"statements":[[2,"\\n                    "],[8,"gh-user-list-item",[],[["@user","@component"],[[32,1],[32,2]]],null],[2,"\\n                "]],"parameters":[2]}]]],[2,"\\n"]],"parameters":[1]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13],[2,"\\n"]],"hasEval":false,"upvars":["-track-array","each","vertical-collection","on","if","perform","svg-jar","gh-user-can-admin","unless","not","and"]}',moduleName:"ghost-admin/templates/settings/staff/index.hbs"})
e.default=t})),define("ghost-admin/templates/settings/staff/user-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"9fN9CLJI",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,2],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Your profile"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isEditor"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                            Settings\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[8,"link-to",[[16,"data-test-staff-link",true]],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"\\n                        Staff\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Profile\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[32,0,["user","name"]]],[2,"\\n"],[6,[37,2],[[32,0,["user","isSuspended"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"gh-badge suspended"],[14,"data-test-suspended-badge",""],[12],[2,"Suspended"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-btn gh-btn-primary"],[12],[10,"span"],[12],[2,"Save"],[13],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","unless","if"]}',moduleName:"ghost-admin/templates/settings/staff/user-loading.hbs"})
e.default=t})),define("ghost-admin/templates/settings/staff/user",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"l0g47fgH",block:'{"symbols":[],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,9],["cmd+s",[32,0,["saveViaKeyboard"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[32,0,["currentUser","isAuthorOrContributor"]]],null,[["default","else"],[{"statements":[[2,"            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Your profile"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[14,"data-test-breadcrumb",""],[12],[2,"\\n"],[6,[37,1],[[32,0,["session","user","isEditor"]]],null,[["default"],[{"statements":[[2,"                        "],[8,"link-to",[],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                            Settings\\n                        "]],"parameters":[]}]]],[2,"\\n                        "],[1,[30,[36,0],["arrow-right-small"],null]],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[8,"link-to",[[16,"data-test-staff-link",true]],[["@route"],["settings.staff"]],[["default"],[{"statements":[[2,"\\n                        Staff\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,0],["arrow-right-small"],null]],[2," Profile\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[32,0,["user","name"]]],[2,"\\n"],[6,[37,5],[[32,0,["user","isSuspended"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"span"],[14,0,"gh-badge suspended"],[14,"data-test-suspended-badge",""],[12],[2,"Suspended"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                "],[13],[2,"\\n            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n"],[6,[37,5],[[30,[36,10],[[32,0,["userActionsAreVisible"]],[32,0,["session","user","isAdmin"]]],null]],null,[["default"],[{"statements":[[2,"                "],[10,"span"],[14,0,"dropdown"],[12],[2,"\\n                    "],[8,"gh-dropdown-button",[[24,"data-test-user-actions",""]],[["@dropdownName","@classNames","@title"],["user-actions-menu","gh-btn gh-btn-white gh-btn-icon icon-only user-actions-cog","User Actions"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"span"],[12],[2,"\\n                            "],[1,[30,[36,0],["settings"],null]],[2,"\\n                            "],[10,"span"],[14,0,"hidden"],[12],[2,"User Settings"],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-dropdown",[],[["@name","@tagName","@classNames"],["user-actions-menu","ul","user-actions-menu dropdown-menu dropdown-align-right"]],[["default"],[{"statements":[[2,"\\n"],[6,[37,5],[[32,0,["canMakeOwner"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,4,"button"],[4,[38,3],["click",[32,0,["transferOwnership"]]],null],[12],[2,"\\n                                    Make owner\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["deleteUserActionIsVisible"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"li"],[12],[2,"\\n                                "],[11,"button"],[24,0,"delete"],[24,"data-test-delete-button",""],[24,4,"button"],[4,[38,3],["click",[32,0,["deleteUser"]]],null],[12],[2,"\\n                                    Delete user\\n                                "],[13],[2,"\\n                            "],[13],[2,"\\n"],[6,[37,5],[[32,0,["user","isActive"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"suspend"],[24,"data-test-suspend-button",""],[24,4,"button"],[4,[38,3],["click",[32,0,["suspendUser"]]],null],[12],[2,"\\n                                        Suspend user\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["user","isSuspended"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"li"],[12],[2,"\\n                                    "],[11,"button"],[24,0,"unsuspend"],[24,"data-test-unsuspend-button",""],[24,4,"button"],[4,[38,3],["click",[32,0,["unsuspendUser"]]],null],[12],[2,"\\n                                        Un-suspend user\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"\\n                        "],[10,"li"],[12],[2,"\\n                            "],[8,"link-to",[],[["@route","@query"],["settings.history",[30,[36,8],null,[["user"],[[32,0,["user","id"]]]]]]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"View user activity"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n            "],[8,"gh-task-button",[[24,"data-test-save-button",""]],[["@class","@task"],["gh-btn gh-btn-primary gh-btn-icon",[32,0,["saveTask"]]]],null],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["user","isLocked"]]],null,[["default"],[{"statements":[[2,"        "],[10,"p"],[14,0,"gh-box gh-box-alert"],[12],[1,[30,[36,0],["info"],null]],[2,"This user account is locked. To sign in, ask this user to perform a password reset on their account."],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[2,"    "],[10,"section"],[12],[2,"\\n        "],[10,"div"],[14,0,"gm-main view-container settings-user"],[12],[2,"\\n            "],[11,"form"],[24,1,"user-settings-form"],[24,0,"user-profile"],[24,"novalidate","novalidate"],[24,"autocomplete","off"],[4,[38,3],["submit",[30,[36,4],[[32,0,["saveTask"]]],null]],null],[12],[2,"\\n\\n                "],[10,"figure"],[14,0,"user-cover"],[15,5,[30,[36,11],[[32,0,["user","coverImageUrl"]]],null]],[12],[2,"\\n                    "],[11,"button"],[24,0,"gh-btn gh-btn-default user-cover-edit"],[24,4,"button"],[4,[38,3],["click",[32,0,["changeCoverImage"]]],null],[12],[10,"span"],[12],[2,"Change cover"],[13],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"figure"],[14,0,"user-image bg-whitegrey"],[12],[2,"\\n                    "],[10,"div"],[14,1,"user-image"],[14,0,"img"],[15,5,[30,[36,11],[[32,0,["user","profileImageUrl"]]],null]],[12],[10,"span"],[14,0,"hidden"],[12],[1,[32,0,["user","name"]]],[2,"\\"s picture"],[13],[13],[2,"\\n                    "],[11,"button"],[24,0,"edit-user-image"],[24,4,"button"],[4,[38,3],["click",[32,0,["changeProfileImage"]]],null],[12],[2,"Edit picture"],[13],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                    "],[10,"fieldset"],[14,0,"user-details-bottom"],[12],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"first-form-group"]],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-name"],[12],[2,"Full name"],[13],[2,"\\n                            "],[11,"input"],[24,1,"user-name"],[24,0,"gh-input user-name"],[24,"autocorrect","off"],[16,2,[32,0,["user","name"]]],[24,"data-test-name-input",""],[24,4,"text"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"name"],null]],null],[4,[38,3],["blur",[30,[36,6],[[32,0,["validateModelProperty"]],"name"],null]],null],[12],[13],[2,"\\n"],[6,[37,5],[[32,0,["user","errors","name"]]],null,[["default","else"],[{"statements":[[2,"                                "],[8,"gh-error-message",[[24,"data-test-error","user-name"]],[["@errors","@property"],[[32,0,["user","errors"]],"name"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"p"],[12],[2,"Use your real name so people can recognize you"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"slug"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-slug"],[12],[2,"Slug"],[13],[2,"\\n                            "],[11,"input"],[24,1,"user-slug"],[24,0,"gh-input user-slug"],[24,"autocorrect","off"],[16,2,[32,0,["slugValue"]]],[24,"data-test-slug-input",""],[24,4,"text"],[4,[38,3],["input",[32,0,["setSlugValue"]]],null],[4,[38,3],["blur",[30,[36,4],[[32,0,["updateSlugTask"]]],null]],null],[4,[38,2],null,null],[12],[13],[2,"\\n                            "],[10,"p"],[12],[8,"gh-blog-url",[],[[],[]],null],[2,"/author/"],[1,[32,0,["slugValue"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-slug"]],[["@errors","@property"],[[32,0,["user","errors"]],"slug"]],null],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-email"],[12],[2,"Email"],[13],[2,"\\n"],[6,[37,5],[[32,0,["canChangeEmail"]]],null,[["default","else"],[{"statements":[[2,"                                "],[11,"input"],[24,1,"user-email"],[24,0,"gh-input"],[24,"placeholder","jamie@example.com"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"autocomplete","off"],[16,2,[32,0,["user","email"]]],[24,"data-test-email-input",""],[24,4,"email"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"email"],null]],null],[4,[38,3],["blur",[30,[36,6],[[32,0,["validateModelProperty"]],"email"],null]],null],[12],[13],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","user-email"]],[["@errors","@property"],[[32,0,["user","errors"]],"email"]],null],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                                "],[10,"span"],[12],[1,[32,0,["user","email"]]],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "],[10,"p"],[12],[2,"Used for notifications"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n"],[6,[37,5],[[32,0,["rolesDropdownIsVisible"]]],null,[["default"],[{"statements":[[2,"                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[10,"label"],[14,"for","user-role"],[12],[2,"Role"],[13],[2,"\\n                                "],[11,"button"],[24,0,"gh-input tl"],[24,4,"button"],[4,[38,3],["click",[32,0,["selectRole"]]],null],[12],[1,[32,0,["user","role","name"]]],[1,[30,[36,0],["arrow-down-small"],null]],[13],[2,"\\n                                "],[10,"p"],[12],[2,"What permissions should this user have?"],[13],[2,"\\n                            "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"location"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-location"],[12],[2,"Location"],[13],[2,"\\n                            "],[11,"input"],[24,1,"user-location"],[24,0,"gh-input"],[16,2,[32,0,["user","location"]]],[24,"data-test-location-input",""],[24,4,"text"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"location"],null]],null],[4,[38,3],["blur",[30,[36,6],[[32,0,["validateModelProperty"]],"location"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-location"]],[["@errors","@property"],[[32,0,["user","errors"]],"location"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Where in the world do you live?"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"website"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-website"],[12],[2,"Website"],[13],[2,"\\n                            "],[11,"input"],[24,1,"user-website"],[24,0,"gh-input"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"autocomplete","off"],[16,2,[32,0,["user","website"]]],[24,"data-test-website-input",""],[24,4,"url"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"website"],null]],null],[4,[38,3],["blur",[30,[36,6],[[32,0,["validateModelProperty"]],"website"],null]],null],[12],[13],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-website"]],[["@errors","@property"],[[32,0,["user","errors"]],"website"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"Have a website or blog other than this one? Link it!"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"facebook"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-facebook"],[12],[2,"Facebook profile"],[13],[2,"\\n                            "],[8,"gh-facebook-url-input",[[24,1,"user-facebook"]],[["@scratchValue","@setScratchValue","@model","@modelProperty"],[[32,0,["scratchValues","facebook"]],[30,[36,6],[[32,0,["setScratchValue"]],"facebook"],null],[32,0,["user"]],"facebook"]],null],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-facebook"]],[["@errors","@property"],[[32,0,["user","errors"]],"facebook"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your personal Facebook Profile"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"twitter"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-twitter"],[12],[2,"Twitter profile"],[13],[2,"\\n                            "],[8,"gh-twitter-url-input",[[24,1,"user-twitter"]],[["@scratchValue","@setScratchValue","@model","@modelProperty"],[[32,0,["scratchValues","twitter"]],[30,[36,6],[[32,0,["setScratchValue"]],"twitter"],null],[32,0,["user"]],"twitter"]],null],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-twitter"]],[["@errors","@property"],[[32,0,["user","errors"]],"twitter"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"URL of your personal Twitter profile"],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n\\n                        "],[8,"gh-form-group",[[24,0,"bio-container"]],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"bio"]],[["default"],[{"statements":[[2,"\\n                            "],[10,"label"],[14,"for","user-bio"],[12],[2,"Bio"],[13],[2,"\\n                            "],[11,"textarea"],[24,1,"user-bio"],[24,0,"gh-input"],[24,"data-test-bio-input",""],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"bio"],null]],null],[4,[38,3],["blur",[30,[36,6],[[32,0,["validateModelProperty"]],"bio"],null]],null],[12],[1,[32,0,["user","bio"]]],[13],[2,"\\n                            "],[8,"gh-error-message",[[24,"data-test-error","user-bio"]],[["@errors","@property"],[[32,0,["user","errors"]],"bio"]],null],[2,"\\n                            "],[10,"p"],[12],[2,"\\n                                Recommended: "],[10,"strong"],[12],[2,"200"],[13],[2," characters.\\n                                You\'ve used "],[1,[30,[36,12],[[32,0,["user","bio"]],200],null]],[2,"\\n                            "],[13],[2,"\\n                        "]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["membersUtils","isMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                        "],[10,"div"],[14,0,"user-settings-subgroup"],[12],[2,"\\n                            "],[10,"h4"],[14,0,"user-settings-heading"],[12],[2,"Email notifications"],[13],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                    "],[10,"div"],[12],[2,"\\n                                        "],[10,"label"],[14,"for","user-email"],[12],[2,"Comments"],[13],[2,"\\n                                        "],[10,"p"],[12],[2,"Every time a member comments on one of your posts"],[13],[2,"\\n                                    "],[13],[2,"\\n                                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                        "],[10,"label"],[14,0,"switch"],[14,"for","comment-notifications"],[12],[2,"\\n                                            "],[11,"input"],[24,1,"comment-notifications"],[16,"checked",[32,0,["user","commentNotifications"]]],[24,0,"gh-input"],[24,"data-test-checkbox","comment-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[32,0,["toggleCommentNotifications"]]],null],[12],[13],[2,"\\n                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n"],[6,[37,5],[[32,0,["user","isAdmin"]]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,7],["webmentions"],null]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"label"],[14,"for","user-email"],[12],[2,"Mentions"],[13],[2,"\\n                                                "],[10,"p"],[12],[2,"Every time another site links to your work."],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","mention-notifications"],[14,"data-test-label","mention-notifications"],[12],[2,"\\n                                                    "],[11,"input"],[24,1,"mention-notifications"],[16,"checked",[32,0,["user","mentionNotifications"]]],[24,0,"gh-input"],[24,"data-test-checkbox","mention-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[32,0,["toggleMentionNotifications"]]],null],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["canToggleMemberAlerts"]]],null,[["default"],[{"statements":[[2,"                                        "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"label"],[14,"for","user-email"],[12],[2,"New signups"],[13],[2,"\\n                                                "],[10,"p"],[12],[2,"Every time a new free member signs up"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","free-signup-notifications"],[14,"data-test-label","free-signup-notifications"],[12],[2,"\\n                                                    "],[11,"input"],[24,1,"free-signup-notifications"],[16,"checked",[32,0,["user","freeMemberSignupNotification"]]],[24,0,"gh-input"],[24,"data-test-checkbox","free-signup-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[30,[36,6],[[32,0,["toggleMemberEmailAlerts"]],"free-signup"],null]],null],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"],[6,[37,5],[[32,0,["membersUtils","paidMembersEnabled"]]],null,[["default"],[{"statements":[[2,"                                            "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                                "],[10,"div"],[12],[2,"\\n                                                    "],[10,"label"],[14,"for","user-email"],[12],[2,"New paid members"],[13],[2,"\\n                                                    "],[10,"p"],[12],[2,"Every time a member starts a new paid subscription"],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                    "],[10,"label"],[14,0,"switch"],[14,"for","paid-started-notifications"],[14,"data-test-label","paid-started-notifications"],[12],[2,"\\n                                                        "],[11,"input"],[24,1,"paid-started-notifications"],[16,"checked",[32,0,["user","paidSubscriptionStartedNotification"]]],[24,0,"gh-input"],[24,"data-test-checkbox","paid-started-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[30,[36,6],[[32,0,["toggleMemberEmailAlerts"]],"paid-started"],null]],null],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                                "],[10,"div"],[12],[2,"\\n                                                    "],[10,"label"],[14,"for","user-email"],[12],[2,"Paid member cancellations"],[13],[2,"\\n                                                    "],[10,"p"],[12],[2,"Every time a member cancels their paid subscription"],[13],[2,"\\n                                                "],[13],[2,"\\n                                                "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                    "],[10,"label"],[14,0,"switch"],[14,"for","paid-canceled-notifications"],[14,"data-test-label","paid-canceled-notifications"],[12],[2,"\\n                                                        "],[11,"input"],[24,1,"paid-canceled-notifications"],[16,"checked",[32,0,["user","paidSubscriptionCanceledNotification"]]],[24,0,"gh-input"],[24,"data-test-checkbox","paid-canceled-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[30,[36,6],[[32,0,["toggleMemberEmailAlerts"]],"paid-canceled"],null]],null],[12],[13],[2,"\\n                                                        "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n"]],"parameters":[]}]]],[6,[37,5],[[32,0,["membersUtils","isStripeEnabled"]]],null,[["default"],[{"statements":[[6,[37,5],[[30,[36,7],["tipsAndDonations"],null]],null,[["default"],[{"statements":[[2,"                                                "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                                    "],[10,"div"],[12],[2,"\\n                                                        "],[10,"label"],[14,"for","user-email"],[12],[2,"Tips & donations"],[13],[2,"\\n                                                        "],[10,"p"],[12],[2,"Every time you receive a one-time payment from your audience"],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                    "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                        "],[10,"label"],[14,0,"switch"],[14,"for","donation-notifications"],[14,"data-test-label","donation-notifications"],[12],[2,"\\n                                                            "],[11,"input"],[24,1,"donation-notifications"],[16,"checked",[32,0,["user","donationNotifications"]]],[24,0,"gh-input"],[24,"data-test-checkbox","donation-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[32,0,["toggleDonationNotifications"]]],null],[12],[13],[2,"\\n                                                            "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                        "],[13],[2,"\\n                                                    "],[13],[2,"\\n                                                "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                                        "],[10,"div"],[14,0,"user-setting-toggle"],[12],[2,"\\n                                            "],[10,"div"],[12],[2,"\\n                                                "],[10,"label"],[14,"for","user-email"],[12],[2,"Milestones"],[13],[2,"\\n                                                "],[10,"p"],[12],[2,"Occasional summaries of your audience & revenue growth"],[13],[2,"\\n                                            "],[13],[2,"\\n                                            "],[10,"div"],[14,0,"for-switch small"],[12],[2,"\\n                                                "],[10,"label"],[14,0,"switch"],[14,"for","milestone-notifications"],[14,"data-test-label","milestone-notifications"],[12],[2,"\\n                                                    "],[11,"input"],[24,1,"milestone-notifications"],[16,"checked",[32,0,["user","milestoneNotifications"]]],[24,0,"gh-input"],[24,"data-test-checkbox","milestone-notifications"],[24,4,"checkbox"],[4,[38,3],["change",[32,0,["toggleMilestoneNotifications"]]],null],[12],[13],[2,"\\n                                                    "],[10,"span"],[14,0,"input-toggle-component"],[12],[13],[2,"\\n                                                "],[13],[2,"\\n                                            "],[13],[2,"\\n                                        "],[13],[2,"\\n"]],"parameters":[]}]]]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                    "],[13],[2,"\\n                "],[13],[2,"\\n\\n            "],[13],[2," "],[2,"\\n\\n"],[6,[37,5],[[32,0,["canChangePassword"]]],null,[["default"],[{"statements":[[2,"                "],[11,"form"],[24,1,"password-reset"],[24,0,"user-profile"],[24,"novalidate","novalidate"],[24,"autocomplete","off"],[4,[38,3],["submit",[32,0,["submitPasswordForm"]]],null],[12],[2,"\\n                    "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                        "],[10,"fieldset"],[14,0,"user-details-form"],[12],[2,"\\n"],[6,[37,5],[[32,0,["isOwnProfile"]]],null,[["default"],[{"statements":[[2,"                                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"label"],[14,"for","user-password-old"],[12],[2,"Old password"],[13],[2,"\\n                                    "],[11,"input"],[24,1,"user-password-old"],[24,0,"gh-input"],[24,"autocomplete","current-password"],[16,2,[32,0,["user","password"]]],[24,"data-test-old-pass-input",""],[24,4,"password"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"password"],null]],null],[4,[38,3],["input",[30,[36,6],[[32,0,["clearModelErrors"]],"password"],null]],null],[12],[13],[2,"\\n                                    "],[8,"gh-error-message",[[24,"data-test-error","user-old-pass"]],[["@errors","@property"],[[32,0,["user","errors"]],"password"]],null],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n"]],"parameters":[]}]]],[2,"\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"newPassword"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","user-password-new"],[12],[2,"New password"],[13],[2,"\\n                                "],[11,"input"],[24,1,"user-password-new"],[24,0,"gh-input"],[24,"autocomplete","new-password"],[16,2,[32,0,["user","newPassword"]]],[24,"data-test-new-pass-input",""],[24,4,"password"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"newPassword"],null]],null],[4,[38,3],["input",[30,[36,6],[[32,0,["clearModelErrors"]],"newPassword"],null]],null],[12],[13],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","user-new-pass"]],[["@errors","@property"],[[32,0,["user","errors"]],"newPassword"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["user","errors"]],[32,0,["user","hasValidated"]],"ne2Password"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","user-new-password-verification"],[12],[2,"Verify password"],[13],[2,"\\n                                "],[11,"input"],[24,1,"user-new-password-verification"],[24,0,"gh-input"],[16,2,[32,0,["user","ne2Password"]]],[24,"data-test-ne2-pass-input",""],[24,4,"password"],[4,[38,3],["input",[30,[36,6],[[32,0,["setModelProperty"]],"ne2Password"],null]],null],[4,[38,3],["input",[30,[36,6],[[32,0,["clearModelErrors"]],"ne2Password"],null]],null],[12],[13],[2,"\\n                                "],[8,"gh-error-message",[[24,"data-test-error","user-ne2-pass"]],[["@errors","@property"],[[32,0,["user","errors"]],"ne2Password"]],null],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n\\n                            "],[10,"div"],[14,0,"form-group"],[12],[2,"\\n                                "],[8,"gh-task-button",[[24,"data-test-save-pw-button","true"]],[["@buttonText","@idleClass","@class","@task"],["Change Password","gh-btn-red","gh-btn gh-btn-icon button-change-password",[32,0,["saveNewPasswordTask"]]]],null],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2," "],[2,"\\n"]],"parameters":[]}]]],[2,"\\n"],[6,[37,5],[[32,0,["isOwnProfile"]]],null,[["default"],[{"statements":[[2,"                "],[10,"form"],[14,0,"user-profile"],[12],[2,"\\n                    "],[10,"div"],[14,0,"pa5"],[12],[2,"\\n                        "],[10,"fieldset"],[14,0,"user-details-form"],[12],[2,"\\n                            "],[8,"gh-form-group",[],[[],[]],[["default"],[{"statements":[[2,"\\n                                "],[10,"label"],[14,"for","personal-token"],[12],[2,"Staff access token"],[13],[2,"\\n                                "],[10,"div"],[15,0,[31,["relative flex items-center ",[30,[36,1],[[32,0,["copyContentKeyTask","isRunning"]],"hide-child-instant"],null]]]],[12],[2,"\\n                                    "],[11,"input"],[24,1,"personal-token"],[24,0,"gh-input"],[16,2,[32,0,["personalToken"]]],[24,"readonly",""],[24,4,"text"],[4,[38,2],null,null],[12],[13],[2,"\\n                                    "],[10,"div"],[14,0,"app-api-personal-token-buttons child"],[12],[2,"\\n                                        "],[11,"button"],[24,0,"app-button-regenerate"],[24,"data-tooltip","Regenerate"],[24,4,"button"],[4,[38,3],["click",[32,0,["regenerateStaffToken"]]],null],[12],[2,"\\n                                            "],[1,[30,[36,0],["reload"],[["class"],["w4 h4 stroke-midgrey"]]]],[2,"\\n                                        "],[13],[2,"\\n                                        "],[11,"button"],[24,0,"app-button-copy"],[24,4,"button"],[4,[38,3],["click",[30,[36,4],[[32,0,["copyContentKeyTask"]]],null]],null],[12],[2,"\\n"],[6,[37,5],[[32,0,["copyContentKeyTask","isRunning"]]],null,[["default","else"],[{"statements":[[2,"                                                "],[1,[30,[36,0],["check-circle"],[["class"],["w3 v-mid mr2 stroke-white"]]]],[2," Copied\\n"]],"parameters":[]},{"statements":[[2,"                                                Copy\\n"]],"parameters":[]}]]],[2,"                                        "],[13],[2,"\\n                                    "],[13],[2,"\\n                                "],[13],[2,"\\n                                "],[10,"p"],[12],[2,"\\n                                    Give apps personal access without sharing your email/password.\\n                                "],[13],[2,"\\n"],[6,[37,5],[[32,0,["personalTokenRegenerated"]]],null,[["default"],[{"statements":[[2,"                                    "],[10,"p"],[14,0,"green"],[12],[2,"Staff access token was successfully regenerated "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                            "]],"parameters":[]}]]],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","unless","select-on-click","on","perform","if","fn","feature","hash","on-key","or","background-image-style","gh-count-down-characters"]}',moduleName:"ghost-admin/templates/settings/staff/user.hbs"})
e.default=t})),define("ghost-admin/templates/setup",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"VFXV76u3",block:'{"symbols":["task"],"statements":[[10,"section"],[14,0,"gh-flow gh-setup"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content"],[12],[2,"\\n        "],[10,"header"],[12],[2,"\\n            "],[1,[30,[36,0],["ghost-orb"],[["alt"],["Ghost"]]]],[2,"\\n            "],[10,"h1"],[12],[2,"Welcome to Ghost."],[13],[2,"\\n            "],[10,"p"],[12],[2,"All over the world, people have started 3,000,000+ incredible sites with Ghost. Today, weâ€™re starting yours."],[13],[2,"\\n        "],[13],[2,"\\n\\n        "],[10,"form"],[14,1,"setup"],[14,0,"gh-flow-form"],[12],[2,"\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"blogTitle"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","blog-title"],[12],[2,"Site title"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-content"],[12],[2,"\\n                    "],[8,"gh-trim-focus-input",[[16,"data-test-blog-title-input",true]],[["@type","@id","@name","@placeholder","@autocorrect","@value","@input","@focus-out"],["text","blog-title","blog-title","The Daily Awesome","off",[30,[36,1],[[32,0,["blogTitle"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["blogTitle"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","blogTitle"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"blogTitle"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","name"],[12],[2,"Full name"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-user"],[12],[2,"\\n                    "],[8,"gh-text-input",[[16,"data-test-name-input",true]],[["@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["name","name","Jamie Larson","off","name",[30,[36,1],[[32,0,["name"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["name"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","name"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"name"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","email"],[12],[2,"Email address"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                    "],[8,"gh-text-input",[[16,"data-test-email-input",true]],[["@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["email","email","email","jamie@example.com","off","username email",[30,[36,1],[[32,0,["email"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["email"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","email"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"email"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["errors"]],[32,0,["hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n                "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                    "],[8,"gh-text-input",[[16,"data-test-password-input",true]],[["@type","@id","@name","@placeholder","@autocorrect","@autocomplete","@value","@input","@focus-out"],["password","password","password","At least 10 characters","off","new-password",[30,[36,1],[[32,0,["password"]]],null],[30,[36,3],[[32,0],[30,[36,2],[[32,0,["password"]]],null]],[["value"],["target.value"]]],[30,[36,3],[[32,0],"preValidate","password"],null]]],null],[2,"\\n                "],[13],[2,"\\n                "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["errors"]],"password"]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n\\n            "],[8,"gh-task-button",[[24,0,"gh-btn gh-btn-black gh-btn-signup gh-btn-block gh-btn-icon"],[24,"data-test-button","setup"],[24,4,"submit"]],[["@task","@showSuccess"],[[32,0,["setupTask"]],false]],[["default"],[{"statements":[[2,"\\n"],[6,[37,4],[[32,1,["isRunning"]]],null,[["default","else"],[{"statements":[[2,"                    "],[10,"span"],[12],[1,[30,[36,0],["spinner"],[["class"],["gh-icon-spinner gh-btn-icon-no-margin"]]]],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                    "],[10,"span"],[12],[2,"Create account & start publishing â†’"],[13],[2,"\\n"]],"parameters":[]}]]],[2,"            "]],"parameters":[1]}]]],[2,"\\n        "],[13],[2,"\\n"],[6,[37,4],[[32,0,["flowErrors"]]],null,[["default"],[{"statements":[[2,"            "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2,"Â "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar","readonly","mut","action","if"]}',moduleName:"ghost-admin/templates/setup.hbs"})
e.default=t})),define("ghost-admin/templates/setup/done",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"0hMLvfll",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow gh-done"],[12],[2,"\\n    "],[10,"main"],[14,0,"flex flex-row h-100"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-done-sidebar"],[12],[2,"\\n            "],[10,"div"],[14,0,"flex flex-column h-100"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-nav-body"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-done-panel"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-stack"],[12],[2,"\\n                            "],[10,"header"],[12],[2,"\\n                                "],[10,"h1"],[12],[2,"All done!"],[13],[2,"\\n                                "],[10,"p"],[12],[2,"Your brand new publication is set up and ready to go."],[13],[2,"\\n                            "],[13],[2,"\\n                            "],[10,"h4"],[12],[2,"What do you want to do first?"],[13],[2,"\\n                            "],[10,"section"],[12],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-yellow"]],[["@route","@model"],["editor.new","post"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["posts"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Write your first post"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Test out the editor and get a feel for creating content inside Ghost."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-green"]],[["@route"],["settings"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["paint-palette"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Customize your site"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Review your settings and tweak the design to make your site just right."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-blue"]],[["@route"],["members.import"]],[["default"],[{"statements":[[2,"\\n                                    "],[10,"span"],[12],[1,[30,[36,0],["members"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Import members"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"Move your audience over to Ghost with our migration tools and guides."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                                "],[8,"link-to",[[24,0,"gh-done-pink"]],[["@route"],["dashboard"]],[["default"],[{"statements":[[2,"\\n                                   "],[10,"span"],[12],[1,[30,[36,0],["house"],null]],[13],[2,"\\n                                    "],[10,"h6"],[12],[2,"Explore Ghost admin"],[13],[2,"\\n                                    "],[10,"p"],[12],[2,"View the dashboard, click around, and explore Ghost for yourself."],[13],[2,"\\n                                "]],"parameters":[]}]]],[2,"\\n                            "],[13],[2,"\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-done-preview"],[12],[2,"\\n            "],[8,"gh-browser-preview",[],[[],[]],[["default"],[{"statements":[[2,"\\n                "],[8,"gh-html-iframe",[[24,0,"site-frame"]],[["@html"],[[32,0,["themeManagement","previewHtml"]]]],null],[2,"\\n            "]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13]],"hasEval":false,"upvars":["svg-jar"]}',moduleName:"ghost-admin/templates/setup/done.hbs"})
e.default=t})),define("ghost-admin/templates/signin",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"KhYKLJnt",block:'{"symbols":["task"],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content"],[12],[2,"\\n"],[6,[37,5],[[32,0,["passwordResetEmailSent"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"div"],[14,0,"gh-auth-email"],[12],[2,"\\n                    "],[10,"header"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,3]],[12],[13],[2,"\\n                        "],[10,"h1"],[12],[2,"Update your password."],[13],[2,"\\n                        "],[10,"p"],[12],[2,"\\n                            For security, you need to create a new password. An email has been sent to you with instructions.\\n                        "],[13],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[11,"form"],[24,1,"login"],[24,"method","post"],[24,0,"gh-signin"],[24,"novalidate","novalidate"],[4,[38,2],["submit",[30,[36,1],[[32,0,["validateAndAuthenticateTask"]]],null]],null],[12],[2,"\\n                    "],[10,"header"],[12],[2,"\\n                        "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,3]],[12],[13],[2,"\\n                        "],[10,"h1"],[12],[2,"Sign in to "],[1,[32,0,["config","blogTitle"]]],[2,"."],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signin","errors"]],[32,0,["hasValidated"]],"identification"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","identification"],[12],[2,"Email address"],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                            "],[11,"input"],[24,1,"identification"],[24,0,"gh-input email"],[24,"placeholder","jamie@example.com"],[24,3,"identification"],[24,"autocapitalize","off"],[24,"autocorrect","off"],[24,"autocomplete","username"],[16,2,[32,0,["signin","identification"]]],[24,4,"email"],[4,[38,2],["input",[32,0,["handleInput"]]],null],[4,[38,2],["blur",[30,[36,4],[[32,0,["validateProperty"]],"identification"],null]],null],[12],[13],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signin","errors"]],[32,0,["hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                        "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n                        "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock forgotten-wrap"],[12],[2,"\\n                            "],[11,"input"],[24,1,"password"],[24,0,"gh-input password"],[24,"placeholder","â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"],[24,3,"password"],[24,"autocomplete","current-password"],[24,"autocorrect","off"],[16,2,[32,0,["signin","password"]]],[24,4,"password"],[4,[38,2],["input",[32,0,["handleInput"]]],null],[12],[13],[2,"\\n\\n                            "],[8,"gh-task-button",[],[["@task","@class","@type","@successClass","@failureClass"],[[32,0,["forgotPasswordTask"]],"forgotten-link gh-btn gh-btn-link gh-btn-icon","button","",""]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[6,[37,5],[[32,1,["isRunning"]]],null,[["default","else"],[{"statements":[[1,[30,[36,0],["spinner"],[["class"],["gh-spinner"]]]]],"parameters":[]},{"statements":[[2,"Forgot?"]],"parameters":[]}]]],[13],[2,"\\n                            "]],"parameters":[1]}]]],[2,"\\n                        "],[13],[2,"\\n                    "]],"parameters":[]}]]],[2,"\\n\\n                    "],[8,"gh-task-button",[[16,5,[34,6]],[24,"data-test-button","sign-in"]],[["@buttonText","@task","@showSuccess","@class","@type"],["Sign in â†’",[32,0,["validateAndAuthenticateTask"]],false,"login gh-btn gh-btn-login gh-btn-block gh-btn-icon","submit"]],null],[2,"\\n                "],[13],[2,"\\n\\n                "],[10,"p"],[14,0,"main-error"],[12],[1,[30,[36,5],[[32,0,["flowErrors"]],[32,0,["flowErrors"]]],null]],[2,"Â "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["svg-jar","perform","on","site-icon-style","fn","if","accent-color-background"]}',moduleName:"ghost-admin/templates/signin.hbs"})
e.default=t})),define("ghost-admin/templates/signup",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"5NVFxMY2",block:'{"symbols":[],"statements":[[10,"div"],[14,0,"gh-flow"],[12],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-flow-content-wrap"],[12],[2,"\\n        "],[10,"section"],[14,0,"gh-flow-content"],[12],[2,"\\n            "],[10,"header"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-site-icon"],[15,5,[34,0]],[12],[13],[2,"\\n                "],[10,"h1"],[12],[2,"Create your account."],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[11,"form"],[24,1,"signup"],[24,0,"gh-signup"],[24,"method","post"],[24,"novalidate","novalidate"],[4,[38,1],["submit",[32,0,["submit"]]],null],[12],[2,"\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"name"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","name"],[12],[2,"Full name"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-user"],[12],[2,"\\n                        "],[11,"input"],[24,1,"display-name"],[24,3,"display-name"],[24,0,"gh-input"],[24,"placeholder","Jamie Larson"],[24,"autocorrect","off"],[24,"autocomplete","name"],[16,2,[32,0,["signupDetails","name"]]],[24,"data-test-input","name"],[24,4,"text"],[4,[38,1],["input",[30,[36,2],[[32,0,["setSignupProperty"]],"name"],null]],null],[4,[38,1],["blur",[30,[36,2],[[32,0,["trimSignupProperty"]],"name"],null]],null],[4,[38,1],["blur",[30,[36,2],[[32,0,["validate"]],"name"],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"name"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"email"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","email"],[12],[2,"Email address"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-mail"],[12],[2,"\\n                        "],[11,"input"],[24,1,"username"],[24,3,"username"],[24,0,"gh-input"],[24,"placeholder","jamie@example.com"],[24,"autocorrect","off"],[24,"autocomplete","username email"],[16,2,[32,0,["signupDetails","email"]]],[24,"data-test-input","email"],[24,4,"text"],[4,[38,1],["input",[30,[36,2],[[32,0,["setSignupProperty"]],"email"],null]],null],[4,[38,1],["blur",[30,[36,2],[[32,0,["validate"]],"email"],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"email"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-form-group",[],[["@errors","@hasValidated","@property"],[[32,0,["signupDetails","errors"]],[32,0,["signupDetails","hasValidated"]],"password"]],[["default"],[{"statements":[[2,"\\n                    "],[10,"label"],[14,"for","password"],[12],[2,"Password"],[13],[2,"\\n                    "],[10,"span"],[14,0,"gh-input-icon gh-icon-lock"],[12],[2,"\\n                        "],[11,"input"],[24,1,"password"],[24,3,"password"],[24,0,"gh-input"],[24,"placeholder","At least 10 characters"],[24,"autocorrect","off"],[24,"autocomplete","new-password"],[16,2,[32,0,["signupDetails","password"]]],[24,"data-test-input","password"],[24,4,"password"],[4,[38,1],["input",[30,[36,2],[[32,0,["setSignupProperty"]],"password"],null]],null],[4,[38,1],["blur",[30,[36,2],[[32,0,["validate"]],"password"],null]],null],[12],[13],[2,"\\n                    "],[13],[2,"\\n                    "],[8,"gh-error-message",[],[["@errors","@property"],[[32,0,["signupDetails","errors"]],"password"]],null],[2,"\\n                "]],"parameters":[]}]]],[2,"\\n\\n                "],[8,"gh-task-button",[[24,"form","signup"],[24,0,"gh-btn gh-btn-signup gh-btn-block gh-btn-icon"],[16,5,[34,3]],[24,"data-test-button","signup"],[24,4,"submit"]],[["@buttonText","@runningText","@task","@defaultClick","@showSuccess"],["Create Account â†’","Creating",[32,0,["signupTask"]],true,false]],null],[2,"\\n            "],[13],[2,"\\n"],[6,[37,4],[[32,0,["flowErrors"]]],null,[["default"],[{"statements":[[2,"                "],[10,"p"],[14,0,"main-error"],[12],[1,[32,0,["flowErrors"]]],[2,"Â "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["site-icon-style","on","fn","accent-color-background","if"]}',moduleName:"ghost-admin/templates/signup.hbs"})
e.default=t})),define("ghost-admin/templates/site",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"53Jg8toH",block:'{"symbols":[],"statements":[[8,"gh-site-iframe",[],[["@guid"],[[32,0,["guid"]]]],[["default"],[{"statements":[],"parameters":[]}]]]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/site.hbs"})
e.default=t})),define("ghost-admin/templates/tag",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"pRa53Jnf",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[10,"form"],[14,0,"mb15"],[12],[2,"\\n        "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n            "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-canvas-breadcrumb"],[12],[2,"\\n                    "],[8,"link-to",[[24,"data-test-link","tags-back"]],[["@route"],["tags"]],[["default"],[{"statements":[[2,"\\n                        Tags\\n                    "]],"parameters":[]}]]],[2,"\\n                    "],[1,[30,[36,1],["arrow-right-small"],null]],[2," "],[1,[30,[36,2],[[32,0,["tag","isNew"]],"New tag","Edit tag"],null]],[2,"\\n                "],[13],[2,"\\n                "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                    "],[1,[30,[36,2],[[32,0,["tag","isNew"]],"New tag",[32,0,["tag","name"]]],null]],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n\\n            "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n                "],[8,"gh-task-button",[[4,[38,3],["cmd+s"],null]],[["@task","@type","@class","@data-test-button"],[[32,0,["saveTask"]],"button","gh-btn gh-btn-primary gh-btn-icon","save"]],null],[2,"\\n            "],[13],[2,"\\n        "]],"parameters":[]}]]],[2,"\\n\\n        "],[8,"tags/tag-form",[],[["@tag"],[[32,0,["model"]]]],null],[2,"\\n    "],[13],[2,"\\n\\n"],[6,[37,4],[[32,0,["tag","isNew"]]],null,[["default"],[{"statements":[[2,"        "],[10,"div"],[12],[2,"\\n            "],[11,"button"],[24,0,"gh-btn gh-btn-red gh-btn-icon"],[24,"data-test-button","delete-tag"],[24,4,"button"],[4,[38,0],["click",[32,0,["confirmDeleteTag"]]],null],[12],[2,"\\n                "],[10,"span"],[12],[2,"Delete tag"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["on","svg-jar","if","on-key","unless"]}',moduleName:"ghost-admin/templates/tag.hbs"})
e.default=t})),define("ghost-admin/templates/tags-loading",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"azfzT5cR",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Tags"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New tag"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"div"],[14,0,"gh-content"],[12],[2,"\\n        "],[8,"gh-loading-spinner",[],[[],[]],null],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":[]}',moduleName:"ghost-admin/templates/tags-loading.hbs"})
e.default=t})),define("ghost-admin/templates/tags",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"d4mHUhIz",block:'{"symbols":["tag"],"statements":[[11,"section"],[24,0,"gh-canvas"],[4,[38,1],["c",[32,0,["newTag"]]],null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header sticky"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"Tags"],[13],[2,"\\n        "],[10,"section"],[14,0,"view-actions"],[12],[2,"\\n            "],[10,"div"],[14,0,"gh-contentfilter gh-btn-group"],[12],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,3],[[30,[36,2],[[32,0,["type"]],"public"],null],"gh-btn-group-selected"],null]]]],[24,"data-test-tags-nav","public"],[16,"data-test-active",[30,[36,2],[[32,0,["type"]],"public"],null]],[24,4,"button"],[4,[38,4],[[32,0],"changeType","public"],null],[12],[10,"span"],[12],[2,"Public tags"],[13],[13],[2,"\\n                "],[11,"button"],[16,0,[31,["gh-btn ",[30,[36,3],[[30,[36,2],[[32,0,["type"]],"internal"],null],"gh-btn-group-selected"],null]]]],[24,"data-test-tags-nav","internal"],[16,"data-test-active",[30,[36,2],[[32,0,["type"]],"internal"],null]],[24,4,"button"],[4,[38,4],[[32,0],"changeType","internal"],null],[12],[10,"span"],[12],[2,"Internal tags"],[13],[13],[2,"\\n            "],[13],[2,"\\n            "],[8,"link-to",[[24,0,"gh-btn gh-btn-primary"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[10,"span"],[12],[2,"New tag"],[13]],"parameters":[]}]]],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n\\n    "],[10,"section"],[14,0,"view-container content-list"],[12],[2,"\\n        "],[10,"ol"],[15,0,[31,["tags-list gh-list ",[30,[36,5],[[32,0,["sortedTags"]],"no-posts"],null]]]],[12],[2,"\\n"],[6,[37,3],[[32,0,["sortedTags"]]],null,[["default","else"],[{"statements":[[2,"                "],[10,"li"],[14,0,"gh-list-row header"],[12],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-70"],[12],[2,"Tag"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[2,"Slug"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[2,"No. of posts"],[13],[2,"\\n                    "],[10,"div"],[14,0,"gh-list-header gh-list-cellwidth-10"],[12],[13],[2,"\\n                "],[13],[2,"\\n                "],[8,"vertical-collection",[],[["@items","@key","@containerSelector","@estimateHeight","@bufferSize"],[[32,0,["sortedTags"]],"id",".gh-main",60,20]],[["default"],[{"statements":[[2,"\\n                    "],[8,"tags/list-item",[[16,"data-test-tag",[32,1,["id"]]]],[["@tag"],[[32,1]]],null],[2,"\\n                "]],"parameters":[1]}]]],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                "],[10,"li"],[14,0,"no-posts-box"],[12],[2,"\\n                    "],[10,"div"],[14,0,"no-posts"],[12],[2,"\\n                            "],[1,[30,[36,0],["tags-placeholder"],[["class"],["gh-tags-placeholder"]]]],[2,"\\n                            "],[10,"h4"],[12],[2,"Start organizing your content."],[13],[2,"\\n                            "],[8,"link-to",[[24,0,"gh-btn gh-btn-green"]],[["@route"],["tag.new"]],[["default"],[{"statements":[[2,"\\n                                "],[10,"span"],[12],[2,"Create a new tag"],[13],[2,"\\n                            "]],"parameters":[]}]]],[2,"\\n                    "],[13],[2,"\\n                "],[13],[2,"\\n"]],"parameters":[]}]]],[2,"        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n\\n"],[1,[30,[36,7],[[30,[36,6],null,null]],null]]],"hasEval":false,"upvars":["svg-jar","on-key","eq","if","action","unless","-outlet","component"]}',moduleName:"ghost-admin/templates/tags.hbs"})
e.default=t})),define("ghost-admin/templates/websockets",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"/vKWAkG7",block:'{"symbols":[],"statements":[[10,"section"],[14,0,"gh-canvas"],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"div"],[14,0,"flex flex-column"],[12],[2,"\\n            "],[10,"h2"],[14,0,"gh-canvas-title"],[14,"data-test-screen-title",""],[12],[2,"\\n                Testing Websockets\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n"],[6,[37,2],[[30,[36,1],["websockets"],null]],null,[["default","else"],[{"statements":[[2,"    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-tip"],[12],[1,[30,[36,0],["idea"],null]],[2,"This is a testing ground for new or experimental features. They\\n            may change, break or inexplicably disappear at any time."],[13],[2,"\\n        "],[10,"div"],[14,0,"gh-main-section"],[12],[2,"\\n            "],[10,"h4"],[14,0,"gh-main-section-header small bn"],[12],[2,"Secrets"],[13],[2,"\\n            "],[10,"div"],[14,0,"gh-expandable"],[12],[2,"\\n                "],[10,"div"],[14,0,"gh-expandable-block"],[12],[2,"\\n                    "],[8,"websockets",[],[[],[]],null],[2,"\\n                "],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"    "],[10,"section"],[14,0,"view-container settings-debug"],[12],[2,"\\n        "],[10,"p"],[14,0,"gh-box gh-box-alert"],[12],[1,[30,[36,0],["warning-stroke"],null]],[2,"This is a testing ground for new or experimental features. You need developer experiments\\n            enabled to see the content here.\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"]],"parameters":[]}]]],[13]],"hasEval":false,"upvars":["svg-jar","feature","if"]}',moduleName:"ghost-admin/templates/websockets.hbs"})
e.default=t})),define("ghost-admin/templates/whatsnew",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.HTMLBars.template({id:"lAtDNk3B",block:'{"symbols":["entry"],"statements":[[11,"section"],[24,0,"gh-canvas js-settings-content gh-whats-new-canvas"],[4,[38,4],null,null],[12],[2,"\\n    "],[8,"gh-canvas-header",[[24,0,"gh-canvas-header"]],[[],[]],[["default"],[{"statements":[[2,"\\n        "],[10,"h2"],[14,0,"gh-whats-new-heading"],[12],[1,[30,[36,5],["gift"],null]],[2," What\'s new?"],[13],[2,"\\n        "],[10,"a"],[14,6,"https://ghost.org/changelog/#/portal/signup"],[14,0,"gh-btn gh-btn-primary"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,4,"button"],[12],[10,"span"],[12],[2,"Turn on notifications"],[13],[13],[2,"\\n    "]],"parameters":[]}]]],[2,"\\n    "],[10,"section"],[14,0,"view-container"],[12],[2,"\\n        "],[10,"div"],[14,0,"gh-about-container"],[12],[2,"\\n            "],[11,"section"],[24,0,"gh-whats-new gh-about-box"],[4,[38,7],[[30,[36,6],[[32,0,["whatsNew","updateLastSeen"]]],null]],null],[12],[2,"\\n"],[6,[37,9],[[30,[36,8],[[30,[36,8],[[32,0,["whatsNew","entries"]]],null]],null]],null,[["default"],[{"statements":[[2,"                    "],[11,"div"],[24,0,"gh-wn-entry"],[4,[38,1],null,[["when"],[[30,[36,0],[[32,1,["slug"]],[32,0,["entry"]]],null]]]],[12],[2,"\\n                        "],[10,"a"],[15,6,[31,[[32,1,["url"]]]]],[12],[2,"\\n                            "],[10,"h4"],[12],[1,[30,[36,2],[[32,1,["published_at"]],"DD MMMM YYYY"],null]],[13],[2,"\\n                            "],[10,"h1"],[12],[1,[32,1,["title"]]],[13],[2,"\\n"],[6,[37,3],[[32,1,["feature_image"]]],null,[["default"],[{"statements":[[2,"                                "],[10,"img"],[14,0,"mb5"],[15,"src",[32,1,["feature_image"]]],[12],[13],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                        "],[10,"div"],[14,0,"gh-wn-content"],[12],[2,"\\n"],[6,[37,3],[[32,1,["custom_excerpt"]]],null,[["default","else"],[{"statements":[[2,"                            "],[10,"p"],[12],[1,[32,1,["custom_excerpt"]]],[13],[2,"\\n                            "],[10,"a"],[15,6,[32,1,["url"]]],[14,0,"dib fw6 mb6"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"Read the full post â†’"],[13],[2,"\\n"]],"parameters":[]},{"statements":[[2,"                            "],[2,[32,1,["html"]]],[2,"\\n"]],"parameters":[]}]]],[2,"                        "],[13],[2,"\\n                    "],[13],[2,"\\n"]],"parameters":[1]}]]],[2,"                "],[10,"a"],[14,0,"green"],[14,6,"https://ghost.org/changelog"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[12],[2,"View all updates â†’"],[13],[2,"\\n            "],[13],[2,"\\n        "],[13],[2,"\\n    "],[13],[2,"\\n"],[13],[2,"\\n"]],"hasEval":false,"upvars":["eq","scroll-to","moment-format","if","scroll-top","svg-jar","perform","did-insert","-track-array","each"]}',moduleName:"ghost-admin/templates/whatsnew.hbs"})
e.default=t})),define("ghost-admin/transforms/boolean",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.BooleanTransform}})})),define("ghost-admin/transforms/date",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.DateTransform}})})),define("ghost-admin/transforms/facebook-url-user",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){if(e){let[,t]=e.match(/(\S+)/)||[]
return`https://www.facebook.com/${t}`}return e}serialize(e){if(e){let[,t]=e.match(/(?:https:\/\/)(?:www\.)(?:facebook\.com)\/(?:#!\/)?(\w+\/?\S+)/im)||[]
return t}return e}}e.default=i})),define("ghost-admin/transforms/json-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){let t=""===e?null:e
return JSON.parse(t)}serialize(e){return e?JSON.stringify(e):null}}e.default=i})),define("ghost-admin/transforms/member-subscription",["exports","ghost-admin/models/member-subscription","@ember-data/serializer/transform"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends i.default{deserialize(e){let i,n
return n=e||[],i=n.map((e=>t.default.create(e))),Ember.A(i)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>e)).compact():[],t}}e.default=n})),define("ghost-admin/transforms/member-tier",["exports","ghost-admin/models/member-tier","@ember-data/serializer/transform"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends i.default{deserialize(e){let i,n
return n=e||[],i=n.map((e=>t.default.create(e))),Ember.A(i)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>e)).compact():[],t}}e.default=n})),define("ghost-admin/transforms/members-segment-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){return"all"===e?"status:free,status:-free":"none"===e?null:e}serialize(e){return"status:free,status:-free"===e?"all":e||"none"}}e.default=i})),define("ghost-admin/transforms/moment-date",["exports","@ember-data/serializer/transform","moment-timezone"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){return e?(0,i.default)(e):e}serialize(e){return e?(0,i.default)(e).toDate():e}}e.default=n})),define("ghost-admin/transforms/moment-utc",["exports","@ember-data/serializer/transform","moment-timezone"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends t.default{deserialize(e){return e?i.default.utc(e):e}serialize(e){if(e)try{return e.toJSON()}catch(t){return e}return e}}e.default=n})),define("ghost-admin/transforms/navigation-settings",["exports","ghost-admin/models/navigation-item","@ember-data/serializer/transform"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends i.default{deserialize(e,i){let n,r
try{r=JSON.parse(e)||[]}catch(a){r=[]}return n=r.map((e=>(e.isSecondary=i&&i.isSecondary||!1,t.default.create(e)))),Ember.A(n)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>({label:e.label.trim(),url:e.url.trim()}))).compact():[],JSON.stringify(t)}}e.default=n})),define("ghost-admin/transforms/number",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.NumberTransform}})})),define("ghost-admin/transforms/raw",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){return e}serialize(e){return e}}e.default=i})),define("ghost-admin/transforms/string",["exports","@ember-data/serializer/-private"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.StringTransform}})})),define("ghost-admin/transforms/tier-benefits",["exports","ghost-admin/models/tier-benefit-item","@ember-data/serializer/transform"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class n extends i.default{deserialize(e){let i,n
return n=e||[],i=n.map((e=>t.default.create({name:e}))),Ember.A(i)}serialize(e){let t
return t=Ember.isArray(e)?e.map((e=>e.get("name").trim())).compact():[],t}}e.default=n})),define("ghost-admin/transforms/twitter-url-user",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){if(e){let[,t]=e.match(/@?([^/]*)/)||[]
return`https://twitter.com/${t}`}return e}serialize(e){if(e){let[,t]=e.match(/(?:https:\/\/)(?:twitter\.com)\/(?:#!\/)?@?([^/]*)/)||[]
return`@${t}`}return e}}e.default=i})),define("ghost-admin/transforms/visibility-string",["exports","@ember-data/serializer/transform"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
class i extends t.default{deserialize(e){return"members"===e?"status:free,status:-free":"paid"===e?"status:-free":e}serialize(e){return"status:free,status:-free"===e?"members":"status:-free"===e?"paid":e}}e.default=i})),define("ghost-admin/transitions",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){this.transition(this.hasClass("fullscreen-modal-container"),this.toValue(!0),this.use("fade",{duration:150}),this.reverse("fade",{duration:150})),this.transition(this.hasClass("fade-transition"),this.use("crossFade",{duration:100}))}}))
define("ghost-admin/transitions/cross-fade",["exports","liquid-fire/transitions/cross-fade"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/default",["exports","liquid-fire/transitions/default"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/explode",["exports","liquid-fire/transitions/explode"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/fade",["exports","liquid-fire/transitions/fade"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/flex-grow",["exports","liquid-fire/transitions/flex-grow"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/fly-to",["exports","liquid-fire/transitions/fly-to"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/move-over",["exports","liquid-fire/transitions/move-over"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/scale",["exports","liquid-fire/transitions/scale"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/scroll-then",["exports","liquid-fire/transitions/scroll-then"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-down",["exports","liquid-fire/transitions/to-down"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-left",["exports","liquid-fire/transitions/to-left"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-right",["exports","liquid-fire/transitions/to-right"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/to-up",["exports","liquid-fire/transitions/to-up"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/wait",["exports","liquid-fire/transitions/wait"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/transitions/wormhole",["exports","liquid-wormhole/transitions/wormhole"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let e
this.newElement&&(e=this.newElement.find(".liquid-wormhole-element:last-child"))
return t.default.apply(this,arguments).finally((()=>{if(this.newElement&&e){let t=e[0].querySelector("[autofocus]")
t&&t.focus()}}))}})),define("ghost-admin/utils/analytics",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t={}){window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)},window.plausible(e,{props:t})}})),define("ghost-admin/utils/bound-one-way",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){"function"!=typeof t&&(t=function(e){return e})
return Ember.computed(e,{get(){return t(this.get(e))},set:(e,t)=>t})}})),define("ghost-admin/utils/caja-sanitizers",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={url:function(e){if(e=e.toString().replace(/['"]+/g,""),/^https?:\/\//.test(e)||/^\//.test(e))return e},id:function(e){return e}}
e.default=t})),define("ghost-admin/utils/calculate-position",["exports","ember-basic-dropdown/utils/calculate-position"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/utils/copy-text-to-clipboard",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){navigator.clipboard.writeText(e)}})),define("ghost-admin/utils/ctrl-or-cmd",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=-1!==navigator.userAgent.indexOf("Mac")?"command":"ctrl"
e.default=t})),define("ghost-admin/utils/currency",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.currencies=void 0,e.getCurrencyOptions=function(){const e=t.slice(0,5).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode}))),i=t.slice(5,t.length).map((e=>({value:e.isoCode.toLowerCase(),label:`${e.isoCode} - ${e.name}`,isoCode:e.isoCode})))
return[{groupName:"â€”",options:e},{groupName:"â€”",options:i}]},e.getNonDecimal=function(e){return e/100},e.getSymbol=function(e){if(!e)return""
return Intl.NumberFormat("en",{currency:e,style:"currency"}).format(0).replace(/[\d\s.]/g,"")},e.minimumAmountForCurrency=function(e){const t=e?.toUpperCase()
switch(t){case"AED":case"MYR":case"PLN":case"RON":return 4
case"BGN":return 2
case"CZK":return 30
case"DKK":return 5
case"HKD":return 8
case"HUF":return 250
case"JPY":return 100
case"MXN":case"THB":return 20
case"NOK":case"SEK":return 6
default:return 1}}
const t=[{isoCode:"USD",name:"United States dollar"},{isoCode:"EUR",name:"Euro"},{isoCode:"GBP",name:"Pound sterling"},{isoCode:"AUD",name:"Australian dollar"},{isoCode:"CAD",name:"Canadian dollar"},{isoCode:"AED",name:"United Arab Emirates dirham"},{isoCode:"AFN",name:"Afghan afghani"},{isoCode:"ALL",name:"Albanian lek"},{isoCode:"AMD",name:"Armenian dram"},{isoCode:"ANG",name:"Netherlands Antillean guilder"},{isoCode:"AOA",name:"Angolan kwanza"},{isoCode:"ARS",name:"Argentine peso"},{isoCode:"AWG",name:"Aruban florin"},{isoCode:"AZN",name:"Azerbaijani manat"},{isoCode:"BAM",name:"Bosnia and Herzegovina convertible mark"},{isoCode:"BBD",name:"Barbados dollar"},{isoCode:"BDT",name:"Bangladeshi taka"},{isoCode:"BGN",name:"Bulgarian lev"},{isoCode:"BMD",name:"Bermudian dollar"},{isoCode:"BND",name:"Brunei dollar"},{isoCode:"BOB",name:"Boliviano"},{isoCode:"BRL",name:"Brazilian real"},{isoCode:"BSD",name:"Bahamian dollar"},{isoCode:"BWP",name:"Botswana pula"},{isoCode:"BZD",name:"Belize dollar"},{isoCode:"CDF",name:"Congolese franc"},{isoCode:"CHF",name:"Swiss franc"},{isoCode:"CNY",name:"Chinese yuan"},{isoCode:"COP",name:"Colombian peso"},{isoCode:"CRC",name:"Costa Rican colon"},{isoCode:"CVE",name:"Cape Verdean escudo"},{isoCode:"CZK",name:"Czech koruna"},{isoCode:"DKK",name:"Danish krone"},{isoCode:"DOP",name:"Dominican peso"},{isoCode:"DZD",name:"Algerian dinar"},{isoCode:"EGP",name:"Egyptian pound"},{isoCode:"ETB",name:"Ethiopian birr"},{isoCode:"FJD",name:"Fiji dollar"},{isoCode:"FKP",name:"Falkland Islands pound"},{isoCode:"GEL",name:"Georgian lari"},{isoCode:"GIP",name:"Gibraltar pound"},{isoCode:"GMD",name:"Gambian dalasi"},{isoCode:"GTQ",name:"Guatemalan queztal"},{isoCode:"GYD",name:"Guyanese dollar"},{isoCode:"HKD",name:"Hong Kong dollar"},{isoCode:"HNL",name:"Honduran lempira"},{isoCode:"HRK",name:"Croation kuna"},{isoCode:"HTG",name:"Haitian gourde"},{isoCode:"HUF",name:"Hungarian forint"},{isoCode:"IDR",name:"Indonesian rupiah"},{isoCode:"ILS",name:"Israeli new shekel"},{isoCode:"INR",name:"Indian rupee"},{isoCode:"ISK",name:"Icelandic krÃ³na"},{isoCode:"JMD",name:"Jamaican dollar"},{isoCode:"KES",name:"Kenyan shilling"},{isoCode:"KGS",name:"Kyrgyzstani som"},{isoCode:"KHR",name:"Cambodian riel"},{isoCode:"KYD",name:"Cayman Islands dollar"},{isoCode:"KZT",name:"Kazakhstani tenge"},{isoCode:"LAK",name:"Lao kip"},{isoCode:"LBP",name:"Lebanese pound"},{isoCode:"LKR",name:"Sri Lankan rupee"},{isoCode:"LRD",name:"Liberian dollar"},{isoCode:"LSL",name:"Lesotho loti"},{isoCode:"MAD",name:"Moroccan dirham"},{isoCode:"MDL",name:"Moldovan leu"},{isoCode:"MKD",name:"Macedonian denar"},{isoCode:"MMK",name:"Myanmar kyat"},{isoCode:"MNT",name:"Mongolian tÃ¶grÃ¶g"},{isoCode:"MOP",name:"Macanese pataca"},{isoCode:"MRO",name:"Mauritanian ouguiya"},{isoCode:"MUR",name:"Mauritian rupee"},{isoCode:"MVR",name:"Maldivian rufiyaa"},{isoCode:"MWK",name:"Malawian kwacha"},{isoCode:"MXN",name:"Mexican peso"},{isoCode:"MYR",name:"Malaysian ringgit"},{isoCode:"MZN",name:"Mozambican metical"},{isoCode:"NAD",name:"Namibian dollar"},{isoCode:"NGN",name:"Nigerian naira"},{isoCode:"NIO",name:"Nicaraguan cÃ³rdoba"},{isoCode:"NOK",name:"Norwegian krone"},{isoCode:"NPR",name:"Nepalese rupee"},{isoCode:"NZD",name:"New Zealand dollar"},{isoCode:"PAB",name:"Panamanian balboa"},{isoCode:"PEN",name:"Peruvian sol"},{isoCode:"PGK",name:"Papua New Guinean kina"},{isoCode:"PHP",name:"Philippine peso"},{isoCode:"PKR",name:"Pakistani rupee"},{isoCode:"PLN",name:"Polish zÅ‚oty"},{isoCode:"QAR",name:"Qatari riyal"},{isoCode:"RON",name:"Romanian leu"},{isoCode:"RSD",name:"Serbian dinar"},{isoCode:"RUB",name:"Russian ruble"},{isoCode:"SAR",name:"Saudi riyal"},{isoCode:"SBD",name:"Solomon Islands dollar"},{isoCode:"SCR",name:"Seychelles rupee"},{isoCode:"SEK",name:"Swedish krona"},{isoCode:"SGD",name:"Singapore dollar"},{isoCode:"SHP",name:"Saint Helena pound"},{isoCode:"SLL",name:"Sierra Leonean leone"},{isoCode:"SOS",name:"Somali shilling"},{isoCode:"SRD",name:"Surinamese dollar"},{isoCode:"STD",name:"SÃ£o TomÃ© and PrÃ­ncipe dobra"},{isoCode:"SZL",name:"Salvadoran colÃ³n"},{isoCode:"THB",name:"Thai baht"},{isoCode:"TJS",name:"Tajikistani somoni"},{isoCode:"TOP",name:"Tongan paÊ»anga"},{isoCode:"TRY",name:"Turkish lira"},{isoCode:"TTD",name:"Trinidad and Tobago dollar"},{isoCode:"TWD",name:"New Taiwan dollar"},{isoCode:"TZS",name:"Tanzanian shilling"},{isoCode:"UAH",name:"Ukrainian hryvnia"},{isoCode:"UYU",name:"Uruguayan peso"},{isoCode:"UZS",name:"Uzbekistan som"},{isoCode:"WST",name:"Samoan tala"},{isoCode:"XCD",name:"East Caribbean dollar"},{isoCode:"YER",name:"Yemeni rial"},{isoCode:"ZAR",name:"South African rand"},{isoCode:"ZMW",name:"Zambian kwacha"}]
e.currencies=t})),define("ghost-admin/utils/flatten-grouped-options",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){const t=[]
return e.forEach((function e(i){if(i.options)return i.options.forEach(e)
t.push(i)})),t}})),define("ghost-admin/utils/format-markdown",["exports","markdown-it","markdown-it-footnote","markdown-it-lazy-headers","markdown-it-mark","markdown-it-sub","markdown-it-sup","koenig-editor/helpers/sanitize-html"],(function(e,t,i,n,r,a,s,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t=!0){let i=e||"",n=""
return n=l.render(i),(0,o.sanitizeHtml)(n,{replaceJS:t})}
let l=(0,t.default)({html:!0,breaks:!0,linkify:!0}).use(i.default).use(n.default).use(r.default).use((function(e){let t=e.renderer.rules.heading_open
e.renderer.rules.heading_open=function(e,i,n,r,a){e[i].attrs=e[i].attrs||[]
let s=function(e,t){let i=e.replace(/[^\w]/g,"").toLowerCase()
return t[i]&&(t[i]+=1,i+=t[i]),i}(e[i+1].children.reduce((function(e,t){return e+t.content}),""),{})
return e[i].attrs.push(["id",s]),t?t.apply(this,arguments):a.renderToken(...arguments)}})).use(a.default).use(s.default)
l.linkify.set({fuzzyLink:!1})})),define("ghost-admin/utils/get-scroll-parent",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function e(t){const i=t instanceof HTMLElement&&window.getComputedStyle(t).overflowY,n="visible"!==i&&"hidden"!==i
if(!t)return null
if(n&&t.scrollHeight>=t.clientHeight)return t
return e(t.parentNode)||document.body}})),define("ghost-admin/utils/ghost-paths",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){let e=window.location.pathname,i=e.substr(0,e.search("/ghost/")),n=`${i}/ghost/`,r=`${i}/ghost/api/admin`
return{adminRoot:n,assetRoot:`${i}/ghost/assets/`,apiRoot:r,subdir:i,blogRoot:`${i}/`,url:{admin(){return t(n,arguments)},api(){return t(r,arguments)},join(){if(arguments.length>1)return t(arguments[0],Array.prototype.slice.call(arguments,1))
if(1===arguments.length){let[e]=arguments
return"/"===e.slice(-1)?e:`${e}/`}return"/"}}}}
let t=function(e,t){let i=/^\//,n=/\/$/,r=Array.prototype.slice.call(t,0),a=e.replace(n,"")
return r.forEach((e=>{e&&(a=[a,e.replace(i,"").replace(n,"")].join("/"))})),a+="/"}})),define("ghost-admin/utils/isNumber",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e){return"number"==typeof e||e&&"object"==typeof e&&"[object Number]"===t.call(e)||!1}
const{toString:t}=Object.prototype})),define("ghost-admin/utils/link-component",[],(function(){Ember.LinkComponent.reopen({active:Ember.computed("attrs.params","_routing.currentState",(function(){let e=this._super(...arguments)
return"function"==typeof this.alternateActive&&this.alternateActive(e),e})),activeClass:Ember.computed("tagName",(function(){return"button"===this.tagName?"":"active"}))})})),define("ghost-admin/utils/password-generator",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,r,a,s){var o,l,u="",c=[]
null==e&&(e=10)
null==r&&(r=!0)
null==a&&(a=/\w/)
null==s&&(s="")
if(!r){for(l=33;126>l;l+=1)(u=String.fromCharCode(l)).match(a)&&c.push(u)
if(!c.length)throw new Error("Could not find characters that match the password pattern "+a+". Patterns must match individual characters, not the password as a whole.")}for(;s.length<e;)r?(a=s.match(i)?t:i,o=n(33,126),u=String.fromCharCode(o)):u=c[n(0,c.length)],r&&(u=u.toLowerCase()),u.match(a)&&(s=""+s+u)
return s}
const t=/[aeiou]$/i,i=/[bcdfghjklmnpqrstvwxyz]$/i
function n(e,t){var i,r,a,s=new Uint8Array(t)
for(i in a=s,window.crypto.getRandomValues(a),s)if(Object.prototype.hasOwnProperty.call(s,i)&&(r=s[i])>e&&r<t)return r
return n(e,t)}})),define("ghost-admin/utils/publish-options",["exports","moment-timezone","ember-concurrency"],(function(e,t,i){var n,r,a,s,o,l,u,c,d,p,m,h,b,g,f,v,y,w,k,E,P,O,j,_,T
function z(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function x(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function S(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let C=(n=Ember._tracked,r=Ember._tracked,a=Ember._tracked,s=Ember._tracked,o=Ember._action,l=Ember._action,u=Ember._action,c=Ember._tracked,d=Ember._tracked,p=Ember._action,m=Ember._tracked,h=Ember._tracked,b=Ember._action,g=Ember._action,f=(0,i.task)({drop:!0}),v=(0,i.task)({drop:!0}),w=S((y=class{get isLoading(){return this.setupTask.isRunning}get willEmail(){return"publish"!==this.publishType&&this.recipientFilter&&this.post.isDraft&&!this.post.email||this.post.isDraft&&this.post.email&&"failed"===this.post.email.status}get willEmailImmediately(){return this.willEmail&&!this.isScheduled}get willPublish(){return"send"!==this.publishType}get willOnlyEmail(){return"send"===this.publishType}get minScheduledAt(){return t.default.utc().add(5,"seconds").milliseconds(0)}get defaultScheduledAt(){return t.default.utc().add(10,"minutes").milliseconds(0)}toggleScheduled(e){void 0===e&&(e=!this.isScheduled),this.isScheduled=e,!e||this.scheduledAtUTC&&!this.scheduledAtUTC.isBefore(this.defaultScheduledAt)||(this.scheduledAtUTC=this.defaultScheduledAt)}setScheduledAt(e){(e=t.default.utc(e).milliseconds(0)).isBefore(this.minScheduledAt)?this.scheduledAtUTC=this.minScheduledAt:this.scheduledAtUTC=e}resetPastScheduledAt(){this.scheduledAtUTC.isBefore(this.minScheduledAt)&&(this.isScheduled=!1,this.scheduledAt=null)}get publishTypeOptions(){return[{value:"publish+send",label:"Publish and email",display:"Publish and email",disabled:this.emailDisabled},{value:"publish",label:"Publish only",display:"Publish"},{value:"send",label:"Email only",display:"Email",disabled:this.emailDisabled}]}get selectedPublishTypeOption(){return this.publishTypeOptions.find((e=>e.value===this.publishType))}get emailDisabledInSettings(){return"disabled"===this.settings.editorDefaultEmailRecipients||"none"===this.settings.membersSignupAccess}get emailUnavailable(){return this.post.isPage||this.post.email||this.emailDisabledInSettings}get emailDisabled(){const e=0===this.totalMemberCount
return!this.mailgunIsConfigured||e||this.emailDisabledError}get mailgunIsConfigured(){return this.settings.mailgunIsConfigured||this.config.mailgunIsConfigured}setPublishType(e){this.publishType=e}get newsletters(){return this.allNewsletters.filter((e=>"active"===e.status)).sort((({sortOrder:e},{sortOrder:t})=>e-t))}get defaultNewsletter(){return this.newsletters[0]}get onlyDefaultNewsletter(){return 1===this.newsletters.length}get recipientFilter(){return void 0===this.selectedRecipientFilter?this.post.newsletter&&this.post.emailSegment||this.defaultRecipientFilter:this.selectedRecipientFilter}get defaultRecipientFilter(){const e=this.settings.editorDefaultEmailRecipients,t=this.settings.editorDefaultEmailRecipientsFilter
return"disabled"===e?null:"visibility"===e||"filter"===e&&null===t?"public"===this.post.visibility||"members"===this.post.visibility?"status:free,status:-free":"paid"===this.post.visibility?"status:-free":"tiers"===this.post.visibility?this.post.visibilitySegment:this.post.visibility:t}get fullRecipientFilter(){let e=this.newsletter.recipientFilter
return this.recipientFilter&&(e+=`+(${this.recipientFilter})`),e}setNewsletter(e){this.newsletter=e}setRecipientFilter(e){this.selectedRecipientFilter=e}constructor({config:e,limit:t,post:i,settings:n,store:r,user:a}={}){x(this,"config",null),x(this,"limit",null),x(this,"settings",null),x(this,"store",null),x(this,"post",null),x(this,"user",null),z(this,"publishDisabledError",w,this),z(this,"totalMemberCount",k,this),z(this,"isScheduled",E,this),z(this,"scheduledAtUTC",P,this),z(this,"publishType",O,this),z(this,"emailDisabledError",j,this),x(this,"allNewsletters",[]),z(this,"newsletter",_,this),z(this,"selectedRecipientFilter",T,this),this.config=e,this.limit=t,this.post=i,this.settings=n,this.store=r,this.user=a,this.allNewsletters=this.store.peekAll("newsletter"),this.setupTask.perform()}*setupTask(){yield this.fetchRequiredDataTask.perform(),this.newsletter=this.defaultNewsletter,(this.emailUnavailable||this.emailDisabled)&&(this.publishType="publish"),"filter"===this.settings.editorDefaultEmailRecipients&&null===this.settings.editorDefaultEmailRecipientsFilter&&(this.publishType="publish"),this.post.isSent&&(this.publishType="send")}*fetchRequiredDataTask(){const e=[]
this.user.isAdmin?e.push(this.store.query("member",{limit:1}).then((e=>{this.totalMemberCount=e.meta.pagination.total}))):this.totalMemberCount=1,e.push(this._checkSendingLimit()),e.push(this._checkPublishingLimit()),this.user.isContributor||e.push(this.store.query("newsletter",{status:"active",limit:"all",include:"count.active_members"})),yield Promise.all(e)}*saveTask(){const e=this.willEmail
this._applyModelChanges()
const t={}
e&&(t.newsletter=this.newsletter.slug,t.emailSegment=this.recipientFilter)
try{return yield this.post.save({adapterOptions:t})}catch(i){throw this._revertModelChanges(),i}}*revertToDraftTask(){const e=this.post.status,t=this.post.publishedAtUTC
try{return this.post.isScheduled&&(this.post.publishedAtUTC=null),this.post.status="draft",this.post.emailOnly=!1,yield this.post.save()}catch(i){throw this.post.status=e,this.post.publishedAtUTC=t,i}}_applyModelChanges(){const e=this.willEmail
if(this._originalModelValues={},!this.post.isDraft)return;["status","publishedAtUTC","emailOnly"].forEach((e=>{this._originalModelValues[e]=this.post[e]})),this.post.status=this.isScheduled?"scheduled":"published",this.isScheduled&&(this.post.publishedAtUTC=this.scheduledAtUTC),e&&(this.post.emailOnly="send"===this.publishType)}_revertModelChanges(){Object.keys(this._originalModelValues).forEach((e=>{this.post[e]=this._originalModelValues[e]}))}async _checkSendingLimit(){await this.settings.reload()
try{this.limit.limiter&&this.limit.limiter.isLimited("emails")?await this.limit.limiter.errorIfWouldGoOverLimit("emails"):this.settings.emailVerificationRequired&&(this.emailDisabledError="Email sending is temporarily disabled because your account is currently in review. You should have an email about this from us already, but you can also reach us any time at support@ghost.org.")}catch(e){this.emailDisabledError=e.message}}async _checkPublishingLimit(){if(this.user.isAdmin)try{this.limit.limiter?.isLimited("members")&&await this.limit.limiter.errorIfIsOverLimit("members")}catch(e){const t=Ember.String.htmlSafe(e.message.replace(/please upgrade/i,'<a href="#/pro">$&</a>'))
this.publishDisabledError=t}}}).prototype,"publishDisabledError",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=S(y.prototype,"totalMemberCount",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),E=S(y.prototype,"isScheduled",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),P=S(y.prototype,"scheduledAtUTC",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.minScheduledAt}}),S(y.prototype,"toggleScheduled",[o],Object.getOwnPropertyDescriptor(y.prototype,"toggleScheduled"),y.prototype),S(y.prototype,"setScheduledAt",[l],Object.getOwnPropertyDescriptor(y.prototype,"setScheduledAt"),y.prototype),S(y.prototype,"resetPastScheduledAt",[u],Object.getOwnPropertyDescriptor(y.prototype,"resetPastScheduledAt"),y.prototype),O=S(y.prototype,"publishType",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"publish+send"}}),j=S(y.prototype,"emailDisabledError",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S(y.prototype,"setPublishType",[p],Object.getOwnPropertyDescriptor(y.prototype,"setPublishType"),y.prototype),_=S(y.prototype,"newsletter",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S(y.prototype,"selectedRecipientFilter",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),S(y.prototype,"setNewsletter",[b],Object.getOwnPropertyDescriptor(y.prototype,"setNewsletter"),y.prototype),S(y.prototype,"setRecipientFilter",[g],Object.getOwnPropertyDescriptor(y.prototype,"setRecipientFilter"),y.prototype),S(y.prototype,"setupTask",[i.task],Object.getOwnPropertyDescriptor(y.prototype,"setupTask"),y.prototype),S(y.prototype,"fetchRequiredDataTask",[i.task],Object.getOwnPropertyDescriptor(y.prototype,"fetchRequiredDataTask"),y.prototype),S(y.prototype,"saveTask",[f],Object.getOwnPropertyDescriptor(y.prototype,"saveTask"),y.prototype),S(y.prototype,"revertToDraftTask",[v],Object.getOwnPropertyDescriptor(y.prototype,"revertToDraftTask"),y.prototype),y)
e.default=C}))
define("ghost-admin/utils/route",["ghost-admin/decorators/inject"],(function(e){Ember.Route.reopen({billing:Ember.inject.service(),router:Ember.inject.service(),config:(0,e.inject)(),actions:{willTransition(e){return this.get("upgradeStatus.isRequired")?(e.abort(),this.upgradeStatus.requireUpgrade(),!1):!this.config.hostSettings?.forceUpgrade||("pro.index"===e.to?.name||"signout"===e.to?.name||(e.abort(),this.billing.openBillingWindow(this.router.currentURL,"/pro"),!1))}}})})),define("ghost-admin/utils/selection-list",["exports"],(function(e){var t,i,n,r,a,s,o,l,u,c,d
function p(e,t,i,n){i&&Object.defineProperty(e,t,{enumerable:i.enumerable,configurable:i.configurable,writable:i.writable,value:i.initializer?i.initializer.call(n):void 0})}function m(e,t,i){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")})(e,t),t.set(e,i)}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e
var i=e[Symbol.toPrimitive]
if(void 0!==i){var n=i.call(e,t||"default")
if("object"!=typeof n)return n
throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string")
return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function b(e,t){return function(e,t){if(t.get)return t.get.call(e)
return t.value}(e,f(e,t,"get"))}function g(e,t,i){return function(e,t,i){if(t.set)t.set.call(e,i)
else{if(!t.writable)throw new TypeError("attempted to set read only private field")
t.value=i}}(e,f(e,t,"set"),i),i}function f(e,t,i){if(!t.has(e))throw new TypeError("attempted to "+i+" private field on non-instance")
return t.get(e)}function v(e,t,i,n,r){var a={}
return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=i.slice().reverse().reduce((function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
let y=(t=Ember._tracked,i=Ember._tracked,n=Ember._tracked,r=Ember._tracked,c=new WeakMap,d=new WeakMap,a=class e{constructor(e){p(this,"selectedIds",s,this),p(this,"inverted",o,this),p(this,"lastSelectedId",l,this),p(this,"lastShiftSelectionGroup",u,this),h(this,"enabled",!0),h(this,"infinityModel",void 0),m(this,c,{writable:!0,value:!1}),m(this,d,{writable:!0,value:!1}),this.infinityModel=e??{content:[]}}freeze(){g(this,c,!0)}unfreeze(){g(this,c,!1),b(this,d)&&(this.clearSelection(),g(this,d,!1))}clearOnNextUnfreeze(){g(this,d,!0)}get allFilter(){return this.infinityModel.extraParams?.filter??""}get filter(){return this.inverted?this.allFilter?0===this.selectedIds.size?this.allFilter:`(${this.allFilter})+id:-['${[...this.selectedIds].join("','")}']`:0===this.selectedIds.size?"":`id:-['${[...this.selectedIds].join("','")}']`:0===this.selectedIds.size?"id:nothing":`id:['${[...this.selectedIds].join("','")}']`}cloneEmpty(){return new e(this.infinityModel)}get availableModels(){const e=[]
for(const t of this.infinityModel.content)this.isSelected(t.id)&&e.push(t)
return e}get first(){return this.availableModels[0]}get isSingle(){return 1===this.selectedIds.size&&!this.inverted}get count(){return this.inverted?Math.max((this.infinityModel.meta?.pagination?.total??0)-this.selectedIds.size,1):this.selectedIds.size}isSelected(e){return this.inverted?!this.selectedIds.has(e):this.selectedIds.has(e)}toggleItem(e){b(this,c)||(this.lastShiftSelectionGroup=new Set,this.selectedIds.has(e)?(this.selectedIds.delete(e),this.inverted?this.lastSelectedId=e:this.lastSelectedId===e&&(this.lastSelectedId=null)):(this.selectedIds.add(e),this.inverted,this.lastSelectedId=e),this.selectedIds=this.selectedIds)}clearUnavailableItems(){const e=new Set
for(const t of this.infinityModel.content)this.selectedIds.has(t.id)&&e.add(t.id)
this.selectedIds=e}shiftItem(e){if(b(this,c))return
if(null===this.lastSelectedId)return void this.toggleItem(e)
for(const i of this.lastShiftSelectionGroup)this.inverted?this.selectedIds.add(i):this.selectedIds.delete(i)
this.lastShiftSelectionGroup=new Set
let t=!1
for(const i of this.infinityModel.content){if(i.id===this.lastSelectedId||i.id===e){if(t){i.id===e&&(this.lastShiftSelectionGroup.add(i.id),this.inverted?this.selectedIds.delete(i.id):this.selectedIds.add(i.id))
break}if(t=!0,i.id===this.lastSelectedId)continue}t&&(this.lastShiftSelectionGroup.add(i.id),this.inverted?this.selectedIds.delete(i.id):this.selectedIds.add(i.id))}this.selectedIds=this.selectedIds}selectAll(){b(this,c)||(this.selectedIds=new Set,this.inverted=!this.inverted,this.lastSelectedId=null)}clearSelection(e={}){b(this,c)&&!e.force||(this.selectedIds=new Set,this.inverted=!1,this.lastSelectedId=null)}},s=v(a.prototype,"selectedIds",[t],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),o=v(a.prototype,"inverted",[i],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),l=v(a.prototype,"lastSelectedId",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=v(a.prototype,"lastShiftSelectionGroup",[r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Set}}),a)
e.default=y})),define("ghost-admin/utils/shortcuts",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getAll=function(){return Object.assign({},t)},e.includes=function(e){const i=[]
let n=!1
e.ctrlKey&&(i.push("ctrl"),n=!0)
e.shiftKey&&i.push("shift")
e.altKey&&i.push("alt")
i.push(e.key)
const r=t[i.join("+")]
if(!r&&n)return t[i.join("+").replace("ctrl","cmd")]
return r},e.register=function(e){t[e.toLowerCase()]=!0},e.unregister=function(e){delete t[e]}
const t={}})),define("ghost-admin/utils/slug-url",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t){t&&!Ember.isBlank(t.slug)&&(e+=`slug/${t.slug}/`,delete t.slug)
return e}})),define("ghost-admin/utils/titleize",["exports","ember-cli-string-helpers/utils/titleize"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})})),define("ghost-admin/utils/window-proxy",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t={changeLocation(e){window.location=e},replaceLocation(e){window.location.replace(e)},replaceState(e,t,i){window.history.replaceState(e,t,i)}}
e.default=t})),define("ghost-admin/validators/base",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Object.extend({passed:!1,init(){this._super(...arguments),this.properties=this.properties||[]},check(e,t){return this.set("passed",!0),t&&this[t]?this[t](e):this.properties.forEach((t=>{this[t]&&this[t](e)})),this.passed},invalidate(){this.set("passed",!1)}})
e.default=t})),define("ghost-admin/validators/collection",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["title"],name(e){let t=e.title,i=e.hasValidated
Ember.isBlank(t)&&(e.errors.add("title","Please enter a title."),this.invalidate()),i.addObject("title")}})
e.default=i})),define("ghost-admin/validators/custom-view",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)&&(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/integration",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)?(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate()):i.default.isLength(e.name,0,191)||(e.errors.add("name","Name is too long, max 191 chars"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/invite-user",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["email","role"],email(e){let t=e.email
Ember.isBlank(t)?(e.errors.add("email","Please enter an email."),this.invalidate()):i.default.isEmail(t)||(e.errors.add("email","Invalid Email."),this.invalidate())},role(e){let t=e.role
Ember.isBlank(t)&&(e.errors.add("role","Please select a role."),e.hasValidated.pushObject("role"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/label",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name"],name(e){Ember.isBlank(e.name)&&(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate())}})
e.default=i})),define("ghost-admin/validators/member",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","email","note"],name(e){i.default.isLength(e.name||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters."),this.invalidate())},email(e){let t=e.email
Ember.isBlank(t)?(e.errors.add("email","Please enter an email."),this.invalidate()):i.default.isEmail(t)||(e.errors.add("email","Invalid Email."),this.invalidate()),i.default.isLength(e.email||"",0,191)||(e.errors.add("email","Email cannot be longer than 191 characters."),this.invalidate()),e.hasValidated.addObject("email")},note(e){let t=e.note
i.default.isLength(t||"",0,500)||(e.errors.add("note","Note is too long."),this.invalidate()),e.hasValidated.addObject("note")}})
e.default=n})),define("ghost-admin/validators/mixins/password",["exports","validator"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const i=["1234567890","qwertyuiop","qwertzuiop","asdfghjkl;","abcdefghij","0987654321","1q2w3e4r5t","12345asdfg"],n=["ghost","password","passw0rd"]
var r=Ember.Mixin.create({_characterOccurance(e){let t,i={},n=!0
t=e.length/2
for(let r=0;r<e.length;r+=1)i[e[r]]?i[e[r]]+=1:i[e[r]]=1
for(let r in i)if(i[r]>=t)return n=!1,n
return n},passwordValidation(e,r,a){let s,o=e.config?.blogUrl||window.location.host,l=e.blogTitle||e.config?.blogTitle
if(r=r||e.password,a=a||"password",o=o.replace(/^http(s?):\/\//,""),s=o.match(/\/$/)?o:`${o}/`,l=l?l.trim().toLowerCase():l,!t.default.isLength(r||"",10))return e.errors.add(a,"Password must be at least 10 characters long."),this.invalidate()
r=r.toString(),i.forEach((t=>{t===r&&(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate())})),r.toLowerCase()===e.email.toLowerCase()&&(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),n.forEach((t=>{r.toLowerCase().indexOf(t)>=0&&(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate())})),r.toLowerCase()===l&&(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),r.toLowerCase()!==o&&r.toLowerCase()!==s||(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate()),this._characterOccurance(r)||(e.errors.add(a,"Sorry, you cannot use an insecure password."),this.invalidate())}})
e.default=r})),define("ghost-admin/validators/nav-item",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["label","url"],label(e){let t=e.label,i=e.hasValidated
Ember.isBlank(t)&&(e.errors.add("label","You must specify a label"),this.invalidate()),i.addObject("label")},url(e){let t=e.url,n=e.hasValidated,r=new RegExp(/^(\/|#|[a-zA-Z0-9-]+:)/)
Ember.isBlank(t)?(e.errors.add("url","You must specify a URL or relative path"),this.invalidate()):(t.match(/\s/)||!i.default.isURL(t,{require_protocol:!0})&&!t.match(r))&&(e.errors.add("url","You must specify a valid URL or relative path"),this.invalidate()),n.addObject("url")}})
e.default=n})),define("ghost-admin/validators/new-user",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.extend(i.default,{init(){this.properties=this.properties||["name","email","password"],this._super(...arguments)},name(e){let t=e.name
n.default.isLength(t||"",1)||(e.errors.add("name","Please enter a name."),e.hasValidated.addObject("email"),this.invalidate())},email(e){let t=e.email
Ember.isBlank(t)?(e.errors.add("email","Please enter an email."),this.invalidate()):n.default.isEmail(t)||(e.errors.add("email","Invalid Email."),this.invalidate()),e.hasValidated.addObject("email")},password(e){this.passwordValidation(e)}})
e.default=r})),define("ghost-admin/validators/newsletter",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","senderName","senderEmail","senderReplyTo"],name(e){Ember.isBlank(e.name)&&(e.errors.add("name","Please enter a name."),this.invalidate()),i.default.isLength(e.name||"",0,191)||(e.errors.add("name","Cannot be longer than 191 characters."),this.invalidate()),e.hasValidated.addObject("name")},senderName(e){i.default.isLength(e.senderName||"",0,191)||(e.errors.add("senderName","Cannot be longer than 191 characters."),this.invalidate()),e.hasValidated.addObject("senderName")},senderEmail(e){e.senderEmail&&!i.default.isEmail(e.senderEmail)&&(e.errors.add("senderEmail","Invalid email."),this.invalidate()),i.default.isLength(e.senderEmail||"",0,191)||(e.errors.add("senderEmail","Cannot be longer than 191 characters."),this.invalidate()),e.hasValidated.addObject("senderEmail")},senderReplyTo(e){Ember.isBlank(e.senderReplyTo)&&(e.errors.add("senderReplyTo","Please enter a reply-to email address."),this.invalidate()),i.default.isIn(e.senderReplyTo,["newsletter","support"])||(e.errors.add("senderReplyTo",'Can only be set to "newsletter" or "support".'),this.invalidate()),e.hasValidated.addObject("senderReplyTo")},visibility(e){Ember.isBlank(e.visibility)&&(e.errors.add("visibility","Please enter visibility."),this.invalidate()),i.default.isIn(e.senderReplyTo,["members","paid"])||(e.errors.add("visibility",'Can only be set to "members" or "paid".'),this.invalidate()),e.hasValidated.addObject("visibility")}})
e.default=n})),define("ghost-admin/validators/offer",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","amount","displayTitle","displayDescription","code","durationInMonths"],name(e){e.name||(e.errors.add("name","Please enter a name."),this.invalidate()),i.default.isLength(e.name||"",0,40)||(e.errors.add("name","Name cannot be longer than 40 characters."),this.invalidate())},amount(e){if(""===e.amount||void 0===e.amount)return e.errors.add("amount","Please enter the amount."),this.invalidate()
if("trial"===e.type){if(e.amount<1)return e.errors.add("amount","Free trial must be at least 1 day."),this.invalidate()
if(!e.amount.toString().match(/^\d+$/))return e.errors.add("amount","Trial days must be a whole number."),this.invalidate()}if("percent"===e.type){if(e.amount<0||e.amount>100)return e.errors.add("amount","Amount must be between 0 and 100%."),this.invalidate()
if(!e.amount.toString().match(/^\d+$/))return e.errors.add("amount","Amount must be a whole number."),this.invalidate()}return"fixed"===e.type&&e.amount<0?(e.errors.add("amount","Amount must be greater than 0."),this.invalidate()):void 0},displayDescription(e){i.default.isLength(e.displayDescription||"",0,191)||(e.errors.add("displayDescription","Display description cannot be longer than 191 characters."),this.invalidate())},durationInMonths(e){"repeating"!==e.duration||e.durationInMonths||(e.errors.add("durationInMonths","Please enter the duration in months."),this.invalidate())},code(e){e.code||(e.errors.add("code","Please enter an offer code."),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/post",["exports","ghost-admin/validators/base","moment-timezone","validator"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var r=t.default.create({properties:["title","authors","customExcerpt","canonicalUrl","codeinjectionHead","codeinjectionFoot","metaTitle","metaDescription","ogtitle","ogDescription","twitterTitle","twitterDescription","publishedAtBlogTime","publishedAtBlogDate","emailSubject","featureImageAlt"],title(e){Ember.isBlank(e.title)&&(e.errors.add("title","You must specify a title for the post."),this.invalidate()),n.default.isLength(e.title||"",0,255)||(e.errors.add("title","Title cannot be longer than 255 characters."),this.invalidate())},authors(e){Ember.isEmpty(e.authors)&&(e.errors.add("authors","At least one author is required."),this.invalidate())},canonicalUrl(e){let t=new RegExp(/^(\/|[a-zA-Z0-9-]+:)/),i=e.canonicalUrl
Ember.isBlank(i)||(i.match(/\s/)||!n.default.isURL(i,{require_protocol:!0})&&!i.match(t)?(e.errors.add("canonicalUrl","Please enter a valid URL"),this.invalidate()):n.default.isLength(e.canonicalUrl,0,2e3)||(e.errors.add("canonicalUrl","Canonical URL is too long, max 2000 chars"),this.invalidate()))},customExcerpt(e){n.default.isLength(e.customExcerpt||"",0,300)||(e.errors.add("customExcerpt","Excerpt cannot be longer than 300 characters."),this.invalidate())},visibility(e){Ember.isBlank(e.visibility)&&!e.isNew&&(e.errors.add("visibility","Please select at least one tier"),this.invalidate())},tiers(e){"tiers"===e.visibility&&!e.isNew&&Ember.isEmpty(e.tiers)&&(e.errors.add("tiers","Please select at least one tier"),this.invalidate())},codeinjectionFoot(e){n.default.isLength(e.codeinjectionFoot||"",0,65535)||(e.errors.add("codeinjectionFoot","Footer code cannot be longer than 65535 characters."),this.invalidate())},codeinjectionHead(e){n.default.isLength(e.codeinjectionHead||"",0,65535)||(e.errors.add("codeinjectionHead","Header code cannot be longer than 65535 characters."),this.invalidate())},metaTitle(e){n.default.isLength(e.metaTitle||"",0,300)||(e.errors.add("metaTitle","Meta Title cannot be longer than 300 characters."),this.invalidate())},metaDescription(e){n.default.isLength(e.metaDescription||"",0,500)||(e.errors.add("metaDescription","Meta Description cannot be longer than 500 characters."),this.invalidate())},ogTitle(e){n.default.isLength(e.ogTitle||"",0,300)||(e.errors.add("ogTitle","Facebook Title cannot be longer than 300 characters."),this.invalidate())},ogDescription(e){n.default.isLength(e.ogDescription||"",0,500)||(e.errors.add("ogDescription","Facebook Description cannot be longer than 500 characters."),this.invalidate())},twitterTitle(e){n.default.isLength(e.twitterTitle||"",0,300)||(e.errors.add("twitterTitle","Twitter Title cannot be longer than 300 characters."),this.invalidate())},twitterDescription(e){n.default.isLength(e.twitterDescription||"",0,500)||(e.errors.add("twitterDescription","Twitter Description cannot be longer than 500 characters."),this.invalidate())},emailSubject(e){n.default.isLength(e.emailSubject||"",0,300)||(e.errors.add("emailSubject","Email Subject cannot be longer than 300 characters."),this.invalidate())},_shouldValidatePublishedAtBlog:e=>Ember.isPresent(e.publishedAtUTC)||Ember.isPresent(e.publishedAtBlogDate)||Ember.isPresent(e.publishedAtBlogTime),publishedAtBlog(e){this.publishedAtBlogTime(e),this.publishedAtBlogDate(e)},publishedAtBlogTime(e){!/^(([0-1]?[0-9])|([2][0-3])):([0-5][0-9])$/.test(e.publishedAtBlogTime)&&this._shouldValidatePublishedAtBlog(e)&&(e.errors.add("publishedAtBlogTime",'Must be in format: "15:00"'),this.invalidate())},publishedAtBlogDate(e){let t=e.publishedAtBlogDate,n=e.publishedAtBlogTime
if(this._shouldValidatePublishedAtBlog(e)){if(Ember.isBlank(t)&&!Ember.isBlank(n))return e.errors.add("publishedAtBlogDate","Can't be blank"),this.invalidate()
if(Ember.isEmpty(e.errors.errorsFor("publishedAtBlogTime"))){let t=e.statusScratch||e.status,n=(0,i.default)(),r=e.publishedAtBlogTZ,a=r.isSameOrAfter(n)
"draft"!==t&&"published"!==t||!r.isSameOrAfter(n)?!e.changedAttributes().status&&!e.changedAttributes().publishedAtUTC||"scheduled"!==t||a||(e.errors.add("publishedAtBlogDate","Must be in the future"),this.invalidate()):(e.errors.add("publishedAtBlogDate","Must be in the past"),this.invalidate())}}},featureImageAlt(e){n.default.isLength(e.featureImageAlt||"",0,125)||(e.errors.add("featureImageAlt","Feature image alt text cannot be longer than 125 characters."),this.invalidate())}})
e.default=r})),define("ghost-admin/validators/reset",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=t.default.extend(i.default,{init(){this.properties=this.properties||["newPassword"],this._super(...arguments)},newPassword(e){let t=e.newPassword,i=e.ne2Password
Ember.isBlank(t)?(e.errors.add("newPassword","Please enter a password."),this.invalidate()):n.default.equals(t,i||"")||(e.errors.add("ne2Password","The two new passwords don't match."),this.invalidate()),this.passwordValidation(e,t,"newPassword")}})
var a=r.create()
e.default=a})),define("ghost-admin/validators/setting",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["title","description","password","slackUrl"],title(e){let t=e.title
i.default.isLength(t||"",0,150)||(e.errors.add("title","Title is too long"),this.invalidate())},description(e){let t=e.description
i.default.isLength(t||"",0,200)||(e.errors.add("description","Description is too long"),this.invalidate())},password(e){let t=e.isPrivate,i=e.password
t&&""===i&&(e.errors.add("password","Password must be supplied"),this.invalidate())},slackUrl(e){let t=e.slackUrl
Ember.isBlank(t)||i.default.isURL(t,{require_protocol:!0})||(e.errors.add("slackUrl","The URL must be in a format like https://hooks.slack.com/services/<your personal key>"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/setup",["exports","ghost-admin/validators/new-user","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","email","password","blogTitle"],blogTitle(e){let t=e.blogTitle
i.default.isLength(t||"",1)||(e.errors.add("blogTitle","Please enter a site title."),this.invalidate()),i.default.isLength(t||"",0,150)||(e.errors.add("blogTitle","Title is too long"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/signin",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["identification","signin","forgotPassword"],invalidMessage:"Email address is not valid",identification(e){let t=e.identification
Ember.isBlank(t)||i.default.isEmail(t)||(e.errors.add("identification",this.invalidMessage),this.invalidate())},signin(e){let t=e.identification,n=e.password
e.errors.clear(),Ember.isBlank(t)&&(e.errors.add("identification","Please enter an email"),this.invalidate()),Ember.isBlank(t)||i.default.isEmail(t)||(e.errors.add("identification",this.invalidMessage),this.invalidate()),Ember.isBlank(n)&&(e.errors.add("password","Please enter a password"),this.invalidate())},forgotPassword(e){let t=e.identification
e.errors.clear(),!Ember.isBlank(t)&&i.default.isEmail(t)||(e.errors.add("identification",this.invalidMessage),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/signup",["exports","ghost-admin/validators/new-user"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create()
e.default=i})),define("ghost-admin/validators/snippet",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","mobiledoc"],name(e){let{name:t}=e
i.default.isLength(t||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters"),this.invalidate()),Ember.isBlank(t)&&(e.errors.add("name","Name cannot be blank"),this.invalidate()),e.hasValidated.addObject("name")},mobiledoc(e){Ember.isBlank(e.mobiledoc)&&(e.errors.add("mobiledoc","Content cannot be blank."),this.invalidate()),e.hasValidated.addObject("mobiledoc")}})
e.default=n})),define("ghost-admin/validators/subscriber",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["email"],email(e){let t=e.email
Ember.isBlank(t)?(e.errors.add("email","Please enter an email."),e.hasValidated.pushObject("email"),this.invalidate()):i.default.isEmail(t)?i.default.isLength(t,0,191)||(e.errors.add("email","Email is too long"),e.hasValidated.pushObject("email"),this.invalidate()):(e.errors.add("email","Invalid email."),e.hasValidated.pushObject("email"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/tag-settings",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","slug","description","metaTitle","metaDescription"],name(e){let t=e.name
Ember.isBlank(t)?(e.errors.add("name","You must specify a name for the tag."),this.invalidate()):t.match(/^,/)?(e.errors.add("name","Tag names can't start with commas."),this.invalidate()):i.default.isLength(t,0,191)||(e.errors.add("name","Tag names cannot be longer than 191 characters."),this.invalidate())},slug(e){let t=e.slug
i.default.isLength(t||"",0,191)||(e.errors.add("slug","URL cannot be longer than 191 characters."),this.invalidate())},description(e){let t=e.description
i.default.isLength(t||"",0,500)||(e.errors.add("description","Description cannot be longer than 500 characters."),this.invalidate())},metaTitle(e){let t=e.metaTitle
i.default.isLength(t||"",0,300)||(e.errors.add("metaTitle","Meta Title cannot be longer than 300 characters."),this.invalidate())},metaDescription(e){let t=e.metaDescription
i.default.isLength(t||"",0,500)||(e.errors.add("metaDescription","Meta Description cannot be longer than 500 characters."),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/tier-benefit-item",["exports","ghost-admin/validators/base"],(function(e,t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var i=t.default.create({properties:["name"],name(e){let t=e.name,i=e.hasValidated
Ember.isBlank(t)&&(e.errors.add("name","Please enter a benefit"),this.invalidate()),i.addObject("name")}})
e.default=i})),define("ghost-admin/validators/tier",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name"],name(e){e.name||(e.errors.add("name","Please enter Name."),e.hasValidated.addObject("name"),this.invalidate()),i.default.isLength(e.name||"",0,191)||(e.errors.add("name","Name cannot be longer than 191 characters."),e.hasValidated.addObject("name"),this.invalidate())}})
e.default=n})),define("ghost-admin/validators/user",["exports","ghost-admin/validators/base","ghost-admin/validators/mixins/password","validator"],(function(e,t,i,n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
const r=t.default.extend(i.default,{init(){this.properties=this.properties||["name","bio","email","location","website","roles"],this._super(...arguments)},isActive:e=>"active"===e.status,name(e){let t=e.name
this.isActive(e)&&(Ember.isBlank(t)?(e.errors.add("name","Please enter a name."),this.invalidate()):n.default.isLength(t,0,191)||(e.errors.add("name","Name is too long"),this.invalidate()))},bio(e){let t=e.bio
this.isActive(e)&&(n.default.isLength(t||"",0,200)||(e.errors.add("bio","Bio is too long"),this.invalidate()))},email(e){let t=e.email
n.default.isEmail(t||"")||(e.errors.add("email","Please supply a valid email address"),this.invalidate()),n.default.isLength(t||"",0,191)||(e.errors.add("email","Email is too long"),this.invalidate())},location(e){let t=e.location
this.isActive(e)&&(n.default.isLength(t||"",0,150)||(e.errors.add("location","Location is too long"),this.invalidate()))},website(e){let t=e.website,i=!n.default.isURL(t||"",{require_protocol:!1})||!n.default.isLength(t||"",0,2e3)
this.isActive(e)&&!Ember.isBlank(t)&&i&&(e.errors.add("website","Website is not a valid url"),this.invalidate())},roles(e){if(!this.isActive(e)){e.roles.length<1&&(e.errors.add("role","Please select a role"),this.invalidate())}},passwordChange(e){let t=e.newPassword,i=e.ne2Password
e.hasValidated.addObject("newPassword"),e.hasValidated.addObject("ne2Password"),Ember.isBlank(t)&&Ember.isBlank(i)?(e.errors.add("newPassword","Sorry, passwords can't be blank"),this.invalidate()):(n.default.equals(t,i||"")||(e.errors.add("ne2Password","Your new passwords do not match"),this.invalidate()),this.passwordValidation(e,t,"newPassword"))},ownPasswordChange(e){let t=e.password
this.passwordChange(e),e.hasValidated.addObject("password"),Ember.isBlank(t)&&(e.errors.add("password","Your current password is required to set a new one"),this.invalidate())}})
var a=r.create()
e.default=a}))
define("ghost-admin/validators/webhook",["exports","ghost-admin/validators/base","validator"],(function(e,t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var n=t.default.create({properties:["name","event","targetUrl","secret"],name(e){Ember.isBlank(e.name)?(e.errors.add("name","Please enter a name"),e.hasValidated.pushObject("name"),this.invalidate()):i.default.isLength(e.name,0,191)||(e.errors.add("name","Name is too long, max 191 chars"),e.hasValidated.pushObject("name"),this.invalidate())},event(e){Ember.isBlank(e.event)&&(e.errors.add("event","Please select an event"),e.hasValidated.pushObject("event"),this.invalidate())},targetUrl(e){Ember.isBlank(e.targetUrl)?e.errors.add("targetUrl","Please enter a target URL"):i.default.isURL(e.targetUrl||"",{require_protocol:!1})?i.default.isLength(e.targetUrl,0,2e3)||e.errors.add("targetUrl","Target URL is too long, max 2000 chars"):e.errors.add("targetUrl","Please enter a valid URL"),e.hasValidated.pushObject("targetUrl"),e.errors.has("targetUrl")&&this.invalidate()},secret(e){Ember.isBlank(e.secret)||i.default.isLength(e.secret,0,191)||(e.errors.add("secret","Secret is too long, max 191 chars"),e.hasValidated.pushObject("secret"),this.invalidate())}})
e.default=n})),define("ghost-admin/views/application",["exports"],(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0
var t=Ember.Component.extend({})
e.default=t})),define("ghost-admin/config/environment",[],(function(){try{var e="ghost-admin/config/environment",t=document.querySelector('meta[name="'+e+'"]').getAttribute("content"),i={default:JSON.parse(decodeURIComponent(t))}
return Object.defineProperty(i,"__esModule",{value:!0}),i}catch(n){throw new Error('Could not read config from meta tag with name "'+e+'".')}})),runningTests||require("ghost-admin/app").default.create({version:"5.63",name:"ghost-admin"})

//# sourceMappingURL=ghost-7c3f2de2ec83e591ad9f9db5165b2733.map